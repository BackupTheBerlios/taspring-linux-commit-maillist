<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r7407 - in Lobby/TASClient: . Graphics	Python Python/scripts/subf
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7407%20-%20in%20Lobby/TASClient%3A%20.%20Graphics%0A%09Python%20Python/scripts/subf&In-Reply-To=%3C20100204182652.CD91A29CE6%40it-l.eu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="002178.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r7407 - in Lobby/TASClient: . Graphics	Python Python/scripts/subf</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7407%20-%20in%20Lobby/TASClient%3A%20.%20Graphics%0A%09Python%20Python/scripts/subf&In-Reply-To=%3C20100204182652.CD91A29CE6%40it-l.eu%3E"
       TITLE="[Taspring-linux-commit] r7407 - in Lobby/TASClient: . Graphics	Python Python/scripts/subf">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Thu Feb  4 19:26:52 CET 2010</I>
    <P><UL>
        
        <LI>Next message: <A HREF="002178.html">[Taspring-linux-commit] r7408 - Lobby/TASClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2177">[ date ]</a>
              <a href="thread.html#2177">[ thread ]</a>
              <a href="subject.html#2177">[ subject ]</a>
              <a href="author.html#2177">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: satirik
Date: 2010-02-04 19:26:52 +0100 (Thu, 04 Feb 2010)
New Revision: 7407

Added:
   Lobby/TASClient/Graphics/ranks.psd
   Lobby/TASClient/Python/scripts/subf/replaceIcons.py
Modified:
   Lobby/TASClient/HelpUnit.dfm
   Lobby/TASClient/HelpUnit.pas
   Lobby/TASClient/LobbyScriptUnit.pas
   Lobby/TASClient/MainUnit.dfm
   Lobby/TASClient/MainUnit.pas
   Lobby/TASClient/Python/api.txt
   Lobby/TASClient/TASClient.dof
   Lobby/TASClient/TASClient.res
Log:
* new ranks icons
* PYTHON : AddPlayerIconType renamed to AddOrReplaceIconList and allows you to replace existing image list like ranks, battle states etc
* PYTHON : replacing rank icon example added


Added: Lobby/TASClient/Graphics/ranks.psd
===================================================================
(Binary files differ)


Property changes on: Lobby/TASClient/Graphics/ranks.psd
___________________________________________________________________
Added: svn:mime-type
   + application/octet-stream

Modified: Lobby/TASClient/HelpUnit.dfm
===================================================================
--- Lobby/TASClient/HelpUnit.dfm	2010-01-30 19:31:42 UTC (rev 7406)
+++ Lobby/TASClient/HelpUnit.dfm	2010-02-04 18:26:52 UTC (rev 7407)
@@ -49,6 +49,7 @@
       end
       object SpTBXTabItem4: TSpTBXTabItem
         Caption = 'Page 4'
+        Visible = False
       end
       object SpTBXTabSheet4: TSpTBXTabSheet
         Left = 0
@@ -57,6 +58,9 @@
         Height = 378
         Caption = 'Page 4'
         ImageIndex = -1
+        TabVisible = False
+        Item = SpTBXTabItem4
+        TabControl = PageControl1
         TabItem = 'SpTBXTabItem4'
         object Image12: TImage
           Left = 56
@@ -300,6 +304,8 @@
         Height = 378
         Caption = 'Page 3'
         ImageIndex = -1
+        Item = SpTBXTabItem1
+        TabControl = PageControl1
         TabItem = 'SpTBXTabItem1'
         object TntScrollBox1: TTntScrollBox
           Left = 8
@@ -598,6 +604,8 @@
         Height = 378
         Caption = 'Page 2'
         ImageIndex = -1
+        Item = SpTBXTabItem2
+        TabControl = PageControl1
         TabItem = 'SpTBXTabItem2'
         object Image5: TImage
           Left = 32
@@ -1166,10 +1174,12 @@
         Height = 378
         Caption = 'Page 1'
         ImageIndex = -1
+        Item = SpTBXTabItem3
+        TabControl = PageControl1
         TabItem = 'SpTBXTabItem3'
         object Image1: TImage
           Left = 32
-          Top = 56
+          Top = 40
           Width = 16
           Height = 16
           AutoSize = True
@@ -1205,7 +1215,7 @@
         end
         object Image4: TImage
           Left = 32
-          Top = 102
+          Top = 86
           Width = 16
           Height = 16
           AutoSize = True
@@ -1241,7 +1251,7 @@
         end
         object Image8: TImage
           Left = 32
-          Top = 120
+          Top = 104
           Width = 16
           Height = 16
           AutoSize = True
@@ -1277,7 +1287,7 @@
         end
         object Image2: TImage
           Left = 32
-          Top = 168
+          Top = 152
           Width = 64
           Height = 86
           AutoSize = True
@@ -1805,7 +1815,7 @@
         end
         object Image3: TImage
           Left = 32
-          Top = 304
+          Top = 288
           Width = 20
           Height = 46
           AutoSize = True
@@ -1903,7 +1913,7 @@
         end
         object Image6: TImage
           Left = 288
-          Top = 56
+          Top = 40
           Width = 40
           Height = 86
           AutoSize = True
@@ -2237,7 +2247,7 @@
         end
         object Image7: TImage
           Left = 288
-          Top = 168
+          Top = 152
           Width = 16
           Height = 16
           AutoSize = True
@@ -2273,7 +2283,7 @@
         end
         object Image9: TImage
           Left = 288
-          Top = 184
+          Top = 168
           Width = 16
           Height = 16
           AutoSize = True
@@ -2309,7 +2319,7 @@
         end
         object Image10: TImage
           Left = 288
-          Top = 224
+          Top = 208
           Width = 36
           Height = 16
           AutoSize = True
@@ -2375,7 +2385,7 @@
         end
         object Image11: TImage
           Left = 288
-          Top = 200
+          Top = 184
           Width = 17
           Height = 17
           Picture.Data = {
@@ -2410,7 +2420,7 @@
         end
         object Image15: TImage
           Left = 32
-          Top = 72
+          Top = 56
           Width = 16
           Height = 16
           AutoSize = True
@@ -2446,7 +2456,7 @@
         end
         object Image16: TImage
           Left = 32
-          Top = 88
+          Top = 72
           Width = 16
           Height = 16
           AutoSize = True
@@ -2480,9 +2490,16 @@
             FEFE}
           Transparent = True
         end
+        object Label73: TLabel
+          Left = 288
+          Top = 296
+          Width = 173
+          Height = 13
+          Caption = '* CTRL+SHIFT+F6 = Debug window'
+        end
         object Label4: TSpTBXLabel
           Left = 32
-          Top = 32
+          Top = 16
           Width = 91
           Height = 13
           Caption = 'Player status icons:'
@@ -2494,7 +2511,7 @@
         end
         object Label66: TSpTBXLabel
           Left = 56
-          Top = 120
+          Top = 104
           Width = 130
           Height = 13
           Caption = 'Player is a server moderator'
@@ -2506,7 +2523,7 @@
         end
         object Label29: TSpTBXLabel
           Left = 56
-          Top = 104
+          Top = 88
           Width = 70
           Height = 13
           Caption = 'Player is away '
@@ -2518,7 +2535,7 @@
         end
         object Label3: TSpTBXLabel
           Left = 56
-          Top = 88
+          Top = 72
           Width = 79
           Height = 13
           Caption = 'Player is in-game'
@@ -2530,7 +2547,7 @@
         end
         object Label2: TSpTBXLabel
           Left = 56
-          Top = 72
+          Top = 56
           Width = 139
           Height = 13
           Caption = 'Player is participating in battle'
@@ -2542,7 +2559,7 @@
         end
         object Label1: TSpTBXLabel
           Left = 56
-          Top = 56
+          Top = 40
           Width = 70
           Height = 13
           Caption = 'Player is &quot;free&quot;'
@@ -2554,7 +2571,7 @@
         end
         object Label8: TSpTBXLabel
           Left = 32
-          Top = 144
+          Top = 128
           Width = 89
           Height = 13
           Caption = 'Battle status icons:'
@@ -2566,7 +2583,7 @@
         end
         object Label5: TSpTBXLabel
           Left = 104
-          Top = 168
+          Top = 152
           Width = 64
           Height = 13
           Caption = 'Battle is open'
@@ -2578,7 +2595,7 @@
         end
         object Label6: TSpTBXLabel
           Left = 104
-          Top = 184
+          Top = 168
           Width = 169
           Height = 13
           Caption = 'Battle is full (spectators may still join)'
@@ -2590,7 +2607,7 @@
         end
         object Label7: TSpTBXLabel
           Left = 104
-          Top = 200
+          Top = 184
           Width = 117
           Height = 13
           Caption = 'Battle is in-game (closed)'
@@ -2602,7 +2619,7 @@
         end
         object Label9: TSpTBXLabel
           Left = 56
-          Top = 240
+          Top = 224
           Width = 164
           Height = 13
           Caption = 'Private (password-protected) battle'
@@ -2614,7 +2631,7 @@
         end
         object Label10: TSpTBXLabel
           Left = 32
-          Top = 256
+          Top = 240
           Width = 92
           Height = 13
           Caption = 'Open (public) battle'
@@ -2626,7 +2643,7 @@
         end
         object Label11: TSpTBXLabel
           Left = 32
-          Top = 280
+          Top = 264
           Width = 128
           Height = 13
           Caption = 'In-battle player sync status:'
@@ -2638,7 +2655,7 @@
         end
         object Label12: TSpTBXLabel
           Left = 64
-          Top = 304
+          Top = 288
           Width = 46
           Height = 13
           Caption = 'Unknown'
@@ -2650,7 +2667,7 @@
         end
         object Label13: TSpTBXLabel
           Left = 64
-          Top = 320
+          Top = 304
           Width = 36
           Height = 13
           Caption = 'Synced'
@@ -2662,7 +2679,7 @@
         end
         object Label14: TSpTBXLabel
           Left = 64
-          Top = 336
+          Top = 320
           Width = 48
           Height = 13
           Caption = 'Unsynced'
@@ -2674,7 +2691,7 @@
         end
         object Label59: TSpTBXLabel
           Left = 288
-          Top = 32
+          Top = 16
           Width = 127
           Height = 13
           Caption = 'Hosted replay status icons:'
@@ -2686,7 +2703,7 @@
         end
         object Label60: TSpTBXLabel
           Left = 336
-          Top = 56
+          Top = 40
           Width = 65
           Height = 13
           Caption = 'Room is open'
@@ -2698,7 +2715,7 @@
         end
         object Label61: TSpTBXLabel
           Left = 336
-          Top = 72
+          Top = 56
           Width = 136
           Height = 13
           Caption = 'Room is full (no-one can join)'
@@ -2710,7 +2727,7 @@
         end
         object Label62: TSpTBXLabel
           Left = 336
-          Top = 88
+          Top = 72
           Width = 78
           Height = 13
           Caption = 'In-game (closed)'
@@ -2722,7 +2739,7 @@
         end
         object Label63: TSpTBXLabel
           Left = 312
-          Top = 128
+          Top = 112
           Width = 161
           Height = 13
           Caption = 'Private (password-protected) room'
@@ -2734,7 +2751,7 @@
         end
         object Label64: TSpTBXLabel
           Left = 288
-          Top = 144
+          Top = 128
           Width = 89
           Height = 13
           Caption = 'Open (public) room'
@@ -2746,7 +2763,7 @@
         end
         object Label65: TSpTBXLabel
           Left = 312
-          Top = 168
+          Top = 152
           Width = 160
           Height = 13
           Caption = '- Battle is locked (no-one can join)'
@@ -2758,7 +2775,7 @@
         end
         object Label71: TSpTBXLabel
           Left = 312
-          Top = 184
+          Top = 168
           Width = 189
           Height = 13
           Caption = '- Battle uses some form of NAT traversal'
@@ -2770,7 +2787,7 @@
         end
         object Label15: TSpTBXLabel
           Left = 288
-          Top = 256
+          Top = 240
           Width = 94
           Height = 13
           Caption = 'Keyboard shortcuts:'
@@ -2782,7 +2799,7 @@
         end
         object Label16: TSpTBXLabel
           Left = 288
-          Top = 280
+          Top = 264
           Width = 196
           Height = 13
           Caption = '* F2 = switch between battle/main screen'
@@ -2794,7 +2811,7 @@
         end
         object Label56: TSpTBXLabel
           Left = 288
-          Top = 296
+          Top = 280
           Width = 288
           Height = 13
           Caption = '* CTRL+SHIFT+H = open host dialog (if connected to server)'
@@ -2830,7 +2847,7 @@
         end
         object Label43: TSpTBXLabel
           Left = 328
-          Top = 224
+          Top = 208
           Width = 128
           Height = 13
           Caption = '- Automated bot (bot mode)'
@@ -2842,7 +2859,7 @@
         end
         object SpTBXLabel2: TSpTBXLabel
           Left = 80
-          Top = 226
+          Top = 210
           Width = 62
           Height = 13
           Caption = 'Ladder battle'
@@ -2854,7 +2871,7 @@
         end
         object SpTBXLabel3: TSpTBXLabel
           Left = 312
-          Top = 200
+          Top = 184
           Width = 69
           Height = 13
           Caption = '- Ladder Battle'

Modified: Lobby/TASClient/HelpUnit.pas
===================================================================
--- Lobby/TASClient/HelpUnit.pas	2010-01-30 19:31:42 UTC (rev 7406)
+++ Lobby/TASClient/HelpUnit.pas	2010-02-04 18:26:52 UTC (rev 7407)
@@ -126,6 +126,7 @@
     Label53: TLabel;
     Label54: TLabel;
     Label55: TLabel;
+    Label73: TLabel;
     procedure Button1Click(Sender: TObject);
     procedure FormCreate(Sender: TObject);
     procedure Button3Click(Sender: TObject);

Modified: Lobby/TASClient/LobbyScriptUnit.pas
===================================================================
--- Lobby/TASClient/LobbyScriptUnit.pas	2010-01-30 19:31:42 UTC (rev 7406)
+++ Lobby/TASClient/LobbyScriptUnit.pas	2010-02-04 18:26:52 UTC (rev 7407)
@@ -142,7 +142,7 @@
       procedure StackLayoutChanges(b: boolean);
 
 
-      procedure AddPlayerIconType(name: string; icons: Variant);
+      procedure AddOrReplaceIconList(iconListName: string; icons: Variant);
       procedure SetPlayerIconId(playerName: string; iconTypeName: string; iconId: integer);
 
 
@@ -2167,7 +2167,7 @@
   CS.Leave;
 end;
 
-procedure TGUI.AddPlayerIconType(name: string; icons: Variant);
+procedure TGUI.AddOrReplaceIconList(iconListName: string; icons: Variant);
 var
   iconsDict : PPyObject;
   keys : PPyObject;
@@ -2176,6 +2176,8 @@
   i,j,k: integer;
   iconData : PPyObject;
 
+  lcName: string;
+
   iconTypeNames: TStringList;
 
   imgL: TImageList;
@@ -2185,6 +2187,8 @@
   PNG: TPNGObject;
 
   ImgExt: string;
+
+  newIconSet: Boolean;
 begin
   try
   JPG := TJPEGImage.Create;
@@ -2194,7 +2198,7 @@
     iconsDict := VariantAsPyObject(icons);
     if not PyDict_Check(iconsDict) then
     begin
-      Print('AddPlayerIconType error : second parameter is not a valid python dictionary.');
+      Print('AddOrReplaceIconList error : second parameter is not a valid python dictionary.');
       Exit;
     end;
 
@@ -2202,10 +2206,33 @@
     keysStr := TStringList.Create;
     PyListToStrings(keys,keysStr);
 
+    newIconSet := False;
 
-    imgL := TImageList.Create(MainForm);
-    iconTypeNames := TStringList.Create;
+    lcName := LowerCase(iconListName);
 
+    if lcName = 'rank' then
+     imgL := MainForm.RanksImageList
+    else if lcName = 'connectionstate' then
+     imgL := MainForm.ConnectionStateImageList
+    else if lcName = 'playerstate' then
+     imgL := MainForm.PlayerStateImageList
+    else if lcName = 'syncstate' then
+     imgL := MainForm.SyncImageList
+    else if lcName = 'battlestate' then
+     imgL := MainForm.BattleStatusImageList
+    else if lcName = 'readystate' then
+     imgL := MainForm.ReadyStateImageList
+    else if lcName = 'laddercup' then
+     imgL := MainForm.LadderCups
+    else
+    begin
+      newIconSet := True;
+      imgL := TImageList.Create(MainForm);
+      iconTypeNames := TStringList.Create;
+    end;
+
+    imgL.Clear;
+
     for i:=0 to PyDict_Size(iconsDict)-1 do
     begin
       key := PyList_GetItem(keys,keysStr.IndexOf(IntToStr(i)));;
@@ -2235,18 +2262,22 @@
       imgL.Height := icon.Height;
       imgL.AddMasked(icon,PyLong_AsLong(PyDict_GetItem(iconData,PyString_FromString('MaskColor'))));
 
-      iconTypeNames.Add(PyString_AsString(PyDict_GetItem(iconData,PyString_FromString('Name'))));
+      if newIconSet then
+        iconTypeNames.Add(PyString_AsString(PyDict_GetItem(iconData,PyString_FromString('Name'))));
     end;
   end;
 
-  for i:=0 to MainUnit.AllClients.Count-1 do
-    TClient(MainUnit.AllClients[i]).AddNewCustomIcon;
+  if newIconSet then
+  begin
+    for i:=0 to MainUnit.AllClients.Count-1 do
+      TClient(MainUnit.AllClients[i]).AddNewCustomIcon;
 
-  PlayerIconTypeNames.Add(name);
-  PlayerIconTypeIconsNames.Add(iconTypeNames);
-  PlayerIconTypeIcons.Add(imgL);
+    PlayerIconTypeNames.Add(iconListName);
+    PlayerIconTypeIconsNames.Add(iconTypeNames);
+    PlayerIconTypeIcons.Add(imgL);
+  end;
   except
-    Print('AddPlayerIconType failed.');
+    Print('AddOrReplaceIconList failed.');
   end;
 end;
 procedure TGUI.SetPlayerIconId(playerName: string; iconTypeName: string; iconId: integer);

Modified: Lobby/TASClient/MainUnit.dfm
===================================================================
--- Lobby/TASClient/MainUnit.dfm	2010-01-30 19:31:42 UTC (rev 7406)
+++ Lobby/TASClient/MainUnit.dfm	2010-02-04 18:26:52 UTC (rev 7407)
@@ -1,6 +1,6 @@
 object MainForm: TMainForm
-  Left = 353
-  Top = 467
+  Left = 367
+  Top = 128
   Width = 847
   Height = 521
   Caption = '.'
@@ -4266,7 +4266,7 @@
     Left = 337
     Top = 287
     Bitmap = {
-      494C010107000900040010001000FFFFFFFFFF10FFFFFFFFFFFFFFFF424D3600
+      494C010108000900040010001000FFFFFFFFFF00FFFFFFFFFFFFFFFF424D3600
       0000000000003600000028000000400000003000000001002000000000000030
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
@@ -4396,278 +4396,277 @@
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000000000000000000000000000000000000000000000000000000000000D6C6
-      C600C6ADAD00DECECE00DED6DE00D6BDBD00D6C6C600CEBDB500C6A59C00BD9C
-      9400FFF7F70000000000000000000000000000000000000000000000000000AD
-      DE00008CDE0000B5E70000B5E700009CDE0000A5DE00009CDE000084D6000073
-      D60073CEEF000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000F7EFEF00DEC6
-      CE00D6B5B500BDA5A500CEADAD00D6B5B500C6A5A500BD9C9C00C6ADAD00CEAD
-      AD0000000000000000000000000000000000000000000000000031C6E70018C6
-      EF006BE7F70042DEF70063E7F70063E7F70052DEF70042DEF70052E7F700008C
-      DE00000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000009494
-      9400000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000FFF7F700C6A5
-      A500DEC6C600D6B5B500BD949400EFD6DE00DEC6C600D6BDBD00EFE7EF00845A
-      5200CEBDBD00000000000000000000000000000000000000000063CEEF0052DE
-      F7007BEFFF006BE7F70042DEEF00ADF7FF008CEFF7006BE7F700BDF7FF00005A
-      C60000A5DE000000000000000000000000000000000000000000F7EFF7005A5A
-      5A00000000000000000000000000000000000000000000000000848484008C8C
-      8C00000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000E7D6DE00CEB5
-      B500BD9CA500E7D6D600D6BDBD00CEB5B500D6BDBD00EFD6D600DECED600D6BD
-      C600D6BDB500000000000000000000000000000000000000000008B5E70063E7
-      F70008A5E70008B5E70008BDEF0063E7F70010BDE70008B5E70000ADE70008BD
-      EF00009CDE000000000000000000000000000000000000000000000000008484
-      840042424200ADADAD0000000000000000000000000063636300636363000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000DECED600D6B5
-      B500EFDEDE0000000000FFFFFF00EFD6DE00FFF7F7000000000000000000BD94
-      9400D6C6BD00000000000000000000000000000000000000000000B5E7006BE7
-      F70008BDE7000000000073D6EF0008B5E7005ACEEF0000000000000000000073
-      D60000A5DE00000000000000000000000000000000000000000000000000B5B5
-      B50063636300525252007373730000000000736B73008C8C8C00848484000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000001
+      0100000101000003030000030300000303000003030000030300000303000002
+      0200000101000000000000000000000000000000000000000000000000000001
+      0100000101000003030000030300000303000003030000030300000303000002
+      0200000101000000000000000000000000000000000000000000000000000001
+      0100000101000003030000030300000303000003030000030300000303000002
+      0200000101000000000000000000000000000000000000000000000000000001
+      0100000101000003030000030300000303000003030000030300000303000002
+      0200000101000000000000000000000000000000000000000000000101000003
+      03000006060000090900000D0D00000E0E00000E0E00000D0D00000A0A000007
+      0700000404000001010000000000000000000000000000000000000101000003
+      03000006060000090900000D0D00000E0E00000E0E00000D0D00000A0A000007
+      0700000404000001010000000000000000000000000000000000BABABA00B9BA
+      BA00B9BBBB00B9BBBB00B8BCBC00B8BCBC00B8BCBC00B8BCBC00B9BCBC00B9BB
+      BB00B9BABA00BABABA000000000000000000000000000000000001D4FD0003D7
+      FA0005DBF80007DEF50009E2F2000BE5F0000CE6EE000BE4F0000AE1F30007DF
+      F40005DBF70003D7FB0000000000000000000000000000000000000202000006
+      0600000D0D001A282800253333000A28280007272700213232001E2C2C000715
+      1500000808000003030000000000000000000000000000000000000202000006
+      0600000D0D00000E2800000E3300001E2800001F270000103200000D2C00000D
+      1500000808000003030000000000000000000000000000000000BABBBB00B9BB
+      BB00B9BDBD00C0C4C400C3C7C700BBC3C300BAC3C300C1C6C600C1C4C400BBBF
+      BF00B9BBBB00BABBBB000000000000000000000000000000000001D3FE0003D7
+      FA0005DCF70020E2F7002CE7F50015E8F10013E9EF002BE8F10026E6F3000FE0
+      F50005DBF80003D6FB000000000000000000000000000000000000040400000C
+      0C001A2A2A00707070007B7B7B00545454004F4F4F006C6C6C00696969005050
+      500007141400000505000001010000000000000000000000000000040400000C
+      0C0000102A00004B780000648700001A570000125100004F7500004871000012
+      5200000D14000005050000010100000000000000000000000000BABBBB00BABD
+      BD00C0C4C4008585CD006666C700AFAFC900B8B8C9006E6EBB007777BD00B8B8
+      C900BBBFBF00B9BABA000001010000000000000000000000000001D5FD0003D9
+      FB001EE0F9003396EA002873DB0044CAEA0048D4EB002C7FD0002E88D50045CF
+      F0000BDDF70002D8FA0000010100000000000000000000010100000606000013
+      13001E3535007B7B7B00A1A1A1009090900086868600898989006F6F6F004B4B
+      4B00031717000007070000010100000000000000000000010100000606000013
+      130000163500005C850000A7B400008FA10000809500008A9900005478000008
+      4C00001417000007070000010100000000000000000000010100BABCBC00BABF
+      BF00C1C7C7007979D2002828CB003636C1003E3EBA002D2DB3006A6ABC00C3C3
+      CB00BAC0C000BABCBC000001010000000000000000000001010002D4FD0003D9
+      FB0023E2F8002F88EB00122DD200183ECB001B47C5001433BB002978D00049DB
+      F40008DDF90003D7FB000001010000000000000000000002020000090900001A
+      1A00243E3E008C8C8C00BFBFBF00B6B6B600ABABAB00A0A0A000747474004848
+      4800011D1D00000A0A000002020000000000000000000002020000090900001A
+      1A0000193E0000769A0000D4D70000CCCD0000C0C10000B1B400005B7F000002
+      4800001C1D00000A0A0000020200000000000000000000020200C0C2C200B9C0
+      C000C3CACA006868DB000C0CDB000606CD000606C1000C0CB9006767C000CACA
+      CC00B9C1C100B9BCBC000002020000000000000000000002020019D9FD0003DB
+      FB0029E3FA002974F000090DDC000606CD000606C100080DBA002975D4004BE4
+      F60006DEF90002D8FA0000020200000000000000000000030300000C0C000C26
+      260061616100BABABA00D5D5D500C9C9C900BDBDBD00B4B4B4008F8F8F005F5F
+      5F0011292900000C0C0000030300000000000000000000030300000C0C00001A
+      2600032A650004BCCF0003EDEF0000E2E30000D4D50000C9CA0000889E00002D
+      640000182900000C0C0000030300000000000000000000030300CCCECE00C3CA
+      CA00ADADD4003939F0000A0AF0000707E3000707D5000707CB004242C6009D9D
+      CA00BDC4C400BABDBD000003030000000000000000000003030047E1FE0025E0
+      FB0041C1FB001940FB00090AF0000707E3000707D5000607CB001B4BD3003CB1
+      EB0015E0F90003D8FB000003030000000000000000000A0E0F00091515005252
+      520097979700D3D3D300E4E4E400DFDFDF00D2D2D200C7C7C700B0B0B0008E8E
+      8E002B373700000D0D000003030000000000000000000A0E0F00041015000312
+      5400147FA3001CDFE90010FEFF0005FAFB0000ECED0000E0E10000BBC5000080
+      9C00000C3700000D0D0000030300000000000000000000040400D9DBDB00D0D0
+      DF007878E9002F2FF9001010FF000808FB000707ED000707E1002020D6005454
+      D000C5C8C800BABEBE000003030000000000000000000004040075E8FE007FDE
+      FD003E83FD001F32FE001010FF000808FB000707ED000707E1001023DB00225E
+      E10030E2F90003D9FB000003030000000000000000001A1D1E001D2526005E5F
+      5F008787870095959500BFBFBF00E3E3E300E1E1E100B4B4B4008E8E8E008989
+      890023303000000B0B000003030000000000000000001A1D1E00141D26000B23
+      620017648F001A7BA0001FBFD2001BFBFD000AF9FB0002B3C700007A9C000071
+      9600000D3000000B0B0000030300000000000000000000030300E1E2E200D3D3
+      EC009B9BED008383EA004D4DF2001B1BFE001111FE003D3DEB006666DD006B6B
+      D900C2C6C600BABDBD000003030000000000000000000003030092EDFE009FDB
+      FE006EA3FD004D8EFC002E54FD001A1BFF000E11FF001B45F6002974F0002A78
+      EF0028E1F80003D9FB000003030000000000000000002C2E2F002C3233002A37
+      3700283B3C00223D3D0064646400C7C7C700BEBEBE005E5E5E00253E3E002333
+      330006151500000707000002020000000000000000002C2E2F002C323300222E
+      37000C1F3C00001B3D000B2E68002AC9D9001ABED1000225620000193E000010
+      3300000F15000007070000020200000000000000000000030300E8E9E900E9EA
+      EA00EAECEC00E6E9E900BDBDE2004C4CF5004A4AF200B1B1D300C2C9C900C2C7
+      C700BBBEBE00B9BBBB0000020200000000000000000000030300AAF1FF00AEF2
+      FE00B5F5FC00A8F4FC0078CFFA003452FD002B52FC0046CCF5002CE8F5002AE3
+      F6000BDCF80003D8FA000002020000000000000000003E4041003E4243003E45
+      4600364546001E383900223B3B00868686007B7B7B0018343400001E1E000012
+      120000080800000404000708080000000000000000003E4041003E4243003E45
+      4600364546001E383900061F3B001A638E0010538300001C3400001E1E000012
+      1200000808000004040007080800000000000000000000010100EFEFEF00EFF0
+      F000EFF0F000EFF1F100F1F2F200A2A2F200A2A2E800C5CCCC00B8C0C000B9BE
+      BE00B9BBBB00BABBBB0000010100000000000000000000010100C5F5FF00C6F6
+      FE00C6F8FD00C7F8FC00CDF9FC0083AAFC006AB1F90038EBF40009E4F30007DF
+      F60005DBF70003D8FB0000010100000000000000000050515200505253005053
+      540050565700505B5B0045535400757576006666660010212100010E0E000910
+      1000171A1B002A2B2C003F404100000000000000000050515200505253005053
+      540050565700505B5B003D4B54002338780016286800091A2100010E0E000910
+      1000171A1B002A2B2C003F404100000000000000000000000000F6F6F600F5F5
+      F500F5F5F500F5F6F600F5F6F600E1E1F900E5E5FA00EDEEEE00DFE1E100D2D3
+      D300C8C9C900C0C0C00000000000000000000000000000000000DDF9FF00DDFA
+      FE00DEFAFE00DEFAFE00DFFBFD00D2E5FE00D6E9FE00C2F9FB008EF2F90061EA
+      F8003BE2F9001CDBFA0000000000000000000000000060616200606162006061
+      6200606263006063640060656600656B6C00646B6C0060656600606364006062
+      6300606162006061620060616200000000000000000060616200606162006061
+      62006062630060636400606566005D636C005D646C0060656600606364006062
+      6300606162006061620060616200000000000000000000000000FBFBFB00FBFB
+      FB00FBFBFB00FAFAFA00FAFAFA00FAFAFA00FAFAFA00FAFAFA00FAFAFA00FAFA
+      FA00FBFBFB00FBFBFB0000000000000000000000000000000000F0FCFF00F0FD
+      FF00F0FDFF00F0FDFE00F1FDFE00F1FDFE00F1FDFE00F1FDFE00F1FDFE00F0FD
+      FE00F0FDFF00F0FDFF000000000000000000000000006A6B6D006A6B6D006A6B
+      6D006A6B6D006A6C6E006A6C6E006A6D6F006A6D6F006A6C6E006A6C6E006A6B
+      6D006A6B6D006A6B6D006A6B6D0000000000000000006A6B6D006A6B6D006A6B
+      6D006A6B6D006A6C6E006A6C6E006A6D6F006A6D6F006A6C6E006A6C6E006A6B
+      6D006A6B6D006A6B6D006A6B6D00000000000000000000000000000000000000
+      0000000000000001010000020200000303000003030000020200000101000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000FFF7F700D6BD
-      BD00F7EFEF000000000000000000000000000000000000000000FFF7F700DECE
-      D600DECEC600000000000000000000000000000000000000000073CEEF006BEF
-      F70039C6E700000000000000000000000000000000000000000073CEEF0018CE
-      EF0000ADE7000000000000000000000000000000000000000000000000000000
-      0000737373006B6B6B0039393900525252008484840094949400848484000000
+      0000000000000001010000020200000303000003030000020200000101000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000FFFFFF00D6BD
-      C600D6BDBD000000000000000000000000000000000000000000DECED600CEAD
-      A500FFFFFF00000000000000000000000000000000000000000073D6EF0010BD
-      EF00009CDE00000000000000000000000000000000000000000000B5E700008C
-      DE008CD6EF000000000000000000000000000000000000000000000000000000
-      00008C8C8C006B6B6B006363630063636300A5A5A5008C8C8C008C8C8C000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000000000000000000000000000000000000000000000000000000000000FFFF
-      FF00C6ADAD00B5948C00000000000000000000000000AD8C8400DEC6BD000000
-      0000000000000000000000000000000000000000000000000000000000008CD6
-      EF0008ADE700006BCE00000000000000000000000000005ACE0000A5DE000000
       0000000000000000000000000000000000000000000000000000000000000000
-      00006B6B6B008C8C8C006B6B6B008C8C8C008C8C8C00737373008C8C8C000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000F7EFF7008C635A00C6A59C00DECEC6008C5A5200B5847B00000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000021C6EF000063CE000084D60000ADE7000039AD00004AC600000000000000
-      00000000000000000000000000000000000000000000000000008C8C8C005252
-      5200636363009C9C9C009C9C9C009C9C9C00636363007373730063636300847B
-      8400000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000000000000B5948C00A57B730094736B009C6B6300FFE7E700000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000000000000006BCE0021CEEF0010CEEF0018C6E70094C6E700000000000000
-      00000000000000000000000000000000000000000000ADADAD008C8C8C00B5B5
-      B500E7E7E700E7E7E700BDBDBD00D6D6D600DEDEDE00A5A5A500737373006B6B
-      6B007B7B7B000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000D6C6C6006B3931008C5A5A00B5949C00CEADAD00F7CECE00000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000000A5DE000052AD0010BDE70031DEF70063E7F70039ADE700000000000000
-      000000000000000000000000000000000000000000000000000000000000FFFF
-      FF00F7F7F700CECECE00A5A5A500CECECE00F7F7F700FFFFFF00FFFFFF00D6D6
-      D600ADADAD008C8C8C0000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000EFE7E700A584
-      840094636300A57B7B00CEA5A500D6C6C600CEADAD00BD9C9400DEB5AD00F7DE
-      DE0000000000000000000000000000000000000000000000000008C6E700004A
-      CE000063CE0021CEEF0052E7F70073EFF7005AE7F700089CDE000094DE0031BD
-      E700000000000000000000000000000000000000000000000000000000000000
-      000000000000EFEFEF00C6C6C600949494008484840000000000000000000000
+      0000000000000000000000000000000000000000000000010100000303000003
+      0300000303000002020000010100000000000000000000010100000202000003
+      0300000303000003030000010100000000000000000000090900001010000016
+      16000017170000121200000D0D000007070000070700000D0D00001212000017
+      17000016160000101000000909000000000000000000000F0F00001B1B000B18
+      4600022934000028280000202000001717000017170000202000002828000229
+      34000B184600001B1B00000F0F000000000000000000000A0A00001616000025
+      250000323200003C3C0000414100004343000043430000414100003C3C000032
+      32000025250000161600000A0A0000000000000000000005050000080800000C
+      0C00000B0B00000909000005050000020200000202000005050000090900000B
+      0B00000C0C000008080000050500000000000000000000101000001D1D001012
+      5700022A300000282800001E1E000014140000141400001E1E0000282800022A
+      300010125700001D1D0000101000000000000000000000161600002929001027
+      91000C509B0008304E00003C3E000031310000313100003C3E0008304E000C50
+      9B00102791000029290000161600000000000000000000121200002525000F19
+      54000D2B79000697C10007A0CE0006A9DA0006A9DA0007A0CE000697C1000D2B
+      79000F19540000252500001212000000000000000000000A0A0000121200011A
+      1D00001B1B000017170000101000000A0A00000A0A000010100000171700001B
+      1B00011A1D0000121200000A0A00000000000000000000171700002A2A000E2E
+      97000E2B8E000733540000393900002C2C00002C2C0000393900073354000E2B
+      8E000E2E9700002A2A00001717000000000000000000001B1B00003535000C3C
+      A40000FFFF000892D2000A31700000545400005454000A3170000892D20000FF
+      FF000C3CA40000353500001B1B00000000000000000000191900003333000F34
+      A6000797DD000A72C60000F1FE0000FFFF0000FFFF0000F1FE000A72C6000797
+      DD000F34A600003333000019190000000000000000000011110000202000140D
+      6100062A4300002F2F0000242400001A1A00001A1A0000242400002F2F00062A
+      4300140D610000202000001111000000000000000000001B1B00003535000C40
+      A50000FEFF000962BF00083B6C00004C4C00004C4C00083B6C000962BF0000FE
+      FF000C40A50000353500001B1B000000000000000000001E1E00003C3C001415
+      75000A6FB40000FFFF0005B6E3000C2F6F000C2F6F0005B6E30000FFFF000A6F
+      B40014157500003C3C00001E1E000000000000000000001D1D00003B3B000F34
+      A00001E8FA0000E7F8000C59BB0003CCE80003CCE8000C59BB0000E7F80001E8
+      FA000F34A000003B3B00001D1D00000000000000000000161600002A2A000C3E
+      A2000A55B6000C286900003F3F000034340000343400003F3F000C2869000A55
+      B6000C3EA200002A2A00001616000000000000000000001E1E00003C3C001120
+      840001E4F70000FEFF000A5DBA0007446500074465000A5DBA0000FEFF0001E4
+      F70011208400003C3C00001E1E000000000000000000001F1F00003F3F000E36
+      98000D39A4000F3A930001D0F20003C4EA0003C4EA0001D0F2000F3A93000D39
+      A4000E369800003F3F00001F1F000000000000000000001F1F00003F3F00121D
+      7E000F289C0006ADD30000EEFE000D4AB0000D4AB00000EEFE0006ADD3000F28
+      9C00121D7E00003F3F00001F1F00000000000000000000171700002E2E000C3F
+      A40000FEFF0004B0E5000C2E780000535300005353000C2E780004B0E50000FE
+      FF000C3FA400002E2E00001717000000000000000000001F1F00003E3E001410
+      6C00111D80000696D90000FEFF000C44A8000C44A80000FEFF000696D900111D
+      800014106C00003E3E00001F1F000000000000000000001F1F00003F3F000C3F
+      A40000F0FC0005A9DE00102B910002D8F00002D8F000102B910005A9DE0000F0
+      FC000C3FA400003F3F00001F1F00000000000000000000202000004040000C3E
+      A6000893C4000E2798000977BC0000F4FF0000F4FF000977BC000E2798000893
+      C4000C3EA6000040400000202000000000000000000000131300002929000F20
+      750005A2E00000FEFF000599DB000B3672000B3672000599DB0000FEFF0005A2
+      E0000F20750000292900001313000000000000000000001D1D00003B3B000C41
+      A60005A4E000131B7D000779CA0000FCFE0000FCFE000779CA00131B7D0005A4
+      E0000C41A600003B3B00001D1D000000000000000000001F1F00003E3E001218
+      7A000972BE0002D9F00004B2E500102597001025970004B2E50002D9F0000972
+      BE0012187A00003E3E00001F1F000000000000000000001F1F00003F3F001028
+      8B0000F9FF0002DDF4000F35A100096EBD00096EBD000F35A10002DDF40000F9
+      FF0010288B00003F3F00001F1F0000000000000000000A161700042121000036
+      36000C2E69000B4DB00000FAFD000776C9000776C90000FAFD000B4DB0000C2E
+      690000363600001D1D00000D0D0000000000000000000A222300043737000C3E
+      A30000FEFF0000E8F800111D850003B4E60003B4E600111D850000E8F80000FE
+      FF000C3EA300003434000019190000000000000000000A262700043D3D000F2D
+      94000D59A3000E1F930004BBE10005A9DE0005A9DE0004BBE1000E1F93000D59
+      A3000F2D9400003A3A00001D1D0000000000000000000A272800044040001316
+      74000E3491000887CB0001E6F8000D45A5000D45A50001E6F8000887CB000E34
+      910013167400003D3D00001E1E0000000000000000001A202100152526000729
+      290000383800053F56000B4AAB0000FEFF0000FEFF000B4AAB00053F56000038
+      380000222200001111000007070000000000000000001A2A2B00153A3B000F2B
+      6B000A56B60000FCFE0002D0F000121E8700121E870002D0F00000FCFE000A56
+      B6000C296900002828000012120000000000000000001A303000154445000E39
+      A60000FFFF000899C90010178E0003C6EC0003C6EC0010178E000899C90000FF
+      FF000E38A600003333000018180000000000000000001A313200154747000C44
+      AD0002D2F2000D4F9D000C4BAA0000FBFF0000FBFF000C4BAA000D4F9D0002D2
+      F2000C44AD0000363600001A1A0000000000000000002C2E2F002C3233002332
+      32000E2D2E000036360008355F000779CA000779CA0008355F00003636000021
+      210000111100000707000003030000000000000000002C3536002C424200234D
+      4D0010455F000F2B8C0001E4F70005A1DF0005A1DF0001E4F7000F2B8C00063D
+      580000313100001A1A00000B0B0000000000000000002C3B3C002C4B4C001C3B
+      6D000C61B10000FCFF0005BCDD00102692001026920005BCDD0000FCFF000B61
+      B0000A2D6000002626000012120000000000000000002C3D3E002C5051001533
+      890005B1E50000FFFF000A6EB6000C53AA000C53AA000A6EB60000FFFF0005B1
+      E5000D2E8300002C2C000015150000000000000000003E3F40003E4141003E44
+      4400364444001E393A00073535000C2567000C256700002F2F00001F1F000010
+      100000060600000202000707070000000000000000003E4344003E4A4A003E55
+      5600365F60001E5B61000F30910000FAFD0000FAFD000E2F900002474D000033
+      3300001D1D00000E0E00070C0C0000000000000000003E4747003E5152003E62
+      6200325E6C00153C860002C3EE0003CCE90003CCE90002C3EE000D378000043D
+      4A00002E2E00001818000711110000000000000000003E494A003E565600395D
+      6B00284B7B000F5EAC0000F1FF000A74C1000A74C10000F1FF000C5CA9000836
+      650003324000001E1E0007141400000000000000000050515200505152005052
+      530050555600505B5B003F5152002A42430017323300091F1F00010F0F00090F
+      0F00171819002A2A2B003F40410000000000000000005052530050545500505A
+      5B00506465005072730037607200104AAD000E48AB000B3F5200013131000924
+      2400172324002A2E2F003F41420000000000000000005054550050595A005063
+      640050707100507E7F00243E820003C9EC0003C9EC0010317400014344000934
+      3400172F30002A3435003F444500000000000000000050565700505D5E005067
+      68005075760049757F001A469A0001E9FB0001E9FB000E3F920004444D00093C
+      3C00173435002A3839003F454600000000000000000060616200606162006061
+      6200606263006064650060676800606869006068690060676800606465006062
+      6300606162006061620060616200000000000000000060616200606263006063
+      640060696A0060717200607A7B004356800043568000607A7B00607172006069
+      6A00606364006062630060616200000000000000000060626300606465006068
+      6900606F700060797A0060828400303F8900303F89006082840060797A00606F
+      700060686900606465006062630000000000000000006063640060656600606B
+      6C0060737400607E7E005779850022499F0022499F0057798500607E7E006073
+      7400606B6C00606566006063640000000000000000006A6B6D006A6B6D006A6B
+      6D006A6B6D006A6C6E006A6C6E006A6D6F006A6D6F006A6C6E006A6C6E006A6B
+      6D006A6B6D006A6B6D006A6B6D0000000000000000006A6B6D006A6B6D006A6C
+      6E006A6E70006A7173006A7577006A797B006A797B006A7577006A7173006A6E
+      70006A6C6E006A6B6D006A6B6D0000000000000000006A6B6D006A6C6E006A6D
+      6F006A7072006A7577006A7B7C006A7F80006A7F80006A7B7C006A7577006A70
+      72006A6D6F006A6C6E006A6B6D0000000000000000006A6B6D006A6C6E006A6E
+      70006A7274006A787A006A7E7F006A8284006A8284006A7E7F006A787A006A72
+      74006A6E70006A6C6E006A6B6D00000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000EFDEDE00EFE7
-      DE00E7D6CE00EFD6D600BD9C9C00CEADAD00EFC6C600DEBDB500DEBDBD00DEC6
-      BD00EFE7DE00000000000000000000000000000000000000000008BDE70008BD
-      E70008B5E70008B5E70000A5DE0052E7F70042C6EF0000A5DE0000A5DE0000A5
-      DE0008BDE7000000000000000000000000000000000000000000000000000000
-      00000000000000000000D6D6D6009C9C9C009C9C9C0000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000D6CECE00C69C9C00FFFFFF0000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000ADE70008A5DE0094CEEF0000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000DEDEDE009C9C9C000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000EFE7E700CEADAD000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000008C6E700008CDE000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000F7F7F700B5B5B5000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000FFFFFF00E7D6D6000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000084D6EF0008BDE7000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000C6C6C6000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000009C848400393131000031310000393900313131008C7373000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000004A42
-      4200FFEFEF00000000000000000000000000000000000000000000000000FFE7
-      E700524A4A00000000000000000000000000000000000000000000000000FFFF
-      FF000000000000B5B50000FFFF0000D6D60000D6D60000FFFF0000D6D6000000
-      0000FFF7F7000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000EFEFEF000000000000000000000000000000000000000000000000004239
-      3900D6CECE00000000000000000000000000000000000000000000000000E7DE
-      DE0031212100000000000000000000000000000000000000000000000000005A
-      5A00008484008C6B6B0000000000000000000000000000000000846B6B00008C
-      8C00106363000000000000000000000000000000000000000000000000003131
-      310000FFFF00007B7B0000000000000000000000000000000000005A5A0000FF
-      FF00182121000000000000000000000000000000000000000000000000000000
-      00009C8C8C000000000000000000000000000000000000000000000000009484
-      8400000000000000000000000000000000000000000000000000000000001863
-      6300003131008C6B6B00000000000000000000000000000000008C7373000031
-      3100107373000000000000000000000000000000000000000000000000000000
-      000000C6C60000EFEF003129290000000000000000003131310000F7F70000AD
-      AD00100000000000000000000000000000000000000000000000000000001884
-      8400005A5A000000000000000000000000000000000000000000000000000063
-      630018848400000000000000000000000000000000000000000000000000006B
-      6B00007B7B0063424200000000000000000000000000000000005A4242000084
-      8400005252000000000000000000000000000000000000000000000000001810
-      100000F7F700008484004A29290000000000000000004A292900007B7B0000FF
-      FF0010101000000000000000000000000000000000000000000000000000005A
-      5A00006B6B000042420000FFFF00212929002139390000FFFF00003131000073
-      7B0008636300000000000000000000000000000000000000000000000000214A
-      520000FFFF0000393900000000000000000000000000000000000063630000FF
-      FF00183939000000000000000000000000000000000000000000000000008473
-      730000C6C60000A5A5006342420000000000000000005231310000A5A50000C6
-      C600847373000000000000000000000000000000000000000000000000002163
-      63000018180000C6C600008C8C005A3939006B4A4A00009C9C0000D6D6000018
-      1800086363000000000000000000000000000000000000000000000000000000
-      000000CECE0000BDBD000008080000FFFF0000FFFF000008080000CECE0000C6
-      C600000000000000000000000000000000000000000000000000000000002139
-      39000018180000FFFF0000ADAD00000000000000000000D6D60000F7F7000018
-      1800184A4A000000000000000000000000000000000000000000000000000000
-      00009473730000C6C600008484008463630094737300008C8C0000BDBD00A584
-      840000000000000000000000000000000000000000000000000000000000394A
-      4A0000FFFF000029290000C6C600007B7B000073730000D6D6000018180000FF
-      FF0021393900000000000000000000000000000000000000000000000000005A
-      5A00004242000094940000BDBD00002121000010100000E7E700008484000052
-      520000525A000000000000000000000000000000000000000000000000002152
-      520000FFFF000018180000B5B50000D6D60000D6D60000B5B5000029290000FF
-      FF00183131000000000000000000000000000000000000000000000000000000
-      0000000000008463630000EFEF00003939000039390000EFEF00846363000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      00002121210000FFFF000010100000DEDE0000F7F7000008080000FFFF002131
-      3100000000000000000000000000000000000000000000000000000000004A42
-      420000FFFF00005A5A00008C8C0000ADAD0000BDBD00008484000063630000FF
-      FF004A4242000000000000000000000000000000000000000000000000002942
-      42000008080000FFFF0000525200008C8C00008C8C00004A4A0000FFFF000010
-      1000185252000000000000000000000000000000000000000000000000000000
-      000000000000000000003939390000FFFF0000FFFF0039393900000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000001831310000FFFF00000000000000000000FFFF00102929000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      00005239390000FFFF000039390000ADAD0000ADAD00004A4A0000F7F7006352
-      5200000000000000000000000000000000000000000000000000000000003163
-      630000FFFF000008080000FFFF00006363000031310000FFFF000000000000FF
-      FF00215252000000000000000000000000000000000000000000000000000000
-      00000000000000000000FFF7F70000737300005A5A00FFFFFF00000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      000000000000FFF7F7000052520000DEDE0000CECE00005A5A00FFEFEF000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000003931310000FFFF00000000000010100000FFFF004A3131000000
-      000000000000000000000000000000000000000000000000000000000000FFEF
-      EF000039390000FFFF000010100000FFFF0000FFFF000008080000FFFF001839
-      3900FFFFFF000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000736B6B007373730000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000BD9C9C0000C6C60000CECE00AD848400000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      000000000000000000000842420000F7F70000F7F70008393900000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000FFF7F7000039390000FFFF00001818000018180000FFFF0000393900FFF7
-      F700000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000FFF7F700F7F7F70000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000215252001842420000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000D6BDBD0000ADAD0000949400DEC6C600000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      000000000000FFE7E700006B6B0000D6D60000A5A50000848400FFE7E7000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000BDB5B500ADADAD0000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      000000000000000000000000000039525200394A4A0000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000BD9C9C0000C6CE0000EFEF00947B7B00000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000CECECE00D6D6D60000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000183939001042420000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000C6C6C600B5ADAD0000000000000000000000
       000000000000000000000000000000000000424D3E000000000000003E000000
       2800000040000000300000000100010000000000800100000000000000000000
       000000000000000000000000FFFFFF0000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000000000000000E007E007FFFF0000C00FC00FFFEF0000
-      C007C007CFCF0000C007C007E39F0000C467C467E11F0000C7C7C7C7F01F0000
-      C7C7C7C7F01F0000E39FE39FF01F0000F03FF03FC00F0000F83FF83F80070000
-      F03FF03FE0030000C00FC00FF87F0000C007C007FC7F0000FC7FFC7FFCFF0000
-      FCFFFCFFFCFF0000FCFFFCFFFEFF0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFF81F
-      FFFFFFFFE7E7E007FFF7E7E7E3C7E007E7E7E3C7E187E007E3C7E187E007E007
-      E187E007E007E007F00FE007E007E007F81FF00FE007E007FC3FF81FF00FE007
-      FC3FF81FF81FE007FE7FFC3FFC3FF00FFE7FFE7FFC3FF81FFFFFFE7FFE7FFC3F
-      FFFFFFFFFE7FFE7FFFFFFFFFFFFFFE7F00000000000000000000000000000000
-      000000000000}
+      00000000000000000000000000000000FFFFFFFFFFFFFFFF8001800180018001
+      8001800180018001800180018001800180018001800180018001800180018001
+      8001800180018001800180018001800180018001800180018001800180018001
+      8001800180018001800180018001800180018001800180018001800180018001
+      8001800180018001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8001800180018001
+      8001800180018001800180018001800180018001800180018001800180018001
+      8001800180018001800180018001800180018001800180018001800180018001
+      8001800180018001800180018001800180018001800180018001800180018001
+      8001800180018001FFFFFFFFFFFFFFFF}
   end
   object GradesImageList: TImageList
     Left = 369

Modified: Lobby/TASClient/MainUnit.pas
===================================================================
--- Lobby/TASClient/MainUnit.pas	2010-01-30 19:31:42 UTC (rev 7406)
+++ Lobby/TASClient/MainUnit.pas	2010-02-04 18:26:52 UTC (rev 7407)
@@ -402,7 +402,7 @@
   );
 
 const
-  VERSION_NUMBER = '0.58'; // Must be float value! (with a period as a decimal seperator)
+  VERSION_NUMBER = '0.59'; // Must be float value! (with a period as a decimal seperator)
   AUTOUPDATE_URL = '<A HREF="http://tasclient.no-ip.org/TASClient_update_v3.txt">http://tasclient.no-ip.org/TASClient_update_v3.txt</A>';
   PROGRAM_VERSION = 'TASClient ' + VERSION_NUMBER;
   KEEP_ALIVE_INTERVAL = 10000; // in milliseconds. Tells us what should be the maximum &quot;silence&quot; time before we send a ping to the server.
@@ -7948,12 +7948,18 @@
   if odSelected in State then
     (Control as TTntListBox).Canvas.Font.Color := clWhite;
 
+  RanksImageList.Draw((Control as TTntListBox).Canvas, xpos, Rect.Top, TClient(cList[realIndex]).GetRank);
+  Inc(xpos, RanksImageList.Width + 1);
+
   if TClient(cList[realIndex]).GetBotMode then
   begin
     (Control as TTntListBox).Canvas.Draw(xpos, Rect.Top, BotImage.Picture.Bitmap);
     Inc(xpos, BotImage.Picture.Bitmap.Width + 4{leave some space between username and the icon});
   end;
 
+  WideCanvasTextOut((Control as TTntListBox).Canvas, xpos, Rect.Top, TClient(cList[realIndex]).Name);
+  Inc(xpos, WideCanvasTextWidth((Control as TTntListBox).Canvas,TClient(cList[realIndex]).Name));
+
   // ladder cup
   with TClient(cList[realIndex]) do
   begin
@@ -7964,12 +7970,6 @@
     end;
   end;
 
-  WideCanvasTextOut((Control as TTntListBox).Canvas, xpos, Rect.Top, TClient(cList[realIndex]).Name);
-  Inc(xpos, WideCanvasTextWidth((Control as TTntListBox).Canvas,TClient(cList[realIndex]).Name));
-
-  RanksImageList.Draw((Control as TTntListBox).Canvas, xpos, Rect.Top, TClient(cList[realIndex]).GetRank);
-  Inc(xpos, RanksImageList.Width + 1);
-
   // custom icons
   if not Preferences.ScriptsDisabled then
     for i:=0 to lobbyScriptUnit.PlayerIconTypeNames.Count-1 do

Modified: Lobby/TASClient/Python/api.txt
===================================================================
--- Lobby/TASClient/Python/api.txt	2010-01-30 19:31:42 UTC (rev 7406)
+++ Lobby/TASClient/Python/api.txt	2010-02-04 18:26:52 UTC (rev 7407)
@@ -114,8 +114,11 @@
 	Adds a button with a drop down menu. You can handle the menu with the AddItemToMenu etc functions with 'Parent.menuName' for menu id. If the drop down menu contains only one item, then clicking on the button will execute that item and no menu will be displayed.
 - StackLayoutChanges(True/False)
 	Save layout changes (add control, change control properties) in the CustomizeGUI editor stack. (So saving new profiles will include theses changes)
-- AddPlayerIconType(name, iconsDict)
-	iconsDict = icons = {0:'filepath.bmp/jpg/png', 'Name':'Rank1', 'MaskColor':16777215}, 1:{'File':'filepath.bmp/jpg/png', 'Name':'Rank2', 'MaskColor':16777215} ...}
+- AddOrReplaceIconList(name, iconsDict)
+	replace the default icons with
+		name == 'rank','connectionstate','playerstate','syncstate','battlestate','readystate','laddercup'
+	or add new icon list, use SetPlayerIconId to set the icon id to a player
+	iconsDictExample = {0:{'File':'filepath.bmp/jpg/png', 'Name':'Rank1', 'MaskColor':16777215}, 1:{'File':'filepath.bmp/jpg/png', 'Name':'Rank2', 'MaskColor':16777215} ...}
 - SetPlayerIconId(playerNick,iconTypeName,iconId)
 - AddEvent(control, event, callbackModuleName, callbackFunctionName)
 	Event fully handled :

Added: Lobby/TASClient/Python/scripts/subf/replaceIcons.py
===================================================================
--- Lobby/TASClient/Python/scripts/subf/replaceIcons.py	                        (rev 0)
+++ Lobby/TASClient/Python/scripts/subf/replaceIcons.py	2010-02-04 18:26:52 UTC (rev 7407)
@@ -0,0 +1,9 @@
+import lobbyscript
+
+api = lobbyscript.Callback()
+gui = lobbyscript.GUI()
+
+def _init():
+	icons = {0:{'File':'Lobby\python\scripts\C-Rank1.png', 'MaskColor':16777215}, 1:{'File':'Lobby\python\scripts\C-Rank2.png', 'MaskColor':16777215},2:{'File':'Lobby\python\scripts\C-Rank3.png', 'MaskColor':16777215},3:{'File':'Lobby\python\scripts\C-Rank4.png', 'MaskColor':16777215},4:{'File':'Lobby\python\scripts\\1starg.png', 'MaskColor':16777215},5:{'File':'Lobby\python\scripts\\2stars.png', 'MaskColor':16777215},6:{'File':'Lobby\python\scripts\\3starsu.png', 'MaskColor':16777215},7:{'File':'Lobby\python\scripts\\generalxz.png', 'MaskColor':16777215}}
+	gui.AddOrReplaceIconList('rank',icons)
+	gui.AddOrReplaceIconList('connectionstate',icons)
\ No newline at end of file

Modified: Lobby/TASClient/TASClient.dof
===================================================================
--- Lobby/TASClient/TASClient.dof	2010-01-30 19:31:42 UTC (rev 7406)
+++ Lobby/TASClient/TASClient.dof	2010-02-04 18:26:52 UTC (rev 7407)
@@ -115,7 +115,7 @@
 MajorVer=0
 MinorVer=58
 Release=0
-Build=772
+Build=774
 Debug=0
 PreRelease=0
 Special=0
@@ -126,7 +126,7 @@
 [Version Info Keys]
 CompanyName=
 FileDescription=Spring RTS Engine lobby client
-FileVersion=0.58.0.772
+FileVersion=0.58.0.774
 InternalName=
 LegalCopyright=
 LegalTrademarks=

Modified: Lobby/TASClient/TASClient.res
===================================================================
(Binary files differ)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="002178.html">[Taspring-linux-commit] r7408 - Lobby/TASClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2177">[ date ]</a>
              <a href="thread.html#2177">[ thread ]</a>
              <a href="subject.html#2177">[ subject ]</a>
              <a href="author.html#2177">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
