<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r5456 - in trunk/Lobby/AFLobby/src/aflobby:	. UI UI/battle framework protocol/tasserver protocol/tasserver/ui
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r5456%20-%20in%20trunk/Lobby/AFLobby/src/aflobby%3A%0A%09.%20UI%20UI/battle%20framework%20protocol/tasserver%20protocol/tasserver/ui&In-Reply-To=%3CE1JMXfw-0003a7-98%40proserver.fnord.lan%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000262.html">
   <LINK REL="Next"  HREF="000264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r5456 - in trunk/Lobby/AFLobby/src/aflobby:	. UI UI/battle framework protocol/tasserver protocol/tasserver/ui</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r5456%20-%20in%20trunk/Lobby/AFLobby/src/aflobby%3A%0A%09.%20UI%20UI/battle%20framework%20protocol/tasserver%20protocol/tasserver/ui&In-Reply-To=%3CE1JMXfw-0003a7-98%40proserver.fnord.lan%3E"
       TITLE="[Taspring-linux-commit] r5456 - in trunk/Lobby/AFLobby/src/aflobby:	. UI UI/battle framework protocol/tasserver protocol/tasserver/ui">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Wed Feb  6 00:58:04 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000262.html">[Taspring-linux-commit] r5455 - in trunk/AI/Global/NTai/AI/NTai:	Core Helpers/Terrain
</A></li>
        <LI>Next message: <A HREF="000264.html">[Taspring-linux-commit] r5457 - trunk/rts/build/vstudio8
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#263">[ date ]</a>
              <a href="thread.html#263">[ thread ]</a>
              <a href="subject.html#263">[ subject ]</a>
              <a href="author.html#263">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tnowell
Date: 2008-02-06 00:58:03 +0100 (Wed, 06 Feb 2008)
New Revision: 5456

Added:
   trunk/Lobby/AFLobby/src/aflobby/UI/DefaultResizableBorder.java
   trunk/Lobby/AFLobby/src/aflobby/framework/CEvent.java
Removed:
   trunk/Lobby/AFLobby/src/aflobby/CEvent.java
   trunk/Lobby/AFLobby/src/aflobby/DefaultResizableBorder.java
Modified:
   trunk/Lobby/AFLobby/src/aflobby/CBattleCommandHandler.java
   trunk/Lobby/AFLobby/src/aflobby/CBattleInfo.java
   trunk/Lobby/AFLobby/src/aflobby/CBattleList.java
   trunk/Lobby/AFLobby/src/aflobby/CBattleModel.java
   trunk/Lobby/AFLobby/src/aflobby/CBattleWindow.java
   trunk/Lobby/AFLobby/src/aflobby/CChannel.form
   trunk/Lobby/AFLobby/src/aflobby/CChannel.java
   trunk/Lobby/AFLobby/src/aflobby/CChannelView.form
   trunk/Lobby/AFLobby/src/aflobby/CChannelView.java
   trunk/Lobby/AFLobby/src/aflobby/CChatPanel.java
   trunk/Lobby/AFLobby/src/aflobby/CConnection.java
   trunk/Lobby/AFLobby/src/aflobby/CGlestBattleModel.java
   trunk/Lobby/AFLobby/src/aflobby/CGlestBattleWindow.form
   trunk/Lobby/AFLobby/src/aflobby/CGlestBattleWindow.java
   trunk/Lobby/AFLobby/src/aflobby/CLoginPanel.java
   trunk/Lobby/AFLobby/src/aflobby/CLoginProgress.java
   trunk/Lobby/AFLobby/src/aflobby/CPlayer.java
   trunk/Lobby/AFLobby/src/aflobby/CPlayerDataWindow.java
   trunk/Lobby/AFLobby/src/aflobby/CPlayers.java
   trunk/Lobby/AFLobby/src/aflobby/CPrivateMsgWindow.java
   trunk/Lobby/AFLobby/src/aflobby/CSettings.java
   trunk/Lobby/AFLobby/src/aflobby/CStartBox.java
   trunk/Lobby/AFLobby/src/aflobby/CSync.java
   trunk/Lobby/AFLobby/src/aflobby/CToast.java
   trunk/Lobby/AFLobby/src/aflobby/CUserCommandHandler.java
   trunk/Lobby/AFLobby/src/aflobby/IView.java
   trunk/Lobby/AFLobby/src/aflobby/JRegView.java
   trunk/Lobby/AFLobby/src/aflobby/LMain.java
   trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.form
   trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.java
   trunk/Lobby/AFLobby/src/aflobby/UI/CView.java
   trunk/Lobby/AFLobby/src/aflobby/UI/battle/CBooleanOptionsPanel.java
   trunk/Lobby/AFLobby/src/aflobby/UI/battle/CListOptionsPanel.java
   trunk/Lobby/AFLobby/src/aflobby/UI/battle/CSliderOptionsPanel.java
   trunk/Lobby/AFLobby/src/aflobby/UI/battle/CStringOptionsPanel.java
   trunk/Lobby/AFLobby/src/aflobby/framework/CBaseModule.java
   trunk/Lobby/AFLobby/src/aflobby/framework/CCore.java
   trunk/Lobby/AFLobby/src/aflobby/framework/IModule.java
   trunk/Lobby/AFLobby/src/aflobby/languages.properties
   trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/CTASServerProtocol.java
   trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/ui/CAgree.java
   trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/ui/CChannelList.java
Log:
- swapped some classes between packages
- fixed a problem with layout and the UI manager and space surrounding components in the playertablepanel class
- put the playertable panel class into the glest battle window
- added a counter to the playertable class
- various tweaks to teh glest battle window the channelview class and the channel class.

Modified: trunk/Lobby/AFLobby/src/aflobby/CBattleCommandHandler.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CBattleCommandHandler.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CBattleCommandHandler.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -9,6 +9,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import java.util.ArrayList;
 import java.util.Iterator;
 

Modified: trunk/Lobby/AFLobby/src/aflobby/CBattleInfo.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CBattleInfo.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CBattleInfo.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -9,6 +9,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import java.util.ArrayList;
 
 

Modified: trunk/Lobby/AFLobby/src/aflobby/CBattleList.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CBattleList.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CBattleList.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -5,6 +5,7 @@
  */
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.UI.CUISettings;
 import aflobby.UI.CView;
 import java.util.ArrayList;

Modified: trunk/Lobby/AFLobby/src/aflobby/CBattleModel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CBattleModel.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CBattleModel.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -9,6 +9,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.framework.CBaseModule;
 import aflobby.UI.CUserSettings;
 import java.awt.Color;

Modified: trunk/Lobby/AFLobby/src/aflobby/CBattleWindow.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CBattleWindow.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CBattleWindow.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.IGUIBattleModel;
 import aflobby.protocol.tasserver.RectHandler;
 import aflobby.protocol.tasserver.RectEntry;

Modified: trunk/Lobby/AFLobby/src/aflobby/CChannel.form
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CChannel.form	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CChannel.form	2008-02-05 23:58:03 UTC (rev 5456)
@@ -104,7 +104,7 @@
                               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
                           &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;jScrollPane3&quot; pref=&quot;765&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jScrollPane3&quot; pref=&quot;762&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jButton3&quot; min=&quot;-2&quot; pref=&quot;53&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
                               &lt;EmptySpace min=&quot;12&quot; pref=&quot;12&quot; max=&quot;12&quot; attributes=&quot;0&quot;/&gt;
@@ -126,7 +126,7 @@
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                           &lt;Component id=&quot;jButton3&quot; min=&quot;-2&quot; pref=&quot;40&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
-                          &lt;Component id=&quot;jScrollPane3&quot; pref=&quot;59&quot; max=&quot;32767&quot; attributes=&quot;3&quot;/&gt;
+                          &lt;Component id=&quot;jScrollPane3&quot; pref=&quot;60&quot; max=&quot;32767&quot; attributes=&quot;3&quot;/&gt;
                       &lt;/Group&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
@@ -266,25 +266,22 @@
               &lt;Layout&gt;
                 &lt;DimensionLayout dim=&quot;0&quot;&gt;
                   &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Component id=&quot;playerTablePanel&quot; alignment=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                                   &lt;Component id=&quot;jButton1&quot; linkSize=&quot;5&quot; min=&quot;-2&quot; pref=&quot;37&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;Component id=&quot;jButton2&quot; linkSize=&quot;5&quot; min=&quot;-2&quot; pref=&quot;36&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;Component id=&quot;jButton5&quot; linkSize=&quot;5&quot; min=&quot;-2&quot; pref=&quot;27&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;/Group&gt;
-                              &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                                  &lt;Component id=&quot;channelPrivateLabel&quot; pref=&quot;161&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                  &lt;Component id=&quot;playerCountLabel&quot; min=&quot;-2&quot; pref=&quot;145&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;channelPrivateLabel&quot; pref=&quot;208&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                               &lt;/Group&gt;
                           &lt;/Group&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
-                      &lt;Component id=&quot;playerTablePanel&quot; alignment=&quot;1&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
                 &lt;/DimensionLayout&gt;
                 &lt;DimensionLayout dim=&quot;1&quot;&gt;
@@ -295,14 +292,11 @@
                               &lt;Component id=&quot;jButton1&quot; linkSize=&quot;3&quot; min=&quot;-2&quot; pref=&quot;25&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jButton2&quot; linkSize=&quot;3&quot; min=&quot;-2&quot; pref=&quot;26&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jButton5&quot; linkSize=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;channelPrivateLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;playerCountLabel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;channelPrivateLabel&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;/Group&gt;
-                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;playerTablePanel&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                   &lt;/Group&gt;
                 &lt;/DimensionLayout&gt;
@@ -348,14 +342,6 @@
                     &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;jButton2ActionPerformed&quot;/&gt;
                   &lt;/Events&gt;
                 &lt;/Component&gt;
-                &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;playerCountLabel&quot;&gt;
-                  &lt;Properties&gt;
-                    &lt;Property name=&quot;horizontalAlignment&quot; type=&quot;int&quot; value=&quot;4&quot;/&gt;
-                    &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-                      &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannel.playerCountLabel.text&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
-                    &lt;/Property&gt;
-                  &lt;/Properties&gt;
-                &lt;/Component&gt;
                 &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;channelPrivateLabel&quot;&gt;
                   &lt;Properties&gt;
                     &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
@@ -388,7 +374,7 @@
                   &lt;Layout&gt;
                     &lt;DimensionLayout dim=&quot;0&quot;&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;EmptySpace min=&quot;0&quot; pref=&quot;332&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace min=&quot;0&quot; pref=&quot;338&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                     &lt;/DimensionLayout&gt;
                     &lt;DimensionLayout dim=&quot;1&quot;&gt;

Modified: trunk/Lobby/AFLobby/src/aflobby/CChannel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CChannel.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CChannel.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.helpers.CStringHelper;
 import aflobby.UI.CUISettings;
 import aflobby.UI.CUserSettings;
@@ -542,8 +543,6 @@
                             &quot; Left #&quot; + Channel + &quot; &quot; + r + &quot;&lt;/b&gt;&lt;/font&gt;&quot;);
                 }
                 
-                int i = playerTablePanel.PlayerCount();
-                playerCountLabel.setText(i +&quot; Players in Channel&quot;);
             }
         };
         SwingUtilities.invokeLater(doWorkRunnable);
@@ -554,7 +553,6 @@
 
             public void run() {
                 playerTablePanel.ClearPlayers();
-                playerCountLabel.setText(&quot;0 Players in Channel&quot;);
                 //jList1.removeAll ();
             }
             
@@ -598,8 +596,6 @@
                         }
                     }
                 
-                    int i = playerTablePanel.PlayerCount();
-                    playerCountLabel.setText(i +&quot; Players in Channel&quot;);
                 }
             };
             SwingUtilities.invokeLater(doWorkRunnable);
@@ -631,7 +627,6 @@
         jPanel5 = new javax.swing.JPanel();
         jButton1 = new javax.swing.JButton();
         jButton2 = new javax.swing.JButton();
-        playerCountLabel = new javax.swing.JLabel();
         channelPrivateLabel = new javax.swing.JLabel();
         jButton5 = new javax.swing.JButton();
         playerTablePanel = new aflobby.UI.CPlayerTablePanel();
@@ -742,7 +737,7 @@
                         .addComponent(smileybox, javax.swing.GroupLayout.PREFERRED_SIZE, 179, javax.swing.GroupLayout.PREFERRED_SIZE)
                         .addContainerGap())
                     .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
-                        .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 765, Short.MAX_VALUE)
+                        .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 762, Short.MAX_VALUE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                         .addComponent(jButton3, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)
                         .addGap(12, 12, 12))))
@@ -758,7 +753,7 @@
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                 .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                     .addComponent(jButton3, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
-                    .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 59, Short.MAX_VALUE))
+                    .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 60, Short.MAX_VALUE))
                 .addContainerGap())
         );
 
@@ -799,9 +794,6 @@
             }
         });
 
-        playerCountLabel.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
-        playerCountLabel.setText(bundle.getString(&quot;CChannel.playerCountLabel.text&quot;)); // NOI18N
-
         channelPrivateLabel.setText(bundle.getString(&quot;CChannel.channelPrivateLabel.text&quot;)); // NOI18N
 
         jButton5.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/images/UI/cog.png&quot;))); // NOI18N
@@ -822,7 +814,7 @@
         playerTablePanel.setLayout(playerTablePanelLayout);
         playerTablePanelLayout.setHorizontalGroup(
             playerTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 332, Short.MAX_VALUE)
+            .addGap(0, 338, Short.MAX_VALUE)
         );
         playerTablePanelLayout.setVerticalGroup(
             playerTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
@@ -833,21 +825,19 @@
         jPanel5.setLayout(jPanel5Layout);
         jPanel5Layout.setHorizontalGroup(
             jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGroup(jPanel5Layout.createSequentialGroup()
+            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                 .addContainerGap()
                 .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
-                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel5Layout.createSequentialGroup()
+                    .addComponent(playerTablePanel, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                    .addGroup(jPanel5Layout.createSequentialGroup()
                         .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                         .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
-                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel5Layout.createSequentialGroup()
-                        .addComponent(channelPrivateLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 161, Short.MAX_VALUE)
+                        .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(playerCountLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE)))
+                        .addComponent(channelPrivateLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 208, Short.MAX_VALUE)))
                 .addContainerGap())
-            .addComponent(playerTablePanel, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
         );
 
         jPanel5Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jButton1, jButton2, jButton5});
@@ -859,13 +849,11 @@
                 .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                     .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
-                    .addComponent(jButton5))
-                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
-                    .addComponent(playerCountLabel)
+                    .addComponent(jButton5)
                     .addComponent(channelPrivateLabel))
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                .addComponent(playerTablePanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+                .addComponent(playerTablePanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                .addContainerGap())
         );
 
         jPanel5Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {jButton1, jButton2, jButton5});
@@ -991,7 +979,6 @@
     private javax.swing.JSplitPane jSplitPane2;
     private javax.swing.JTextArea messageinput;
     private javax.swing.JPopupMenu optionsPopupMenu;
-    private javax.swing.JLabel playerCountLabel;
     private aflobby.UI.CPlayerTablePanel playerTablePanel;
     private aflobby.UI.CSmileyCombo smileybox;
     // End of variables declaration//GEN-END:variables

Modified: trunk/Lobby/AFLobby/src/aflobby/CChannelView.form
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CChannelView.form	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CChannelView.form	2008-02-05 23:58:03 UTC (rev 5456)
@@ -111,7 +111,7 @@
                       &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;jScrollPane4&quot; alignment=&quot;0&quot; pref=&quot;813&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;jScrollPane4&quot; alignment=&quot;0&quot; pref=&quot;809&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                                   &lt;Component id=&quot;number_of_battles&quot; min=&quot;-2&quot; pref=&quot;272&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -125,7 +125,7 @@
                                       &lt;/Group&gt;
                                       &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-                                              &lt;Component id=&quot;SearchBox&quot; alignment=&quot;0&quot; pref=&quot;650&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                                              &lt;Component id=&quot;SearchBox&quot; alignment=&quot;0&quot; pref=&quot;645&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                                               &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                                                   &lt;Component id=&quot;jButton5&quot; min=&quot;-2&quot; pref=&quot;188&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                                   &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -133,7 +133,7 @@
                                                   &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                                   &lt;Component id=&quot;StatusCombo&quot; min=&quot;-2&quot; pref=&quot;117&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                                  &lt;Component id=&quot;jButton4&quot; pref=&quot;177&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                                                  &lt;Component id=&quot;jButton4&quot; pref=&quot;169&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                                               &lt;/Group&gt;
                                           &lt;/Group&gt;
                                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -145,11 +145,11 @@
                                   &lt;/Group&gt;
                               &lt;/Group&gt;
                               &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                                  &lt;Component id=&quot;jButton12&quot; pref=&quot;157&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                                  &lt;Component id=&quot;jButton12&quot; pref=&quot;155&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
                                   &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                  &lt;Component id=&quot;jButton13&quot; pref=&quot;157&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                                  &lt;Component id=&quot;jButton13&quot; pref=&quot;155&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
                                   &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                  &lt;Component id=&quot;jButton14&quot; pref=&quot;159&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                                  &lt;Component id=&quot;jButton14&quot; pref=&quot;156&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
                                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                                   &lt;Component id=&quot;jButton15&quot; min=&quot;-2&quot; pref=&quot;190&quot; max=&quot;-2&quot; attributes=&quot;2&quot;/&gt;
                                   &lt;EmptySpace min=&quot;-2&quot; pref=&quot;132&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -193,7 +193,7 @@
                               &lt;Component id=&quot;jButton15&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;jScrollPane4&quot; pref=&quot;312&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                          &lt;Component id=&quot;jScrollPane4&quot; pref=&quot;298&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
                           &lt;EmptySpace min=&quot;-2&quot; pref=&quot;13&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                   &lt;/Group&gt;
@@ -397,33 +397,6 @@
                 &lt;/Component&gt;
               &lt;/SubComponents&gt;
             &lt;/Container&gt;
-            &lt;Container class=&quot;aflobby.UI.CPlayerTablePanel&quot; name=&quot;playerTablePanel&quot;&gt;
-              &lt;AuxValues&gt;
-                &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;playerTablePanel.LM = LM;&quot;/&gt;
-              &lt;/AuxValues&gt;
-              &lt;Constraints&gt;
-                &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout$JTabbedPaneConstraintsDescription&quot;&gt;
-                  &lt;JTabbedPaneConstraints tabName=&quot;PlayerList&quot;&gt;
-                    &lt;Property name=&quot;tabTitle&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-                      &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannelView.playerTablePanel.TabConstraints.tabTitle&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
-                    &lt;/Property&gt;
-                  &lt;/JTabbedPaneConstraints&gt;
-                &lt;/Constraint&gt;
-              &lt;/Constraints&gt;
-
-              &lt;Layout&gt;
-                &lt;DimensionLayout dim=&quot;0&quot;&gt;
-                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;EmptySpace min=&quot;0&quot; pref=&quot;833&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;/Group&gt;
-                &lt;/DimensionLayout&gt;
-                &lt;DimensionLayout dim=&quot;1&quot;&gt;
-                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;EmptySpace min=&quot;0&quot; pref=&quot;532&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;/Group&gt;
-                &lt;/DimensionLayout&gt;
-              &lt;/Layout&gt;
-            &lt;/Container&gt;
             &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel3&quot;&gt;
               &lt;Properties&gt;
                 &lt;Property name=&quot;enabled&quot; type=&quot;boolean&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
@@ -481,7 +454,7 @@
                           &lt;/Group&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;jButton2&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;EmptySpace pref=&quot;142&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace pref=&quot;103&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                       &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                           &lt;EmptySpace min=&quot;-2&quot; pref=&quot;10&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -547,7 +520,7 @@
                               &lt;Component id=&quot;HostNATCombo&quot; alignment=&quot;3&quot; min=&quot;-2&quot; pref=&quot;24&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
                               &lt;Component id=&quot;jLabel10&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
                           &lt;/Group&gt;
-                          &lt;EmptySpace pref=&quot;204&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace pref=&quot;176&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;HostButton&quot; min=&quot;-2&quot; pref=&quot;23&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
@@ -799,6 +772,58 @@
                 &lt;/Component&gt;
               &lt;/SubComponents&gt;
             &lt;/Container&gt;
+            &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;jPanel1&quot;&gt;
+              &lt;Constraints&gt;
+                &lt;Constraint layoutClass=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout&quot; value=&quot;org.netbeans.modules.form.compat2.layouts.support.JTabbedPaneSupportLayout$JTabbedPaneConstraintsDescription&quot;&gt;
+                  &lt;JTabbedPaneConstraints tabName=&quot;Player List&quot;&gt;
+                    &lt;Property name=&quot;tabTitle&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                      &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannelView.jPanel1.TabConstraints.tabTitle&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
+                    &lt;/Property&gt;
+                  &lt;/JTabbedPaneConstraints&gt;
+                &lt;/Constraint&gt;
+              &lt;/Constraints&gt;
+
+              &lt;Layout&gt;
+                &lt;DimensionLayout dim=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;playerTablePanel&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                  &lt;/Group&gt;
+                &lt;/DimensionLayout&gt;
+                &lt;DimensionLayout dim=&quot;1&quot;&gt;
+                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;playerTablePanel&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                  &lt;/Group&gt;
+                &lt;/DimensionLayout&gt;
+              &lt;/Layout&gt;
+              &lt;SubComponents&gt;
+                &lt;Container class=&quot;aflobby.UI.CPlayerTablePanel&quot; name=&quot;playerTablePanel&quot;&gt;
+                  &lt;AuxValues&gt;
+                    &lt;AuxValue name=&quot;JavaCodeGenerator_CreateCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;playerTablePanel.LM = LM;&quot;/&gt;
+                  &lt;/AuxValues&gt;
+
+                  &lt;Layout&gt;
+                    &lt;DimensionLayout dim=&quot;0&quot;&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;EmptySpace min=&quot;0&quot; pref=&quot;809&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                    &lt;/DimensionLayout&gt;
+                    &lt;DimensionLayout dim=&quot;1&quot;&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                          &lt;EmptySpace min=&quot;0&quot; pref=&quot;504&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                    &lt;/DimensionLayout&gt;
+                  &lt;/Layout&gt;
+                &lt;/Container&gt;
+              &lt;/SubComponents&gt;
+            &lt;/Container&gt;
           &lt;/SubComponents&gt;
         &lt;/Container&gt;
         &lt;Container class=&quot;javax.swing.JPanel&quot; name=&quot;BottomPanel&quot;&gt;

Modified: trunk/Lobby/AFLobby/src/aflobby/CChannelView.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CChannelView.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CChannelView.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.UI.CUISettings;
 import aflobby.UI.CUserSettings;
 import aflobby.UI.CView;
@@ -219,8 +220,6 @@
         jButton4 = new javax.swing.JButton();
         jButton5 = new javax.swing.JButton();
         jButton8 = new javax.swing.JButton();
-        playerTablePanel = new aflobby.UI.CPlayerTablePanel();
-        playerTablePanel.LM = LM;
         jPanel3 = new javax.swing.JPanel();
         HostBattleName = new javax.swing.JTextField();
         HostMaxPlayers = new javax.swing.JSpinner();
@@ -245,6 +244,9 @@
         jButton1 = new javax.swing.JButton();
         jButton2 = new javax.swing.JButton();
         jLabel2 = new javax.swing.JLabel();
+        jPanel1 = new javax.swing.JPanel();
+        playerTablePanel = new aflobby.UI.CPlayerTablePanel();
+        playerTablePanel.LM = LM;
         BottomPanel = new javax.swing.JPanel();
 
         setFont(CUISettings.GetFont(12,false));
@@ -390,7 +392,7 @@
             .addGroup(jPanel7Layout.createSequentialGroup()
                 .addContainerGap()
                 .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 813, Short.MAX_VALUE)
+                    .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 809, Short.MAX_VALUE)
                     .addGroup(jPanel7Layout.createSequentialGroup()
                         .addComponent(number_of_battles, javax.swing.GroupLayout.PREFERRED_SIZE, 272, javax.swing.GroupLayout.PREFERRED_SIZE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
@@ -402,7 +404,7 @@
                                 .addGap(344, 344, 344))
                             .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                                 .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
-                                    .addComponent(SearchBox, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 650, Short.MAX_VALUE)
+                                    .addComponent(SearchBox, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 645, Short.MAX_VALUE)
                                     .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel7Layout.createSequentialGroup()
                                         .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 188, javax.swing.GroupLayout.PREFERRED_SIZE)
                                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
@@ -410,17 +412,17 @@
                                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                         .addComponent(StatusCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 117, javax.swing.GroupLayout.PREFERRED_SIZE)
                                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                        .addComponent(jButton4, javax.swing.GroupLayout.DEFAULT_SIZE, 177, Short.MAX_VALUE)))
+                                        .addComponent(jButton4, javax.swing.GroupLayout.DEFAULT_SIZE, 169, Short.MAX_VALUE)))
                                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                         .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                             .addComponent(jButton3, javax.swing.GroupLayout.PREFERRED_SIZE, 157, javax.swing.GroupLayout.PREFERRED_SIZE)
                             .addComponent(jButton8, javax.swing.GroupLayout.DEFAULT_SIZE, 157, Short.MAX_VALUE)))
                     .addGroup(jPanel7Layout.createSequentialGroup()
-                        .addComponent(jButton12, javax.swing.GroupLayout.DEFAULT_SIZE, 157, Short.MAX_VALUE)
+                        .addComponent(jButton12, javax.swing.GroupLayout.DEFAULT_SIZE, 155, Short.MAX_VALUE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jButton13, javax.swing.GroupLayout.DEFAULT_SIZE, 157, Short.MAX_VALUE)
+                        .addComponent(jButton13, javax.swing.GroupLayout.DEFAULT_SIZE, 155, Short.MAX_VALUE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jButton14, javax.swing.GroupLayout.DEFAULT_SIZE, 159, Short.MAX_VALUE)
+                        .addComponent(jButton14, javax.swing.GroupLayout.DEFAULT_SIZE, 156, Short.MAX_VALUE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                         .addComponent(jButton15, javax.swing.GroupLayout.PREFERRED_SIZE, 190, javax.swing.GroupLayout.PREFERRED_SIZE)
                         .addGap(132, 132, 132))
@@ -459,7 +461,7 @@
                     .addComponent(jButton14)
                     .addComponent(jButton15))
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 312, Short.MAX_VALUE)
+                .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 298, Short.MAX_VALUE)
                 .addGap(13, 13, 13))
         );
 
@@ -469,19 +471,6 @@
 
         tabpane.addTab(bundle.getString(&quot;CChannelView.jPanel7.TabConstraints.tabTitle_1&quot;), jPanel7); // NOI18N
 
-        javax.swing.GroupLayout playerTablePanelLayout = new javax.swing.GroupLayout(playerTablePanel);
-        playerTablePanel.setLayout(playerTablePanelLayout);
-        playerTablePanelLayout.setHorizontalGroup(
-            playerTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 833, Short.MAX_VALUE)
-        );
-        playerTablePanelLayout.setVerticalGroup(
-            playerTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 532, Short.MAX_VALUE)
-        );
-
-        tabpane.addTab(bundle.getString(&quot;CChannelView.playerTablePanel.TabConstraints.tabTitle&quot;), playerTablePanel); // NOI18N
-
         jPanel3.setEnabled(CUnitSyncJNIBindings.loaded);
         jPanel3.setFont(CUISettings.GetFont(12,false));
         jPanel3.setMinimumSize(new java.awt.Dimension(500, 300));
@@ -610,7 +599,7 @@
                     .addComponent(hostReloadmodlist))
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                 .addComponent(jButton2)
-                .addContainerGap(142, Short.MAX_VALUE))
+                .addContainerGap(103, Short.MAX_VALUE))
             .addGroup(jPanel3Layout.createSequentialGroup()
                 .addGap(10, 10, 10)
                 .addComponent(HostButton, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)
@@ -668,13 +657,43 @@
                 .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                     .addComponent(HostNATCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(jLabel10))
-                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 204, Short.MAX_VALUE)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 176, Short.MAX_VALUE)
                 .addComponent(HostButton, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                 .addContainerGap())
         );
 
         tabpane.addTab(bundle.getString(&quot;CChannelView.jPanel3.TabConstraints.tabTitle&quot;), jPanel3); // NOI18N
 
+        javax.swing.GroupLayout playerTablePanelLayout = new javax.swing.GroupLayout(playerTablePanel);
+        playerTablePanel.setLayout(playerTablePanelLayout);
+        playerTablePanelLayout.setHorizontalGroup(
+            playerTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+            .addGap(0, 809, Short.MAX_VALUE)
+        );
+        playerTablePanelLayout.setVerticalGroup(
+            playerTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+            .addGap(0, 504, Short.MAX_VALUE)
+        );
+
+        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
+        jPanel1.setLayout(jPanel1Layout);
+        jPanel1Layout.setHorizontalGroup(
+            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+            .addGroup(jPanel1Layout.createSequentialGroup()
+                .addContainerGap()
+                .addComponent(playerTablePanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                .addContainerGap())
+        );
+        jPanel1Layout.setVerticalGroup(
+            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+            .addGroup(jPanel1Layout.createSequentialGroup()
+                .addContainerGap()
+                .addComponent(playerTablePanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                .addContainerGap())
+        );
+
+        tabpane.addTab(bundle.getString(&quot;CChannelView.jPanel1.TabConstraints.tabTitle&quot;), jPanel1); // NOI18N
+
         SplitPane.setLeftComponent(tabpane);
 
         javax.swing.GroupLayout BottomPanelLayout = new javax.swing.GroupLayout(BottomPanel);
@@ -1432,6 +1451,7 @@
     private javax.swing.JLabel jLabel7;
     private javax.swing.JLabel jLabel8;
     private javax.swing.JLabel jLabel9;
+    private javax.swing.JPanel jPanel1;
     private javax.swing.JPanel jPanel3;
     private javax.swing.JPanel jPanel7;
     private javax.swing.JScrollPane jScrollPane4;

Modified: trunk/Lobby/AFLobby/src/aflobby/CChatPanel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CChatPanel.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CChatPanel.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.framework.IModule;
 import aflobby.UI.CSmileyManager;
 import aflobby.UI.CUserSettings;

Modified: trunk/Lobby/AFLobby/src/aflobby/CConnection.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CConnection.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CConnection.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -8,6 +8,7 @@
  */
 package aflobby;
 
+import aflobby.framework.CEvent;
 import java.io.BufferedReader;
 import java.io.DataOutputStream;
 import java.io.IOException;

Deleted: trunk/Lobby/AFLobby/src/aflobby/CEvent.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CEvent.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CEvent.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -1,79 +0,0 @@
-/*
- * CEvent.java
- *
- * Created on 27 May 2006, 21:20
- *
- * To change this template, choose Tools | Template Manager
- * and open the template in the editor.
- */
-
-package aflobby;
-
-/**
- *
- * @author AF
- */
-
-public class CEvent {
-    public final static String DISCONNECT = &quot;DISCONNECT&quot;;
-    public final static String FAILEDCONNECTION = &quot;FAILEDCONNECTION&quot;;
-    
-    public final static String CONNECTED = &quot;connected&quot;;
-    public final static String DISCONNECTED = &quot;DISCONNECTED&quot;;
-    public final static String DISCONNECTUNKNOWNHOST = &quot;UNKNOWN_HOST&quot;;
-    
-    public final static String LOGOUT = &quot;LOGOUT&quot;;
-    public final static String LOGGEDOUT = &quot;LOGGEDOUT&quot;;
-    public final static String LOGINPROGRESS = &quot;PROGRESS&quot;;
-    
-    public final static String OPENPRIVATEMSG = &quot;OPENPRIV&quot;;
-    
-    public final static String TOGGLERAWTRAFFIC =&quot;TOGGLETRAFFIC&quot;;
-    
-    public final static String TIMER =&quot;TIMER&quot;;
-    
-    
-    public final static String NEWUSRADDED = &quot;NEWUSRADDED&quot;;
-    
-    
-    
-    public final static String CHANNELCLOSED =&quot;channelclose&quot;;
-    public final static String CHANNELREAD =&quot;channeltabread&quot;;
-    public final static String CHANNELUNREAD =&quot;channeltabunread&quot;;
-    
-    public final static String LOGONSCRIPTCHANGE =&quot;logonscriptchange&quot;;
-    
-    public final static String CONTENTREFRESH = &quot;contentrefresh&quot;;
-    
-    public final static String EXITEDBATTLE = &quot;exitedbattle&quot;;
-    public final static String ADDEDBATTLE = &quot;addedbattle&quot;;
-    
-    public final static String BATTLEINFO_CHANGED =&quot;battleinfo_changed&quot;;
-    
-    
-    //public final static String HIDERAWTRAFFIC =&quot;HIDETRAFFIC&quot;;
-    
-    public String[] data;
-    public String parameters=&quot;&quot;; // Misc.makesentence(data,1);
-    public Object a;
-    /**
-     * Creates a new instance of CEvent
-     *
-     * @param s 
-     */
-    public CEvent (final String s) {
-        data = s.split (&quot; &quot;);
-        
-        if(data.length &gt;1){
-            parameters = s.substring(data[0].length()+1);
-        }
-    }
-    
-    public boolean IsEvent (String s){
-        if(data == null){
-            return false;
-        }
-        return s.equalsIgnoreCase (data[0]);
-    }
-    
-}

Modified: trunk/Lobby/AFLobby/src/aflobby/CGlestBattleModel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CGlestBattleModel.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CGlestBattleModel.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -5,6 +5,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.framework.CBaseModule;
 import aflobby.UI.CUserSettings;
 import java.io.IOException;

Modified: trunk/Lobby/AFLobby/src/aflobby/CGlestBattleWindow.form
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CGlestBattleWindow.form	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CGlestBattleWindow.form	2008-02-05 23:58:03 UTC (rev 5456)
@@ -3,9 +3,7 @@
 &lt;Form version=&quot;1.5&quot; maxVersion=&quot;1.5&quot; type=&quot;org.netbeans.modules.form.forminfo.JFrameFormInfo&quot;&gt;
   &lt;Properties&gt;
     &lt;Property name=&quot;defaultCloseOperation&quot; type=&quot;int&quot; value=&quot;2&quot;/&gt;
-    &lt;Property name=&quot;title&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-      &lt;PlainString value=&quot;Glest Battle&quot;/&gt;
-    &lt;/Property&gt;
+    &lt;Property name=&quot;title&quot; type=&quot;java.lang.String&quot; value=&quot;Glest Battle&quot; noResource=&quot;true&quot;/&gt;
     &lt;Property name=&quot;iconImage&quot; type=&quot;java.awt.Image&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
       &lt;Connection code=&quot;CUISettings.GetWindowIcon()&quot; type=&quot;code&quot;/&gt;
     &lt;/Property&gt;
@@ -31,17 +29,17 @@
     &lt;DimensionLayout dim=&quot;0&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
           &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;jToolBar1&quot; alignment=&quot;0&quot; pref=&quot;499&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;jToolBar1&quot; alignment=&quot;0&quot; pref=&quot;653&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                       &lt;Component id=&quot;chatpane&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;jScrollPane1&quot; min=&quot;-2&quot; pref=&quot;156&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;playerTablePanel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
                   &lt;/Group&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Component id=&quot;jScrollPane2&quot; pref=&quot;436&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jScrollPane2&quot; pref=&quot;585&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Component id=&quot;jButton1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
                   &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
@@ -52,32 +50,34 @@
                       &lt;Component id=&quot;jButton4&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
     &lt;DimensionLayout dim=&quot;1&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
           &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;jScrollPane1&quot; pref=&quot;316&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                  &lt;Component id=&quot;chatpane&quot; alignment=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;chatpane&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                  &lt;Component id=&quot;playerTablePanel&quot; alignment=&quot;1&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Component id=&quot;jToolBar1&quot; min=&quot;-2&quot; pref=&quot;25&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;jScrollPane2&quot; min=&quot;-2&quot; pref=&quot;41&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; pref=&quot;12&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                          &lt;Component id=&quot;jButton2&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jButton4&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;LockToggle&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;/Group&gt;
+                  &lt;/Group&gt;
                   &lt;Component id=&quot;jButton1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
-                  &lt;Component id=&quot;jScrollPane2&quot; min=&quot;-2&quot; pref=&quot;41&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
-              &lt;EmptySpace min=&quot;-2&quot; pref=&quot;12&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;jButton2&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Component id=&quot;jButton4&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Component id=&quot;LockToggle&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;/Group&gt;
-              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
@@ -98,7 +98,7 @@
       &lt;Layout&gt;
         &lt;DimensionLayout dim=&quot;0&quot;&gt;
           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-              &lt;EmptySpace min=&quot;0&quot; pref=&quot;335&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;0&quot; pref=&quot;364&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
         &lt;/DimensionLayout&gt;
         &lt;DimensionLayout dim=&quot;1&quot;&gt;
@@ -108,28 +108,9 @@
         &lt;/DimensionLayout&gt;
       &lt;/Layout&gt;
     &lt;/Container&gt;
-    &lt;Container class=&quot;javax.swing.JScrollPane&quot; name=&quot;jScrollPane1&quot;&gt;
-      &lt;AuxValues&gt;
-        &lt;AuxValue name=&quot;autoScrollPane&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
-      &lt;/AuxValues&gt;
-
-      &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.support.JScrollPaneSupportLayout&quot;/&gt;
-      &lt;SubComponents&gt;
-        &lt;Component class=&quot;javax.swing.JList&quot; name=&quot;playerList&quot;&gt;
-          &lt;Properties&gt;
-            &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ListModel&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
-              &lt;Connection code=&quot;vmodel&quot; type=&quot;code&quot;/&gt;
-            &lt;/Property&gt;
-          &lt;/Properties&gt;
-          &lt;Events&gt;
-            &lt;EventHandler event=&quot;mousePressed&quot; listener=&quot;java.awt.event.MouseListener&quot; parameters=&quot;java.awt.event.MouseEvent&quot; handler=&quot;playerListMousePressed&quot;/&gt;
-          &lt;/Events&gt;
-        &lt;/Component&gt;
-      &lt;/SubComponents&gt;
-    &lt;/Container&gt;
     &lt;Container class=&quot;javax.swing.JToolBar&quot; name=&quot;jToolBar1&quot;&gt;
       &lt;Properties&gt;
-        &lt;Property name=&quot;rollover&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
+        &lt;Property name=&quot;floatable&quot; type=&quot;boolean&quot; value=&quot;false&quot;/&gt;
       &lt;/Properties&gt;
 
       &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.DesignBoxLayout&quot;/&gt;
@@ -176,9 +157,7 @@
     &lt;/Container&gt;
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;jButton1&quot;&gt;
       &lt;Properties&gt;
-        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-          &lt;PlainString value=&quot;Send&quot;/&gt;
-        &lt;/Property&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Send&quot; noResource=&quot;true&quot;/&gt;
       &lt;/Properties&gt;
       &lt;Events&gt;
         &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;jButton1ActionPerformed&quot;/&gt;
@@ -186,9 +165,7 @@
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;jButton2&quot;&gt;
       &lt;Properties&gt;
-        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-          &lt;PlainString value=&quot;Start&quot;/&gt;
-        &lt;/Property&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Start&quot; noResource=&quot;true&quot;/&gt;
         &lt;Property name=&quot;enabled&quot; type=&quot;boolean&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
           &lt;Connection code=&quot;battlemodel.AmIHost()&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
@@ -199,9 +176,7 @@
     &lt;/Component&gt;
     &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;jButton4&quot;&gt;
       &lt;Properties&gt;
-        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-          &lt;PlainString value=&quot;Exit&quot;/&gt;
-        &lt;/Property&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Exit&quot; noResource=&quot;true&quot;/&gt;
       &lt;/Properties&gt;
       &lt;Events&gt;
         &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;jButton4ActionPerformed&quot;/&gt;
@@ -230,13 +205,26 @@
         &lt;Property name=&quot;selected&quot; type=&quot;boolean&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
           &lt;Connection code=&quot;battlemodel.IsLocked()&quot; type=&quot;code&quot;/&gt;
         &lt;/Property&gt;
-        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-          &lt;PlainString value=&quot;Lock&quot;/&gt;
-        &lt;/Property&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Lock&quot; noResource=&quot;true&quot;/&gt;
       &lt;/Properties&gt;
       &lt;Events&gt;
         &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;LockToggleActionPerformed&quot;/&gt;
       &lt;/Events&gt;
     &lt;/Component&gt;
+    &lt;Container class=&quot;aflobby.UI.CPlayerTablePanel&quot; name=&quot;playerTablePanel&quot;&gt;
+
+      &lt;Layout&gt;
+        &lt;DimensionLayout dim=&quot;0&quot;&gt;
+          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+              &lt;EmptySpace min=&quot;0&quot; pref=&quot;280&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+          &lt;/Group&gt;
+        &lt;/DimensionLayout&gt;
+        &lt;DimensionLayout dim=&quot;1&quot;&gt;
+          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+              &lt;EmptySpace min=&quot;0&quot; pref=&quot;316&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+          &lt;/Group&gt;
+        &lt;/DimensionLayout&gt;
+      &lt;/Layout&gt;
+    &lt;/Container&gt;
   &lt;/SubComponents&gt;
 &lt;/Form&gt;

Modified: trunk/Lobby/AFLobby/src/aflobby/CGlestBattleWindow.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CGlestBattleWindow.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CGlestBattleWindow.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.framework.IModule;
 import aflobby.helpers.CStringHelper;
 import aflobby.UI.CUISettings;
@@ -21,7 +22,6 @@
     private LMain LM = null;
     private String lastsent=&quot;&quot;;
     private IBattleModel battlemodel = null;
-    CVectorListModel vmodel = new CVectorListModel();
     
     /**
      * Creates new form CGlestBattleWindow
@@ -76,8 +76,6 @@
     private void initComponents() {
 
         chatpane = new aflobby.CChatPanel();
-        jScrollPane1 = new javax.swing.JScrollPane();
-        playerList = new javax.swing.JList();
         jToolBar1 = new javax.swing.JToolBar();
         MutliLineToggle = new javax.swing.JToggleButton();
         cSmileyCombo1 = new aflobby.UI.CSmileyCombo();
@@ -87,9 +85,10 @@
         jScrollPane2 = new javax.swing.JScrollPane();
         UserMessage = new javax.swing.JTextArea();
         LockToggle = new javax.swing.JToggleButton();
+        playerTablePanel = new aflobby.UI.CPlayerTablePanel();
 
         setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
-        setTitle(&quot;Glest Battle&quot;);
+        setTitle(&quot;Glest Battle&quot;); // NOI18N
         setIconImage(CUISettings.GetWindowIcon());
         addWindowListener(new java.awt.event.WindowAdapter() {
             public void windowClosing(java.awt.event.WindowEvent evt) {
@@ -104,23 +103,15 @@
         chatpane.setLayout(chatpaneLayout);
         chatpaneLayout.setHorizontalGroup(
             chatpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 335, Short.MAX_VALUE)
+            .addGap(0, 364, Short.MAX_VALUE)
         );
         chatpaneLayout.setVerticalGroup(
             chatpaneLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
             .addGap(0, 314, Short.MAX_VALUE)
         );
 
-        playerList.setModel(vmodel);
-        playerList.addMouseListener(new java.awt.event.MouseAdapter() {
-            public void mousePressed(java.awt.event.MouseEvent evt) {
-                playerListMousePressed(evt);
-            }
-        });
-        jScrollPane1.setViewportView(playerList);
+        jToolBar1.setFloatable(false);
 
-        jToolBar1.setRollover(true);
-
         MutliLineToggle.setFont(CUISettings.GetFont(12,false));
         MutliLineToggle.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/images/UI/multi_line.gif&quot;))); // NOI18N
         MutliLineToggle.setSelected(Boolean.parseBoolean(CUserSettings.GetValue(&quot;ui.chat.multiline&quot;, &quot;true&quot;)));
@@ -139,14 +130,14 @@
         jToolBar1.add(cSmileyCombo1);
         cSmileyCombo1.Init(UserMessage);
 
-        jButton1.setText(&quot;Send&quot;);
+        jButton1.setText(&quot;Send&quot;); // NOI18N
         jButton1.addActionListener(new java.awt.event.ActionListener() {
             public void actionPerformed(java.awt.event.ActionEvent evt) {
                 jButton1ActionPerformed(evt);
             }
         });
 
-        jButton2.setText(&quot;Start&quot;);
+        jButton2.setText(&quot;Start&quot;); // NOI18N
         jButton2.setEnabled(battlemodel.AmIHost());
         jButton2.addActionListener(new java.awt.event.ActionListener() {
             public void actionPerformed(java.awt.event.ActionEvent evt) {
@@ -154,7 +145,7 @@
             }
         });
 
-        jButton4.setText(&quot;Exit&quot;);
+        jButton4.setText(&quot;Exit&quot;); // NOI18N
         jButton4.addActionListener(new java.awt.event.ActionListener() {
             public void actionPerformed(java.awt.event.ActionEvent evt) {
                 jButton4ActionPerformed(evt);
@@ -171,13 +162,24 @@
         jScrollPane2.setViewportView(UserMessage);
 
         LockToggle.setSelected(battlemodel.IsLocked());
-        LockToggle.setText(&quot;Lock&quot;);
+        LockToggle.setText(&quot;Lock&quot;); // NOI18N
         LockToggle.addActionListener(new java.awt.event.ActionListener() {
             public void actionPerformed(java.awt.event.ActionEvent evt) {
                 LockToggleActionPerformed(evt);
             }
         });
 
+        javax.swing.GroupLayout playerTablePanelLayout = new javax.swing.GroupLayout(playerTablePanel);
+        playerTablePanel.setLayout(playerTablePanelLayout);
+        playerTablePanelLayout.setHorizontalGroup(
+            playerTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+            .addGap(0, 280, Short.MAX_VALUE)
+        );
+        playerTablePanelLayout.setVerticalGroup(
+            playerTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+            .addGap(0, 316, Short.MAX_VALUE)
+        );
+
         javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
@@ -185,13 +187,13 @@
             .addGroup(layout.createSequentialGroup()
                 .addContainerGap()
                 .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(jToolBar1, javax.swing.GroupLayout.DEFAULT_SIZE, 499, Short.MAX_VALUE)
+                    .addComponent(jToolBar1, javax.swing.GroupLayout.DEFAULT_SIZE, 653, Short.MAX_VALUE)
                     .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                         .addComponent(chatpane, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 156, javax.swing.GroupLayout.PREFERRED_SIZE))
+                        .addComponent(playerTablePanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                     .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
-                        .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 436, Short.MAX_VALUE)
+                        .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 585, Short.MAX_VALUE)
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                         .addComponent(jButton1))
                     .addGroup(layout.createSequentialGroup()
@@ -206,20 +208,21 @@
             layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
             .addGroup(layout.createSequentialGroup()
                 .addContainerGap()
-                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 316, Short.MAX_VALUE)
-                    .addComponent(chatpane, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
+                    .addComponent(chatpane, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                    .addComponent(playerTablePanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                 .addComponent(jToolBar1, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                 .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(jButton1)
-                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE))
-                .addGap(12, 12, 12)
-                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
-                    .addComponent(jButton2)
-                    .addComponent(jButton4)
-                    .addComponent(LockToggle))
+                    .addGroup(layout.createSequentialGroup()
+                        .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
+                        .addGap(12, 12, 12)
+                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
+                            .addComponent(jButton2)
+                            .addComponent(jButton4)
+                            .addComponent(LockToggle)))
+                    .addComponent(jButton1))
                 .addContainerGap())
         );
 
@@ -260,14 +263,6 @@
     private void LockToggleActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_LockToggleActionPerformed
         battlemodel.SetLocked(LockToggle.isSelected());
 }//GEN-LAST:event_LockToggleActionPerformed
-
-    private void playerListMousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_playerListMousePressed
-        if (evt.getClickCount() &gt; 1) {
-            String n = (String) playerList.getSelectedValue ();
-            aflobby.CPlayerDataWindow p = new CPlayerDataWindow(LM, LM.playermanager.GetPlayer(n));
-            p.setVisible(true);
-        }
-    }//GEN-LAST:event_playerListMousePressed
     
     // Variables declaration - do not modify//GEN-BEGIN:variables
     private javax.swing.JToggleButton LockToggle;
@@ -278,10 +273,9 @@
     private javax.swing.JButton jButton1;
     private javax.swing.JButton jButton2;
     private javax.swing.JButton jButton4;
-    private javax.swing.JScrollPane jScrollPane1;
     private javax.swing.JScrollPane jScrollPane2;
     private javax.swing.JToolBar jToolBar1;
-    private javax.swing.JList playerList;
+    private aflobby.UI.CPlayerTablePanel playerTablePanel;
     // End of variables declaration//GEN-END:variables
 
     
@@ -302,7 +296,7 @@
      */
     public void AddPlayer(final String name){
         String flag = &quot; &quot;;
-        CPlayer p = LM.playermanager.GetPlayer(name);
+        final CPlayer p = LM.playermanager.GetPlayer(name);
         
         if(Boolean.valueOf(CUserSettings.GetValue(&quot;ui.channelview.userjoinflags&quot;, &quot;false&quot;))){
             flag=p.GetFlagHTML();
@@ -315,7 +309,7 @@
         
         java.awt.EventQueue.invokeLater(new Runnable() {
             public void run() {
-                vmodel.addElement(name);
+                playerTablePanel.AddPlayer(p);
             }
         });
         
@@ -328,10 +322,10 @@
      */
     public void RemovePlayer(final String name){
         AddMessage(&quot;&lt;font face=\&quot;Arial, Helvetica, sans-serif\&quot; size=\&quot;3\&quot;&gt;&lt;b&gt;&quot; + name + java.util.ResourceBundle.getBundle(&quot;aflobby/languages&quot;).getString(&quot;CBattleWindow.left_the_battle&quot;));
-        
+        final CPlayer p = LM.playermanager.GetPlayer(name);
         java.awt.EventQueue.invokeLater(new Runnable() {
             public void run() {
-                vmodel.removeElement(name);
+                playerTablePanel.RemovePlayer(p);
             }
         });
         
@@ -361,7 +355,7 @@
      * 
      * @param e
      */
-    public void NewEvent(CEvent e) {
+    public void NewEvent(final CEvent e) {
         
         if(e.IsEvent(&quot;SAIDBATTLE&quot;)){
             //
@@ -386,7 +380,7 @@
                 }
             };
             SwingUtilities.invokeLater(doWorkRunnable);
-        } else if (e.data[0].equalsIgnoreCase(&quot;SAIDBATTLEEX&quot;)) {
+        } else if (e.IsEvent(&quot;SAIDBATTLEEX&quot;)) {
             // Add!!!!! SAIDEX main w00t heheh
             String time = CStringHelper.getHTMLTimestamp();
             final String msg = CStringHelper.getChatHTML(e.data[1] + &quot; &quot; + Misc.makeSentence(e.data, 2),true);

Modified: trunk/Lobby/AFLobby/src/aflobby/CLoginPanel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CLoginPanel.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CLoginPanel.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -5,6 +5,7 @@
  */
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.UI.CUserSettings;
 import aflobby.UI.CView;
 import aflobby.protocol.tasserver.CTASServerProtocol;

Modified: trunk/Lobby/AFLobby/src/aflobby/CLoginProgress.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CLoginProgress.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CLoginProgress.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.UI.CUISettings;
 import aflobby.UI.CUserSettings;
 import aflobby.UI.CView;

Modified: trunk/Lobby/AFLobby/src/aflobby/CPlayer.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CPlayer.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CPlayer.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -9,6 +9,8 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
+
 /**
  *
  * @author AF

Modified: trunk/Lobby/AFLobby/src/aflobby/CPlayerDataWindow.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CPlayerDataWindow.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CPlayerDataWindow.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.integration.CSpringMark;
 import aflobby.UI.CUISettings;
 import javax.swing.SwingUtilities;

Modified: trunk/Lobby/AFLobby/src/aflobby/CPlayers.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CPlayers.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CPlayers.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -9,6 +9,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.framework.IModule;
 import java.util.ArrayList;
 import java.util.Iterator;

Modified: trunk/Lobby/AFLobby/src/aflobby/CPrivateMsgWindow.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CPrivateMsgWindow.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CPrivateMsgWindow.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.helpers.CStringHelper;
 import aflobby.UI.CUISettings;
 import java.awt.Color;

Modified: trunk/Lobby/AFLobby/src/aflobby/CSettings.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CSettings.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CSettings.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.UI.CUISettings;
 import aflobby.UI.CUserSettings;
 import aflobby.UI.CView;

Modified: trunk/Lobby/AFLobby/src/aflobby/CStartBox.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CStartBox.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CStartBox.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.UI.DefaultResizableBorder;
 import aflobby.UI.ResizableBorder;
 import java.awt.Cursor;
 import java.awt.Point;

Modified: trunk/Lobby/AFLobby/src/aflobby/CSync.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CSync.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CSync.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -9,6 +9,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import java.io.File;
 import java.util.ArrayList;
 import java.util.HashMap;

Modified: trunk/Lobby/AFLobby/src/aflobby/CToast.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CToast.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CToast.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.UI.CUISettings;
 import aflobby.framework.IModule;
 import java.awt.Dimension;

Modified: trunk/Lobby/AFLobby/src/aflobby/CUserCommandHandler.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CUserCommandHandler.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/CUserCommandHandler.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -9,6 +9,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.framework.IModule;
 import java.util.ArrayList;
 import java.util.Iterator;

Deleted: trunk/Lobby/AFLobby/src/aflobby/DefaultResizableBorder.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/DefaultResizableBorder.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/DefaultResizableBorder.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -1,116 +0,0 @@
-/*
- * DefaultResizableBorder.java
- *
- * Created on 08-Aug-2007, 13:22:10
- *
- * To change this template, choose Tools | Templates
- * and open the template in the editor.
- */
-
-package aflobby;
-
-import aflobby.UI.ResizableBorder;
-import java.awt.Color;
-import java.awt.Component;
-import java.awt.Cursor;
-import java.awt.Graphics;
-import java.awt.Insets;
-import java.awt.Rectangle;
-import java.awt.event.MouseEvent;
-import javax.swing.SwingConstants;
-
-/**
- * MySwing: Advanced Swing Utilites
- * Copyright (C) 2005  Santhosh Kumar T
- * &lt;p/&gt;
- * This library is free software; you can redistribute it and/or
- * modify it under the terms of the GNU Lesser General Public
- * License as published by the Free Software Foundation; either
- * version 2.1 of the License, or (at your option) any later version.
- * &lt;p/&gt;
- * This library is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * Lesser General Public License for more details.
- *
- * @author Santhosh Kumar T
- */
-public class DefaultResizableBorder implements ResizableBorder {
-
-    private int dist = 6;
-
-    int[] locations = {SwingConstants.NORTH, SwingConstants.SOUTH, SwingConstants.WEST, SwingConstants.EAST, SwingConstants.NORTH_WEST, SwingConstants.NORTH_EAST, SwingConstants.SOUTH_WEST, SwingConstants.SOUTH_EAST, 0, -1};
-
-    int[] cursors = {Cursor.N_RESIZE_CURSOR, Cursor.S_RESIZE_CURSOR, Cursor.W_RESIZE_CURSOR, Cursor.E_RESIZE_CURSOR, Cursor.NW_RESIZE_CURSOR, Cursor.NE_RESIZE_CURSOR, Cursor.SW_RESIZE_CURSOR, Cursor.SE_RESIZE_CURSOR, Cursor.MOVE_CURSOR, Cursor.DEFAULT_CURSOR};
-
-    public DefaultResizableBorder(int dist) {
-        this.dist = dist;
-    }
-
-    public Insets getBorderInsets(Component component) {
-        return new Insets(dist, dist, dist, dist);
-    }
-
-    public boolean isBorderOpaque() {
-        return false;
-    }
-
-    public void paintBorder(Component component, Graphics g, int x, int y, int w, int h) {
-        g.setColor(Color.black);
-        g.drawRect(x + dist / 2, y + dist / 2, w - dist, h - dist);
-
-        for (int i = 0; i &lt; locations.length - 2; i++) {
-            Rectangle rect = getRectangle(x, y, w, h, locations[i]);
-            g.setColor(Color.WHITE);
-            g.fillRect(rect.x, rect.y, rect.width - 1, rect.height - 1);
-            g.setColor(Color.BLACK);
-            g.drawRect(rect.x, rect.y, rect.width - 1, rect.height - 1);
-        }
-    }
-
-    private Rectangle getRectangle(int x, int y, int w, int h, int location) {
-        switch (location) {
-            case SwingConstants.NORTH:
-                return new Rectangle(x + w / 2 - dist / 2, y, dist, dist);
-            case SwingConstants.SOUTH:
-                return new Rectangle(x + w / 2 - dist / 2, y + h - dist, dist, dist);
-            case SwingConstants.WEST:
-                return new Rectangle(x, y + h / 2 - dist / 2, dist, dist);
-            case SwingConstants.EAST:
-                return new Rectangle(x + w - dist, y + h / 2 - dist / 2, dist, dist);
-            case SwingConstants.NORTH_WEST:
-                return new Rectangle(x, y, dist, dist);
-            case SwingConstants.NORTH_EAST:
-                return new Rectangle(x + w - dist, y, dist, dist);
-            case SwingConstants.SOUTH_WEST:
-                return new Rectangle(x, y + h - dist, dist, dist);
-            case SwingConstants.SOUTH_EAST:
-                return new Rectangle(x + w - dist, y + h - dist, dist, dist);
-        }
-        return null;
-    }
-
-    public int getResizeCursor(MouseEvent me) {
-        Component comp = me.getComponent();
-        int w = comp.getWidth();
-        int h = comp.getHeight();
-
-        Rectangle bounds = new Rectangle(0, 0, w, h);
-
-        if (!bounds.contains(me.getPoint())) {
-            return Cursor.DEFAULT_CURSOR;
-        }
-        Rectangle actualBounds = new Rectangle(dist, dist, w - 2 * dist, h - 2 * dist);
-        if (actualBounds.contains(me.getPoint())) {
-            return Cursor.DEFAULT_CURSOR;
-        }
-        for (int i = 0; i &lt; locations.length - 2; i++) {
-            Rectangle rect = getRectangle(0, 0, w, h, locations[i]);
-            if (rect.contains(me.getPoint())) {
-                return cursors[i];
-            }
-        }
-
-        return Cursor.MOVE_CURSOR;
-    }
-}

Modified: trunk/Lobby/AFLobby/src/aflobby/IView.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/IView.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/IView.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -19,9 +19,9 @@
     public LMain LM;
     public void Initialize(){}
 
-    public void NewEvent(aflobby.CEvent e){}
+    public void NewEvent(aflobby.framework.CEvent e){}
 
-    public void NewGUIEvent(aflobby.CEvent e){}
+    public void NewGUIEvent(aflobby.framework.CEvent e){}
 
     public void Update(){}
 

Modified: trunk/Lobby/AFLobby/src/aflobby/JRegView.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/JRegView.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/JRegView.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.UI.CUISettings;
 import aflobby.UI.CView;
 import javax.swing.SwingUtilities;

Modified: trunk/Lobby/AFLobby/src/aflobby/LMain.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/LMain.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/LMain.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.framework.CEvent;
 import aflobby.UI.CUISettings;
 import aflobby.UI.CUserSettings;
 import aflobby.UI.CView;

Modified: trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.form
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.form	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.form	2008-02-05 23:58:03 UTC (rev 5456)
@@ -16,30 +16,28 @@
     &lt;DimensionLayout dim=&quot;0&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
           &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Component id=&quot;jScrollPane3&quot; alignment=&quot;0&quot; pref=&quot;457&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Component id=&quot;jLabel4&quot; min=&quot;-2&quot; pref=&quot;61&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;EmptySpace type=&quot;unrelated&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Component id=&quot;UserSearch&quot; pref=&quot;386&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;/Group&gt;
-              &lt;/Group&gt;
-              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;jLabel4&quot; min=&quot;-2&quot; pref=&quot;61&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; pref=&quot;36&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;UserSearch&quot; pref=&quot;386&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
+          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;countLabel&quot; min=&quot;-2&quot; pref=&quot;164&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+          &lt;/Group&gt;
+          &lt;Component id=&quot;jScrollPane3&quot; alignment=&quot;1&quot; pref=&quot;483&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
     &lt;DimensionLayout dim=&quot;1&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
           &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Component id=&quot;UserSearch&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;jLabel4&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Component id=&quot;UserSearch&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
+              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;countLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;jScrollPane3&quot; pref=&quot;252&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;jScrollPane3&quot; min=&quot;-2&quot; pref=&quot;258&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
@@ -87,5 +85,11 @@
         &lt;/Component&gt;
       &lt;/SubComponents&gt;
     &lt;/Container&gt;
+    &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;countLabel&quot;&gt;
+      &lt;Properties&gt;
+        &lt;Property name=&quot;horizontalAlignment&quot; type=&quot;int&quot; value=&quot;4&quot;/&gt;
+        &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;players listed&quot;/&gt;
+      &lt;/Properties&gt;
+    &lt;/Component&gt;
   &lt;/SubComponents&gt;
 &lt;/Form&gt;

Modified: trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -61,6 +61,7 @@
                     for(CPlayer p : players){
                         usertablemodel.AddPlayer(p);
                     }
+                    UpdateCountLabel();
 
                     playertablesorter = new TableRowSorter&lt;CPlayerTableModel&gt;(usertablemodel);
                     playertablesorter.setComparator(3, new AlphanumComparator());
@@ -99,6 +100,7 @@
         players.add(p);
         if(usertablemodel != null){
             usertablemodel.AddPlayer(p);
+            UpdateCountLabel();
         }
     }
     
@@ -110,6 +112,7 @@
         players.add(p);
         if(usertablemodel != null){
             usertablemodel.RemovePlayer(p);
+            UpdateCountLabel();
         }
     }
     
@@ -119,9 +122,11 @@
     public void ClearPlayers(){
         if(usertablemodel != null) {
             usertablemodel.clear();
+            UpdateCountLabel();
         }
         players.clear();
         
+        
     }
 
     
@@ -129,6 +134,15 @@
         return players.size();
     }
     
+    public void UpdateCountLabel(){
+        Runnable doWorkRunnable2 = new Runnable() {
+
+                public void run() {
+                    countLabel.setText(PlayerCount()+&quot; players listed&quot;);
+                }
+        };
+        SwingUtilities.invokeLater(doWorkRunnable2);
+    }
     /** This method is called from within the constructor to
      * initialize the form.
      * WARNING: Do NOT modify this code. The content of this method is
@@ -141,6 +155,7 @@
         jLabel4 = new javax.swing.JLabel();
         jScrollPane3 = new javax.swing.JScrollPane();
         UserTable = new javax.swing.JTable();
+        countLabel = new javax.swing.JLabel();
 
         UserSearch.addKeyListener(new java.awt.event.KeyAdapter() {
             public void keyTyped(java.awt.event.KeyEvent evt) {
@@ -162,30 +177,32 @@
         });
         jScrollPane3.setViewportView(UserTable);
 
+        countLabel.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
+        countLabel.setText(&quot;players listed&quot;);
+
         javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
         this.setLayout(layout);
         layout.setHorizontalGroup(
             layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
             .addGroup(layout.createSequentialGroup()
+                .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 61, javax.swing.GroupLayout.PREFERRED_SIZE)
+                .addGap(36, 36, 36)
+                .addComponent(UserSearch, javax.swing.GroupLayout.DEFAULT_SIZE, 386, Short.MAX_VALUE))
+            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                 .addContainerGap()
-                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 457, Short.MAX_VALUE)
-                    .addGroup(layout.createSequentialGroup()
-                        .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 61, javax.swing.GroupLayout.PREFERRED_SIZE)
-                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
-                        .addComponent(UserSearch, javax.swing.GroupLayout.DEFAULT_SIZE, 386, Short.MAX_VALUE)))
-                .addContainerGap())
+                .addComponent(countLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 164, javax.swing.GroupLayout.PREFERRED_SIZE))
+            .addComponent(jScrollPane3, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 483, Short.MAX_VALUE)
         );
         layout.setVerticalGroup(
             layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
             .addGroup(layout.createSequentialGroup()
-                .addContainerGap()
                 .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
-                    .addComponent(jLabel4)
-                    .addComponent(UserSearch, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
+                    .addComponent(UserSearch, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
+                    .addComponent(jLabel4))
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                .addComponent(countLabel)
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 252, Short.MAX_VALUE)
-                .addContainerGap())
+                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 258, javax.swing.GroupLayout.PREFERRED_SIZE))
         );
     }// &lt;/editor-fold&gt;//GEN-END:initComponents
 
@@ -221,6 +238,7 @@
     // Variables declaration - do not modify//GEN-BEGIN:variables
     private javax.swing.JTextField UserSearch;
     private javax.swing.JTable UserTable;
+    private javax.swing.JLabel countLabel;
     private javax.swing.JLabel jLabel4;
     private javax.swing.JScrollPane jScrollPane3;
     // End of variables declaration//GEN-END:variables

Modified: trunk/Lobby/AFLobby/src/aflobby/UI/CView.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/CView.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/CView.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -9,7 +9,7 @@
 
 package aflobby.UI;
 
-import aflobby.CEvent;
+import aflobby.framework.CEvent;
 import aflobby.LMain;
 import aflobby.framework.IModule;
 import javax.swing.SwingUtilities;

Added: trunk/Lobby/AFLobby/src/aflobby/UI/DefaultResizableBorder.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/DefaultResizableBorder.java	                        (rev 0)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/DefaultResizableBorder.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -0,0 +1,116 @@
+/*
+ * DefaultResizableBorder.java
+ *
+ * Created on 08-Aug-2007, 13:22:10
+ *
+ * To change this template, choose Tools | Templates
+ * and open the template in the editor.
+ */
+
+package aflobby.UI;
+
+import aflobby.UI.ResizableBorder;
+import java.awt.Color;
+import java.awt.Component;
+import java.awt.Cursor;
+import java.awt.Graphics;
+import java.awt.Insets;
+import java.awt.Rectangle;
+import java.awt.event.MouseEvent;
+import javax.swing.SwingConstants;
+
+/**
+ * MySwing: Advanced Swing Utilites
+ * Copyright (C) 2005  Santhosh Kumar T
+ * &lt;p/&gt;
+ * This library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Lesser General Public
+ * License as published by the Free Software Foundation; either
+ * version 2.1 of the License, or (at your option) any later version.
+ * &lt;p/&gt;
+ * This library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Lesser General Public License for more details.
+ *
+ * @author Santhosh Kumar T
+ */
+public class DefaultResizableBorder implements ResizableBorder {
+
+    private int dist = 6;
+
+    int[] locations = {SwingConstants.NORTH, SwingConstants.SOUTH, SwingConstants.WEST, SwingConstants.EAST, SwingConstants.NORTH_WEST, SwingConstants.NORTH_EAST, SwingConstants.SOUTH_WEST, SwingConstants.SOUTH_EAST, 0, -1};
+
+    int[] cursors = {Cursor.N_RESIZE_CURSOR, Cursor.S_RESIZE_CURSOR, Cursor.W_RESIZE_CURSOR, Cursor.E_RESIZE_CURSOR, Cursor.NW_RESIZE_CURSOR, Cursor.NE_RESIZE_CURSOR, Cursor.SW_RESIZE_CURSOR, Cursor.SE_RESIZE_CURSOR, Cursor.MOVE_CURSOR, Cursor.DEFAULT_CURSOR};
+
+    public DefaultResizableBorder(int dist) {
+        this.dist = dist;
+    }
+
+    public Insets getBorderInsets(Component component) {
+        return new Insets(dist, dist, dist, dist);
+    }
+
+    public boolean isBorderOpaque() {
+        return false;
+    }
+
+    public void paintBorder(Component component, Graphics g, int x, int y, int w, int h) {
+        g.setColor(Color.black);
+        g.drawRect(x + dist / 2, y + dist / 2, w - dist, h - dist);
+
+        for (int i = 0; i &lt; locations.length - 2; i++) {
+            Rectangle rect = getRectangle(x, y, w, h, locations[i]);
+            g.setColor(Color.WHITE);
+            g.fillRect(rect.x, rect.y, rect.width - 1, rect.height - 1);
+            g.setColor(Color.BLACK);
+            g.drawRect(rect.x, rect.y, rect.width - 1, rect.height - 1);
+        }
+    }
+
+    private Rectangle getRectangle(int x, int y, int w, int h, int location) {
+        switch (location) {
+            case SwingConstants.NORTH:
+                return new Rectangle(x + w / 2 - dist / 2, y, dist, dist);
+            case SwingConstants.SOUTH:
+                return new Rectangle(x + w / 2 - dist / 2, y + h - dist, dist, dist);
+            case SwingConstants.WEST:
+                return new Rectangle(x, y + h / 2 - dist / 2, dist, dist);
+            case SwingConstants.EAST:
+                return new Rectangle(x + w - dist, y + h / 2 - dist / 2, dist, dist);
+            case SwingConstants.NORTH_WEST:
+                return new Rectangle(x, y, dist, dist);
+            case SwingConstants.NORTH_EAST:
+                return new Rectangle(x + w - dist, y, dist, dist);
+            case SwingConstants.SOUTH_WEST:
+                return new Rectangle(x, y + h - dist, dist, dist);
+            case SwingConstants.SOUTH_EAST:
+                return new Rectangle(x + w - dist, y + h - dist, dist, dist);
+        }
+        return null;
+    }
+
+    public int getResizeCursor(MouseEvent me) {
+        Component comp = me.getComponent();
+        int w = comp.getWidth();
+        int h = comp.getHeight();
+
+        Rectangle bounds = new Rectangle(0, 0, w, h);
+
+        if (!bounds.contains(me.getPoint())) {
+            return Cursor.DEFAULT_CURSOR;
+        }
+        Rectangle actualBounds = new Rectangle(dist, dist, w - 2 * dist, h - 2 * dist);
+        if (actualBounds.contains(me.getPoint())) {
+            return Cursor.DEFAULT_CURSOR;
+        }
+        for (int i = 0; i &lt; locations.length - 2; i++) {
+            Rectangle rect = getRectangle(0, 0, w, h, locations[i]);
+            if (rect.contains(me.getPoint())) {
+                return cursors[i];
+            }
+        }
+
+        return Cursor.MOVE_CURSOR;
+    }
+}

Modified: trunk/Lobby/AFLobby/src/aflobby/UI/battle/CBooleanOptionsPanel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/battle/CBooleanOptionsPanel.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/battle/CBooleanOptionsPanel.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,7 +6,7 @@
 
 package aflobby.UI.battle;
 
-import aflobby.CEvent;
+import aflobby.framework.CEvent;
 import aflobby.IBattleModel;
 import aflobby.LMain;
 import aflobby.framework.IModule;

Modified: trunk/Lobby/AFLobby/src/aflobby/UI/battle/CListOptionsPanel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/battle/CListOptionsPanel.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/battle/CListOptionsPanel.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -5,7 +5,7 @@
  */
 package aflobby.UI.battle;
 
-import aflobby.CEvent;
+import aflobby.framework.CEvent;
 import aflobby.IBattleModel;
 import aflobby.LMain;
 import aflobby.framework.IModule;

Modified: trunk/Lobby/AFLobby/src/aflobby/UI/battle/CSliderOptionsPanel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/battle/CSliderOptionsPanel.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/battle/CSliderOptionsPanel.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,7 +6,7 @@
 
 package aflobby.UI.battle;
 
-import aflobby.CEvent;
+import aflobby.framework.CEvent;
 import aflobby.IBattleModel;
 import aflobby.LMain;
 import aflobby.framework.IModule;

Modified: trunk/Lobby/AFLobby/src/aflobby/UI/battle/CStringOptionsPanel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/battle/CStringOptionsPanel.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/battle/CStringOptionsPanel.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,7 +6,7 @@
 
 package aflobby.UI.battle;
 
-import aflobby.CEvent;
+import aflobby.framework.CEvent;
 import aflobby.IBattleModel;
 import aflobby.LMain;
 import aflobby.UI.DocumentSizeFilter;

Modified: trunk/Lobby/AFLobby/src/aflobby/framework/CBaseModule.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/framework/CBaseModule.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/framework/CBaseModule.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -9,7 +9,7 @@
 
 package aflobby.framework;
 
-import aflobby.CEvent;
+import aflobby.framework.CEvent;
 import aflobby.LMain;
 
 

Modified: trunk/Lobby/AFLobby/src/aflobby/framework/CCore.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/framework/CCore.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/framework/CCore.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -4,7 +4,7 @@
  */
 package aflobby.framework;
 
-import aflobby.CEvent;
+import aflobby.framework.CEvent;
 import aflobby.LMain;
 import java.util.ArrayList;
 import javax.swing.event.EventListenerList;

Added: trunk/Lobby/AFLobby/src/aflobby/framework/CEvent.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/framework/CEvent.java	                        (rev 0)
+++ trunk/Lobby/AFLobby/src/aflobby/framework/CEvent.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -0,0 +1,79 @@
+/*
+ * CEvent.java
+ *
+ * Created on 27 May 2006, 21:20
+ *
+ * To change this template, choose Tools | Template Manager
+ * and open the template in the editor.
+ */
+
+package aflobby.framework;
+
+/**
+ *
+ * @author AF
+ */
+
+public class CEvent {
+    public final static String DISCONNECT = &quot;DISCONNECT&quot;;
+    public final static String FAILEDCONNECTION = &quot;FAILEDCONNECTION&quot;;
+    
+    public final static String CONNECTED = &quot;connected&quot;;
+    public final static String DISCONNECTED = &quot;DISCONNECTED&quot;;
+    public final static String DISCONNECTUNKNOWNHOST = &quot;UNKNOWN_HOST&quot;;
+    
+    public final static String LOGOUT = &quot;LOGOUT&quot;;
+    public final static String LOGGEDOUT = &quot;LOGGEDOUT&quot;;
+    public final static String LOGINPROGRESS = &quot;PROGRESS&quot;;
+    
+    public final static String OPENPRIVATEMSG = &quot;OPENPRIV&quot;;
+    
+    public final static String TOGGLERAWTRAFFIC =&quot;TOGGLETRAFFIC&quot;;
+    
+    public final static String TIMER =&quot;TIMER&quot;;
+    
+    
+    public final static String NEWUSRADDED = &quot;NEWUSRADDED&quot;;
+    
+    
+    
+    public final static String CHANNELCLOSED =&quot;channelclose&quot;;
+    public final static String CHANNELREAD =&quot;channeltabread&quot;;
+    public final static String CHANNELUNREAD =&quot;channeltabunread&quot;;
+    
+    public final static String LOGONSCRIPTCHANGE =&quot;logonscriptchange&quot;;
+    
+    public final static String CONTENTREFRESH = &quot;contentrefresh&quot;;
+    
+    public final static String EXITEDBATTLE = &quot;exitedbattle&quot;;
+    public final static String ADDEDBATTLE = &quot;addedbattle&quot;;
+    
+    public final static String BATTLEINFO_CHANGED =&quot;battleinfo_changed&quot;;
+    
+    
+    //public final static String HIDERAWTRAFFIC =&quot;HIDETRAFFIC&quot;;
+    
+    public String[] data;
+    public String parameters=&quot;&quot;; // Misc.makesentence(data,1);
+    public Object a;
+    /**
+     * Creates a new instance of CEvent
+     *
+     * @param s 
+     */
+    public CEvent (final String s) {
+        data = s.split (&quot; &quot;);
+        
+        if(data.length &gt;1){
+            parameters = s.substring(data[0].length()+1);
+        }
+    }
+    
+    public boolean IsEvent (String s){
+        if(data == null){
+            return false;
+        }
+        return s.equalsIgnoreCase (data[0]);
+    }
+    
+}

Modified: trunk/Lobby/AFLobby/src/aflobby/framework/IModule.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/framework/IModule.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/framework/IModule.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -9,7 +9,7 @@
 
 package aflobby.framework;
 
-import aflobby.CEvent;
+import aflobby.framework.CEvent;
 import aflobby.LMain;
 import java.util.EventListener;
 

Modified: trunk/Lobby/AFLobby/src/aflobby/languages.properties
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/languages.properties	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/languages.properties	2008-02-05 23:58:03 UTC (rev 5456)
@@ -1,4 +1,4 @@
-\u00EF\u00BB\u00BF# Sample ResourceBundle properties file
+\u00ef\u00bb\u00bf# Sample ResourceBundle properties file
 
 AePlayWave.Wave_file_not_found\:_=Wave file not found\: 
 
@@ -326,7 +326,6 @@
 CChannelView.jButton3.text_1=Search UF
 CChannelView.SearchBox.text=search for a mod or map to download
 CChannelView.jButton4.text=Get Help
-CChannel.playerCountLabel.text=0 Players in Channel
 CChannel.channelPrivateLabel.text=private channel
 CChannelView.jButton5.text=Toggle Raw Traffic Window
 CChannelView.jButton8.text_1=Report Bug
@@ -346,3 +345,4 @@
 CChannel.MutliLineToggle.text=Multiline message emulation
 CChannelView.playerTablePanel.TabConstraints.tabTitle=PlayerList
 CChannelView.jLabel4.text=Search
+CChannelView.jPanel1.TabConstraints.tabTitle=Player List

Modified: trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/CTASServerProtocol.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/CTASServerProtocol.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/CTASServerProtocol.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -13,7 +13,7 @@
 import aflobby.CBattleModel;
 import aflobby.CChannelPassword;
 import aflobby.CConnection;
-import aflobby.CEvent;
+import aflobby.framework.CEvent;
 import aflobby.CGlestBattleModel;
 import aflobby.CUnitSyncJNIBindings;
 import aflobby.CUpdateChecker;

Modified: trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/ui/CAgree.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/ui/CAgree.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/ui/CAgree.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -6,6 +6,7 @@
 
 package aflobby.protocol.tasserver.ui;
 
+import aflobby.framework.CEvent;
 import aflobby.*;
 import javax.swing.SwingUtilities;
 

Modified: trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/ui/CChannelList.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/ui/CChannelList.java	2008-02-05 20:25:35 UTC (rev 5455)
+++ trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/ui/CChannelList.java	2008-02-05 23:58:03 UTC (rev 5456)
@@ -8,7 +8,7 @@
 
 import aflobby.CChannelInfo;
 import aflobby.CChannelTableModel;
-import aflobby.CEvent;
+import aflobby.framework.CEvent;
 import aflobby.LMain;
 import aflobby.Misc;
 import aflobby.UI.CView;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000262.html">[Taspring-linux-commit] r5455 - in trunk/AI/Global/NTai/AI/NTai:	Core Helpers/Terrain
</A></li>
	<LI>Next message: <A HREF="000264.html">[Taspring-linux-commit] r5457 - trunk/rts/build/vstudio8
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#263">[ date ]</a>
              <a href="thread.html#263">[ thread ]</a>
              <a href="subject.html#263">[ subject ]</a>
              <a href="author.html#263">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
