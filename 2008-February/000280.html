<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r5473 - in trunk/Lobby/AFLobby/src/aflobby:	. UI UI/borders helpers protocol/tasserver/ui
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r5473%20-%20in%20trunk/Lobby/AFLobby/src/aflobby%3A%0A%09.%20UI%20UI/borders%20helpers%20protocol/tasserver/ui&In-Reply-To=%3CE1JNrXN-0003fr-PP%40proserver.fnord.lan%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000279.html">
   <LINK REL="Next"  HREF="000281.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r5473 - in trunk/Lobby/AFLobby/src/aflobby:	. UI UI/borders helpers protocol/tasserver/ui</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r5473%20-%20in%20trunk/Lobby/AFLobby/src/aflobby%3A%0A%09.%20UI%20UI/borders%20helpers%20protocol/tasserver/ui&In-Reply-To=%3CE1JNrXN-0003fr-PP%40proserver.fnord.lan%3E"
       TITLE="[Taspring-linux-commit] r5473 - in trunk/Lobby/AFLobby/src/aflobby:	. UI UI/borders helpers protocol/tasserver/ui">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Sat Feb  9 16:22:41 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000279.html">[Taspring-linux-commit] r5472 - trunk/Lobby/TASClient
</A></li>
        <LI>Next message: <A HREF="000281.html">[Taspring-linux-commit] r5474 - in trunk/tools/springie/Springie: .	autohost utils
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#280">[ date ]</a>
              <a href="thread.html#280">[ thread ]</a>
              <a href="subject.html#280">[ subject ]</a>
              <a href="author.html#280">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tnowell
Date: 2008-02-09 16:22:41 +0100 (Sat, 09 Feb 2008)
New Revision: 5473

Added:
   trunk/Lobby/AFLobby/src/aflobby/UI/CChannelTableModel.java
   trunk/Lobby/AFLobby/src/aflobby/UI/CChatLogFormatter.java
   trunk/Lobby/AFLobby/src/aflobby/UI/CChatPanel.form
   trunk/Lobby/AFLobby/src/aflobby/UI/CChatPanel.java
   trunk/Lobby/AFLobby/src/aflobby/UI/borders/
   trunk/Lobby/AFLobby/src/aflobby/UI/borders/DefaultResizableBorder.java
   trunk/Lobby/AFLobby/src/aflobby/UI/borders/ResizableBorder.java
   trunk/Lobby/AFLobby/src/aflobby/helpers/CFSHelper.java
   trunk/Lobby/AFLobby/src/aflobby/helpers/CHolePuncher.java
Removed:
   trunk/Lobby/AFLobby/src/aflobby/CChannelTableModel.java
   trunk/Lobby/AFLobby/src/aflobby/CChatLogFormatter.java
   trunk/Lobby/AFLobby/src/aflobby/CChatPanel.form
   trunk/Lobby/AFLobby/src/aflobby/CChatPanel.java
   trunk/Lobby/AFLobby/src/aflobby/CFSHelper.java
   trunk/Lobby/AFLobby/src/aflobby/CHolePuncher.java
   trunk/Lobby/AFLobby/src/aflobby/UI/DefaultResizableBorder.java
   trunk/Lobby/AFLobby/src/aflobby/UI/ResizableBorder.java
Modified:
   trunk/Lobby/AFLobby/src/aflobby/CBattleList.java
   trunk/Lobby/AFLobby/src/aflobby/CBattleWindow.java
   trunk/Lobby/AFLobby/src/aflobby/CChannel.java
   trunk/Lobby/AFLobby/src/aflobby/CChannelView.form
   trunk/Lobby/AFLobby/src/aflobby/CChannelView.java
   trunk/Lobby/AFLobby/src/aflobby/CConnection.java
   trunk/Lobby/AFLobby/src/aflobby/CGlestBattleWindow.java
   trunk/Lobby/AFLobby/src/aflobby/CMeltraxLadder.java
   trunk/Lobby/AFLobby/src/aflobby/CPrivateMsgWindow.form
   trunk/Lobby/AFLobby/src/aflobby/CPrivateMsgWindow.java
   trunk/Lobby/AFLobby/src/aflobby/CSettings.form
   trunk/Lobby/AFLobby/src/aflobby/CSettings.java
   trunk/Lobby/AFLobby/src/aflobby/CStartBox.java
   trunk/Lobby/AFLobby/src/aflobby/CStartRectangleDrawer.java
   trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.form
   trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.java
   trunk/Lobby/AFLobby/src/aflobby/UI/CUserSettings.java
   trunk/Lobby/AFLobby/src/aflobby/languages.properties
   trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/ui/CChannelList.java
Log:
- moved more classes to different packages
- layout tweaks to the private message window
- re-arranged the first tab of the channelview page
- fixed a layout bug in playertable panels involving resizing
- some tweaks to host tab
- changed the highlight colour from yellow to light blue

Modified: trunk/Lobby/AFLobby/src/aflobby/CBattleList.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CBattleList.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CBattleList.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -5,6 +5,7 @@
  */
 package aflobby;
 
+import aflobby.helpers.CHolePuncher;
 import aflobby.framework.CEvent;
 import aflobby.UI.CUISettings;
 import aflobby.UI.CView;

Modified: trunk/Lobby/AFLobby/src/aflobby/CBattleWindow.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CBattleWindow.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CBattleWindow.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.helpers.CHolePuncher;
 import aflobby.framework.CEvent;
 import aflobby.IGUIBattleModel;
 import aflobby.protocol.tasserver.RectHandler;
@@ -1512,7 +1513,7 @@
         cSmileyCombo1 = new aflobby.UI.CSmileyCombo();
         sayButton = new javax.swing.JButton();
         jSplitPane1 = new javax.swing.JSplitPane();
-        Chat = new aflobby.CChatPanel();
+        Chat = new aflobby.UI.CChatPanel();
         jPanel1 = new javax.swing.JPanel();
         jScrollPane2 = new javax.swing.JScrollPane();
         playerBattleTable = new javax.swing.JTable();
@@ -3173,7 +3174,7 @@
     private javax.swing.JButton AddAIButton;
     private javax.swing.JComboBox AddAIRaceCombo;
     private javax.swing.JButton ChMapButton;
-    private aflobby.CChatPanel Chat;
+    private aflobby.UI.CChatPanel Chat;
     private javax.swing.JButton ColourButton;
     private javax.swing.JPanel ColourPanel;
     private javax.swing.JList DisabledUnitsList;

Modified: trunk/Lobby/AFLobby/src/aflobby/CChannel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CChannel.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CChannel.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -6,6 +6,7 @@
 
 package aflobby;
 
+import aflobby.UI.CChatLogFormatter;
 import aflobby.framework.CEvent;
 import aflobby.helpers.CStringHelper;
 import aflobby.UI.CUISettings;
@@ -73,7 +74,7 @@
     
     /** Creates new form CChannel */
     public CChannel() {
-        chatpanel = new aflobby.CChatPanel();
+        chatpanel = new aflobby.UI.CChatPanel();
         if (ranks == null) {
             
             // load rank images
@@ -483,7 +484,7 @@
                 Date topicset = new Date(Long.parseLong(e.data[3]));
                 String topic = Misc.toHTML(Misc.makeSentence(e.data, 4));
                 topic = topic.replaceAll(&quot;\\\\n&quot;, &quot;&lt;br&gt;&quot;);
-                topic = aflobby.CChatPanel.ParseChatText(topic);
+                topic = aflobby.UI.CChatPanel.ParseChatText(topic);
                 topic = &quot;&lt;font face=\&quot;Bitstream Vera Sans Mono, Andale Mono, &quot; +
                         &quot;Consolas, Courier New, Courier, Monospace\&quot; size=\&quot;3\&quot;&gt;&quot; +
                         &quot;Topic : &lt;br&gt;&quot; + topic + &quot;&lt;br&gt; set by :&quot; + e.data[2] + 
@@ -967,7 +968,7 @@
     private javax.swing.JToggleButton JAutoScrollToggle;
     private javax.swing.JCheckBoxMenuItem MultiLineMenuItem;
     private javax.swing.JLabel channelPrivateLabel;
-    private aflobby.CChatPanel chatpanel;
+    private aflobby.UI.CChatPanel chatpanel;
     private javax.swing.JButton jButton1;
     private javax.swing.JButton jButton2;
     private javax.swing.JButton jButton3;

Deleted: trunk/Lobby/AFLobby/src/aflobby/CChannelTableModel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CChannelTableModel.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CChannelTableModel.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -1,159 +0,0 @@
-/*
- * CBattleTableModel.java
- *
- * Created on 17 September 2006, 02:19
- *
- * To change this template, choose Tools | Template Manager
- * and open the template in the editor.
- */
-
-package aflobby;
-
-import java.util.ArrayList;
-import java.util.Iterator;
-import javax.swing.ImageIcon;
-import javax.swing.table.AbstractTableModel;
-
-/**
- *
- * @author AF
- */
-public class CChannelTableModel extends AbstractTableModel {
-    LMain LM;
-    
-    private String[] columns = {
-        &quot;Icon&quot;,
-        &quot;Channel name&quot;,
-        &quot;Users&quot;,
-        &quot;Topic&quot;
-    };
-    
-    public ArrayList&lt;CChannelInfo&gt; channels = new ArrayList&lt;CChannelInfo&gt;();
-
-    public CChannelTableModel(LMain L) {
-        LM = L;
-        //this.cv = cv;
-    }
-
-    public void clear(){
-        channels.clear();
-        fireTableDataChanged();
-    }
-    
-    public int getRowCount() {
-        return channels.size();
-    }
-
-    public int getColumnCount() {
-        return columns.length;
-    }
-
-
-    @Override
-    public String getColumnName(int col) {
-        return columns[col];
-    }
-
-    /**
-     * 
-     * @param row
-     * @return
-     */
-    public CChannelInfo GetPlayerAt(int row) {
-        //synchronized(battles){
-        if (row &lt; channels.size()) {
-            return channels.get(row); //
-        } else {
-            return null;
-        }
-        //}
-    }
-
-    public Object getValueAt(int row, int col) {
-
-        if (row &gt; channels.size()) {
-            return &quot;&quot;;
-        }
-
-        CChannelInfo b = GetPlayerAt(row);
-        if (b == null) {
-            return &quot;&quot;;
-        }
-
-        switch (col) {
-            case 0:
-                return b.getIcon();
-            case 1:
-                return b.getName();
-            case 2:
-                return b.getUsercount();
-            case 3:
-                return b.getTopic();
-            default:
-                break;
-        }
-
-        return &quot;&quot;;
-    }
-
-    /**
-     * 
-     * @param p
-     */
-    public void AddChannel(CChannelInfo p) {
-        if(p == null){
-            return;
-        }
-        
-        if(channels.contains(p)){
-            return;
-        }
-        
-        channels.add(p);
-        fireTableDataChanged();
-    }
-
-    /**
-     * 
-     * @param b
-     */
-    public void RemoveChannel(CChannelInfo b) {
-        synchronized (channels) {
-            Iterator&lt;CChannelInfo&gt; i = channels.iterator();
-            while(i.hasNext()){
-                CChannelInfo ba = i.next();
-                if(ba == b){
-                    i.remove();
-                }
-            }
-        }
-        fireTableDataChanged();
-//        synchronized (battles) {
-//            battles.remove(b);
-//        }
-//        fireTableDataChanged();
-//        return b;
-    }
-
-    @Override
-    public boolean isCellEditable(int rowIndex, int columnIndex) {
-        return false;
-    }
-    
-    @Override
-    public Class getColumnClass(int column) {
-        if(column &lt;1){
-            return ImageIcon.class;
-        }else{
-            return String.class;
-        }
-        /*Class returnValue;
-        if ((column &gt;= 0) &amp;&amp; (column &lt; getColumnCount())) {
-            returnValue = getValueAt(0, column).getClass();
-        } else {
-            returnValue = Object.class;
-        }
-        return returnValue;*/
-     }
-
-}
\ No newline at end of file

Modified: trunk/Lobby/AFLobby/src/aflobby/CChannelView.form
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CChannelView.form	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CChannelView.form	2008-02-09 15:22:41 UTC (rev 5473)
@@ -111,50 +111,29 @@
                       &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;jScrollPane4&quot; alignment=&quot;0&quot; pref=&quot;809&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                                  &lt;Component id=&quot;number_of_battles&quot; min=&quot;-2&quot; pref=&quot;272&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                  &lt;Component id=&quot;ladderLabel&quot; min=&quot;-2&quot; pref=&quot;254&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;/Group&gt;
+                              &lt;Component id=&quot;WelcomeLabel&quot; alignment=&quot;0&quot; pref=&quot;813&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                                  &lt;Component id=&quot;SearchBox&quot; pref=&quot;706&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                                  &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jButton3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;/Group&gt;
+                              &lt;Component id=&quot;ingame_label&quot; alignment=&quot;0&quot; pref=&quot;813&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;number_of_battles&quot; alignment=&quot;0&quot; pref=&quot;813&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;ladderLabel&quot; alignment=&quot;0&quot; pref=&quot;813&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
                                   &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                                      &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                                          &lt;Component id=&quot;ingame_label&quot; min=&quot;-2&quot; pref=&quot;295&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                          &lt;EmptySpace min=&quot;-2&quot; pref=&quot;344&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                      &lt;Group type=&quot;103&quot; alignment=&quot;0&quot; groupAlignment=&quot;0&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
+                                          &lt;Component id=&quot;LogOutButton&quot; linkSize=&quot;9&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;110&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                                          &lt;Component id=&quot;StatusCombo&quot; linkSize=&quot;9&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;136&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                                          &lt;Component id=&quot;jButton8&quot; linkSize=&quot;9&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;169&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                                          &lt;Component id=&quot;jButton5&quot; linkSize=&quot;9&quot; alignment=&quot;0&quot; pref=&quot;178&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                                          &lt;Component id=&quot;jButton4&quot; linkSize=&quot;9&quot; alignment=&quot;0&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
                                       &lt;/Group&gt;
-                                      &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-                                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-                                              &lt;Component id=&quot;SearchBox&quot; alignment=&quot;0&quot; pref=&quot;645&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                                              &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                                                  &lt;Component id=&quot;jButton5&quot; min=&quot;-2&quot; pref=&quot;188&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                                  &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                                  &lt;Component id=&quot;LogOutButton&quot; min=&quot;-2&quot; pref=&quot;150&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                                  &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                                  &lt;Component id=&quot;StatusCombo&quot; min=&quot;-2&quot; pref=&quot;117&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                                  &lt;Component id=&quot;jButton4&quot; pref=&quot;169&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                                              &lt;/Group&gt;
-                                          &lt;/Group&gt;
-                                          &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                      &lt;/Group&gt;
+                                      &lt;Component id=&quot;jButton14&quot; linkSize=&quot;9&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;74&quot; max=&quot;-2&quot; attributes=&quot;3&quot;/&gt;
                                   &lt;/Group&gt;
-                                  &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                                      &lt;Component id=&quot;jButton3&quot; linkSize=&quot;3&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;157&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
-                                      &lt;Component id=&quot;jButton8&quot; linkSize=&quot;3&quot; pref=&quot;157&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                                  &lt;/Group&gt;
-                              &lt;/Group&gt;
-                              &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                                  &lt;Component id=&quot;jButton12&quot; pref=&quot;155&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
-                                  &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                  &lt;Component id=&quot;jButton13&quot; pref=&quot;155&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
-                                  &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                  &lt;Component id=&quot;jButton14&quot; pref=&quot;156&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
                                   &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                                  &lt;Component id=&quot;jButton15&quot; min=&quot;-2&quot; pref=&quot;190&quot; max=&quot;-2&quot; attributes=&quot;2&quot;/&gt;
-                                  &lt;EmptySpace min=&quot;-2&quot; pref=&quot;132&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jScrollPane4&quot; pref=&quot;629&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                               &lt;/Group&gt;
-                              &lt;Component id=&quot;WelcomeLabel&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;595&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
@@ -162,39 +141,38 @@
                 &lt;/DimensionLayout&gt;
                 &lt;DimensionLayout dim=&quot;1&quot;&gt;
                   &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;WelcomeLabel&quot; min=&quot;-2&quot; pref=&quot;34&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;jButton8&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; pref=&quot;41&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;jButton4&quot; linkSize=&quot;1&quot; pref=&quot;41&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                              &lt;Component id=&quot;StatusCombo&quot; linkSize=&quot;1&quot; alignment=&quot;0&quot; pref=&quot;41&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                              &lt;Component id=&quot;LogOutButton&quot; linkSize=&quot;1&quot; alignment=&quot;0&quot; pref=&quot;41&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                              &lt;Component id=&quot;jButton5&quot; linkSize=&quot;1&quot; alignment=&quot;0&quot; pref=&quot;41&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                          &lt;/Group&gt;
-                          &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;number_of_battles&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;ladderLabel&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;/Group&gt;
-                          &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;ingame_label&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;EmptySpace min=&quot;-2&quot; pref=&quot;13&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;number_of_battles&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;ladderLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                               &lt;Component id=&quot;jButton3&quot; linkSize=&quot;2&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;SearchBox&quot; linkSize=&quot;2&quot; alignment=&quot;3&quot; min=&quot;-2&quot; pref=&quot;23&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
-                          &lt;EmptySpace min=&quot;-2&quot; pref=&quot;6&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;jButton12&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;jButton13&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;jButton14&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;jButton15&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;/Group&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;jScrollPane4&quot; pref=&quot;298&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
-                          &lt;EmptySpace min=&quot;-2&quot; pref=&quot;13&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                              &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                                  &lt;Component id=&quot;jButton4&quot; linkSize=&quot;1&quot; pref=&quot;41&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;LogOutButton&quot; linkSize=&quot;1&quot; pref=&quot;41&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;StatusCombo&quot; linkSize=&quot;1&quot; pref=&quot;41&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jButton5&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; pref=&quot;41&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                                  &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jButton8&quot; linkSize=&quot;1&quot; min=&quot;-2&quot; pref=&quot;41&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                                  &lt;Component id=&quot;jButton14&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;/Group&gt;
+                              &lt;Component id=&quot;jScrollPane4&quot; pref=&quot;376&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                          &lt;/Group&gt;
+                          &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                   &lt;/Group&gt;
                 &lt;/DimensionLayout&gt;
@@ -285,26 +263,6 @@
                     &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Not registered to the ladder&quot; noResource=&quot;true&quot;/&gt;
                   &lt;/Properties&gt;
                 &lt;/Component&gt;
-                &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;jButton12&quot;&gt;
-                  &lt;Properties&gt;
-                    &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-                      &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannelView.jButton12.text&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
-                    &lt;/Property&gt;
-                  &lt;/Properties&gt;
-                  &lt;Events&gt;
-                    &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;jButton12ActionPerformed&quot;/&gt;
-                  &lt;/Events&gt;
-                &lt;/Component&gt;
-                &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;jButton13&quot;&gt;
-                  &lt;Properties&gt;
-                    &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-                      &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannelView.jButton13.text&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
-                    &lt;/Property&gt;
-                  &lt;/Properties&gt;
-                  &lt;Events&gt;
-                    &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;jButton13ActionPerformed&quot;/&gt;
-                  &lt;/Events&gt;
-                &lt;/Component&gt;
                 &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;jButton14&quot;&gt;
                   &lt;Properties&gt;
                     &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Darkstars.co.uk&quot; noResource=&quot;true&quot;/&gt;
@@ -313,16 +271,6 @@
                     &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;jButton14ActionPerformed&quot;/&gt;
                   &lt;/Events&gt;
                 &lt;/Component&gt;
-                &lt;Component class=&quot;javax.swing.JButton&quot; name=&quot;jButton15&quot;&gt;
-                  &lt;Properties&gt;
-                    &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-                      &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannelView.jButton15.text&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
-                    &lt;/Property&gt;
-                  &lt;/Properties&gt;
-                  &lt;Events&gt;
-                    &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;jButton15ActionPerformed&quot;/&gt;
-                  &lt;/Events&gt;
-                &lt;/Component&gt;
                 &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;WelcomeLabel&quot;&gt;
                   &lt;Properties&gt;
                     &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
@@ -437,15 +385,15 @@
                           &lt;/Group&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;HostBattleName&quot; alignment=&quot;0&quot; pref=&quot;328&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                              &lt;Component id=&quot;HostMaxPlayers&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;85&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;HostBattleName&quot; alignment=&quot;0&quot; pref=&quot;347&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Component id=&quot;HostMaxPlayers&quot; linkSize=&quot;10&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;85&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jComboBox1&quot; linkSize=&quot;4&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;197&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;laddercomboBox&quot; alignment=&quot;0&quot; pref=&quot;328&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                              &lt;Component id=&quot;HostPassword&quot; alignment=&quot;0&quot; pref=&quot;328&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                              &lt;Component id=&quot;HostRankLimitCombo&quot; alignment=&quot;0&quot; pref=&quot;328&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                              &lt;Component id=&quot;HostMod&quot; linkSize=&quot;4&quot; alignment=&quot;0&quot; pref=&quot;328&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                              &lt;Component id=&quot;HostUDPPort&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;66&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;HostNATCombo&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Component id=&quot;laddercomboBox&quot; linkSize=&quot;4&quot; alignment=&quot;0&quot; pref=&quot;347&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Component id=&quot;HostPassword&quot; alignment=&quot;0&quot; pref=&quot;347&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Component id=&quot;HostRankLimitCombo&quot; alignment=&quot;0&quot; pref=&quot;347&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Component id=&quot;HostMod&quot; linkSize=&quot;4&quot; alignment=&quot;0&quot; pref=&quot;347&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
+                              &lt;Component id=&quot;HostUDPPort&quot; linkSize=&quot;10&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;66&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                              &lt;Component id=&quot;HostNATCombo&quot; linkSize=&quot;10&quot; alignment=&quot;0&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
                           &lt;/Group&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; max=&quot;-2&quot; attributes=&quot;0&quot;&gt;
@@ -454,7 +402,7 @@
                           &lt;/Group&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;jButton2&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;EmptySpace pref=&quot;103&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace pref=&quot;123&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                       &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
                           &lt;EmptySpace min=&quot;-2&quot; pref=&quot;10&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -472,7 +420,7 @@
                       &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
                           &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;jLabel1&quot; min=&quot;-2&quot; pref=&quot;35&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace pref=&quot;10&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                               &lt;Component id=&quot;HostBattleName&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jLabel6&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -482,12 +430,12 @@
                               &lt;Component id=&quot;HostMaxPlayers&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jLabel5&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
-                          &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace pref=&quot;10&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                               &lt;Component id=&quot;jComboBox1&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jLabel2&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
-                          &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace pref=&quot;10&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                               &lt;Component id=&quot;HostMod&quot; alignment=&quot;3&quot; min=&quot;-2&quot; pref=&quot;20&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;hostReloadmodlist&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -500,7 +448,7 @@
                               &lt;Component id=&quot;jButton2&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jLabel12&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
-                          &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace pref=&quot;14&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                               &lt;Component id=&quot;HostPassword&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jLabel8&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -510,7 +458,7 @@
                               &lt;Component id=&quot;HostRankLimitCombo&quot; alignment=&quot;3&quot; min=&quot;-2&quot; pref=&quot;23&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jLabel11&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;/Group&gt;
-                          &lt;EmptySpace pref=&quot;7&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace pref=&quot;11&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Group type=&quot;103&quot; groupAlignment=&quot;3&quot; attributes=&quot;0&quot;&gt;
                               &lt;Component id=&quot;HostUDPPort&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                               &lt;Component id=&quot;jLabel9&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
@@ -520,7 +468,7 @@
                               &lt;Component id=&quot;HostNATCombo&quot; alignment=&quot;3&quot; min=&quot;-2&quot; pref=&quot;24&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
                               &lt;Component id=&quot;jLabel10&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
                           &lt;/Group&gt;
-                          &lt;EmptySpace pref=&quot;176&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace pref=&quot;180&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                           &lt;Component id=&quot;HostButton&quot; min=&quot;-2&quot; pref=&quot;23&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                           &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
@@ -547,11 +495,6 @@
                 &lt;/Component&gt;
                 &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel5&quot;&gt;
                   &lt;Properties&gt;
-                    &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.modules.form.editors2.FontEditor&quot;&gt;
-                      &lt;FontInfo relative=&quot;true&quot;&gt;
-                        &lt;Font component=&quot;jLabel5&quot; property=&quot;font&quot; relativeSize=&quot;true&quot; size=&quot;1&quot;/&gt;
-                      &lt;/FontInfo&gt;
-                    &lt;/Property&gt;
                     &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
                       &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannelView.jLabel5.text&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
                     &lt;/Property&gt;
@@ -559,11 +502,6 @@
                 &lt;/Component&gt;
                 &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel6&quot;&gt;
                   &lt;Properties&gt;
-                    &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.modules.form.editors2.FontEditor&quot;&gt;
-                      &lt;FontInfo relative=&quot;true&quot;&gt;
-                        &lt;Font component=&quot;jLabel6&quot; property=&quot;font&quot; relativeSize=&quot;true&quot; size=&quot;1&quot;/&gt;
-                      &lt;/FontInfo&gt;
-                    &lt;/Property&gt;
                     &lt;Property name=&quot;labelFor&quot; type=&quot;java.awt.Component&quot; editor=&quot;org.netbeans.modules.form.ComponentChooserEditor&quot;&gt;
                       &lt;ComponentRef name=&quot;HostBattleName&quot;/&gt;
                     &lt;/Property&gt;
@@ -592,11 +530,6 @@
                 &lt;/Component&gt;
                 &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel7&quot;&gt;
                   &lt;Properties&gt;
-                    &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.modules.form.editors2.FontEditor&quot;&gt;
-                      &lt;FontInfo relative=&quot;true&quot;&gt;
-                        &lt;Font component=&quot;jLabel7&quot; property=&quot;font&quot; relativeSize=&quot;true&quot; size=&quot;1&quot;/&gt;
-                      &lt;/FontInfo&gt;
-                    &lt;/Property&gt;
                     &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
                       &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannelView.jLabel7.text&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
                     &lt;/Property&gt;
@@ -606,11 +539,6 @@
                 &lt;/Component&gt;
                 &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel8&quot;&gt;
                   &lt;Properties&gt;
-                    &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.modules.form.editors2.FontEditor&quot;&gt;
-                      &lt;FontInfo relative=&quot;true&quot;&gt;
-                        &lt;Font component=&quot;jLabel8&quot; property=&quot;font&quot; relativeSize=&quot;true&quot; size=&quot;1&quot;/&gt;
-                      &lt;/FontInfo&gt;
-                    &lt;/Property&gt;
                     &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
                       &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannelView.jLabel8.text&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
                     &lt;/Property&gt;
@@ -626,11 +554,6 @@
                 &lt;/Component&gt;
                 &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel9&quot;&gt;
                   &lt;Properties&gt;
-                    &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.modules.form.editors2.FontEditor&quot;&gt;
-                      &lt;FontInfo relative=&quot;true&quot;&gt;
-                        &lt;Font component=&quot;jLabel9&quot; property=&quot;font&quot; relativeSize=&quot;true&quot; size=&quot;1&quot;/&gt;
-                      &lt;/FontInfo&gt;
-                    &lt;/Property&gt;
                     &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
                       &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannelView.jLabel9.text&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
                     &lt;/Property&gt;
@@ -638,11 +561,6 @@
                 &lt;/Component&gt;
                 &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel10&quot;&gt;
                   &lt;Properties&gt;
-                    &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.modules.form.editors2.FontEditor&quot;&gt;
-                      &lt;FontInfo relative=&quot;true&quot;&gt;
-                        &lt;Font component=&quot;jLabel10&quot; property=&quot;font&quot; relativeSize=&quot;true&quot; size=&quot;1&quot;/&gt;
-                      &lt;/FontInfo&gt;
-                    &lt;/Property&gt;
                     &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
                       &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannelView.jLabel10.text&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
                     &lt;/Property&gt;
@@ -664,11 +582,6 @@
                 &lt;/Component&gt;
                 &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel11&quot;&gt;
                   &lt;Properties&gt;
-                    &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.modules.form.editors2.FontEditor&quot;&gt;
-                      &lt;FontInfo relative=&quot;true&quot;&gt;
-                        &lt;Font component=&quot;jLabel11&quot; property=&quot;font&quot; relativeSize=&quot;true&quot; size=&quot;1&quot;/&gt;
-                      &lt;/FontInfo&gt;
-                    &lt;/Property&gt;
                     &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
                       &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannelView.jLabel11.text&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
                     &lt;/Property&gt;
@@ -721,11 +634,6 @@
                 &lt;/Component&gt;
                 &lt;Component class=&quot;javax.swing.JLabel&quot; name=&quot;jLabel12&quot;&gt;
                   &lt;Properties&gt;
-                    &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.modules.form.editors2.FontEditor&quot;&gt;
-                      &lt;FontInfo relative=&quot;true&quot;&gt;
-                        &lt;Font component=&quot;jLabel12&quot; property=&quot;font&quot; relativeSize=&quot;true&quot; size=&quot;1&quot;/&gt;
-                      &lt;/FontInfo&gt;
-                    &lt;/Property&gt;
                     &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
                       &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;CChannelView.jLabel12.text&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
                     &lt;/Property&gt;
@@ -812,12 +720,12 @@
                   &lt;Layout&gt;
                     &lt;DimensionLayout dim=&quot;0&quot;&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;EmptySpace min=&quot;0&quot; pref=&quot;809&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace min=&quot;0&quot; pref=&quot;813&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                     &lt;/DimensionLayout&gt;
                     &lt;DimensionLayout dim=&quot;1&quot;&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;EmptySpace min=&quot;0&quot; pref=&quot;504&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;EmptySpace min=&quot;0&quot; pref=&quot;510&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
                     &lt;/DimensionLayout&gt;
                   &lt;/Layout&gt;

Modified: trunk/Lobby/AFLobby/src/aflobby/CChannelView.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CChannelView.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CChannelView.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -210,10 +210,7 @@
         jScrollPane4 = new javax.swing.JScrollPane();
         FServerMessages = new javax.swing.JEditorPane();
         ladderLabel = new javax.swing.JLabel();
-        jButton12 = new javax.swing.JButton();
-        jButton13 = new javax.swing.JButton();
         jButton14 = new javax.swing.JButton();
-        jButton15 = new javax.swing.JButton();
         WelcomeLabel = new javax.swing.JLabel();
         SearchBox = new javax.swing.JTextField();
         jButton3 = new javax.swing.JButton();
@@ -307,20 +304,6 @@
         ladderLabel.setFont(ladderLabel.getFont().deriveFont(ladderLabel.getFont().getSize()+1f));
         ladderLabel.setText(&quot;Not registered to the ladder&quot;); // NOI18N
 
-        jButton12.setText(bundle.getString(&quot;CChannelView.jButton12.text&quot;)); // NOI18N
-        jButton12.addActionListener(new java.awt.event.ActionListener() {
-            public void actionPerformed(java.awt.event.ActionEvent evt) {
-                jButton12ActionPerformed(evt);
-            }
-        });
-
-        jButton13.setText(bundle.getString(&quot;CChannelView.jButton13.text&quot;)); // NOI18N
-        jButton13.addActionListener(new java.awt.event.ActionListener() {
-            public void actionPerformed(java.awt.event.ActionEvent evt) {
-                jButton13ActionPerformed(evt);
-            }
-        });
-
         jButton14.setText(&quot;Darkstars.co.uk&quot;); // NOI18N
         jButton14.addActionListener(new java.awt.event.ActionListener() {
             public void actionPerformed(java.awt.event.ActionEvent evt) {
@@ -328,13 +311,6 @@
             }
         });
 
-        jButton15.setText(bundle.getString(&quot;CChannelView.jButton15.text&quot;)); // NOI18N
-        jButton15.addActionListener(new java.awt.event.ActionListener() {
-            public void actionPerformed(java.awt.event.ActionEvent evt) {
-                jButton15ActionPerformed(evt);
-            }
-        });
-
         WelcomeLabel.setFont(CUISettings.GetFont(24,true));
         WelcomeLabel.setText(&quot;Welcome &quot;+LM.protocol.GetUsername());
 
@@ -392,77 +368,61 @@
             .addGroup(jPanel7Layout.createSequentialGroup()
                 .addContainerGap()
                 .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 809, Short.MAX_VALUE)
-                    .addGroup(jPanel7Layout.createSequentialGroup()
-                        .addComponent(number_of_battles, javax.swing.GroupLayout.PREFERRED_SIZE, 272, javax.swing.GroupLayout.PREFERRED_SIZE)
-                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(ladderLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 254, javax.swing.GroupLayout.PREFERRED_SIZE))
+                    .addComponent(WelcomeLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 813, Short.MAX_VALUE)
                     .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
-                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                            .addGroup(jPanel7Layout.createSequentialGroup()
-                                .addComponent(ingame_label, javax.swing.GroupLayout.PREFERRED_SIZE, 295, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                .addGap(344, 344, 344))
-                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
-                                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
-                                    .addComponent(SearchBox, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 645, Short.MAX_VALUE)
-                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel7Layout.createSequentialGroup()
-                                        .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 188, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                        .addComponent(LogOutButton, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                        .addComponent(StatusCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 117, javax.swing.GroupLayout.PREFERRED_SIZE)
-                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                                        .addComponent(jButton4, javax.swing.GroupLayout.DEFAULT_SIZE, 169, Short.MAX_VALUE)))
-                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
-                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                            .addComponent(jButton3, javax.swing.GroupLayout.PREFERRED_SIZE, 157, javax.swing.GroupLayout.PREFERRED_SIZE)
-                            .addComponent(jButton8, javax.swing.GroupLayout.DEFAULT_SIZE, 157, Short.MAX_VALUE)))
+                        .addComponent(SearchBox, javax.swing.GroupLayout.DEFAULT_SIZE, 706, Short.MAX_VALUE)
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                        .addComponent(jButton3))
+                    .addComponent(ingame_label, javax.swing.GroupLayout.DEFAULT_SIZE, 813, Short.MAX_VALUE)
+                    .addComponent(number_of_battles, javax.swing.GroupLayout.DEFAULT_SIZE, 813, Short.MAX_VALUE)
+                    .addComponent(ladderLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 813, Short.MAX_VALUE)
                     .addGroup(jPanel7Layout.createSequentialGroup()
-                        .addComponent(jButton12, javax.swing.GroupLayout.DEFAULT_SIZE, 155, Short.MAX_VALUE)
+                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                            .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
+                                .addComponent(LogOutButton, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                .addComponent(StatusCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                .addComponent(jButton8, javax.swing.GroupLayout.PREFERRED_SIZE, 169, javax.swing.GroupLayout.PREFERRED_SIZE)
+                                .addComponent(jButton5, javax.swing.GroupLayout.DEFAULT_SIZE, 178, Short.MAX_VALUE)
+                                .addComponent(jButton4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
+                            .addComponent(jButton14, javax.swing.GroupLayout.PREFERRED_SIZE, 74, javax.swing.GroupLayout.PREFERRED_SIZE))
                         .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jButton13, javax.swing.GroupLayout.DEFAULT_SIZE, 155, Short.MAX_VALUE)
-                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jButton14, javax.swing.GroupLayout.DEFAULT_SIZE, 156, Short.MAX_VALUE)
-                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jButton15, javax.swing.GroupLayout.PREFERRED_SIZE, 190, javax.swing.GroupLayout.PREFERRED_SIZE)
-                        .addGap(132, 132, 132))
-                    .addComponent(WelcomeLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 595, javax.swing.GroupLayout.PREFERRED_SIZE))
+                        .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 629, Short.MAX_VALUE)))
                 .addContainerGap())
         );
 
-        jPanel7Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jButton3, jButton8});
+        jPanel7Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {LogOutButton, StatusCombo, jButton14, jButton4, jButton5, jButton8});
 
         jPanel7Layout.setVerticalGroup(
             jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
+            .addGroup(jPanel7Layout.createSequentialGroup()
                 .addContainerGap()
                 .addComponent(WelcomeLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
-                    .addComponent(jButton8, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
-                    .addComponent(jButton4, javax.swing.GroupLayout.DEFAULT_SIZE, 41, Short.MAX_VALUE)
-                    .addComponent(StatusCombo, javax.swing.GroupLayout.DEFAULT_SIZE, 41, Short.MAX_VALUE)
-                    .addComponent(LogOutButton, javax.swing.GroupLayout.DEFAULT_SIZE, 41, Short.MAX_VALUE)
-                    .addComponent(jButton5, javax.swing.GroupLayout.DEFAULT_SIZE, 41, Short.MAX_VALUE))
+                .addComponent(ingame_label)
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(number_of_battles)
-                    .addComponent(ladderLabel))
+                .addComponent(number_of_battles)
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                .addComponent(ingame_label)
-                .addGap(13, 13, 13)
+                .addComponent(ladderLabel)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                 .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                     .addComponent(jButton3)
                     .addComponent(SearchBox, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE))
-                .addGap(6, 6, 6)
-                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
-                    .addComponent(jButton12)
-                    .addComponent(jButton13)
-                    .addComponent(jButton14)
-                    .addComponent(jButton15))
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 298, Short.MAX_VALUE)
-                .addGap(13, 13, 13))
+                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+                    .addGroup(jPanel7Layout.createSequentialGroup()
+                        .addComponent(jButton4, javax.swing.GroupLayout.DEFAULT_SIZE, 41, Short.MAX_VALUE)
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                        .addComponent(LogOutButton, javax.swing.GroupLayout.DEFAULT_SIZE, 41, Short.MAX_VALUE)
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                        .addComponent(StatusCombo, javax.swing.GroupLayout.DEFAULT_SIZE, 41, Short.MAX_VALUE)
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                        .addComponent(jButton5, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                        .addComponent(jButton8, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
+                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                        .addComponent(jButton14))
+                    .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 376, Short.MAX_VALUE))
+                .addContainerGap())
         );
 
         jPanel7Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {LogOutButton, StatusCombo, jButton4, jButton5, jButton8});
@@ -480,10 +440,8 @@
         HostMaxPlayers.setModel(new SpinnerNumberModel (4,1,16,1));
         HostMaxPlayers.setValue(2);
 
-        jLabel5.setFont(jLabel5.getFont().deriveFont(jLabel5.getFont().getSize()+1f));
         jLabel5.setText(bundle.getString(&quot;CChannelView.jLabel5.text&quot;)); // NOI18N
 
-        jLabel6.setFont(jLabel6.getFont().deriveFont(jLabel6.getFont().getSize()+1f));
         jLabel6.setLabelFor(HostBattleName);
         jLabel6.setText(bundle.getString(&quot;CChannelView.jLabel6.text&quot;)); // NOI18N
 
@@ -496,19 +454,15 @@
 
         HostMod.setMaximumRowCount(16);
 
-        jLabel7.setFont(jLabel7.getFont().deriveFont(jLabel7.getFont().getSize()+1f));
         jLabel7.setText(bundle.getString(&quot;CChannelView.jLabel7.text&quot;)); // NOI18N
 
-        jLabel8.setFont(jLabel8.getFont().deriveFont(jLabel8.getFont().getSize()+1f));
         jLabel8.setText(bundle.getString(&quot;CChannelView.jLabel8.text&quot;)); // NOI18N
 
         HostUDPPort.setText(bundle.getString(&quot;CChannelView.HostUDPPort.text&quot;)); // NOI18N
         HostUDPPort.setEnabled(false);
 
-        jLabel9.setFont(jLabel9.getFont().deriveFont(jLabel9.getFont().getSize()+1f));
         jLabel9.setText(bundle.getString(&quot;CChannelView.jLabel9.text&quot;)); // NOI18N
 
-        jLabel10.setFont(jLabel10.getFont().deriveFont(jLabel10.getFont().getSize()+1f));
         jLabel10.setText(bundle.getString(&quot;CChannelView.jLabel10.text&quot;)); // NOI18N
 
         HostNATCombo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { &quot;none&quot;, &quot;hole punching&quot;, &quot;fixed ports&quot; }));
@@ -518,7 +472,6 @@
             }
         });
 
-        jLabel11.setFont(jLabel11.getFont().deriveFont(jLabel11.getFont().getSize()+1f));
         jLabel11.setText(bundle.getString(&quot;CChannelView.jLabel11.text&quot;)); // NOI18N
 
         HostRankLimitCombo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { &quot;No Limit&quot;, &quot;Beginner&quot;, &quot;Average&quot;, &quot;Experienced&quot;, &quot;Highly Experienced&quot; }));
@@ -540,7 +493,6 @@
             }
         });
 
-        jLabel12.setFont(jLabel12.getFont().deriveFont(jLabel12.getFont().getSize()+1f));
         jLabel12.setText(bundle.getString(&quot;CChannelView.jLabel12.text&quot;)); // NOI18N
 
         laddercomboBox.setModel(new javax.swing.DefaultComboBoxModel(new String[] { &quot;None&quot; }));
@@ -584,13 +536,13 @@
                     .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 111, javax.swing.GroupLayout.PREFERRED_SIZE))
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                 .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(HostBattleName, javax.swing.GroupLayout.DEFAULT_SIZE, 328, Short.MAX_VALUE)
+                    .addComponent(HostBattleName, javax.swing.GroupLayout.DEFAULT_SIZE, 347, Short.MAX_VALUE)
                     .addComponent(HostMaxPlayers, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, 197, javax.swing.GroupLayout.PREFERRED_SIZE)
-                    .addComponent(laddercomboBox, 0, 328, Short.MAX_VALUE)
-                    .addComponent(HostPassword, javax.swing.GroupLayout.DEFAULT_SIZE, 328, Short.MAX_VALUE)
-                    .addComponent(HostRankLimitCombo, 0, 328, Short.MAX_VALUE)
-                    .addComponent(HostMod, 0, 328, Short.MAX_VALUE)
+                    .addComponent(laddercomboBox, 0, 347, Short.MAX_VALUE)
+                    .addComponent(HostPassword, javax.swing.GroupLayout.DEFAULT_SIZE, 347, Short.MAX_VALUE)
+                    .addComponent(HostRankLimitCombo, 0, 347, Short.MAX_VALUE)
+                    .addComponent(HostMod, 0, 347, Short.MAX_VALUE)
                     .addComponent(HostUDPPort, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(HostNATCombo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
@@ -599,7 +551,7 @@
                     .addComponent(hostReloadmodlist))
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                 .addComponent(jButton2)
-                .addContainerGap(103, Short.MAX_VALUE))
+                .addContainerGap(123, Short.MAX_VALUE))
             .addGroup(jPanel3Layout.createSequentialGroup()
                 .addGap(10, 10, 10)
                 .addComponent(HostButton, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE)
@@ -609,16 +561,18 @@
                 .addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, 823, Short.MAX_VALUE))
         );
 
-        jPanel3Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {HostMod, jComboBox1});
+        jPanel3Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {HostMod, jComboBox1, laddercomboBox});
 
         jPanel3Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jLabel10, jLabel11, jLabel12, jLabel2, jLabel5, jLabel6, jLabel7, jLabel8, jLabel9});
 
+        jPanel3Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {HostMaxPlayers, HostNATCombo, HostUDPPort});
+
         jPanel3Layout.setVerticalGroup(
             jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
             .addGroup(jPanel3Layout.createSequentialGroup()
                 .addContainerGap()
                 .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)
-                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 10, Short.MAX_VALUE)
                 .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                     .addComponent(HostBattleName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(jLabel6))
@@ -626,11 +580,11 @@
                 .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                     .addComponent(HostMaxPlayers, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(jLabel5))
-                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 10, Short.MAX_VALUE)
                 .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                     .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(jLabel2))
-                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 10, Short.MAX_VALUE)
                 .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                     .addComponent(HostMod, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(hostReloadmodlist)
@@ -641,7 +595,7 @@
                     .addComponent(jButton1)
                     .addComponent(jButton2)
                     .addComponent(jLabel12))
-                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 14, Short.MAX_VALUE)
                 .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                     .addComponent(HostPassword, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(jLabel8))
@@ -649,7 +603,7 @@
                 .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                     .addComponent(HostRankLimitCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(jLabel11))
-                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 7, Short.MAX_VALUE)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 11, Short.MAX_VALUE)
                 .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                     .addComponent(HostUDPPort, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(jLabel9))
@@ -657,7 +611,7 @@
                 .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                     .addComponent(HostNATCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(jLabel10))
-                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 176, Short.MAX_VALUE)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 180, Short.MAX_VALUE)
                 .addComponent(HostButton, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                 .addContainerGap())
         );
@@ -668,11 +622,11 @@
         playerTablePanel.setLayout(playerTablePanelLayout);
         playerTablePanelLayout.setHorizontalGroup(
             playerTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 809, Short.MAX_VALUE)
+            .addGap(0, 813, Short.MAX_VALUE)
         );
         playerTablePanelLayout.setVerticalGroup(
             playerTablePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 504, Short.MAX_VALUE)
+            .addGap(0, 510, Short.MAX_VALUE)
         );
 
         javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
@@ -768,22 +722,10 @@
         LM.core.NewGUIEvent(e);
     }//GEN-LAST:event_LogOutButtonMouseReleased
 
-    private void jButton12ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton12ActionPerformed
-        BrowserLauncher.openURL(&quot;<A HREF="http://www.unknown-files.net/spring/category/13/Maps/">http://www.unknown-files.net/spring/category/13/Maps/</A>&quot;);
-    }//GEN-LAST:event_jButton12ActionPerformed
-
-    private void jButton13ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton13ActionPerformed
-        BrowserLauncher.openURL(&quot;<A HREF="http://www.unknown-files.net/spring/category/14/Mods/">http://www.unknown-files.net/spring/category/14/Mods/</A>&quot;);
-    }//GEN-LAST:event_jButton13ActionPerformed
-
     private void jButton14ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton14ActionPerformed
         BrowserLauncher.openURL(&quot;<A HREF="http://www.darkstars.co.uk">http://www.darkstars.co.uk</A>&quot;);
     }//GEN-LAST:event_jButton14ActionPerformed
 
-    private void jButton15ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton15ActionPerformed
-        BrowserLauncher.openURL(&quot;<A HREF="http://www.spring-league.com/">http://www.spring-league.com/</A>&quot;);
-    }//GEN-LAST:event_jButton15ActionPerformed
-
     private void laddercomboBoxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_laddercomboBoxActionPerformed
         String s = (String) laddercomboBox.getSelectedItem();
         if (s.equals(&quot;None&quot;) == false) {
@@ -1431,10 +1373,7 @@
     private javax.swing.JButton hostReloadmodlist;
     private javax.swing.JLabel ingame_label;
     private javax.swing.JButton jButton1;
-    private javax.swing.JButton jButton12;
-    private javax.swing.JButton jButton13;
     private javax.swing.JButton jButton14;
-    private javax.swing.JButton jButton15;
     private javax.swing.JButton jButton2;
     private javax.swing.JButton jButton3;
     private javax.swing.JButton jButton4;

Deleted: trunk/Lobby/AFLobby/src/aflobby/CChatLogFormatter.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CChatLogFormatter.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CChatLogFormatter.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -1,30 +0,0 @@
-/*
- * CChatLogFormatter.java
- * 
- * Created on 19-Aug-2007, 01:48:10
- * 
- * To change this template, choose Tools | Templates
- * and open the template in the editor.
- */
-
-package aflobby;
-
-import java.util.logging.LogRecord;
-
-/**
- *
- * @author Tom
- */
-public class CChatLogFormatter extends java.util.logging.Formatter{
-    public CChatLogFormatter(){
-    }
-    
-    public String format(LogRecord record) {
-        String s =Misc.easyDateFormat(record.getMillis(),&quot;[hh:mm:ss] &quot;);
-        s += record.getMessage();
-        s += System.getProperty (&quot;line.separator&quot;);
-        return s;
-        //
-    }
-
-}

Deleted: trunk/Lobby/AFLobby/src/aflobby/CChatPanel.form
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CChatPanel.form	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CChatPanel.form	2008-02-09 15:22:41 UTC (rev 5473)
@@ -1,66 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
-
-&lt;Form version=&quot;1.5&quot; maxVersion=&quot;1.5&quot; type=&quot;org.netbeans.modules.form.forminfo.JPanelFormInfo&quot;&gt;
-  &lt;NonVisualComponents&gt;
-    &lt;Container class=&quot;javax.swing.JPopupMenu&quot; name=&quot;jPopupMenu1&quot;&gt;
-
-      &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.DesignAbsoluteLayout&quot;&gt;
-        &lt;Property name=&quot;useNullLayout&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
-      &lt;/Layout&gt;
-      &lt;SubComponents&gt;
-        &lt;MenuItem class=&quot;javax.swing.JMenuItem&quot; name=&quot;CopyMenuItem&quot;&gt;
-          &lt;Properties&gt;
-            &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Item&quot;/&gt;
-          &lt;/Properties&gt;
-          &lt;Events&gt;
-            &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;CopyMenuItemActionPerformed&quot;/&gt;
-          &lt;/Events&gt;
-        &lt;/MenuItem&gt;
-      &lt;/SubComponents&gt;
-    &lt;/Container&gt;
-  &lt;/NonVisualComponents&gt;
-  &lt;AuxValues&gt;
-    &lt;AuxValue name=&quot;FormSettings_autoSetComponentName&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_generateMnemonicsCode&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_i18nAutoMode&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_layoutCodeTarget&quot; type=&quot;java.lang.Integer&quot; value=&quot;1&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_listenerGenerationStyle&quot; type=&quot;java.lang.Integer&quot; value=&quot;0&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_variablesLocal&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
-    &lt;AuxValue name=&quot;FormSettings_variablesModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;2&quot;/&gt;
-  &lt;/AuxValues&gt;
-
-  &lt;Layout&gt;
-    &lt;DimensionLayout dim=&quot;0&quot;&gt;
-      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;Component id=&quot;jScrollPane2&quot; alignment=&quot;0&quot; pref=&quot;498&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-      &lt;/Group&gt;
-    &lt;/DimensionLayout&gt;
-    &lt;DimensionLayout dim=&quot;1&quot;&gt;
-      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;Component id=&quot;jScrollPane2&quot; pref=&quot;482&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-      &lt;/Group&gt;
-    &lt;/DimensionLayout&gt;
-  &lt;/Layout&gt;
-  &lt;SubComponents&gt;
-    &lt;Container class=&quot;javax.swing.JScrollPane&quot; name=&quot;jScrollPane2&quot;&gt;
-      &lt;AuxValues&gt;
-        &lt;AuxValue name=&quot;autoScrollPane&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
-      &lt;/AuxValues&gt;
-
-      &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.support.JScrollPaneSupportLayout&quot;/&gt;
-      &lt;SubComponents&gt;
-        &lt;Component class=&quot;javax.swing.JTextPane&quot; name=&quot;chatpane&quot;&gt;
-          &lt;Properties&gt;
-            &lt;Property name=&quot;contentType&quot; type=&quot;java.lang.String&quot; value=&quot;text/html&quot;/&gt;
-            &lt;Property name=&quot;editable&quot; type=&quot;boolean&quot; value=&quot;false&quot;/&gt;
-            &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.modules.form.editors2.FontEditor&quot;&gt;
-              &lt;FontInfo relative=&quot;true&quot;&gt;
-                &lt;Font component=&quot;chatpane&quot; property=&quot;font&quot; relativeSize=&quot;true&quot; size=&quot;0&quot;/&gt;
-              &lt;/FontInfo&gt;
-            &lt;/Property&gt;
-          &lt;/Properties&gt;
-        &lt;/Component&gt;
-      &lt;/SubComponents&gt;
-    &lt;/Container&gt;
-  &lt;/SubComponents&gt;
-&lt;/Form&gt;

Deleted: trunk/Lobby/AFLobby/src/aflobby/CChatPanel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CChatPanel.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CChatPanel.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -1,274 +0,0 @@
-/*
- * CChatPanel.java
- *
- * Created on 02 July 2007, 04:30
- */
-
-package aflobby;
-
-import aflobby.framework.CEvent;
-import aflobby.framework.IModule;
-import aflobby.UI.CSmileyManager;
-import aflobby.UI.CUserSettings;
-import java.awt.Color;
-import java.io.IOException;
-import java.net.MalformedURLException;
-import java.net.URL;
-import java.util.logging.Level;
-import java.util.logging.Logger;
-import javax.swing.Icon;
-import javax.swing.ImageIcon;
-import javax.swing.SwingUtilities;
-import javax.swing.text.BadLocationException;
-import javax.swing.text.DefaultHighlighter;
-import javax.swing.text.Highlighter;
-import javax.swing.text.html.HTMLDocument;
-
-/**
- *
- * @author  Tom
- */
-public class CChatPanel extends javax.swing.JPanel implements IModule{
-    //private boolean scroll = false;
-    private boolean autoscroll = true;
-    private String contents=&quot;&quot;;
-    LMain LM;
-     // An instance of the private subclass of the default highlight painter
-    public static Highlighter.HighlightPainter myHighlightPainter = null;
-    
-    // A private subclass of the default highlight painter
-    class MyHighlightPainter extends DefaultHighlighter.DefaultHighlightPainter {
-        public MyHighlightPainter(Color color) {
-            super(color);
-        }
-    }
-    /**
-     * Creates new form CChatPanel
-     */
-    public CChatPanel () {
-        Runnable doWorkRunnable = new Runnable () {
-            public void run () {
-                if(myHighlightPainter == null){
-                    myHighlightPainter = new MyHighlightPainter(Color.yellow);
-                }
-                initComponents ();
-            }
-        };
-        SwingUtilities.invokeLater (doWorkRunnable);
-
-    }
-    
-    public void AddMessage (String s){
-        URL r;
-        
-        String q = ParseChatText(s);
-        //q = Misc.toHTML(q);
-        
-        //q = q.replaceAll (&quot;((:flag=)[a-zA-Z](:))&quot;,&quot;&lt;img src=\&quot;&quot;+Misc.GetAbsoluteLobbyFolderPath ()+&quot;images/flags/$0.png\&quot;&gt;&lt;/img&gt;&quot;);
-        
-        AddRawHTML (q+&quot;&lt;br&gt;&quot;);
-    }
-    
-    public void AddIcon(URL u){
-        chatpane.insertIcon(new ImageIcon(u));
-    }
-    
-    public void AddIcon(Icon i){
-        chatpane.insertIcon(i);
-    }
-    
-    public void AddRawHTML (final String s){
-        Runnable doWorkRunnable = new Runnable () {
-            public void run () {
-                HTMLDocument doc = (HTMLDocument)chatpane.getDocument ();
-                //Document blankdoc = new HTMLDocument();
-                //chatpane.setDocument(blankdoc);
-                int start_highlighting = doc.getLength();
-                //System.out.println (&quot;CChannel::AddMessageB&quot;);
-                
-                try {
-                    doc.setOuterHTML (doc.getCharacterElement (doc.getLength ()),s);
-                    contents +=s;
-                    doc.setAsynchronousLoadPriority(500000);
-                    chatpane.setDocument(doc);
-                    if(GetAutoScroll ()){
-                        //scrollbotom=true;
-                        chatpane.setCaretPosition (doc.getLength ());
-                    }
-                    Highlight(start_highlighting);
-                } catch (BadLocationException ex) {
-                    ex.printStackTrace ();
-                } catch (IOException ex) {
-                    ex.printStackTrace ();
-                }
-                
-            }
-        };
-        SwingUtilities.invokeLater (doWorkRunnable);
-    }
-    
-    public void Highlight(int start_at){
-        try {
-            Highlighter hilite = chatpane.getHighlighter();
-            HTMLDocument doc = (HTMLDocument) chatpane.getDocument();
-            String text = doc.getText(0, doc.getLength());
-            int pos = 0;
-            String u = LM.protocol.GetUsername();
-            String h = CUserSettings.GetValue(&quot;ui.texthighlights&quot;,u);
-            String[] entries = h.split(&quot;,&quot;);
-            if(entries.length &gt;0){
-                for(String pattern : entries){
-                    // Search for pattern
-                    if(pattern.trim().equals(&quot;&quot;)){
-                        continue;
-                    }
-                    while ((pos = text.indexOf(pattern, pos)) &gt;= 0) {
-                        // Create highlighter using private painter and apply around pattern
-                        hilite.addHighlight(pos, pos+pattern.length(), myHighlightPainter);
-                        pos += pattern.length();
-                    }
-                }
-            }
-        } catch (Exception e){//(BadLocationException e) {
-            e.printStackTrace();
-        }
-    }
-    public String GetContents (){
-        return contents;
-    }
-    
-    public void ClearContents (){
-        contents = &quot;&quot;;
-        Runnable doWorkRunnable = new Runnable () {
-            public void run () {
-                chatpane.setText(&quot;&quot;);
-            }
-        };
-        SwingUtilities.invokeLater (doWorkRunnable);
-        
-    }
-    
-    public void SetContents (final String s){
-        ClearContents();
-        contents = s;
-        AddRawHTML(contents);
-    }
-    
-    public boolean GetAutoScroll (){
-        //
-        return autoscroll;
-    }
-    public void SetAutoScroll (boolean b){
-        autoscroll = b;
-        /*if(autoscroll==false){
-            scroll=false;
-        }*/
-    }
-    
-    public void ScrollToTop(){
-        Runnable doWorkRunnable = new Runnable () {
-            public void run () {
-                chatpane.setCaretPosition (0);
-            }
-        };
-        SwingUtilities.invokeLater (doWorkRunnable);
-    }
-    
-    public static  String ParseChatText(String msg){
-        if(CSmileyManager.loaded==false){
-            CSmileyManager.Init();
-        }
-        String q = Misc.chat_string_create_urls(msg);
-        //
-        for (int i = 0; i &lt; CSmileyManager.smileys.length; i++) {//Misc.GetLobbyFolderPath ()+
-            try {
-                //Misc.GetLobbyFolderPath ()+
-                String us = &quot;file:/&quot; + Misc.GetAbsoluteLobbyFolderPath() + &quot;images/smileys/&quot; + CSmileyManager.smileys[i] + &quot;.gif&quot;;
-                URL u = new URL(us);
-                q = q.replaceAll(&quot;:&quot; + CSmileyManager.smileys[i] + &quot;:&quot;, &quot;&lt;img src=\&quot;&quot; + u.toExternalForm() + &quot;\&quot;&gt;hmmm&lt;/img&gt;&quot;);
-            } catch ( MalformedURLException ex ) {
-                Logger.getLogger(CChatPanel.class.getName()).log(Level.SEVERE, null, ex);
-            }
-        }
-        q = q.replaceAll(&quot;  &quot;, &quot;&#160;&#160;&quot;);
-        return q;
-    }
-    
-    public void SetForeColour(final Color c){
-        Runnable doWorkRunnable = new Runnable () {
-            public void run () {
-                chatpane.setForeground(c);
-            }
-        };
-        SwingUtilities.invokeLater (doWorkRunnable);
-    }
-    
-    public void Init (LMain L){
-        LM = L;
-    }
-//    int scrollcount = 10;
-    public void Update (){
-    }
-    
-    public void NewEvent (final CEvent e){
-        //
-    }
-    public void NewGUIEvent (final CEvent e){
-        //
-    }
-    
-    public void OnRemove() {
-        
-    }
-    
-    /** This method is called from within the constructor to
-     * initialize the form.
-     * WARNING: Do NOT modify this code. The content of this method is
-     * always regenerated by the Form Editor.
-     */
-    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
-    private void initComponents() {
-
-        jPopupMenu1 = new javax.swing.JPopupMenu();
-        CopyMenuItem = new javax.swing.JMenuItem();
-        jScrollPane2 = new javax.swing.JScrollPane();
-        chatpane = new javax.swing.JTextPane();
-
-        CopyMenuItem.setText(&quot;Item&quot;);
-        CopyMenuItem.addActionListener(new java.awt.event.ActionListener() {
-            public void actionPerformed(java.awt.event.ActionEvent evt) {
-                CopyMenuItemActionPerformed(evt);
-            }
-        });
-        jPopupMenu1.add(CopyMenuItem);
-
-        chatpane.setContentType(&quot;text/html&quot;);
-        chatpane.setEditable(false);
-        chatpane.setFont(chatpane.getFont());
-        jScrollPane2.setViewportView(chatpane);
-
-        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
-        this.setLayout(layout);
-        layout.setHorizontalGroup(
-            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 498, Short.MAX_VALUE)
-        );
-        layout.setVerticalGroup(
-            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 482, Short.MAX_VALUE)
-        );
-    }// &lt;/editor-fold&gt;//GEN-END:initComponents
-    
-    private void CopyMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CopyMenuItemActionPerformed
-        chatpane.copy();
-    }//GEN-LAST:event_CopyMenuItemActionPerformed
-    
-    
-    // Variables declaration - do not modify//GEN-BEGIN:variables
-    private javax.swing.JMenuItem CopyMenuItem;
-    private javax.swing.JTextPane chatpane;
-    private javax.swing.JPopupMenu jPopupMenu1;
-    private javax.swing.JScrollPane jScrollPane2;
-    // End of variables declaration//GEN-END:variables
-    
-}

Modified: trunk/Lobby/AFLobby/src/aflobby/CConnection.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CConnection.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CConnection.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -8,6 +8,7 @@
  */
 package aflobby;
 
+import aflobby.helpers.CHolePuncher;
 import aflobby.framework.CEvent;
 import java.io.BufferedReader;
 import java.io.DataOutputStream;

Deleted: trunk/Lobby/AFLobby/src/aflobby/CFSHelper.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CFSHelper.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CFSHelper.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -1,51 +0,0 @@
-/*
- * CFSHelper.java
- *
- * Created on 08-Aug-2007, 19:10:51
- *
- * To change this template, choose Tools | Templates
- * and open the template in the editor.
- */
-
-package aflobby;
-
-import java.io.File;
-import java.io.FileNotFoundException;
-import java.net.URL;
-import java.util.Scanner;
-
-/**
- *
- * @author Tom
- */
-public class CFSHelper {
-
-    public CFSHelper() {
-    }
-
-    public static String GetFileContents(String filepath) {
-        return GetFileContents(new File(filepath));
-    }
-    
-    public static String GetFileContents(File f) {
-        Scanner read_in;
-        try {
-            String t = &quot;&quot;;
-            read_in = new Scanner(f);
-            //read_in.useDelimiter ();
-            while (read_in.hasNext()) {
-                t += read_in.nextLine() + System.getProperty(&quot;line.separator&quot;);
-                //t += new String (read_in.next ());
-            }
-            read_in.close();
-            return t;
-        } catch (FileNotFoundException e) {
-            //e.printStackTrace();
-            return &quot;&quot;; //
-        }
-    }
-    
-    public static URL GetResourceURL(String file){
-        return file.getClass().getResource(file);
-    }
-}

Modified: trunk/Lobby/AFLobby/src/aflobby/CGlestBattleWindow.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CGlestBattleWindow.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CGlestBattleWindow.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -75,7 +75,7 @@
     // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
     private void initComponents() {
 
-        chatpane = new aflobby.CChatPanel();
+        chatpane = new aflobby.UI.CChatPanel();
         jToolBar1 = new javax.swing.JToolBar();
         MutliLineToggle = new javax.swing.JToggleButton();
         cSmileyCombo1 = new aflobby.UI.CSmileyCombo();
@@ -269,7 +269,7 @@
     private javax.swing.JToggleButton MutliLineToggle;
     private javax.swing.JTextArea UserMessage;
     private aflobby.UI.CSmileyCombo cSmileyCombo1;
-    private aflobby.CChatPanel chatpane;
+    private aflobby.UI.CChatPanel chatpane;
     private javax.swing.JButton jButton1;
     private javax.swing.JButton jButton2;
     private javax.swing.JButton jButton4;

Deleted: trunk/Lobby/AFLobby/src/aflobby/CHolePuncher.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CHolePuncher.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CHolePuncher.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -1,51 +0,0 @@
-package aflobby;
-
-import java.io.IOException;
-import java.net.DatagramPacket;
-import java.net.DatagramSocket;
-import java.net.InetAddress;
-
-/*
- * CHolePuncher.java
- *
- * Created on 27 April 2007, 01:52
- *
- * To change this template, choose Tools | Template Manager
- * and open the template in the editor.
- */
-
-/**
- *
- * @author Tom
- */
-public class CHolePuncher {
-    public static String server=&quot;&quot;;
-    public static int port=8452;
-    /** Creates a new instance of CHolePuncher */
-    public CHolePuncher () {
-    }
-    public static boolean SendRequest (){
-        return SendRequest(server,port);
-    }
-    public static boolean SendRequest (int myport){
-        return SendRequest(server,myport);
-    }
-    public static boolean SendRequest (String myServer, int myport){
-        try{
-            DatagramSocket socket;
-            DatagramPacket packet;
-            InetAddress address;
-            socket = new DatagramSocket ();
-            address = InetAddress.getByName (myServer);
-            String mess = &quot;heidihi!&quot;;
-            byte message[] = mess.getBytes ();
-            packet = new DatagramPacket (message, message.length, address, myport);
-            socket.send (packet);
-            socket.close ();
-        } catch(IOException io){
-            return false;
-        }
-        return true;
-    }
-    
-}

Modified: trunk/Lobby/AFLobby/src/aflobby/CMeltraxLadder.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CMeltraxLadder.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CMeltraxLadder.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -9,6 +9,7 @@
 
 package aflobby;
 
+import aflobby.helpers.CFSHelper;
 import com.myjavatools.web.ClientHttpRequest;
 import java.io.BufferedReader;
 import java.io.DataInputStream;

Modified: trunk/Lobby/AFLobby/src/aflobby/CPrivateMsgWindow.form
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CPrivateMsgWindow.form	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CPrivateMsgWindow.form	2008-02-09 15:22:41 UTC (rev 5473)
@@ -27,24 +27,24 @@
   &lt;Layout&gt;
     &lt;DimensionLayout dim=&quot;0&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;EmptySpace min=&quot;0&quot; pref=&quot;448&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+          &lt;EmptySpace min=&quot;0&quot; pref=&quot;431&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
           &lt;Group type=&quot;103&quot; rootIndex=&quot;1&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
               &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;EmptySpace min=&quot;-2&quot; pref=&quot;0&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Component id=&quot;jSplitPane1&quot; pref=&quot;448&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
-                  &lt;EmptySpace min=&quot;-2&quot; pref=&quot;0&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;jSplitPane1&quot; pref=&quot;411&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
+                  &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;
     &lt;DimensionLayout dim=&quot;1&quot;&gt;
       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-          &lt;EmptySpace min=&quot;0&quot; pref=&quot;313&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+          &lt;EmptySpace min=&quot;0&quot; pref=&quot;323&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
           &lt;Group type=&quot;103&quot; rootIndex=&quot;1&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
               &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;EmptySpace min=&quot;-2&quot; pref=&quot;0&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;Component id=&quot;jSplitPane1&quot; pref=&quot;313&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                  &lt;EmptySpace min=&quot;-2&quot; pref=&quot;0&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;Component id=&quot;jSplitPane1&quot; pref=&quot;301&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                  &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
@@ -74,37 +74,27 @@
           &lt;Layout&gt;
             &lt;DimensionLayout dim=&quot;0&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jButton1&quot; min=&quot;-2&quot; pref=&quot;78&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
+                  &lt;/Group&gt;
+                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+                      &lt;EmptySpace min=&quot;-2&quot; pref=&quot;0&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;jScrollPane1&quot; pref=&quot;344&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;jButton1&quot; min=&quot;-2&quot; pref=&quot;78&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
-                          &lt;/Group&gt;
-                          &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                              &lt;Component id=&quot;jToggleButton1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                              &lt;Component id=&quot;cSmileyCombo1&quot; min=&quot;-2&quot; pref=&quot;161&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;/Group&gt;
+                          &lt;Component id=&quot;jToolBar1&quot; alignment=&quot;0&quot; pref=&quot;411&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+                          &lt;Component id=&quot;jScrollPane1&quot; alignment=&quot;0&quot; pref=&quot;411&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
                       &lt;/Group&gt;
-                      &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
             &lt;DimensionLayout dim=&quot;1&quot;&gt;
               &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                  &lt;Group type=&quot;102&quot; alignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;Component id=&quot;jToggleButton1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                          &lt;Component id=&quot;cSmileyCombo1&quot; min=&quot;-2&quot; pref=&quot;23&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;/Group&gt;
+                  &lt;Group type=&quot;102&quot; attributes=&quot;0&quot;&gt;
+                      &lt;Component id=&quot;jToolBar1&quot; min=&quot;-2&quot; pref=&quot;25&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-                      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
-                          &lt;Component id=&quot;jButton1&quot; alignment=&quot;0&quot; min=&quot;-2&quot; pref=&quot;43&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
-                          &lt;Component id=&quot;jScrollPane1&quot; alignment=&quot;0&quot; pref=&quot;65&quot; max=&quot;32767&quot; attributes=&quot;1&quot;/&gt;
-                      &lt;/Group&gt;
+                      &lt;Component id=&quot;jScrollPane1&quot; pref=&quot;33&quot; max=&quot;32767&quot; attributes=&quot;2&quot;/&gt;
                       &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+                      &lt;Component id=&quot;jButton1&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;1&quot;/&gt;
                   &lt;/Group&gt;
               &lt;/Group&gt;
             &lt;/DimensionLayout&gt;
@@ -151,35 +141,48 @@
                 &lt;EventHandler event=&quot;mousePressed&quot; listener=&quot;java.awt.event.MouseListener&quot; parameters=&quot;java.awt.event.MouseEvent&quot; handler=&quot;jButton1MousePressed&quot;/&gt;
               &lt;/Events&gt;
             &lt;/Component&gt;
-            &lt;Component class=&quot;javax.swing.JToggleButton&quot; name=&quot;jToggleButton1&quot;&gt;
+            &lt;Container class=&quot;javax.swing.JToolBar&quot; name=&quot;jToolBar1&quot;&gt;
               &lt;Properties&gt;
-                &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.beaninfo.editors.FontEditor&quot;&gt;
-                  &lt;Font name=&quot;Arial&quot; size=&quot;11&quot; style=&quot;0&quot;/&gt;
-                &lt;/Property&gt;
-                &lt;Property name=&quot;selected&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
-                &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
-                  &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;Accumulate_messages&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
-                &lt;/Property&gt;
+                &lt;Property name=&quot;floatable&quot; type=&quot;boolean&quot; value=&quot;false&quot;/&gt;
+                &lt;Property name=&quot;rollover&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
               &lt;/Properties&gt;
-              &lt;Events&gt;
-                &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;jToggleButton1ActionPerformed&quot;/&gt;
-              &lt;/Events&gt;
-            &lt;/Component&gt;
-            &lt;Component class=&quot;aflobby.UI.CSmileyCombo&quot; name=&quot;cSmileyCombo1&quot;&gt;
-              &lt;Properties&gt;
-                &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ComboBoxModel&quot; editor=&quot;org.netbeans.modules.form.editors2.ComboBoxModelEditor&quot;&gt;
-                  &lt;StringArray count=&quot;4&quot;&gt;
-                    &lt;StringItem index=&quot;0&quot; value=&quot;Item 1&quot;/&gt;
-                    &lt;StringItem index=&quot;1&quot; value=&quot;Item 2&quot;/&gt;
-                    &lt;StringItem index=&quot;2&quot; value=&quot;Item 3&quot;/&gt;
-                    &lt;StringItem index=&quot;3&quot; value=&quot;Item 4&quot;/&gt;
-                  &lt;/StringArray&gt;
-                &lt;/Property&gt;
-              &lt;/Properties&gt;
-              &lt;AuxValues&gt;
-                &lt;AuxValue name=&quot;JavaCodeGenerator_AddingCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;cSmileyCombo1.Init(MsgText);&quot;/&gt;
-              &lt;/AuxValues&gt;
-            &lt;/Component&gt;
+
+              &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.DesignBoxLayout&quot;/&gt;
+              &lt;SubComponents&gt;
+                &lt;Component class=&quot;javax.swing.JToggleButton&quot; name=&quot;jToggleButton1&quot;&gt;
+                  &lt;Properties&gt;
+                    &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.beaninfo.editors.FontEditor&quot;&gt;
+                      &lt;Font name=&quot;Arial&quot; size=&quot;11&quot; style=&quot;0&quot;/&gt;
+                    &lt;/Property&gt;
+                    &lt;Property name=&quot;selected&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
+                    &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; editor=&quot;org.netbeans.modules.i18n.form.FormI18nStringEditor&quot;&gt;
+                      &lt;ResourceString bundle=&quot;aflobby/languages.properties&quot; key=&quot;Accumulate_messages&quot; replaceFormat=&quot;java.util.ResourceBundle.getBundle(&quot;{bundleNameSlashes}&quot;).getString(&quot;{key}&quot;)&quot;/&gt;
+                    &lt;/Property&gt;
+                  &lt;/Properties&gt;
+                  &lt;Events&gt;
+                    &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;jToggleButton1ActionPerformed&quot;/&gt;
+                  &lt;/Events&gt;
+                &lt;/Component&gt;
+                &lt;Component class=&quot;aflobby.UI.CSmileyCombo&quot; name=&quot;cSmileyCombo1&quot;&gt;
+                  &lt;Properties&gt;
+                    &lt;Property name=&quot;model&quot; type=&quot;javax.swing.ComboBoxModel&quot; editor=&quot;org.netbeans.modules.form.editors2.ComboBoxModelEditor&quot;&gt;
+                      &lt;StringArray count=&quot;4&quot;&gt;
+                        &lt;StringItem index=&quot;0&quot; value=&quot;Item 1&quot;/&gt;
+                        &lt;StringItem index=&quot;1&quot; value=&quot;Item 2&quot;/&gt;
+                        &lt;StringItem index=&quot;2&quot; value=&quot;Item 3&quot;/&gt;
+                        &lt;StringItem index=&quot;3&quot; value=&quot;Item 4&quot;/&gt;
+                      &lt;/StringArray&gt;
+                    &lt;/Property&gt;
+                    &lt;Property name=&quot;maximumSize&quot; type=&quot;java.awt.Dimension&quot; editor=&quot;org.netbeans.beaninfo.editors.DimensionEditor&quot;&gt;
+                      &lt;Dimension value=&quot;[200, 32767]&quot;/&gt;
+                    &lt;/Property&gt;
+                  &lt;/Properties&gt;
+                  &lt;AuxValues&gt;
+                    &lt;AuxValue name=&quot;JavaCodeGenerator_AddingCodePost&quot; type=&quot;java.lang.String&quot; value=&quot;cSmileyCombo1.Init(MsgText);&quot;/&gt;
+                  &lt;/AuxValues&gt;
+                &lt;/Component&gt;
+              &lt;/SubComponents&gt;
+            &lt;/Container&gt;
           &lt;/SubComponents&gt;
         &lt;/Container&gt;
         &lt;Component class=&quot;aflobby.CChatPanel&quot; name=&quot;chat&quot;&gt;

Modified: trunk/Lobby/AFLobby/src/aflobby/CPrivateMsgWindow.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CPrivateMsgWindow.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CPrivateMsgWindow.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -6,10 +6,10 @@
 
 package aflobby;
 
+import aflobby.UI.CChatLogFormatter;
 import aflobby.framework.CEvent;
 import aflobby.helpers.CStringHelper;
 import aflobby.UI.CUISettings;
-import java.awt.Color;
 import java.awt.event.KeyEvent;
 import java.io.File;
 import java.io.IOException;
@@ -41,7 +41,7 @@
      * Creates new form CPrivateMsgWindow
      */
     public CPrivateMsgWindow() {
-        chat = new aflobby.CChatPanel();
+        chat = new aflobby.UI.CChatPanel();
         Runnable doWorkRunnable = new Runnable() {
 
             public void run() {
@@ -127,30 +127,6 @@
                         //}
                     }
 
-
-
-
-                    /*if(chat.GetAutoScroll ()){
-                    for(int n = 0; n &lt;lines.length; n++){
-                    String command[] = lines[n].split (&quot; &quot;);
-                    if(command[0].equalsIgnoreCase (&quot;/me&quot;)){
-                    Add (player.name + &quot; &quot; + Misc.makeSentence (command,1));
-                    }else{
-                    if(lastsent.equals (LM.protocol.GetUsername ())==false){
-                    Add (LM.protocol.GetUsername () + &quot; Says:\n   &quot; + lines[n]);
-                    lastsent=LM.protocol.GetUsername ();
-                    }else if(lastsent.equals (LM.protocol.GetUsername ())){
-                    Add (&quot;   &quot; + lines[n]);
-                    }
-                    }
-                    }
-                    }else{
-                    for(int n = 0; n &lt;lines.length; n++){
-                    Add (LM.protocol.GetUsername () + &quot; Says:\n   &quot; + lines[n]);
-                    }
-                    lastsent=LM.protocol.GetUsername ();
-                    }*/
-                    //lastsent=1;
                     MsgText.setText(&quot;&quot;);
                 }
             };
@@ -171,6 +147,7 @@
         jScrollPane1 = new javax.swing.JScrollPane();
         MsgText = new javax.swing.JTextArea();
         jButton1 = new javax.swing.JButton();
+        jToolBar1 = new javax.swing.JToolBar();
         jToggleButton1 = new javax.swing.JToggleButton();
         cSmileyCombo1 = new aflobby.UI.CSmileyCombo();
         /*
@@ -217,6 +194,9 @@
             }
         });
 
+        jToolBar1.setFloatable(false);
+        jToolBar1.setRollover(true);
+
         jToggleButton1.setFont(new java.awt.Font(&quot;Arial&quot;, 0, 11));
         jToggleButton1.setSelected(true);
         jToggleButton1.setText(bundle.getString(&quot;Accumulate_messages&quot;)); // NOI18N
@@ -225,41 +205,36 @@
                 jToggleButton1ActionPerformed(evt);
             }
         });
+        jToolBar1.add(jToggleButton1);
 
         cSmileyCombo1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { &quot;Item 1&quot;, &quot;Item 2&quot;, &quot;Item 3&quot;, &quot;Item 4&quot; }));
+        cSmileyCombo1.setMaximumSize(new java.awt.Dimension(200, 32767));
+        jToolBar1.add(cSmileyCombo1);
+        cSmileyCombo1.Init(MsgText);
 
         javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
         jPanel2.setLayout(jPanel2Layout);
         jPanel2Layout.setHorizontalGroup(
             jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGroup(jPanel2Layout.createSequentialGroup()
+            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                 .addContainerGap()
+                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE))
+            .addGroup(jPanel2Layout.createSequentialGroup()
+                .addGap(0, 0, 0)
                 .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
-                        .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 344, Short.MAX_VALUE)
-                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 78, javax.swing.GroupLayout.PREFERRED_SIZE))
-                    .addGroup(jPanel2Layout.createSequentialGroup()
-                        .addComponent(jToggleButton1)
-                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                        .addComponent(cSmileyCombo1, javax.swing.GroupLayout.PREFERRED_SIZE, 161, javax.swing.GroupLayout.PREFERRED_SIZE)))
-                .addContainerGap())
+                    .addComponent(jToolBar1, javax.swing.GroupLayout.DEFAULT_SIZE, 411, Short.MAX_VALUE)
+                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 411, Short.MAX_VALUE)))
         );
         jPanel2Layout.setVerticalGroup(
             jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
             .addGroup(jPanel2Layout.createSequentialGroup()
-                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(jToggleButton1)
-                    .addComponent(cSmileyCombo1, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE))
+                .addComponent(jToolBar1, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-                    .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
-                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 65, Short.MAX_VALUE))
-                .addContainerGap())
+                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 33, Short.MAX_VALUE)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
+                .addComponent(jButton1))
         );
 
-        cSmileyCombo1.Init(MsgText);
-
         jSplitPane1.setBottomComponent(jPanel2);
 
         chat.setAutoscrolls(true);
@@ -269,28 +244,27 @@
         getContentPane().setLayout(layout);
         layout.setHorizontalGroup(
             layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 448, Short.MAX_VALUE)
+            .addGap(0, 431, Short.MAX_VALUE)
             .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                 .addGroup(layout.createSequentialGroup()
-                    .addGap(0, 0, 0)
-                    .addComponent(jSplitPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 448, Short.MAX_VALUE)
-                    .addGap(0, 0, 0)))
+                    .addContainerGap()
+                    .addComponent(jSplitPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 411, Short.MAX_VALUE)
+                    .addContainerGap()))
         );
         layout.setVerticalGroup(
             layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
-            .addGap(0, 313, Short.MAX_VALUE)
+            .addGap(0, 323, Short.MAX_VALUE)
             .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                 .addGroup(layout.createSequentialGroup()
-                    .addGap(0, 0, 0)
-                    .addComponent(jSplitPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 313, Short.MAX_VALUE)
-                    .addGap(0, 0, 0)))
+                    .addContainerGap()
+                    .addComponent(jSplitPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 301, Short.MAX_VALUE)
+                    .addContainerGap()))
         );
 
         pack();
     }// &lt;/editor-fold&gt;//GEN-END:initComponents
 
     private void MsgTextKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_MsgTextKeyPressed
-
         if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
             if (evt.isShiftDown()) {
                 return;
@@ -310,7 +284,6 @@
     }//GEN-LAST:event_formMousePressed
 
     private void jButton1MousePressed(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButton1MousePressed
-// TODO add your handling code here:
         SendMessage();
     }//GEN-LAST:event_jButton1MousePressed
 
@@ -461,11 +434,12 @@
     // Variables declaration - do not modify//GEN-BEGIN:variables
     private javax.swing.JTextArea MsgText;
     private aflobby.UI.CSmileyCombo cSmileyCombo1;
-    private aflobby.CChatPanel chat;
+    private aflobby.UI.CChatPanel chat;
     private javax.swing.JButton jButton1;
     private javax.swing.JPanel jPanel2;
     private javax.swing.JScrollPane jScrollPane1;
     private javax.swing.JSplitPane jSplitPane1;
     private javax.swing.JToggleButton jToggleButton1;
+    private javax.swing.JToolBar jToolBar1;
     // End of variables declaration//GEN-END:variables
 }

Modified: trunk/Lobby/AFLobby/src/aflobby/CSettings.form
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CSettings.form	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CSettings.form	2008-02-09 15:22:41 UTC (rev 5473)
@@ -1144,7 +1144,7 @@
                     &lt;Property name=&quot;selected&quot; type=&quot;boolean&quot; editor=&quot;org.netbeans.modules.form.RADConnectionPropertyEditor&quot;&gt;
                       &lt;Connection code=&quot;CUserSettings.GetValue(&quot;ui.chat.says&quot;, &quot;true&quot;).equals(&quot;false&quot;)&quot; type=&quot;code&quot;/&gt;
                     &lt;/Property&gt;
-                    &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Show Says:&quot;/&gt;
+                    &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Show Says: in chat text&quot;/&gt;
                   &lt;/Properties&gt;
                   &lt;Events&gt;
                     &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;jCheckBox4ActionPerformed&quot;/&gt;

Modified: trunk/Lobby/AFLobby/src/aflobby/CSettings.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CSettings.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CSettings.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -912,7 +912,7 @@
         jLabel19.setText(&quot;&lt;html&gt;At the moment only a few of the text types are customizeable but in the next release the full spectrum should be available.&lt;br&gt;\n&lt;br&gt;\nThe preview pane will also contain something useful in the next release.&quot;); // NOI18N
 
         jCheckBox4.setSelected(CUserSettings.GetValue(&quot;ui.chat.says&quot;, &quot;true&quot;).equals(&quot;false&quot;));
-        jCheckBox4.setText(&quot;Show Says:&quot;);
+        jCheckBox4.setText(&quot;Show Says: in chat text&quot;);
         jCheckBox4.addActionListener(new java.awt.event.ActionListener() {
             public void actionPerformed(java.awt.event.ActionEvent evt) {
                 jCheckBox4ActionPerformed(evt);

Modified: trunk/Lobby/AFLobby/src/aflobby/CStartBox.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CStartBox.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CStartBox.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -6,8 +6,8 @@
 
 package aflobby;
 
-import aflobby.UI.DefaultResizableBorder;
-import aflobby.UI.ResizableBorder;
+import aflobby.UI.borders.DefaultResizableBorder;
+import aflobby.UI.borders.ResizableBorder;
 import java.awt.Cursor;
 import java.awt.Point;
 import java.awt.Rectangle;

Modified: trunk/Lobby/AFLobby/src/aflobby/CStartRectangleDrawer.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/CStartRectangleDrawer.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/CStartRectangleDrawer.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -1,5 +1,6 @@
 package aflobby;
 
+import aflobby.helpers.CFSHelper;
 import aflobby.protocol.tasserver.RectHandler;
 import aflobby.protocol.tasserver.RectEntry;
 import java.awt.Image;

Added: trunk/Lobby/AFLobby/src/aflobby/UI/CChannelTableModel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/CChannelTableModel.java	                        (rev 0)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/CChannelTableModel.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -0,0 +1,160 @@
+/*
+ * CBattleTableModel.java
+ *
+ * Created on 17 September 2006, 02:19
+ *
+ * To change this template, choose Tools | Template Manager
+ * and open the template in the editor.
+ */
+
+package aflobby.UI;
+
+import aflobby.*;
+import java.util.ArrayList;
+import java.util.Iterator;
+import javax.swing.ImageIcon;
+import javax.swing.table.AbstractTableModel;
+
+/**
+ *
+ * @author AF
+ */
+public class CChannelTableModel extends AbstractTableModel {
+    LMain LM;
+    
+    private String[] columns = {
+        &quot;Icon&quot;,
+        &quot;Channel name&quot;,
+        &quot;Users&quot;,
+        &quot;Topic&quot;
+    };
+    
+    public ArrayList&lt;CChannelInfo&gt; channels = new ArrayList&lt;CChannelInfo&gt;();
+
+    public CChannelTableModel(LMain L) {
+        LM = L;
+        //this.cv = cv;
+    }
+
+    public void clear(){
+        channels.clear();
+        fireTableDataChanged();
+    }
+    
+    public int getRowCount() {
+        return channels.size();
+    }
+
+    public int getColumnCount() {
+        return columns.length;
+    }
+
+
+    @Override
+    public String getColumnName(int col) {
+        return columns[col];
+    }
+
+    /**
+     * 
+     * @param row
+     * @return
+     */
+    public CChannelInfo GetPlayerAt(int row) {
+        //synchronized(battles){
+        if (row &lt; channels.size()) {
+            return channels.get(row); //
+        } else {
+            return null;
+        }
+        //}
+    }
+
+    public Object getValueAt(int row, int col) {
+
+        if (row &gt; channels.size()) {
+            return &quot;&quot;;
+        }
+
+        CChannelInfo b = GetPlayerAt(row);
+        if (b == null) {
+            return &quot;&quot;;
+        }
+
+        switch (col) {
+            case 0:
+                return b.getIcon();
+            case 1:
+                return b.getName();
+            case 2:
+                return b.getUsercount();
+            case 3:
+                return b.getTopic();
+            default:
+                break;
+        }
+
+        return &quot;&quot;;
+    }
+
+    /**
+     * 
+     * @param p
+     */
+    public void AddChannel(CChannelInfo p) {
+        if(p == null){
+            return;
+        }
+        
+        if(channels.contains(p)){
+            return;
+        }
+        
+        channels.add(p);
+        fireTableDataChanged();
+    }
+
+    /**
+     * 
+     * @param b
+     */
+    public void RemoveChannel(CChannelInfo b) {
+        synchronized (channels) {
+            Iterator&lt;CChannelInfo&gt; i = channels.iterator();
+            while(i.hasNext()){
+                CChannelInfo ba = i.next();
+                if(ba == b){
+                    i.remove();
+                }
+            }
+        }
+        fireTableDataChanged();
+//        synchronized (battles) {
+//            battles.remove(b);
+//        }
+//        fireTableDataChanged();
+//        return b;
+    }
+
+    @Override
+    public boolean isCellEditable(int rowIndex, int columnIndex) {
+        return false;
+    }
+    
+    @Override
+    public Class getColumnClass(int column) {
+        if(column &lt;1){
+            return ImageIcon.class;
+        }else{
+            return String.class;
+        }
+        /*Class returnValue;
+        if ((column &gt;= 0) &amp;&amp; (column &lt; getColumnCount())) {
+            returnValue = getValueAt(0, column).getClass();
+        } else {
+            returnValue = Object.class;
+        }
+        return returnValue;*/
+     }
+
+}
\ No newline at end of file

Added: trunk/Lobby/AFLobby/src/aflobby/UI/CChatLogFormatter.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/CChatLogFormatter.java	                        (rev 0)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/CChatLogFormatter.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -0,0 +1,31 @@
+/*
+ * CChatLogFormatter.java
+ * 
+ * Created on 19-Aug-2007, 01:48:10
+ * 
+ * To change this template, choose Tools | Templates
+ * and open the template in the editor.
+ */
+
+package aflobby.UI;
+
+import aflobby.Misc;
+import java.util.logging.LogRecord;
+
+/**
+ *
+ * @author Tom
+ */
+public class CChatLogFormatter extends java.util.logging.Formatter{
+    public CChatLogFormatter(){
+    }
+    
+    public String format(LogRecord record) {
+        String s =Misc.easyDateFormat(record.getMillis(),&quot;[hh:mm:ss] &quot;);
+        s += record.getMessage();
+        s += System.getProperty (&quot;line.separator&quot;);
+        return s;
+        //
+    }
+
+}

Added: trunk/Lobby/AFLobby/src/aflobby/UI/CChatPanel.form
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/CChatPanel.form	                        (rev 0)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/CChatPanel.form	2008-02-09 15:22:41 UTC (rev 5473)
@@ -0,0 +1,66 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
+
+&lt;Form version=&quot;1.5&quot; maxVersion=&quot;1.5&quot; type=&quot;org.netbeans.modules.form.forminfo.JPanelFormInfo&quot;&gt;
+  &lt;NonVisualComponents&gt;
+    &lt;Container class=&quot;javax.swing.JPopupMenu&quot; name=&quot;jPopupMenu1&quot;&gt;
+
+      &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.DesignAbsoluteLayout&quot;&gt;
+        &lt;Property name=&quot;useNullLayout&quot; type=&quot;boolean&quot; value=&quot;true&quot;/&gt;
+      &lt;/Layout&gt;
+      &lt;SubComponents&gt;
+        &lt;MenuItem class=&quot;javax.swing.JMenuItem&quot; name=&quot;CopyMenuItem&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;text&quot; type=&quot;java.lang.String&quot; value=&quot;Item&quot;/&gt;
+          &lt;/Properties&gt;
+          &lt;Events&gt;
+            &lt;EventHandler event=&quot;actionPerformed&quot; listener=&quot;java.awt.event.ActionListener&quot; parameters=&quot;java.awt.event.ActionEvent&quot; handler=&quot;CopyMenuItemActionPerformed&quot;/&gt;
+          &lt;/Events&gt;
+        &lt;/MenuItem&gt;
+      &lt;/SubComponents&gt;
+    &lt;/Container&gt;
+  &lt;/NonVisualComponents&gt;
+  &lt;AuxValues&gt;
+    &lt;AuxValue name=&quot;FormSettings_autoSetComponentName&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_generateMnemonicsCode&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_i18nAutoMode&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_layoutCodeTarget&quot; type=&quot;java.lang.Integer&quot; value=&quot;1&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_listenerGenerationStyle&quot; type=&quot;java.lang.Integer&quot; value=&quot;0&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_variablesLocal&quot; type=&quot;java.lang.Boolean&quot; value=&quot;false&quot;/&gt;
+    &lt;AuxValue name=&quot;FormSettings_variablesModifier&quot; type=&quot;java.lang.Integer&quot; value=&quot;2&quot;/&gt;
+  &lt;/AuxValues&gt;
+
+  &lt;Layout&gt;
+    &lt;DimensionLayout dim=&quot;0&quot;&gt;
+      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+          &lt;Component id=&quot;jScrollPane2&quot; alignment=&quot;0&quot; pref=&quot;498&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+      &lt;/Group&gt;
+    &lt;/DimensionLayout&gt;
+    &lt;DimensionLayout dim=&quot;1&quot;&gt;
+      &lt;Group type=&quot;103&quot; groupAlignment=&quot;0&quot; attributes=&quot;0&quot;&gt;
+          &lt;Component id=&quot;jScrollPane2&quot; pref=&quot;482&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+      &lt;/Group&gt;
+    &lt;/DimensionLayout&gt;
+  &lt;/Layout&gt;
+  &lt;SubComponents&gt;
+    &lt;Container class=&quot;javax.swing.JScrollPane&quot; name=&quot;jScrollPane2&quot;&gt;
+      &lt;AuxValues&gt;
+        &lt;AuxValue name=&quot;autoScrollPane&quot; type=&quot;java.lang.Boolean&quot; value=&quot;true&quot;/&gt;
+      &lt;/AuxValues&gt;
+
+      &lt;Layout class=&quot;org.netbeans.modules.form.compat2.layouts.support.JScrollPaneSupportLayout&quot;/&gt;
+      &lt;SubComponents&gt;
+        &lt;Component class=&quot;javax.swing.JTextPane&quot; name=&quot;chatpane&quot;&gt;
+          &lt;Properties&gt;
+            &lt;Property name=&quot;contentType&quot; type=&quot;java.lang.String&quot; value=&quot;text/html&quot;/&gt;
+            &lt;Property name=&quot;editable&quot; type=&quot;boolean&quot; value=&quot;false&quot;/&gt;
+            &lt;Property name=&quot;font&quot; type=&quot;java.awt.Font&quot; editor=&quot;org.netbeans.modules.form.editors2.FontEditor&quot;&gt;
+              &lt;FontInfo relative=&quot;true&quot;&gt;
+                &lt;Font component=&quot;chatpane&quot; property=&quot;font&quot; relativeSize=&quot;true&quot; size=&quot;0&quot;/&gt;
+              &lt;/FontInfo&gt;
+            &lt;/Property&gt;
+          &lt;/Properties&gt;
+        &lt;/Component&gt;
+      &lt;/SubComponents&gt;
+    &lt;/Container&gt;
+  &lt;/SubComponents&gt;
+&lt;/Form&gt;

Added: trunk/Lobby/AFLobby/src/aflobby/UI/CChatPanel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/CChatPanel.java	                        (rev 0)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/CChatPanel.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -0,0 +1,277 @@
+/*
+ * CChatPanel.java
+ *
+ * Created on 02 July 2007, 04:30
+ */
+
+package aflobby.UI;
+
+import aflobby.LMain;
+import aflobby.Misc;
+import aflobby.framework.CEvent;
+import aflobby.framework.IModule;
+import aflobby.UI.CSmileyManager;
+import aflobby.UI.CUserSettings;
+import java.awt.Color;
+import java.io.IOException;
+import java.net.MalformedURLException;
+import java.net.URL;
+import java.util.logging.Level;
+import java.util.logging.Logger;
+import javax.swing.Icon;
+import javax.swing.ImageIcon;
+import javax.swing.SwingUtilities;
+import javax.swing.text.BadLocationException;
+import javax.swing.text.DefaultHighlighter;
+import javax.swing.text.Highlighter;
+import javax.swing.text.html.HTMLDocument;
+
+/**
+ *
+ * @author  Tom
+ */
+public class CChatPanel extends javax.swing.JPanel implements IModule{
+    //private boolean scroll = false;
+    private boolean autoscroll = true;
+    private String contents=&quot;&quot;;
+    public LMain LM;
+     // An instance of the private subclass of the default highlight painter
+    public static Highlighter.HighlightPainter myHighlightPainter = null;
+    
+    // A private subclass of the default highlight painter
+    class MyHighlightPainter extends DefaultHighlighter.DefaultHighlightPainter {
+        public MyHighlightPainter(Color color) {
+            super(color);
+        }
+    }
+    
+    /**
+     * Creates new form CChatPanel
+     */
+    public CChatPanel () {
+        Runnable doWorkRunnable = new Runnable () {
+            public void run () {
+                if(myHighlightPainter == null){
+                    myHighlightPainter = new MyHighlightPainter(new Color(190,200,255));
+                }
+                initComponents ();
+            }
+        };
+        SwingUtilities.invokeLater (doWorkRunnable);
+
+    }
+    
+    public void AddMessage (String s){
+        URL r;
+        
+        String q = ParseChatText(s);
+        //q = Misc.toHTML(q);
+        
+        //q = q.replaceAll (&quot;((:flag=)[a-zA-Z](:))&quot;,&quot;&lt;img src=\&quot;&quot;+Misc.GetAbsoluteLobbyFolderPath ()+&quot;images/flags/$0.png\&quot;&gt;&lt;/img&gt;&quot;);
+        
+        AddRawHTML (q+&quot;&lt;br&gt;&quot;);
+    }
+    
+    public void AddIcon(URL u){
+        chatpane.insertIcon(new ImageIcon(u));
+    }
+    
+    public void AddIcon(Icon i){
+        chatpane.insertIcon(i);
+    }
+    
+    public void AddRawHTML (final String s){
+        Runnable doWorkRunnable = new Runnable () {
+            public void run () {
+                HTMLDocument doc = (HTMLDocument)chatpane.getDocument ();
+                //Document blankdoc = new HTMLDocument();
+                //chatpane.setDocument(blankdoc);
+                int start_highlighting = doc.getLength();
+                //System.out.println (&quot;CChannel::AddMessageB&quot;);
+                
+                try {
+                    doc.setOuterHTML (doc.getCharacterElement (doc.getLength ()),s);
+                    contents +=s;
+                    doc.setAsynchronousLoadPriority(500000);
+                    chatpane.setDocument(doc);
+                    if(GetAutoScroll ()){
+                        //scrollbotom=true;
+                        chatpane.setCaretPosition (doc.getLength ());
+                    }
+                    Highlight(start_highlighting);
+                } catch (BadLocationException ex) {
+                    ex.printStackTrace ();
+                } catch (IOException ex) {
+                    ex.printStackTrace ();
+                }
+                
+            }
+        };
+        SwingUtilities.invokeLater (doWorkRunnable);
+    }
+    
+    public void Highlight(int start_at){
+        try {
+            Highlighter hilite = chatpane.getHighlighter();
+            HTMLDocument doc = (HTMLDocument) chatpane.getDocument();
+            String text = doc.getText(0, doc.getLength());
+            int pos = 0;
+            String u = LM.protocol.GetUsername();
+            String h = CUserSettings.GetValue(&quot;ui.texthighlights&quot;,u);
+            String[] entries = h.split(&quot;,&quot;);
+            if(entries.length &gt;0){
+                for(String pattern : entries){
+                    // Search for pattern
+                    if(pattern.trim().equals(&quot;&quot;)){
+                        continue;
+                    }
+                    while ((pos = text.indexOf(pattern, pos)) &gt;= 0) {
+                        // Create highlighter using private painter and apply around pattern
+                        hilite.addHighlight(pos, pos+pattern.length(), myHighlightPainter);
+                        pos += pattern.length();
+                    }
+                }
+            }
+        } catch (Exception e){//(BadLocationException e) {
+            e.printStackTrace();
+        }
+    }
+    public String GetContents (){
+        return contents;
+    }
+    
+    public void ClearContents (){
+        contents = &quot;&quot;;
+        Runnable doWorkRunnable = new Runnable () {
+            public void run () {
+                chatpane.setText(&quot;&quot;);
+            }
+        };
+        SwingUtilities.invokeLater (doWorkRunnable);
+        
+    }
+    
+    public void SetContents (final String s){
+        ClearContents();
+        contents = s;
+        AddRawHTML(contents);
+    }
+    
+    public boolean GetAutoScroll (){
+        //
+        return autoscroll;
+    }
+    public void SetAutoScroll (boolean b){
+        autoscroll = b;
+        /*if(autoscroll==false){
+            scroll=false;
+        }*/
+    }
+    
+    public void ScrollToTop(){
+        Runnable doWorkRunnable = new Runnable () {
+            public void run () {
+                chatpane.setCaretPosition (0);
+            }
+        };
+        SwingUtilities.invokeLater (doWorkRunnable);
+    }
+    
+    public static  String ParseChatText(String msg){
+        if(CSmileyManager.loaded==false){
+            CSmileyManager.Init();
+        }
+        String q = Misc.chat_string_create_urls(msg);
+        //
+        for (int i = 0; i &lt; CSmileyManager.smileys.length; i++) {//Misc.GetLobbyFolderPath ()+
+            try {
+                //Misc.GetLobbyFolderPath ()+
+                String us = &quot;file:/&quot; + Misc.GetAbsoluteLobbyFolderPath() + &quot;images/smileys/&quot; + CSmileyManager.smileys[i] + &quot;.gif&quot;;
+                URL u = new URL(us);
+                q = q.replaceAll(&quot;:&quot; + CSmileyManager.smileys[i] + &quot;:&quot;, &quot;&lt;img src=\&quot;&quot; + u.toExternalForm() + &quot;\&quot;&gt;hmmm&lt;/img&gt;&quot;);
+            } catch ( MalformedURLException ex ) {
+                Logger.getLogger(CChatPanel.class.getName()).log(Level.SEVERE, null, ex);
+            }
+        }
+        q = q.replaceAll(&quot;  &quot;, &quot;&#160;&#160;&quot;);
+        return q;
+    }
+    
+    public void SetForeColour(final Color c){
+        Runnable doWorkRunnable = new Runnable () {
+            public void run () {
+                chatpane.setForeground(c);
+            }
+        };
+        SwingUtilities.invokeLater (doWorkRunnable);
+    }
+    
+    public void Init (LMain L){
+        LM = L;
+    }
+//    int scrollcount = 10;
+    public void Update (){
+    }
+    
+    public void NewEvent (final CEvent e){
+        //
+    }
+    public void NewGUIEvent (final CEvent e){
+        //
+    }
+    
+    public void OnRemove() {
+        
+    }
+    
+    /** This method is called from within the constructor to
+     * initialize the form.
+     * WARNING: Do NOT modify this code. The content of this method is
+     * always regenerated by the Form Editor.
+     */
+    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
+    private void initComponents() {
+
+        jPopupMenu1 = new javax.swing.JPopupMenu();
+        CopyMenuItem = new javax.swing.JMenuItem();
+        jScrollPane2 = new javax.swing.JScrollPane();
+        chatpane = new javax.swing.JTextPane();
+
+        CopyMenuItem.setText(&quot;Item&quot;);
+        CopyMenuItem.addActionListener(new java.awt.event.ActionListener() {
+            public void actionPerformed(java.awt.event.ActionEvent evt) {
+                CopyMenuItemActionPerformed(evt);
+            }
+        });
+        jPopupMenu1.add(CopyMenuItem);
+
+        chatpane.setContentType(&quot;text/html&quot;);
+        chatpane.setEditable(false);
+        chatpane.setFont(chatpane.getFont());
+        jScrollPane2.setViewportView(chatpane);
+
+        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
+        this.setLayout(layout);
+        layout.setHorizontalGroup(
+            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+            .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 498, Short.MAX_VALUE)
+        );
+        layout.setVerticalGroup(
+            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
+            .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 482, Short.MAX_VALUE)
+        );
+    }// &lt;/editor-fold&gt;//GEN-END:initComponents
+    
+    private void CopyMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_CopyMenuItemActionPerformed
+        chatpane.copy();
+    }//GEN-LAST:event_CopyMenuItemActionPerformed
+    
+    
+    // Variables declaration - do not modify//GEN-BEGIN:variables
+    private javax.swing.JMenuItem CopyMenuItem;
+    private javax.swing.JTextPane chatpane;
+    private javax.swing.JPopupMenu jPopupMenu1;
+    private javax.swing.JScrollPane jScrollPane2;
+    // End of variables declaration//GEN-END:variables
+    
+}

Modified: trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.form
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.form	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.form	2008-02-09 15:22:41 UTC (rev 5473)
@@ -21,7 +21,7 @@
               &lt;Component id=&quot;UserSearch&quot; pref=&quot;386&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
           &lt;Group type=&quot;102&quot; alignment=&quot;1&quot; attributes=&quot;0&quot;&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Component id=&quot;countLabel&quot; min=&quot;-2&quot; pref=&quot;164&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
           &lt;Component id=&quot;jScrollPane3&quot; alignment=&quot;1&quot; pref=&quot;483&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
@@ -34,10 +34,10 @@
                   &lt;Component id=&quot;UserSearch&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
                   &lt;Component id=&quot;jLabel4&quot; alignment=&quot;3&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;/Group&gt;
-              &lt;EmptySpace max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
               &lt;Component id=&quot;countLabel&quot; min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;EmptySpace max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
-              &lt;Component id=&quot;jScrollPane3&quot; min=&quot;-2&quot; pref=&quot;258&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;EmptySpace min=&quot;-2&quot; max=&quot;-2&quot; attributes=&quot;0&quot;/&gt;
+              &lt;Component id=&quot;jScrollPane3&quot; pref=&quot;258&quot; max=&quot;32767&quot; attributes=&quot;0&quot;/&gt;
           &lt;/Group&gt;
       &lt;/Group&gt;
     &lt;/DimensionLayout&gt;

Modified: trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/CPlayerTablePanel.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -199,10 +199,10 @@
                 .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                     .addComponent(UserSearch, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                     .addComponent(jLabel4))
-                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
+                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                 .addComponent(countLabel)
                 .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
-                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 258, javax.swing.GroupLayout.PREFERRED_SIZE))
+                .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 258, Short.MAX_VALUE))
         );
     }// &lt;/editor-fold&gt;//GEN-END:initComponents
 

Modified: trunk/Lobby/AFLobby/src/aflobby/UI/CUserSettings.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/CUserSettings.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/CUserSettings.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -9,7 +9,7 @@
 
 package aflobby.UI;
 
-import aflobby.CFSHelper;
+import aflobby.helpers.CFSHelper;
 import aflobby.Misc;
 import aflobby.helpers.TdfParser;
 import java.io.File;

Deleted: trunk/Lobby/AFLobby/src/aflobby/UI/DefaultResizableBorder.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/DefaultResizableBorder.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/DefaultResizableBorder.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -1,116 +0,0 @@
-/*
- * DefaultResizableBorder.java
- *
- * Created on 08-Aug-2007, 13:22:10
- *
- * To change this template, choose Tools | Templates
- * and open the template in the editor.
- */
-
-package aflobby.UI;
-
-import aflobby.UI.ResizableBorder;
-import java.awt.Color;
-import java.awt.Component;
-import java.awt.Cursor;
-import java.awt.Graphics;
-import java.awt.Insets;
-import java.awt.Rectangle;
-import java.awt.event.MouseEvent;
-import javax.swing.SwingConstants;
-
-/**
- * MySwing: Advanced Swing Utilites
- * Copyright (C) 2005  Santhosh Kumar T
- * &lt;p/&gt;
- * This library is free software; you can redistribute it and/or
- * modify it under the terms of the GNU Lesser General Public
- * License as published by the Free Software Foundation; either
- * version 2.1 of the License, or (at your option) any later version.
- * &lt;p/&gt;
- * This library is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * Lesser General Public License for more details.
- *
- * @author Santhosh Kumar T
- */
-public class DefaultResizableBorder implements ResizableBorder {
-
-    private int dist = 6;
-
-    int[] locations = {SwingConstants.NORTH, SwingConstants.SOUTH, SwingConstants.WEST, SwingConstants.EAST, SwingConstants.NORTH_WEST, SwingConstants.NORTH_EAST, SwingConstants.SOUTH_WEST, SwingConstants.SOUTH_EAST, 0, -1};
-
-    int[] cursors = {Cursor.N_RESIZE_CURSOR, Cursor.S_RESIZE_CURSOR, Cursor.W_RESIZE_CURSOR, Cursor.E_RESIZE_CURSOR, Cursor.NW_RESIZE_CURSOR, Cursor.NE_RESIZE_CURSOR, Cursor.SW_RESIZE_CURSOR, Cursor.SE_RESIZE_CURSOR, Cursor.MOVE_CURSOR, Cursor.DEFAULT_CURSOR};
-
-    public DefaultResizableBorder(int dist) {
-        this.dist = dist;
-    }
-
-    public Insets getBorderInsets(Component component) {
-        return new Insets(dist, dist, dist, dist);
-    }
-
-    public boolean isBorderOpaque() {
-        return false;
-    }
-
-    public void paintBorder(Component component, Graphics g, int x, int y, int w, int h) {
-        g.setColor(Color.black);
-        g.drawRect(x + dist / 2, y + dist / 2, w - dist, h - dist);
-
-        for (int i = 0; i &lt; locations.length - 2; i++) {
-            Rectangle rect = getRectangle(x, y, w, h, locations[i]);
-            g.setColor(Color.WHITE);
-            g.fillRect(rect.x, rect.y, rect.width - 1, rect.height - 1);
-            g.setColor(Color.BLACK);
-            g.drawRect(rect.x, rect.y, rect.width - 1, rect.height - 1);
-        }
-    }
-
-    private Rectangle getRectangle(int x, int y, int w, int h, int location) {
-        switch (location) {
-            case SwingConstants.NORTH:
-                return new Rectangle(x + w / 2 - dist / 2, y, dist, dist);
-            case SwingConstants.SOUTH:
-                return new Rectangle(x + w / 2 - dist / 2, y + h - dist, dist, dist);
-            case SwingConstants.WEST:
-                return new Rectangle(x, y + h / 2 - dist / 2, dist, dist);
-            case SwingConstants.EAST:
-                return new Rectangle(x + w - dist, y + h / 2 - dist / 2, dist, dist);
-            case SwingConstants.NORTH_WEST:
-                return new Rectangle(x, y, dist, dist);
-            case SwingConstants.NORTH_EAST:
-                return new Rectangle(x + w - dist, y, dist, dist);
-            case SwingConstants.SOUTH_WEST:
-                return new Rectangle(x, y + h - dist, dist, dist);
-            case SwingConstants.SOUTH_EAST:
-                return new Rectangle(x + w - dist, y + h - dist, dist, dist);
-        }
-        return null;
-    }
-
-    public int getResizeCursor(MouseEvent me) {
-        Component comp = me.getComponent();
-        int w = comp.getWidth();
-        int h = comp.getHeight();
-
-        Rectangle bounds = new Rectangle(0, 0, w, h);
-
-        if (!bounds.contains(me.getPoint())) {
-            return Cursor.DEFAULT_CURSOR;
-        }
-        Rectangle actualBounds = new Rectangle(dist, dist, w - 2 * dist, h - 2 * dist);
-        if (actualBounds.contains(me.getPoint())) {
-            return Cursor.DEFAULT_CURSOR;
-        }
-        for (int i = 0; i &lt; locations.length - 2; i++) {
-            Rectangle rect = getRectangle(0, 0, w, h, locations[i]);
-            if (rect.contains(me.getPoint())) {
-                return cursors[i];
-            }
-        }
-
-        return Cursor.MOVE_CURSOR;
-    }
-}

Deleted: trunk/Lobby/AFLobby/src/aflobby/UI/ResizableBorder.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/ResizableBorder.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/ResizableBorder.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -1,32 +0,0 @@
-/*
- * ResizableBorder.java
- * 
- * Created on 08-Aug-2007, 13:27:51
- * 
- * To change this template, choose Tools | Templates
- * and open the template in the editor.
- */
-
-package aflobby.UI;
-
-import java.awt.event.MouseEvent;
-
-/**
- * MySwing: Advanced Swing Utilites
- * Copyright (C) 2005  Santhosh Kumar T
- * &lt;p/&gt;
- * This library is free software; you can redistribute it and/or
- * modify it under the terms of the GNU Lesser General Public
- * License as published by the Free Software Foundation; either
- * version 2.1 of the License, or (at your option) any later version.
- * &lt;p/&gt;
- * This library is distributed in the hope that it will be useful,
- * but WITHOUT ANY WARRANTY; without even the implied warranty of
- * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
- * Lesser General Public License for more details.
- *
- * @author Santhosh Kumar T
- */
-public interface ResizableBorder extends javax.swing.border.Border{
-    public int getResizeCursor(MouseEvent me);
-}
\ No newline at end of file

Added: trunk/Lobby/AFLobby/src/aflobby/UI/borders/DefaultResizableBorder.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/borders/DefaultResizableBorder.java	                        (rev 0)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/borders/DefaultResizableBorder.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -0,0 +1,117 @@
+/*
+ * DefaultResizableBorder.java
+ *
+ * Created on 08-Aug-2007, 13:22:10
+ *
+ * To change this template, choose Tools | Templates
+ * and open the template in the editor.
+ */
+
+package aflobby.UI.borders;
+
+import aflobby.UI.*;
+import aflobby.UI.borders.ResizableBorder;
+import java.awt.Color;
+import java.awt.Component;
+import java.awt.Cursor;
+import java.awt.Graphics;
+import java.awt.Insets;
+import java.awt.Rectangle;
+import java.awt.event.MouseEvent;
+import javax.swing.SwingConstants;
+
+/**
+ * MySwing: Advanced Swing Utilites
+ * Copyright (C) 2005  Santhosh Kumar T
+ * &lt;p/&gt;
+ * This library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Lesser General Public
+ * License as published by the Free Software Foundation; either
+ * version 2.1 of the License, or (at your option) any later version.
+ * &lt;p/&gt;
+ * This library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Lesser General Public License for more details.
+ *
+ * @author Santhosh Kumar T
+ */
+public class DefaultResizableBorder implements ResizableBorder {
+
+    private int dist = 6;
+
+    int[] locations = {SwingConstants.NORTH, SwingConstants.SOUTH, SwingConstants.WEST, SwingConstants.EAST, SwingConstants.NORTH_WEST, SwingConstants.NORTH_EAST, SwingConstants.SOUTH_WEST, SwingConstants.SOUTH_EAST, 0, -1};
+
+    int[] cursors = {Cursor.N_RESIZE_CURSOR, Cursor.S_RESIZE_CURSOR, Cursor.W_RESIZE_CURSOR, Cursor.E_RESIZE_CURSOR, Cursor.NW_RESIZE_CURSOR, Cursor.NE_RESIZE_CURSOR, Cursor.SW_RESIZE_CURSOR, Cursor.SE_RESIZE_CURSOR, Cursor.MOVE_CURSOR, Cursor.DEFAULT_CURSOR};
+
+    public DefaultResizableBorder(int dist) {
+        this.dist = dist;
+    }
+
+    public Insets getBorderInsets(Component component) {
+        return new Insets(dist, dist, dist, dist);
+    }
+
+    public boolean isBorderOpaque() {
+        return false;
+    }
+
+    public void paintBorder(Component component, Graphics g, int x, int y, int w, int h) {
+        g.setColor(Color.black);
+        g.drawRect(x + dist / 2, y + dist / 2, w - dist, h - dist);
+
+        for (int i = 0; i &lt; locations.length - 2; i++) {
+            Rectangle rect = getRectangle(x, y, w, h, locations[i]);
+            g.setColor(Color.WHITE);
+            g.fillRect(rect.x, rect.y, rect.width - 1, rect.height - 1);
+            g.setColor(Color.BLACK);
+            g.drawRect(rect.x, rect.y, rect.width - 1, rect.height - 1);
+        }
+    }
+
+    private Rectangle getRectangle(int x, int y, int w, int h, int location) {
+        switch (location) {
+            case SwingConstants.NORTH:
+                return new Rectangle(x + w / 2 - dist / 2, y, dist, dist);
+            case SwingConstants.SOUTH:
+                return new Rectangle(x + w / 2 - dist / 2, y + h - dist, dist, dist);
+            case SwingConstants.WEST:
+                return new Rectangle(x, y + h / 2 - dist / 2, dist, dist);
+            case SwingConstants.EAST:
+                return new Rectangle(x + w - dist, y + h / 2 - dist / 2, dist, dist);
+            case SwingConstants.NORTH_WEST:
+                return new Rectangle(x, y, dist, dist);
+            case SwingConstants.NORTH_EAST:
+                return new Rectangle(x + w - dist, y, dist, dist);
+            case SwingConstants.SOUTH_WEST:
+                return new Rectangle(x, y + h - dist, dist, dist);
+            case SwingConstants.SOUTH_EAST:
+                return new Rectangle(x + w - dist, y + h - dist, dist, dist);
+        }
+        return null;
+    }
+
+    public int getResizeCursor(MouseEvent me) {
+        Component comp = me.getComponent();
+        int w = comp.getWidth();
+        int h = comp.getHeight();
+
+        Rectangle bounds = new Rectangle(0, 0, w, h);
+
+        if (!bounds.contains(me.getPoint())) {
+            return Cursor.DEFAULT_CURSOR;
+        }
+        Rectangle actualBounds = new Rectangle(dist, dist, w - 2 * dist, h - 2 * dist);
+        if (actualBounds.contains(me.getPoint())) {
+            return Cursor.DEFAULT_CURSOR;
+        }
+        for (int i = 0; i &lt; locations.length - 2; i++) {
+            Rectangle rect = getRectangle(0, 0, w, h, locations[i]);
+            if (rect.contains(me.getPoint())) {
+                return cursors[i];
+            }
+        }
+
+        return Cursor.MOVE_CURSOR;
+    }
+}

Added: trunk/Lobby/AFLobby/src/aflobby/UI/borders/ResizableBorder.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/UI/borders/ResizableBorder.java	                        (rev 0)
+++ trunk/Lobby/AFLobby/src/aflobby/UI/borders/ResizableBorder.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -0,0 +1,32 @@
+/*
+ * ResizableBorder.java
+ * 
+ * Created on 08-Aug-2007, 13:27:51
+ * 
+ * To change this template, choose Tools | Templates
+ * and open the template in the editor.
+ */
+
+package aflobby.UI.borders;
+
+import java.awt.event.MouseEvent;
+
+/**
+ * MySwing: Advanced Swing Utilites
+ * Copyright (C) 2005  Santhosh Kumar T
+ * &lt;p/&gt;
+ * This library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Lesser General Public
+ * License as published by the Free Software Foundation; either
+ * version 2.1 of the License, or (at your option) any later version.
+ * &lt;p/&gt;
+ * This library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Lesser General Public License for more details.
+ *
+ * @author Santhosh Kumar T
+ */
+public interface ResizableBorder extends javax.swing.border.Border{
+    public int getResizeCursor(MouseEvent me);
+}
\ No newline at end of file

Added: trunk/Lobby/AFLobby/src/aflobby/helpers/CFSHelper.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/helpers/CFSHelper.java	                        (rev 0)
+++ trunk/Lobby/AFLobby/src/aflobby/helpers/CFSHelper.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -0,0 +1,51 @@
+/*
+ * CFSHelper.java
+ *
+ * Created on 08-Aug-2007, 19:10:51
+ *
+ * To change this template, choose Tools | Templates
+ * and open the template in the editor.
+ */
+
+package aflobby.helpers;
+
+import java.io.File;
+import java.io.FileNotFoundException;
+import java.net.URL;
+import java.util.Scanner;
+
+/**
+ *
+ * @author Tom
+ */
+public class CFSHelper {
+
+    public CFSHelper() {
+    }
+
+    public static String GetFileContents(String filepath) {
+        return GetFileContents(new File(filepath));
+    }
+    
+    public static String GetFileContents(File f) {
+        Scanner read_in;
+        try {
+            String t = &quot;&quot;;
+            read_in = new Scanner(f);
+            //read_in.useDelimiter ();
+            while (read_in.hasNext()) {
+                t += read_in.nextLine() + System.getProperty(&quot;line.separator&quot;);
+                //t += new String (read_in.next ());
+            }
+            read_in.close();
+            return t;
+        } catch (FileNotFoundException e) {
+            //e.printStackTrace();
+            return &quot;&quot;; //
+        }
+    }
+    
+    public static URL GetResourceURL(String file){
+        return file.getClass().getResource(file);
+    }
+}

Added: trunk/Lobby/AFLobby/src/aflobby/helpers/CHolePuncher.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/helpers/CHolePuncher.java	                        (rev 0)
+++ trunk/Lobby/AFLobby/src/aflobby/helpers/CHolePuncher.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -0,0 +1,51 @@
+package aflobby.helpers;
+
+import java.io.IOException;
+import java.net.DatagramPacket;
+import java.net.DatagramSocket;
+import java.net.InetAddress;
+
+/*
+ * CHolePuncher.java
+ *
+ * Created on 27 April 2007, 01:52
+ *
+ * To change this template, choose Tools | Template Manager
+ * and open the template in the editor.
+ */
+
+/**
+ *
+ * @author Tom
+ */
+public class CHolePuncher {
+    public static String server=&quot;&quot;;
+    public static int port=8452;
+    /** Creates a new instance of CHolePuncher */
+    public CHolePuncher () {
+    }
+    public static boolean SendRequest (){
+        return SendRequest(server,port);
+    }
+    public static boolean SendRequest (int myport){
+        return SendRequest(server,myport);
+    }
+    public static boolean SendRequest (String myServer, int myport){
+        try{
+            DatagramSocket socket;
+            DatagramPacket packet;
+            InetAddress address;
+            socket = new DatagramSocket ();
+            address = InetAddress.getByName (myServer);
+            String mess = &quot;heidihi!&quot;;
+            byte message[] = mess.getBytes ();
+            packet = new DatagramPacket (message, message.length, address, myport);
+            socket.send (packet);
+            socket.close ();
+        } catch(IOException io){
+            return false;
+        }
+        return true;
+    }
+    
+}

Modified: trunk/Lobby/AFLobby/src/aflobby/languages.properties
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/languages.properties	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/languages.properties	2008-02-09 15:22:41 UTC (rev 5473)
@@ -1,4 +1,4 @@
-\u00ef\u00bb\u00bf# Sample ResourceBundle properties file
+\u00EF\u00BB\u00BF# Sample ResourceBundle properties file
 
 AePlayWave.Wave_file_not_found\:_=Wave file not found\: 
 
@@ -315,9 +315,6 @@
 CChannelView.jLabel12.text=Ladder
 CChannelView.jButton1.text=Reload Ladders
 CChannelView.jButton2.text_1=View Ladder Rules
-CChannelView.jButton15.text=Spring League (Ladder)
-CChannelView.jButton12.text=Download Maps (UF)
-CChannelView.jButton13.text=Download Mods (UF)
 CStartRectangleDrawer.LoadButton.text=Load Boxes
 CStartRectangleDrawer.SaveButton.text=Save Boxes
 CStartRectangleDrawer.ClearButton.text=Clear Boxes
@@ -344,5 +341,5 @@
 CChannelView.jPanel7.TabConstraints.tabTitle_1=Start
 CChannel.MutliLineToggle.text=Multiline message emulation
 CChannelView.playerTablePanel.TabConstraints.tabTitle=PlayerList
-CChannelView.jLabel4.text=Search
+CChannelView.jLabel4.text=Search:
 CChannelView.jPanel1.TabConstraints.tabTitle=Player List

Modified: trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/ui/CChannelList.java
===================================================================
--- trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/ui/CChannelList.java	2008-02-09 11:19:29 UTC (rev 5472)
+++ trunk/Lobby/AFLobby/src/aflobby/protocol/tasserver/ui/CChannelList.java	2008-02-09 15:22:41 UTC (rev 5473)
@@ -7,7 +7,7 @@
 package aflobby.protocol.tasserver.ui;
 
 import aflobby.CChannelInfo;
-import aflobby.CChannelTableModel;
+import aflobby.UI.CChannelTableModel;
 import aflobby.framework.CEvent;
 import aflobby.LMain;
 import aflobby.Misc;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000279.html">[Taspring-linux-commit] r5472 - trunk/Lobby/TASClient
</A></li>
	<LI>Next message: <A HREF="000281.html">[Taspring-linux-commit] r5474 - in trunk/tools/springie/Springie: .	autohost utils
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#280">[ date ]</a>
              <a href="thread.html#280">[ thread ]</a>
              <a href="subject.html#280">[ subject ]</a>
              <a href="author.html#280">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
