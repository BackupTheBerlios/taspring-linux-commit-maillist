<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r7456 - in Lobby/TASClient: . ScrollingNews
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2010-April/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7456%20-%20in%20Lobby/TASClient%3A%20.%20ScrollingNews&In-Reply-To=%3C20100402180220.2335A23D6A%40it-l.eu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002225.html">
   <LINK REL="Next"  HREF="002227.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r7456 - in Lobby/TASClient: . ScrollingNews</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7456%20-%20in%20Lobby/TASClient%3A%20.%20ScrollingNews&In-Reply-To=%3C20100402180220.2335A23D6A%40it-l.eu%3E"
       TITLE="[Taspring-linux-commit] r7456 - in Lobby/TASClient: . ScrollingNews">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Fri Apr  2 20:02:20 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002225.html">[Taspring-linux-commit] r7455 - Lobby/TASClient
</A></li>
        <LI>Next message: <A HREF="002227.html">[Taspring-linux-commit] r7457 - in Lobby/TASClient: . Graphics
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2226">[ date ]</a>
              <a href="thread.html#2226">[ thread ]</a>
              <a href="subject.html#2226">[ subject ]</a>
              <a href="author.html#2226">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: satirik
Date: 2010-04-02 20:02:19 +0200 (Fri, 02 Apr 2010)
New Revision: 7456

Added:
   Lobby/TASClient/TASClient.skn
Modified:
   Lobby/TASClient/BattleFormUnit.pas
   Lobby/TASClient/ColorsPreferenceUnit.dfm
   Lobby/TASClient/ColorsPreferenceUnit.pas
   Lobby/TASClient/MainUnit.dfm
   Lobby/TASClient/MainUnit.pas
   Lobby/TASClient/PreferencesFormUnit.dfm
   Lobby/TASClient/PreferencesFormUnit.pas
   Lobby/TASClient/ScrollingNews/newsItemBg.png
   Lobby/TASClient/ScrollingNews/newsItemLeftBg.png
   Lobby/TASClient/ScrollingNews/newsItemRightBg.png
   Lobby/TASClient/ScrollingNews/newsItemSelBg.png
   Lobby/TASClient/ScrollingNews/newsItemSelLeftBg.png
   Lobby/TASClient/ScrollingNews/newsItemSelRightBg.png
   Lobby/TASClient/ScrollingNews/page.html
   Lobby/TASClient/ScrollingNews/template.html
   Lobby/TASClient/TASClient.cfg
   Lobby/TASClient/TASClient.dof
   Lobby/TASClient/TASClient.res
Log:
** 0.71 BETA **
* switch to latest sptbx last part
* tasclient skin file added
* scrolling news theme back to back/yellow (maybe a bit too yellow ill update that later)
* colors preference save/load added
* fixed ingame battles not correctly filtered sometimes

Modified: Lobby/TASClient/BattleFormUnit.pas
===================================================================
--- Lobby/TASClient/BattleFormUnit.pas	2010-04-01 20:00:41 UTC (rev 7455)
+++ Lobby/TASClient/BattleFormUnit.pas	2010-04-02 18:02:19 UTC (rev 7456)
@@ -7405,25 +7405,25 @@
     QuickLookRichEdit.SelAttributes.Name := 'MS Sans Serif';
     QuickLookRichEdit.SelAttributes.Style := [fsBold];
     QuickLookRichEdit.SelAttributes.Size := 14;
-    QuickLookRichEdit.SelAttributes.Color := clWindowText;
+    QuickLookRichEdit.SelAttributes.Color := Colors.Normal;
   end;
   procedure SetNormalAttr;
   begin
     QuickLookRichEdit.SelAttributes.Name := 'MS Sans Serif';
     QuickLookRichEdit.SelAttributes.Style := [];
     QuickLookRichEdit.SelAttributes.Size := 8;
-    QuickLookRichEdit.SelAttributes.Color := clWindowText;
+    QuickLookRichEdit.SelAttributes.Color := Colors.Normal;
   end;
   procedure SetNotDefaultAttr;
   begin
-    QuickLookRichEdit.SelAttributes.Color := $b321a4;
+    QuickLookRichEdit.SelAttributes.Color := Colors.BattleDetailsNonDefault;
   end;
   procedure SetHasChangedAttr;
   begin
     QuickLookRichEdit.SelAttributes.Name := 'MS Sans Serif';
     QuickLookRichEdit.SelAttributes.Style := [fsBold];
     QuickLookRichEdit.SelAttributes.Size := 8;
-    QuickLookRichEdit.SelAttributes.Color := $00d85600;
+    QuickLookRichEdit.SelAttributes.Color := Colors.BattleDetailsChanged;
   end;
   procedure AddTitle(str: string);
   begin

Modified: Lobby/TASClient/ColorsPreferenceUnit.dfm
===================================================================
--- Lobby/TASClient/ColorsPreferenceUnit.dfm	2010-04-01 20:00:41 UTC (rev 7455)
+++ Lobby/TASClient/ColorsPreferenceUnit.dfm	2010-04-02 18:02:19 UTC (rev 7456)
@@ -1,10 +1,10 @@
 object ColorsPreference: TColorsPreference
-  Left = 792
-  Top = 519
+  Left = 1145
+  Top = 133
   BorderStyle = bsDialog
   Caption = 'Color Preferences'
-  ClientHeight = 433
-  ClientWidth = 584
+  ClientHeight = 439
+  ClientWidth = 642
   Color = clBtnFace
   Constraints.MaxHeight = 1150
   Constraints.MaxWidth = 1920
@@ -22,13 +22,13 @@
   object SpTBXTitleBar1: TSpTBXTitleBar
     Left = 0
     Top = 0
-    Width = 584
-    Height = 433
+    Width = 642
+    Height = 439
     Caption = 'Colors and Font Preference'
     FixedSize = True
     Options.Maximize = False
     object btOk: TSpTBXButton
-      Left = 384
+      Left = 440
       Top = 392
       Width = 88
       Height = 25
@@ -39,7 +39,7 @@
     object btRest: TSpTBXButton
       Left = 22
       Top = 392
-      Width = 88
+      Width = 107
       Height = 25
       Caption = 'Reset'
       Font.Charset = DEFAULT_CHARSET
@@ -49,10 +49,10 @@
       Font.Style = []
       ParentFont = False
       TabOrder = 2
-      OnClick = btRestClick
+      DropDownMenu = ResetColorsPopupMenu
     end
     object btCancel: TSpTBXButton
-      Left = 475
+      Left = 531
       Top = 392
       Width = 88
       Height = 25
@@ -162,7 +162,7 @@
       end
       object Panel3: TPanel
         Left = 173
-        Top = 140
+        Top = 138
         Width = 57
         Height = 21
         BevelOuter = bvNone
@@ -415,12 +415,12 @@
     object SpTBXGroupBox2: TSpTBXGroupBox
       Left = 296
       Top = 40
-      Width = 265
+      Width = 321
       Height = 281
       Caption = 'Other colors'
       TabOrder = 5
       object SpTBXButton10: TSpTBXButton
-        Left = 232
+        Left = 288
         Top = 19
         Width = 25
         Height = 20
@@ -429,7 +429,7 @@
         OnClick = SpTBXButton10Click
       end
       object Panel10: TPanel
-        Left = 173
+        Left = 229
         Top = 19
         Width = 57
         Height = 21
@@ -453,7 +453,7 @@
         Caption = 'Map/Mod not available :'
       end
       object Panel11: TPanel
-        Left = 173
+        Left = 229
         Top = 43
         Width = 57
         Height = 21
@@ -463,7 +463,7 @@
         TabOrder = 4
       end
       object SpTBXButton11: TSpTBXButton
-        Left = 232
+        Left = 288
         Top = 43
         Width = 25
         Height = 20
@@ -479,7 +479,7 @@
         Caption = 'Bot color :'
       end
       object Panel12: TPanel
-        Left = 173
+        Left = 229
         Top = 67
         Width = 57
         Height = 21
@@ -489,7 +489,7 @@
         TabOrder = 7
       end
       object SpTBXButton12: TSpTBXButton
-        Left = 232
+        Left = 288
         Top = 67
         Width = 25
         Height = 20
@@ -497,11 +497,63 @@
         TabOrder = 8
         OnClick = SpTBXButton12Click
       end
+      object SpTBXLabel17: TSpTBXLabel
+        Left = 16
+        Top = 92
+        Width = 148
+        Height = 13
+        Caption = 'Battle details non default color :'
+      end
+      object Panel16: TPanel
+        Left = 229
+        Top = 91
+        Width = 57
+        Height = 21
+        BevelOuter = bvNone
+        BorderStyle = bsSingle
+        Color = clBlack
+        TabOrder = 10
+      end
+      object SpTBXButton17: TSpTBXButton
+        Left = 288
+        Top = 91
+        Width = 25
+        Height = 20
+        Caption = '...'
+        TabOrder = 11
+        OnClick = SpTBXButton17Click
+      end
+      object SpTBXLabel18: TSpTBXLabel
+        Left = 16
+        Top = 116
+        Width = 114
+        Height = 13
+        Caption = 'Battle details changed  :'
+      end
+      object Panel17: TPanel
+        Left = 229
+        Top = 115
+        Width = 57
+        Height = 21
+        BevelOuter = bvNone
+        BorderStyle = bsSingle
+        Color = clBlack
+        TabOrder = 13
+      end
+      object SpTBXButton18: TSpTBXButton
+        Left = 288
+        Top = 115
+        Width = 25
+        Height = 20
+        Caption = '...'
+        TabOrder = 14
+        OnClick = SpTBXButton18Click
+      end
     end
     object SpTBXGroupBox3: TSpTBXGroupBox
       Left = 296
       Top = 328
-      Width = 265
+      Width = 321
       Height = 49
       Caption = 'Chat font'
       TabOrder = 6
@@ -513,7 +565,7 @@
         Caption = 'lblFontName'
       end
       object SpTBXButton15: TSpTBXButton
-        Left = 224
+        Left = 280
         Top = 16
         Width = 33
         Height = 25
@@ -522,6 +574,24 @@
         OnClick = SpTBXButton15Click
       end
     end
+    object btLoad: TSpTBXButton
+      Left = 136
+      Top = 392
+      Width = 97
+      Height = 25
+      Caption = 'Load'
+      TabOrder = 7
+      OnClick = btLoadClick
+    end
+    object btSave: TSpTBXButton
+      Left = 240
+      Top = 392
+      Width = 97
+      Height = 25
+      Caption = 'Save'
+      TabOrder = 8
+      OnClick = btSaveClick
+    end
   end
   object FontDialog1: TFontDialog
     Font.Charset = DEFAULT_CHARSET
@@ -532,4 +602,24 @@
     Left = 384
     Top = 344
   end
+  object OpenDialog1: TOpenDialog
+    Left = 168
+    Top = 368
+  end
+  object SaveDialog1: TSaveDialog
+    Left = 272
+    Top = 368
+  end
+  object ResetColorsPopupMenu: TSpTBXPopupMenu
+    Left = 8
+    Top = 400
+    object SpTBXItem2: TSpTBXItem
+      Caption = 'Reset to new colors'
+      OnClick = SpTBXItem2Click
+    end
+    object SpTBXItem1: TSpTBXItem
+      Caption = 'Reset to old colors'
+      OnClick = SpTBXItem1Click
+    end
+  end
 end

Modified: Lobby/TASClient/ColorsPreferenceUnit.pas
===================================================================
--- Lobby/TASClient/ColorsPreferenceUnit.pas	2010-04-01 20:00:41 UTC (rev 7455)
+++ Lobby/TASClient/ColorsPreferenceUnit.pas	2010-04-02 18:02:19 UTC (rev 7456)
@@ -4,8 +4,9 @@
 
 uses
   Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
-  Dialogs, SpTBXItem, SpTBXControls, ExtCtrls, Misc,MainUnit,
-  TntComCtrls,SpTBXEditors,RichEdit2, ExRichEdit,TntStdCtrls;
+  Dialogs, SpTBXItem, SpTBXControls, ExtCtrls, Misc,MainUnit,IniFiles,
+  TntComCtrls,SpTBXEditors,RichEdit2, ExRichEdit,TntStdCtrls, TB2Item,
+  Menus;
 
 type
   TColorsPreference = class(TForm)
@@ -67,6 +68,19 @@
     SpTBXLabel16: TSpTBXLabel;
     Panel15: TPanel;
     SpTBXButton16: TSpTBXButton;
+    SpTBXLabel17: TSpTBXLabel;
+    Panel16: TPanel;
+    SpTBXButton17: TSpTBXButton;
+    SpTBXLabel18: TSpTBXLabel;
+    Panel17: TPanel;
+    SpTBXButton18: TSpTBXButton;
+    btLoad: TSpTBXButton;
+    btSave: TSpTBXButton;
+    OpenDialog1: TOpenDialog;
+    SaveDialog1: TSaveDialog;
+    ResetColorsPopupMenu: TSpTBXPopupMenu;
+    SpTBXItem1: TSpTBXItem;
+    SpTBXItem2: TSpTBXItem;
     procedure FormCreate(Sender: TObject);
     procedure SpTBXButton0Click(Sender: TObject);
     procedure SpTBXButton1Click(Sender: TObject);
@@ -80,7 +94,6 @@
     procedure SpTBXButton9Click(Sender: TObject);
     procedure btOkClick(Sender: TObject);
     procedure btCancelClick(Sender: TObject);
-    procedure btRestClick(Sender: TObject);
     procedure SpTBXButton10Click(Sender: TObject);
     procedure SpTBXButton11Click(Sender: TObject);
     procedure SpTBXButton12Click(Sender: TObject);
@@ -89,10 +102,17 @@
     procedure FormShow(Sender: TObject);
     procedure SpTBXButton14Click(Sender: TObject);
     procedure SpTBXButton16Click(Sender: TObject);
+    procedure SpTBXButton17Click(Sender: TObject);
+    procedure SpTBXButton18Click(Sender: TObject);
+    procedure btSaveClick(Sender: TObject);
+    procedure btLoadClick(Sender: TObject);
+    procedure SpTBXItem1Click(Sender: TObject);
+    procedure SpTBXItem2Click(Sender: TObject);
   private
     { Private declarations }
   public
     procedure ApplyFont;
+    procedure LoadColors(FileName: String);
   end;
 
 var
@@ -180,6 +200,8 @@
   Colors.MyText := Panel13.Color;
   Colors.AdminText := Panel14.Color;
   Colors.OldMsgs := Panel15.Color;
+  Colors.BattleDetailsNonDefault := Panel16.Color;
+  COlors.BattleDetailsChanged := Panel17.Color;
   ApplyFont;
 
   ModalResult := mrOk;
@@ -190,30 +212,6 @@
   ModalResult := mrCancel;
 end;
 
-procedure TColorsPreference.btRestClick(Sender: TObject);
-begin
-  Panel0.Color := clBlack;
-  Panel1.Color := clGreen;
-  Panel2.Color := clRed;
-  Panel3.Color := clBlue;
-  Panel4.Color := clNavy;
-  Panel5.Color := clGreen;
-  Panel6.Color := clNavy;
-  Panel7.Color := clMaroon;
-  Panel8.Color := clPurple;
-  Panel9.Color := clMaroon;
-  Panel10.Color := $009F9F9F;
-  Panel11.Color := $00ed00d5;
-  Panel12.Color := clGray;
-  Panel13.Color := $0092726e;
-  Panel14.Color := $000366A3;
-  Panel15.Color := $00c3c3c3;
-
-  CommonFont.Name := 'Fixedsys';
-  CommonFont.Size := 8;
-  lblFontName.Caption := CommonFont.Name;
-end;
-
 procedure TColorsPreference.SpTBXButton10Click(Sender: TObject);
 begin
   Panel10.Color := InputColor(_('Choose a color ...'),Panel10.Color);
@@ -295,6 +293,8 @@
   Panel13.Color := Colors.MyText;
   Panel14.Color := Colors.AdminText;
   Panel15.Color := Colors.OldMsgs;
+  Panel16.Color := Colors.BattleDetailsNonDefault;
+  Panel17.Color := Colors.BattleDetailsChanged;
   lblFontName.Caption := CommonFont.Name+'@'+IntToStr(CommonFont.Size);
 end;
 
@@ -308,4 +308,144 @@
   Panel15.Color := InputColor(_('Choose a color ...'),Panel15.Color);
 end;
 
+procedure TColorsPreference.SpTBXButton17Click(Sender: TObject);
+begin
+  Panel16.Color := InputColor(_('Choose a color ...'),Panel16.Color);
+end;
+
+procedure TColorsPreference.SpTBXButton18Click(Sender: TObject);
+begin
+  Panel17.Color := InputColor(_('Choose a color ...'),Panel17.Color);
+end;
+
+procedure TColorsPreference.btSaveClick(Sender: TObject);
+var
+  FileName: String;
+  Ini : TIniFile;
+begin
+  try
+    SaveDialog1.Filter := 'Skin file|*.skn';
+    SaveDialog1.Title := _('Save skin to ...');
+    SaveDialog1.InitialDir := ExtractFilePath(Application.ExeName);
+    if not SaveDialog1.Execute then Exit;
+    FileName := SaveDialog1.FileName;
+    Ini := TIniFile.Create(FileName);
+    Ini.WriteInteger('TASClientColor','Normal',Colors.Normal);
+    Ini.WriteInteger('TASClientColor','Data',Colors.Data);
+    Ini.WriteInteger('TASClientColor','Error',Colors.Error);
+    Ini.WriteInteger('TASClientColor','Info',Colors.Info);
+    Ini.WriteInteger('TASClientColor','MinorInfo',Colors.MinorInfo);
+    Ini.WriteInteger('TASClientColor','ChanJoin',Colors.ChanJoin);
+    Ini.WriteInteger('TASClientColor','ChanLeft',Colors.ChanLeft);
+    Ini.WriteInteger('TASClientColor','MOTD',Colors.MOTD);
+    Ini.WriteInteger('TASClientColor','SayEx',Colors.SayEx);
+    Ini.WriteInteger('TASClientColor','Topic',Colors.Topic);
+    Ini.WriteInteger('TASClientColor','ClientAway',Colors.ClientAway);
+    Ini.WriteInteger('TASClientColor','MapModUnavailable',Colors.MapModUnavailable);
+    Ini.WriteInteger('TASClientColor','BotText',Colors.BotText);
+    Ini.WriteInteger('TASClientColor','MyText',Colors.MyText);
+    Ini.WriteInteger('TASClientColor','AdminText',Colors.AdminText);
+    Ini.WriteInteger('TASClientColor','OldMsgs',Colors.OldMsgs);
+    Ini.WriteInteger('TASClientColor','BattleDetailsNonDefault',Colors.BattleDetailsNonDefault);
+    Ini.WriteInteger('TASClientColor','BattleDetailsChanged',Colors.BattleDetailsChanged);
+    Ini.Free;
+  except
+    MessageDlg(_('An error occured while saving.'),mtError,[mbOK],0);
+  end;
+end;
+
+procedure TColorsPreference.btLoadClick(Sender: TObject);
+var
+  FileName: String;
+begin
+  OpenDialog1.Filter := 'Skin file|*.skn';
+  OpenDialog1.Title := _('Open skin to ...');
+  OpenDialog1.InitialDir := ExtractFilePath(Application.ExeName);
+  if not OpenDialog1.Execute then Exit;
+  LoadColors(OpenDialog1.FileName);
+end;
+
+procedure TColorsPreference.LoadColors(FileName: String);
+var
+  Ini : TIniFile;
+begin
+  try
+    Ini := TIniFile.Create(FileName);
+    Colors.Normal := Ini.ReadInteger('TASClientColor','Normal',Colors.Normal);
+    Colors.Data := Ini.ReadInteger('TASClientColor','Data',Colors.Data);
+    Colors.Error := Ini.ReadInteger('TASClientColor','Error',Colors.Error);
+    Colors.Info := Ini.ReadInteger('TASClientColor','Info',Colors.Info);
+    Colors.MinorInfo := Ini.ReadInteger('TASClientColor','MinorInfo',Colors.MinorInfo);
+    Colors.ChanJoin := Ini.ReadInteger('TASClientColor','ChanJoin',Colors.ChanJoin);
+    Colors.ChanLeft := Ini.ReadInteger('TASClientColor','ChanLeft',Colors.ChanLeft);
+    Colors.MOTD := Ini.ReadInteger('TASClientColor','MOTD',Colors.MOTD);
+    Colors.SayEx := Ini.ReadInteger('TASClientColor','SayEx',Colors.SayEx);
+    Colors.Topic := Ini.ReadInteger('TASClientColor','Topic',Colors.Topic);
+    Colors.ClientAway := Ini.ReadInteger('TASClientColor','ClientAway',Colors.ClientAway);
+    Colors.MapModUnavailable := Ini.ReadInteger('TASClientColor','MapModUnavailable',Colors.MapModUnavailable);
+    Colors.BotText := Ini.ReadInteger('TASClientColor','BotText',Colors.BotText);
+    Colors.MyText := Ini.ReadInteger('TASClientColor','MyText',Colors.MyText);
+    Colors.AdminText := Ini.ReadInteger('TASClientColor','AdminText',Colors.AdminText);
+    Colors.OldMsgs := Ini.ReadInteger('TASClientColor','OldMsgs',Colors.OldMsgs);
+    Colors.BattleDetailsNonDefault := Ini.ReadInteger('TASClientColor','BattleDetailsNonDefault',Colors.BattleDetailsNonDefault);
+    Colors.BattleDetailsChanged := Ini.ReadInteger('TASClientColor','BattleDetailsChanged',Colors.BattleDetailsChanged);
+    FormShow(nil);
+    Ini.Free;
+  except
+    MessageDlg(_('An error occured while saving.'),mtError,[mbOK],0);
+  end;
+end;
+
+procedure TColorsPreference.SpTBXItem1Click(Sender: TObject);
+begin
+  Panel0.Color := clBlack;
+  Panel1.Color := clGreen;
+  Panel2.Color := clRed;
+  Panel3.Color := clBlue;
+  Panel4.Color := clNavy;
+  Panel5.Color := clGreen;
+  Panel6.Color := clNavy;
+  Panel7.Color := clMaroon;
+  Panel8.Color := clPurple;
+  Panel9.Color := clMaroon;
+  Panel10.Color := $009F9F9F;
+  Panel11.Color := $00ed00d5;
+  Panel12.Color := clGray;
+  Panel13.Color := $0092726e;
+  Panel14.Color := $000366A3;
+  Panel15.Color := $00c3c3c3;
+  Panel16.Color := $00b321a4;
+  Panel17.Color := $00d85600;
+
+  CommonFont.Name := 'Fixedsys';
+  CommonFont.Size := 8;
+  lblFontName.Caption := CommonFont.Name;
+end;
+
+procedure TColorsPreference.SpTBXItem2Click(Sender: TObject);
+begin
+  Panel0.Color := $00729EA6;
+  Panel1.Color := clGreen;
+  Panel2.Color := $003232C9;
+  Panel3.Color := $00FFC5A1;
+  Panel4.Color := $00D14D4D;
+  Panel5.Color := clGreen;
+  Panel6.Color := $00FFC5A1;
+  Panel7.Color := $0059597A;
+  Panel8.Color := $00855885;
+  Panel9.Color := $0059597A;
+  Panel10.Color := $00545454;
+  Panel11.Color := $00A8479F;
+  Panel12.Color := $00808080;
+  Panel13.Color := $00A2E0EB;
+  Panel14.Color := clWhite;
+  Panel15.Color := $00545454;
+  Panel16.Color := $00A8479F;
+  Panel17.Color := $00FFC5A1;
+
+  CommonFont.Name := 'Fixedsys';
+  CommonFont.Size := 8;
+  lblFontName.Caption := CommonFont.Name;
+end;
+
 end.

Modified: Lobby/TASClient/MainUnit.dfm
===================================================================
--- Lobby/TASClient/MainUnit.dfm	2010-04-01 20:00:41 UTC (rev 7455)
+++ Lobby/TASClient/MainUnit.dfm	2010-04-02 18:02:19 UTC (rev 7456)
@@ -1,6 +1,6 @@
 object MainForm: TMainForm
-  Left = 657
-  Top = 208
+  Left = 670
+  Top = 76
   Width = 872
   Height = 521
   Caption = '.'
@@ -2039,7 +2039,7 @@
     Left = 145
     Top = 287
     Bitmap = {
-      494C010103000400040020002000FFFFFFFFFF00FFFFFFFFFFFFFFFF424D3600
+      494C010103000400040020002000FFFFFFFFFF10FFFFFFFFFFFFFFFF424D3600
       0000000000003600000028000000800000002000000001002000000000000040
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
@@ -2571,7 +2571,8 @@
       F000000FF000000FF000000F00000000F800001FF800001FF800001F00000000
       FC00003FFC00003FFC00003F00000000FE0000FFFE0000FFFE0000FF00000000
       FF8001FFFF8001FFFF8001FF00000000FFC007FFFFC007FFFFC007FF00000000
-      FFFC3FFFFFFC3FFFFFFC3FFF00000000}
+      FFFC3FFFFFFC3FFFFFFC3FFF0000000000000000000000000000000000000000
+      000000000000}
   end
   object Socket: TWSocket
     LineMode = False
@@ -6153,7 +6154,7 @@
     Left = 496
     Top = 288
     Bitmap = {
-      494C010102000400040010001000FFFFFFFFFF00FFFFFFFFFFFFFFFF424D3600
+      494C010102000400040010001000FFFFFFFFFF10FFFFFFFFFFFFFFFF424D3600
       0000000000003600000028000000400000001000000001002000000000000010
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
@@ -6289,7 +6290,8 @@
       FFFFFFFF00000000FFFFFFFF00000000FFFFFFFF00000000FFFFFFFF00000000
       E00FFEFF00000000F01FFC7F00000000F83FF83F00000000FC7FF01F00000000
       FEFFE00F00000000FFFFFFFF00000000FFFFFFFF00000000FFFFFFFF00000000
-      FFFFFFFF00000000FFFFFFFF00000000}
+      FFFFFFFF00000000FFFFFFFF0000000000000000000000000000000000000000
+      000000000000}
   end
   object HighlighBattlesTimer: TTimer
     Enabled = False

Modified: Lobby/TASClient/MainUnit.pas
===================================================================
--- Lobby/TASClient/MainUnit.pas	2010-04-01 20:00:41 UTC (rev 7455)
+++ Lobby/TASClient/MainUnit.pas	2010-04-02 18:02:19 UTC (rev 7456)
@@ -374,6 +374,8 @@
     MyText: TColor; // my chat text color
     AdminText: TColor;
     OldMsgs: TColor;
+    BattleDetailsNonDefault: TColor;
+    BattleDetailsChanged: TColor;
   end;
 
   TTeamColors = array[0..19] of TColor;
@@ -1672,7 +1674,7 @@
     Key: Word; // unique ping packet ID (we use it to identify the packet so we don't mingle it with other ping packets if more were sent at the same time)
   end;
 var
-  Colors: TColors = (Normal:clBlack; Data: clGreen; Error:clRed; Info:clBlue; MinorInfo: clNavy; ChanJoin: clGreen; ChanLeft: clNavy; MOTD: clMaroon; SayEx: clPurple; Topic: clMaroon; ClientAway: $009F9F9F; MapModUnavailable: $00ed00d5;BotText:clGray; MyText: $0092726e;AdminText: $000366A3; OldMsgs: $00c3c3c3 );
+  Colors: TColors = (Normal:$00729EA6; Data: clGreen; Error:$003232C9; Info:$00FFC5A1; MinorInfo: $00D14D4D; ChanJoin: clGreen; ChanLeft: $00FFC5A1; MOTD: $0059597A; SayEx: $00855885; Topic: $0059597A; ClientAway: $00545454; MapModUnavailable: $00A8479F;BotText:$00808080; MyText: $00A2E0EB;AdminText: clWhite; OldMsgs: $00545454; BattleDetailsNonDefault: $00A8479F; BattleDetailsChanged: $00FFC5A1 );
   Debug:
   record
     Enabled: Boolean; // show some debugging information

Modified: Lobby/TASClient/PreferencesFormUnit.dfm
===================================================================
--- Lobby/TASClient/PreferencesFormUnit.dfm	2010-04-01 20:00:41 UTC (rev 7455)
+++ Lobby/TASClient/PreferencesFormUnit.dfm	2010-04-02 18:02:19 UTC (rev 7456)
@@ -1,10 +1,10 @@
 object PreferencesForm: TPreferencesForm
-  Left = 1078
-  Top = 243
+  Left = 495
+  Top = 291
   BorderStyle = bsDialog
   Caption = 'Preferences'
   ClientHeight = 518
-  ClientWidth = 569
+  ClientWidth = 578
   Color = clBtnFace
   Constraints.MaxHeight = 1150
   Constraints.MaxWidth = 1920
@@ -24,7 +24,7 @@
   object SpTBXTitleBar1: TSpTBXTitleBar
     Left = 0
     Top = 0
-    Width = 569
+    Width = 578
     Height = 518
     Caption = 'Preferences'
     FixedSize = True
@@ -130,95 +130,6 @@
         Wrapping = twWrap
         CustomWidth = 78
       end
-      object SpTBXTabSheet6: TSpTBXTabSheet
-        Left = 0
-        Top = 44
-        Width = 553
-        Height = 373
-        Caption = 'Server'
-        ImageIndex = -1
-        TabItem = 'SpTBXTabItem6'
-        object GroupBox1: TSpTBXGroupBox
-          Left = 16
-          Top = 8
-          Width = 529
-          Height = 345
-          Caption = 'Server settings'
-          TabOrder = 0
-          object Label1: TSpTBXLabel
-            Left = 16
-            Top = 32
-            Width = 74
-            Height = 13
-            Caption = 'Server address:'
-          end
-          object Label2: TSpTBXLabel
-            Left = 16
-            Top = 56
-            Width = 55
-            Height = 13
-            Caption = 'Server port:'
-          end
-          object ServerPortEdit: TSpTBXEdit
-            Left = 128
-            Top = 56
-            Width = 41
-            Height = 21
-            TabOrder = 1
-            Text = '8200'
-          end
-          object CheckBox10: TSpTBXCheckBox
-            Left = 16
-            Top = 128
-            Width = 197
-            Height = 15
-            Caption = 'Connect to backup host if primary fails'
-            TabOrder = 2
-            Checked = True
-            State = cbChecked
-          end
-          object CheckBox2: TSpTBXCheckBox
-            Left = 16
-            Top = 144
-            Width = 108
-            Height = 15
-            Caption = 'Connect on startup'
-            TabOrder = 3
-          end
-          object CheckBox7: TSpTBXCheckBox
-            Left = 16
-            Top = 160
-            Width = 226
-            Height = 15
-            Caption = 'Join #main once connected (recommended)'
-            TabOrder = 4
-          end
-          object ServerAddressEdit: TSpTBXButtonEdit
-            Left = 128
-            Top = 32
-            Width = 385
-            Height = 21
-            TabOrder = 0
-            EditButton.Left = 361
-            EditButton.Top = 0
-            EditButton.Width = 20
-            EditButton.Height = 17
-            EditButton.Caption = '...'
-            EditButton.Align = alRight
-            EditButton.DropDownArrow = False
-            EditButton.DropDownMenu = AddressPopupMenu
-          end
-          object JvXPButton1: TSpTBXButton
-            Left = 400
-            Top = 56
-            Width = 113
-            Height = 21
-            Caption = 'Perform ...'
-            TabOrder = 7
-            OnClick = JvXPButton1Click
-          end
-        end
-      end
       object SpTBXTabSheet5: TSpTBXTabSheet
         Left = 0
         Top = 44
@@ -503,6 +414,245 @@
           end
         end
       end
+      object SpTBXTabSheet2: TSpTBXTabSheet
+        Left = 0
+        Top = 44
+        Width = 553
+        Height = 373
+        Caption = 'HTTP'
+        ImageIndex = -1
+        TabItem = 'SpTBXTabItem2'
+        object GroupBox6: TSpTBXGroupBox
+          Left = 16
+          Top = 8
+          Width = 529
+          Height = 345
+          Caption = 'Proxy settings'
+          TabOrder = 0
+          object UseProxyCheckBox: TSpTBXCheckBox
+            Left = 24
+            Top = 32
+            Width = 65
+            Height = 15
+            Caption = 'Use proxy'
+            TabOrder = 0
+            OnClick = UseProxyCheckBoxClick
+            Checked = True
+            State = cbChecked
+          end
+          object ProxyPanel: TSpTBXPanel
+            Left = 24
+            Top = 56
+            Width = 321
+            Height = 113
+            Caption = 'ProxyPanel'
+            TabOrder = 1
+            object ProxyEdit: TSpTBXEdit
+              Left = 96
+              Top = 8
+              Width = 209
+              Height = 21
+              TabOrder = 0
+            end
+            object Label7: TSpTBXLabel
+              Left = 8
+              Top = 8
+              Width = 41
+              Height = 13
+              Caption = 'Address:'
+            end
+            object Label8: TSpTBXLabel
+              Left = 8
+              Top = 32
+              Width = 22
+              Height = 13
+              Caption = 'Port:'
+            end
+            object JvProxyPortEdit: TJvValidateEdit
+              Left = 96
+              Top = 32
+              Width = 49
+              Height = 21
+              Alignment = taLeftJustify
+              CriticalPoints.MaxValueIncluded = False
+              CriticalPoints.MinValueIncluded = False
+              EditText = '0'
+              TabOrder = 3
+            end
+            object ProxyUserEdit: TSpTBXEdit
+              Left = 96
+              Top = 56
+              Width = 121
+              Height = 21
+              TabOrder = 4
+            end
+            object Label9: TSpTBXLabel
+              Left = 8
+              Top = 56
+              Width = 51
+              Height = 13
+              Caption = 'Username:'
+            end
+            object Label10: TSpTBXLabel
+              Left = 8
+              Top = 80
+              Width = 49
+              Height = 13
+              Caption = 'Password:'
+            end
+            object ProxyPassEdit: TSpTBXEdit
+              Left = 96
+              Top = 80
+              Width = 121
+              Height = 21
+              TabOrder = 7
+            end
+          end
+        end
+      end
+      object SpTBXTabSheet6: TSpTBXTabSheet
+        Left = 0
+        Top = 44
+        Width = 553
+        Height = 373
+        Caption = 'Server'
+        ImageIndex = -1
+        TabItem = 'SpTBXTabItem6'
+        object GroupBox1: TSpTBXGroupBox
+          Left = 16
+          Top = 8
+          Width = 529
+          Height = 345
+          Caption = 'Server settings'
+          TabOrder = 0
+          object Label1: TSpTBXLabel
+            Left = 16
+            Top = 32
+            Width = 74
+            Height = 13
+            Caption = 'Server address:'
+          end
+          object Label2: TSpTBXLabel
+            Left = 16
+            Top = 56
+            Width = 55
+            Height = 13
+            Caption = 'Server port:'
+          end
+          object ServerPortEdit: TSpTBXEdit
+            Left = 128
+            Top = 56
+            Width = 41
+            Height = 21
+            TabOrder = 1
+            Text = '8200'
+          end
+          object CheckBox10: TSpTBXCheckBox
+            Left = 16
+            Top = 128
+            Width = 197
+            Height = 15
+            Caption = 'Connect to backup host if primary fails'
+            TabOrder = 2
+            Checked = True
+            State = cbChecked
+          end
+          object CheckBox2: TSpTBXCheckBox
+            Left = 16
+            Top = 144
+            Width = 108
+            Height = 15
+            Caption = 'Connect on startup'
+            TabOrder = 3
+          end
+          object CheckBox7: TSpTBXCheckBox
+            Left = 16
+            Top = 160
+            Width = 226
+            Height = 15
+            Caption = 'Join #main once connected (recommended)'
+            TabOrder = 4
+          end
+          object ServerAddressEdit: TSpTBXButtonEdit
+            Left = 128
+            Top = 32
+            Width = 385
+            Height = 21
+            TabOrder = 0
+            EditButton.Left = 361
+            EditButton.Top = 0
+            EditButton.Width = 20
+            EditButton.Height = 17
+            EditButton.Caption = '...'
+            EditButton.Align = alRight
+            EditButton.DropDownArrow = False
+            EditButton.DropDownMenu = AddressPopupMenu
+          end
+          object JvXPButton1: TSpTBXButton
+            Left = 400
+            Top = 56
+            Width = 113
+            Height = 21
+            Caption = 'Perform ...'
+            TabOrder = 7
+            OnClick = JvXPButton1Click
+          end
+        end
+      end
+      object SpTBXTabSheet7: TSpTBXTabSheet
+        Left = 0
+        Top = 44
+        Width = 553
+        Height = 373
+        Caption = 'Scripts'
+        ImageIndex = -1
+        TabItem = 'SpTBXTabItem7'
+        object ScriptsDebugWindowBt: TSpTBXButton
+          Left = 160
+          Top = 56
+          Width = 233
+          Height = 25
+          Caption = 'Debug Window'
+          TabOrder = 0
+          OnClick = ScriptsDebugWindowBtClick
+        end
+        object ScriptsReloadBt: TSpTBXButton
+          Left = 160
+          Top = 88
+          Width = 233
+          Height = 25
+          Caption = 'Reload scripts'
+          TabOrder = 1
+          OnClick = ScriptsReloadBtClick
+        end
+        object ScriptsLoadNewBt: TSpTBXButton
+          Left = 160
+          Top = 120
+          Width = 233
+          Height = 25
+          Caption = 'Load new scripts'
+          TabOrder = 2
+          OnClick = ScriptsLoadNewBtClick
+        end
+        object ScriptsAdvancedOptionsBt: TSpTBXButton
+          Left = 160
+          Top = 152
+          Width = 233
+          Height = 25
+          Caption = 'Advanced options'
+          TabOrder = 3
+          Visible = False
+          OnClick = ScriptsAdvancedOptionsBtClick
+        end
+        object EnableScriptsCheckBox: TSpTBXCheckBox
+          Left = 180
+          Top = 24
+          Width = 193
+          Height = 15
+          Caption = 'Enable scripts BETA (requires restart)'
+          TabOrder = 4
+        end
+      end
       object SpTBXTabSheet3: TSpTBXTabSheet
         Left = 0
         Top = 44
@@ -716,156 +866,6 @@
           end
         end
       end
-      object SpTBXTabSheet2: TSpTBXTabSheet
-        Left = 0
-        Top = 44
-        Width = 553
-        Height = 373
-        Caption = 'HTTP'
-        ImageIndex = -1
-        TabItem = 'SpTBXTabItem2'
-        object GroupBox6: TSpTBXGroupBox
-          Left = 16
-          Top = 8
-          Width = 529
-          Height = 345
-          Caption = 'Proxy settings'
-          TabOrder = 0
-          object UseProxyCheckBox: TSpTBXCheckBox
-            Left = 24
-            Top = 32
-            Width = 65
-            Height = 15
-            Caption = 'Use proxy'
-            TabOrder = 0
-            OnClick = UseProxyCheckBoxClick
-            Checked = True
-            State = cbChecked
-          end
-          object ProxyPanel: TSpTBXPanel
-            Left = 24
-            Top = 56
-            Width = 321
-            Height = 113
-            Caption = 'ProxyPanel'
-            TabOrder = 1
-            object ProxyEdit: TSpTBXEdit
-              Left = 96
-              Top = 8
-              Width = 209
-              Height = 21
-              TabOrder = 0
-            end
-            object Label7: TSpTBXLabel
-              Left = 8
-              Top = 8
-              Width = 41
-              Height = 13
-              Caption = 'Address:'
-            end
-            object Label8: TSpTBXLabel
-              Left = 8
-              Top = 32
-              Width = 22
-              Height = 13
-              Caption = 'Port:'
-            end
-            object JvProxyPortEdit: TJvValidateEdit
-              Left = 96
-              Top = 32
-              Width = 49
-              Height = 21
-              Alignment = taLeftJustify
-              CriticalPoints.MaxValueIncluded = False
-              CriticalPoints.MinValueIncluded = False
-              EditText = '0'
-              TabOrder = 3
-            end
-            object ProxyUserEdit: TSpTBXEdit
-              Left = 96
-              Top = 56
-              Width = 121
-              Height = 21
-              TabOrder = 4
-            end
-            object Label9: TSpTBXLabel
-              Left = 8
-              Top = 56
-              Width = 51
-              Height = 13
-              Caption = 'Username:'
-            end
-            object Label10: TSpTBXLabel
-              Left = 8
-              Top = 80
-              Width = 49
-              Height = 13
-              Caption = 'Password:'
-            end
-            object ProxyPassEdit: TSpTBXEdit
-              Left = 96
-              Top = 80
-              Width = 121
-              Height = 21
-              TabOrder = 7
-            end
-          end
-        end
-      end
-      object SpTBXTabSheet7: TSpTBXTabSheet
-        Left = 0
-        Top = 44
-        Width = 553
-        Height = 373
-        Caption = 'Scripts'
-        ImageIndex = -1
-        TabItem = 'SpTBXTabItem7'
-        object ScriptsDebugWindowBt: TSpTBXButton
-          Left = 160
-          Top = 56
-          Width = 233
-          Height = 25
-          Caption = 'Debug Window'
-          TabOrder = 0
-          OnClick = ScriptsDebugWindowBtClick
-        end
-        object ScriptsReloadBt: TSpTBXButton
-          Left = 160
-          Top = 88
-          Width = 233
-          Height = 25
-          Caption = 'Reload scripts'
-          TabOrder = 1
-          OnClick = ScriptsReloadBtClick
-        end
-        object ScriptsLoadNewBt: TSpTBXButton
-          Left = 160
-          Top = 120
-          Width = 233
-          Height = 25
-          Caption = 'Load new scripts'
-          TabOrder = 2
-          OnClick = ScriptsLoadNewBtClick
-        end
-        object ScriptsAdvancedOptionsBt: TSpTBXButton
-          Left = 160
-          Top = 152
-          Width = 233
-          Height = 25
-          Caption = 'Advanced options'
-          TabOrder = 3
-          Visible = False
-          OnClick = ScriptsAdvancedOptionsBtClick
-        end
-        object EnableScriptsCheckBox: TSpTBXCheckBox
-          Left = 180
-          Top = 24
-          Width = 193
-          Height = 15
-          Caption = 'Enable scripts BETA (requires restart)'
-          TabOrder = 4
-        end
-      end
       object SpTBXTabSheet1: TSpTBXTabSheet
         Left = 0
         Top = 44
@@ -881,6 +881,9 @@
           Height = 345
           Caption = 'Skin manager'
           TabOrder = 0
+          DesignSize = (
+            529
+            345)
           object ThemesComboBox: TSpTBXComboBox
             Left = 48
             Top = 144
@@ -943,6 +946,24 @@
             TabOrder = 6
             OnClick = LoadSkinButtonClick
           end
+          object AdvancedSkinningCheckBox: TSpTBXCheckBox
+            Left = 32
+            Top = 208
+            Width = 187
+            Height = 15
+            Caption = 'Advanced skinning (requires restart)'
+            TabOrder = 7
+          end
+          object SkinEditorButton: TSpTBXButton
+            Left = 216
+            Top = 312
+            Width = 305
+            Height = 25
+            Caption = 'SkinEditor : <A HREF="http://www.silverpointdevelopment.com/">http://www.silverpointdevelopment.com/</A>'
+            Anchors = [akRight, akBottom]
+            TabOrder = 8
+            OnClick = SkinEditorButtonClick
+          end
         end
       end
     end
@@ -965,6 +986,357 @@
       OnClick = CancelAndCloseButtonClick
       Cancel = True
     end
+    object memoTASClientSkin: TTntMemo
+      Left = 720
+      Top = 80
+      Width = 401
+      Height = 385
+      Lines.Strings = (
+        '[Skin]'
+        'Name=TASClient Default Skin'
+        'Author=Satirik'
+        'ColorBtnFace=clBtnFace'
+        'FloatingWindowBorderSize=4'
+        'OfficeIcons=0'
+        'OfficeMenu=0'
+        'OfficeStatusBar=0'
+        ''
+        '[Dock]'
+        'Normal.Body=3, $00524743, $00463E3B, $0030302F, $00454545'
+        'Normal.Borders=0, clNone, clNone, clNone, clNone'
+        'Normal.TextColor=clWhite'
+        ''
+        '[DockablePanel]'
+        'Normal.Body=3, $00524743, $00463E3B, $0030302F, $00454545'
+        'Normal.Borders=0, $00333333, clBlack, $0030302F, $0030302F'
+        'Normal.TextColor=$007B919F'
+        ''
+        '[DockablePanelTitleBar]'
+        'Normal.Body=3, $00524743, $00463E3B, $0030302F, $00454545'
+        'Normal.Borders=0, $00333333, clBlack, $0030302F, $0030302F'
+        'Normal.TextColor=$007B919F'
+        ''
+        '[MenuBar]'
+        'Normal.Body=1, $00404040, $00292929, clNone, clNone'
+        'Normal.Borders=0, clBlack, clBlack, $00666666, $00333333'
+        'Normal.TextColor=$00A2E0EB'
+        ''
+        '[Panel]'
+        'Normal.Body=1, $00404040, $00292929, clNone, clNone'
+        'Normal.Borders=0, $00404040, $00404040, clNone, clNone'
+        'Normal.TextColor=$00A2E0EB'
+        ''
+        '[Popup]'
+        'Normal.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7'
+        'Normal.Borders=0, $0059858E, $0031474D, clNone, clNone'
+        'Normal.TextColor=$00A2E0EB'
+        ''
+        '[Separator]'
+        'Normal.Body=3, $00537C84, $00729EA6, $00CCF4F2, $004B93A7'
+        'Normal.Borders=0, $0059858E, $0031474D, clNone, clNone'
+        'Normal.TextColor=clBlack'
+        ''
+        '[Splitter]'
+        'Normal.Body=1, $00404040, $00292929, clNone, clNone'
+        'Normal.Borders=2, $00404040, $00404040, clNone, clNone'
+        'Normal.TextColor=$00A2E0EB'
+        ''
+        '[StatusBarGrip]'
+        'Normal.Body=0, $00B7C1CB, clWhite, clNone, clNone'
+        'Normal.Borders=0, clNone, clNone, clNone, clNone'
+        'Normal.TextColor=clNone'
+        ''
+        '[TabBackground]'
+        'Normal.Body=1, $001A1A1A, $00404040, $0030302F, $00454545'
+        'Normal.Borders=0, $001A1A1A, $001A1A1A, clNone, clNone'
+        'Normal.TextColor=clWhite'
+        ''
+        '[TabToolbar]'
+        'Normal.Body=0, $00333333, $00463E3B, $0030302F, $00454545'
+        'Normal.Borders=0, clNone, clNone, clNone, clNone'
+        'Normal.TextColor=clWhite'
+        ''
+        '[Toolbar]'
+        'Normal.Body=1, $00404040, $00292929, clNone, clNone'
+        'Normal.Borders=0, clBlack, clBlack, $00666666, $00333333'
+        'Normal.TextColor=$00A2E0EB'
+        ''
+        '[ToolbarGrip]'
+        'Normal.Body=0, $00B7C1CB, clWhite, clNone, clNone'
+        'Normal.Borders=0, clNone, clNone, clNone, clNone'
+        'Normal.TextColor=clNone'
+        ''
+        '[Window]'
+        'Normal.Body=1, $00404040, $00292929, clNone, clNone'
+        'Normal.Borders=0, $002F2F2F, $004D4D4D, $00666666, $004D4D4D'
+        'Normal.TextColor=$00A2E0EB'
+        ''
+        '[WindowTitleBar]'
+        'Normal.Body=7, $00524743, $00463E3B, $0030302F, $00454545'
+        'Normal.Borders=0, clNone, clNone, clNone, clNone'
+        'Normal.TextColor=clWhite'
+        ''
+        '[MenuBarItem]'
+        'Normal.Body=0, clNone, clNone, clNone, clNone'
+        'Normal.Borders=0, clNone, clNone, clNone, clNone'
+        'Normal.TextColor=$00729EA6'
+        'HotTrack.Body=5, $00C1FCFF, $007DE2FF, $002FD0FF, $0079E1FF'
+        'HotTrack.Borders=0, clNone, clNone, clNone, clNone'
+        'HotTrack.TextColor=clNone'
+        'Pushed.Body=5, $00C1FCFF, $007DE2FF, $002FD0FF, $0079E1FF'
+        'Pushed.Borders=0, clNone, clNone, clNone, clNone'
+        'Pushed.TextColor=clNone'
+        'Checked.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7'
+        'Checked.Borders=0, $0059858E, $0031474D, clNone, clNone'
+        'Checked.TextColor=clBlack'
+        
+          'CheckedAndHotTrack.Body=3, $00C1FCFF, $007DE2FF, $002FD0FF, $007' +
+          '9E1FF'
+        'CheckedAndHotTrack.Borders=1, $00003F51, $00003F51, $002FD0FF, '
+        '$002FD0FF'
+        'CheckedAndHotTrack.TextColor=clNone'
+        ''
+        '[MenuItem]'
+        'Normal.Body=0, clNone, clNone, clNone, clNone'
+        'Normal.Borders=0, clNone, clNone, clNone, clNone'
+        'Normal.TextColor=clBlack'
+        'HotTrack.Body=3, $003C5960, $00407C8E, $00729EA6, $00568087'
+        'HotTrack.Borders=2, $00003F51, $00003F51, $00729EA6, $00407C8E'
+        'HotTrack.TextColor=clWhite'
+        'Checked.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7'
+        'Checked.Borders=0, $0059858E, $0031474D, clNone, clNone'
+        'Checked.TextColor=clBlack'
+        
+          'CheckedAndHotTrack.Body=3, $003C5960, $00407C8E, $00729EA6, $005' +
+          '68087'
+        'CheckedAndHotTrack.Borders=2, $00003F51, $00003F51, $00729EA6, '
+        '$00407C8E'
+        'CheckedAndHotTrack.TextColor=clWhite'
+        ''
+        '[ToolbarItem]'
+        'Normal.Body=0, clNone, clNone, clNone, clNone'
+        'Normal.Borders=0, clNone, clNone, clNone, clNone'
+        'Normal.TextColor=$00CCFFFF'
+        'HotTrack.Body=3, $00729EA6, $00568087, $003C5960, $00407C8E'
+        'HotTrack.Borders=2, $0036302E, $0036302E, clBlack, clBlack'
+        'HotTrack.TextColor=clWhite'
+        'Pushed.Body=5, $00524743, $00463E3B, $0030302F, $00454545'
+        'Pushed.Borders=2, $000D5A71, $000D5A71, $00729EA6, $00729EA6'
+        'Pushed.TextColor=clWhite'
+        'Checked.Body=5, $00524743, $00463E3B, $0030302F, $00454545'
+        'Checked.Borders=2, $000D5A71, $000D5A71, $00729EA6, $00729EA6'
+        'Checked.TextColor=clWhite'
+        
+          'CheckedAndHotTrack.Body=5, $00524743, $00463E3B, $0030302F, $004' +
+          '54545'
+        'CheckedAndHotTrack.Borders=2, $000D5A71, $000D5A71, $00729EA6, '
+        '$00729EA6'
+        'CheckedAndHotTrack.TextColor=clWhite'
+        ''
+        '[Button]'
+        'Normal.Body=5, $00524743, $00463E3B, $0030302F, $00454545'
+        'Normal.Borders=2, $0036302E, $0036302E, clBlack, clBlack'
+        'Normal.TextColor=$00A2E0EB'
+        'Disabled.Body=5, $00524743, $00463E3B, $0030302F, $00454545'
+        'Disabled.Borders=2, $0036302E, $0036302E, clBlack, clBlack'
+        'Disabled.TextColor=clNone'
+        'HotTrack.Body=5, $00524743, $00463E3B, $0030302F, $00454545'
+        'HotTrack.Borders=2, $000D5A71, $000D5A71, $00729EA6, $00729EA6'
+        'HotTrack.TextColor=$00A2E0EB'
+        'Pushed.Body=3, $00729EA6, $00568087, $003C5960, $00407C8E'
+        'Pushed.Borders=2, $0036302E, $0036302E, clBlack, clBlack'
+        'Pushed.TextColor=clWhite'
+        'Checked.Body=3, $00729EA6, $00568087, $003C5960, $00407C8E'
+        'Checked.Borders=2, $0036302E, $0036302E, clBlack, clBlack'
+        'Checked.TextColor=clWhite'
+        
+          'CheckedAndHotTrack.Body=5, $00524743, $00463E3B, $0030302F, $004' +
+          '54545'
+        'CheckedAndHotTrack.Borders=2, $000D5A71, $000D5A71, $00729EA6, '
+        '$00729EA6'
+        'CheckedAndHotTrack.TextColor=$00A2E0EB'
+        ''
+        '[CheckBox]'
+        'Normal.Body=5, $00524743, $00463E3B, $0030302F, $00454545'
+        'Normal.Borders=2, clBlack, clBlack, $00729EA6, $00729EA6'
+        'Normal.TextColor=$00A2E0EB'
+        'Disabled.Body=5, $00524743, $00463E3B, $0030302F, $00454545'
+        'Disabled.Borders=2, clBlack, clBlack, $003E6775, $003E6775'
+        'Disabled.TextColor=$00515F6A'
+        'HotTrack.Body=3, $003C5960, $00407C8E, $00729EA6, $00568087'
+        'HotTrack.Borders=2, $00003F51, $00003F51, $00729EA6, $00407C8E'
+        'HotTrack.TextColor=clWhite'
+        'Pushed.Body=5, $00007EA4, $000D5A71, $000D5A71, $000D5A71'
+        'Pushed.Borders=2, clBlack, clBlack, $00729EA6, $00729EA6'
+        'Pushed.TextColor=$00A2E0EB'
+        'Checked.Body=5, $00524743, $00463E3B, $0030302F, $00454545'
+        'Checked.Borders=2, clBlack, clBlack, $00729EA6, $00729EA6'
+        'Checked.TextColor=$00A2E0EB'
+        
+          'CheckedAndHotTrack.Body=3, $002C4045, $00336371, $00365156, $004' +
+          '86A71'
+        'CheckedAndHotTrack.Borders=2, $0000232D, $0000232D, $0059858C, '
+        '$00366978'
+        'CheckedAndHotTrack.TextColor=clWhite'
+        ''
+        '[EditButton]'
+        'HotTrack.Body=5, $00C1FCFF, $007DE2FF, $002FD0FF, $0079E1FF'
+        'HotTrack.Borders=0, clNone, clNone, clNone, clNone'
+        'HotTrack.TextColor=clBlack'
+        'Pushed.Body=3, $002FD0FF, $0079E1FF, $00C1FCFF, $007DE2FF'
+        'Pushed.Borders=1, $00003F51, $00003F51, $002FD0FF, $002FD0FF'
+        'Pushed.TextColor=clNone'
+        'Normal.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7'
+        'Normal.Borders=0, $0059858E, $0031474D, clNone, clNone'
+        'Normal.TextColor=clBlack'
+        ''
+        '[EditFrame]'
+        'Normal.Body=0, $001A1A1A, clNone, clNone, clNone'
+        'Normal.Borders=2, $00313131, $00313131, $00151515, $00151515'
+        'Normal.TextColor=$00A2E0EB'
+        'Disabled.Body=0, clNone, clNone, clNone, clNone'
+        'Disabled.Borders=1, clNone, clNone, $00E6E6E6, $00E6E6E6'
+        'Disabled.TextColor=clNone'
+        'HotTrack.Body=5, $00524743, $00463E3B, $0030302F, $00454545'
+        'HotTrack.Borders=2, $000D5A71, $000D5A71, $00729EA6, $00729EA6'
+        'HotTrack.TextColor=clWhite'
+        ''
+        '[Header]'
+        'Normal.Body=1, $00404040, $00292929, clNone, clNone'
+        'Normal.Borders=0, $00292929, $00292929, clNone, clNone'
+        'Normal.TextColor=$00A2E0EB'
+        'HotTrack.Body=3, $00729EA6, $00568087, $003C5960, $00407C8E'
+        'HotTrack.Borders=0, clNone, clNone, clNone, clNone'
+        'HotTrack.TextColor=clWhite'
+        ''
+        '[Label]'
+        'Normal.Body=0, clNone, clNone, clNone, clNone'
+        'Normal.Borders=0, clNone, clNone, clNone, clNone'
+        'Normal.TextColor=$00A2E0EB'
+        ''
+        '[ListItem]'
+        'Normal.Body=0, $001A1A1A, clNone, clNone, clNone'
+        'Normal.Borders=0, clNone, clNone, clNone, clNone'
+        'Normal.TextColor=$00729EA6'
+        'HotTrack.Body=3, $00729EA6, $00568087, $003C5960, $00407C8E'
+        'HotTrack.Borders=0, clNone, clNone, clNone, clNone'
+        'HotTrack.TextColor=clWhite'
+        'Checked.Body=3, $003C5960, $00407C8E, $00729EA6, $00568087'
+        'Checked.Borders=2, $00003F51, $00003F51, $00729EA6, $00407C8E'
+        'Checked.TextColor=clWhite'
+        
+          'CheckedAndHotTrack.Body=3, $002C4045, $00336371, $00365156, $004' +
+          '86A71'
+        'CheckedAndHotTrack.Borders=2, $0000232D, $0000232D, $0059858C, '
+        '$00366978'
+        'CheckedAndHotTrack.TextColor=clWhite'
+        'Disabled.Body=3, $00333333, $00333333, $00333333, $00333333'
+        'Disabled.Borders=0, clNone, clNone, clNone, clNone'
+        'Disabled.TextColor=clNone'
+        ''
+        '[ProgressBar]'
+        'Normal.Body=1, $00404040, $00292929, clNone, clNone'
+        'Normal.Borders=2, $00404040, $00404040, clNone, clNone'
+        'Normal.TextColor=$00A2E0EB'
+        'HotTrack.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7'
+        'HotTrack.Borders=0, $0059858E, $0031474D, clNone, clNone'
+        'HotTrack.TextColor=clBlack'
+        ''
+        '[RadioButton]'
+        'Normal.Body=5, $00524743, $00463E3B, $0030302F, $00454545'
+        'Normal.Borders=2, clBlack, clBlack, $00729EA6, $00729EA6'
+        'Normal.TextColor=$00A2E0EB'
+        'Disabled.Body=5, $00524743, $00463E3B, $0030302F, $00454545'
+        'Disabled.Borders=2, clBlack, clBlack, $003E6775, $003E6775'
+        'Disabled.TextColor=$00515F6A'
+        'HotTrack.Body=3, $003C5960, $00407C8E, $00729EA6, $00568087'
+        'HotTrack.Borders=2, $00003F51, $00003F51, $00729EA6, $00407C8E'
+        'HotTrack.TextColor=clWhite'
+        'Pushed.Body=5, $00007EA4, $000D5A71, $000D5A71, $000D5A71'
+        'Pushed.Borders=2, clBlack, clBlack, $00729EA6, $00729EA6'
+        'Pushed.TextColor=$00A2E0EB'
+        'Checked.Body=5, $00524743, $00463E3B, $0030302F, $00454545'
+        'Checked.Borders=2, clBlack, clBlack, $00729EA6, $00729EA6'
+        'Checked.TextColor=$00A2E0EB'
+        
+          'CheckedAndHotTrack.Body=3, $002C4045, $00336371, $00365156, $004' +
+          '86A71'
+        'CheckedAndHotTrack.Borders=2, $0000232D, $0000232D, $0059858C, '
+        '$00366978'
+        'CheckedAndHotTrack.TextColor=clWhite'
+        ''
+        '[Tab]'
+        'Normal.Body=0, $00404040, $00292929, clNone, clNone'
+        'Normal.Borders=2, clBlack, clBlack, $00524743, $0036302E'
+        'Normal.TextColor=$00CCCCCC'
+        'Disabled.Body=0, $00DBDFE4, clNone, clNone, clNone'
+        'Disabled.Borders=2, $00B8C2CA, $00B8C2CA, $00E1E4E8, $00E1E4E8'
+        'Disabled.TextColor=clNone'
+        'HotTrack.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7'
+        'HotTrack.Borders=2, $001A1A1A, $001A1A1A, clNone, clNone'
+        'HotTrack.TextColor=clBlack'
+        'Pushed.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7'
+        'Pushed.Borders=2, $001A1A1A, $001A1A1A, clNone, clNone'
+        'Pushed.TextColor=clBlack'
+        'Checked.Body=1, $00373737, $00171717, clNone, clNone'
+        'Checked.Borders=2, clBlack, clBlack, $00524743, $0036302E'
+        'Checked.TextColor=$00A2E0EB'
+        
+          'CheckedAndHotTrack.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004' +
+          'B93A7'
+        
+          'CheckedAndHotTrack.Borders=2, $001A1A1A, $001A1A1A, clNone, clNo' +
+          'ne'
+        'CheckedAndHotTrack.TextColor=clBlack'
+        ''
+        '[TrackBar]'
+        'Normal.Body=3, $00524743, $00463E3B, $0030302F, $00454545'
+        'Normal.Borders=2, clBlack, $00333333, $0030302F, $0030302F'
+        'Normal.TextColor=$007B919F'
+        'HotTrack.Body=5, $00C1FCFF, $007DE2FF, $002FD0FF, $0079E1FF'
+        'HotTrack.Borders=2, $0036302E, $0036302E, clBlack, clBlack'
+        'HotTrack.TextColor=clNone'
+        ''
+        '[TrackBarButton]'
+        'Normal.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7'
+        'Normal.Borders=2, $0059858E, $0031474D, clNone, clNone'
+        'Normal.TextColor=clBlack'
+        'Pushed.Body=5, $00C1FCFF, $007DE2FF, $002FD0FF, $0079E1FF'
+        'Pushed.Borders=2, $00333333, $00333333, $004CD7FF, $004CD7FF'
+        'Pushed.TextColor=clBlack'
+        ''
+        '[OpenToolbarItem]'
+        'Normal.Body=0, clNone, clNone, clNone, clNone'
+        'Normal.Borders=0, clNone, clNone, clNone, clNone'
+        'Normal.TextColor=$00A2E0EB'
+        ''
+        '[Gutter]'
+        'Normal.Body=0, clNone, clNone, clNone, clNone'
+        'Normal.Borders=0, clNone, clNone, clNone, clNone'
+        'Normal.TextColor=$00A2E0EB'
+        ''
+        '[TASClientColor]'
+        'Normal=7511718'
+        'Data=32768'
+        'Error=3289801'
+        'Info=16762273'
+        'MinorInfo=8388608'
+        'ChanJoin=32768'
+        'ChanLeft=16762273'
+        'MOTD=5855610'
+        'SayEx=8738949'
+        'Topic=5855610'
+        'ClientAway=5526612'
+        'MapModUnavailable=11028383'
+        'BotText=8421504'
+        'MyText=10674411'
+        'AdminText=16777215'
+        'OldMsgs=5526612'
+        'BattleDetailsNonDefault=11028383'
+        'BattleDetailsChanged=16762273')
+      TabOrder = 7
+      Visible = False
+    end
   end
   object AddressPopupMenu: TSpTBXPopupMenu
     Left = 372

Modified: Lobby/TASClient/PreferencesFormUnit.pas
===================================================================
--- Lobby/TASClient/PreferencesFormUnit.pas	2010-04-01 20:00:41 UTC (rev 7455)
+++ Lobby/TASClient/PreferencesFormUnit.pas	2010-04-02 18:02:19 UTC (rev 7456)
@@ -18,6 +18,12 @@
 
   TJvXPCustomButtonHack = class(TJvXPCustomButton); // a hack to expose Color property
 
+  TSpTBXTASClientSkin = class(TSpTBXSkinOptions)
+  public
+    procedure FillOptions; override;
+    procedure PaintBackground(ACanvas: TCanvas; ARect: TRect; Component: TSpTBXSkinComponentsType; State: TSpTBXSkinStatesType; Background, Borders: Boolean; Vertical: Boolean = False; ForceRectBorders: TAnchors = []); override;
+  end;
+
   TPreferences = record
     Version: Single; // we also need to save program version, since users could copy the old config file over the new one
 
@@ -70,6 +76,7 @@
     MapSortStyle: Byte; // see MapSortStyleDescriptions to see what value stands for what
     ThemeType: TSpTBXSkinType;
     Theme: string;
+    AdvancedSkinning: Boolean;
 
     DisableAllSounds: Boolean; // if true, lobby won't play any sounds
     UploadReplay:Boolean;
@@ -209,6 +216,9 @@
     CancelAndCloseButton: TSpTBXButton;
     LoadSkinButton: TSpTBXButton;
     OpenDialog1: TOpenDialog;
+    memoTASClientSkin: TTntMemo;
+    AdvancedSkinningCheckBox: TSpTBXCheckBox;
+    SkinEditorButton: TSpTBXButton;
 
     function BattleSortStyleToColumn(SortStyle: Integer): Integer;
     function ColumnToBattleSortStyle(Column: Integer): Integer;
@@ -268,6 +278,7 @@
     procedure ResetDockingLayoutButtonClick(Sender: TObject);
     procedure ChatLogLoadingTrackerChange(Sender: TObject);
     procedure LoadSkinButtonClick(Sender: TObject);
+    procedure SkinEditorButtonClick(Sender: TObject);
   private
     { Private declarations }
   public
@@ -325,7 +336,7 @@
                                         MarkUnknownMaps: False; TaskbarButtons: True; JoinMainChannel: True; ReconnectToBackup: True; SaveLogs: True;
                                         UseSoundNotifications: True;AutoCompletionFromCurrentChannel: False; AutoUpdateToBeta: False;DisplayUnitsIconsAndNames: False;
                                         DisplayAutohostInterface: True; UseProxy: False; HighlightColor: 'Green'; UseNotificationsForHighlights: True; UseIgnoreList: False;
-                                        WarnIfUsingNATTraversing: True; AutoFocusOnPM: True; MapSortStyle: 1; ThemeType: sknSkin; Theme: 'Miranda'; DisableAllSounds: False;
+                                        WarnIfUsingNATTraversing: True; AutoFocusOnPM: True; MapSortStyle: 1; ThemeType: sknSkin; Theme: 'TASClient';AdvancedSkinning : True; DisableAllSounds: False;
                                         SortLocal: False; DisplayQuickJoinPanel : True; LimitChatLogs: False; ChatLogsLimit: 800;ChatLogLoadLoading: True; ChatLogLoadLines: 30; SPSkin: 'default.ssk'; ScriptsDisabled : False;
                                         EnableScripts : True;ScriptWarningMsgShown: False; EnableSpringDownloader : True; UseLogonForm : True; DisableNews : False;
                                         DisableMapDetailsLoading: False; LoadMetalHeightMinimaps: True);
@@ -409,6 +420,7 @@
     try Preferences.MapSortStyle := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'MapSortStyle'); except end;
     try Preferences.ThemeType := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'ThemeType'); except end;
     try Preferences.Theme := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'Theme'); except end;
+    try Preferences.AdvancedSkinning := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'AdvancedSkinning'); except end;
     try Preferences.DisableAllSounds := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'DisableAllSounds'); except end;
     try Preferences.SortLocal := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'SortLocal'); except end;
     try Preferences.UploadReplay := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'AskUploadReplay'); except end;
@@ -455,6 +467,8 @@
     try Colors.ClientAway := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences\OtherColors', 'ClientAway'); except end;
     try Colors.MapModUnavailable := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences\OtherColors', 'MapModUnavailable'); except end;
     try Colors.BotText := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences\OtherColors', 'BotText'); except end;
+    try Colors.BattleDetailsNonDefault := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences\OtherColors', 'BattleDetailsNonDefault'); except end;
+    try Colors.BattleDetailsChanged := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences\OtherColors', 'BattleDetailsChanged'); except end;
   except
   end;
 end;
@@ -746,6 +760,7 @@
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'MapSortStyle', rdInteger, Preferences.MapSortStyle);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'ThemeType', rdInteger, Preferences.ThemeType);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'Theme', rdString, Preferences.Theme);
+    Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'AdvancedSkinning', rdInteger, Misc.BoolToInt(Preferences.AdvancedSkinning));
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'DisableAllSounds', rdInteger, Preferences.DisableAllSounds);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'SortLocal', rdInteger, Preferences.SortLocal);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'AskUploadReplay', rdInteger, Preferences.UploadReplay);
@@ -781,6 +796,8 @@
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences\OtherColors', 'ClientAway', rdInteger, Colors.ClientAway);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences\OtherColors', 'MapModUnavailable', rdInteger, Colors.MapModUnavailable);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences\OtherColors', 'BotText', rdInteger, Colors.BotText);
+    Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences\OtherColors', 'BattleDetailsNonDefault', rdInteger, Colors.BattleDetailsNonDefault);
+    Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences\OtherColors', 'BattleDetailsChanged', rdInteger, Colors.BattleDetailsChanged);
 
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\TemplateEditor', 'LayoutGlobal2', rdString, TemplateEditorForm.ProfileTemplate.Lines.Text);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\TemplateEditor', 'LayoutProperty2', rdString, TemplateEditorForm.LayoutPropertyChange.Lines.Text);
@@ -881,12 +898,15 @@
   i: integer;
   PanelDarkerColor: TColor;
 begin
-  if Preferences.ThemeType = sknSkin then
-  begin
+  if (Preferences.ThemeType = sknSkin) then
     if FileExists(Preferences.Theme) then
       SkinManager.LoadFromFile(Preferences.Theme)
     else
-      SkinManager.SetSkin(Preferences.Theme);
+      SkinManager.SetSkin(Preferences.Theme)
+  else
+    SkinManager.SetToDefaultSkin;
+  if (Preferences.ThemeType = sknSkin) and Preferences.AdvancedSkinning then
+  begin
     PanelDarkerColor := RGB(Floor(ColorToR(SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1)*0.8),Floor(ColorToG(SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1)*0.8),Floor(ColorToB(SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1)*0.8));
     BattleForm.QuickLookRichEdit.Color :=  IfNotClNone(SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1,clBtnFace);
     MapListForm.ScrollBox1.Color :=  PanelDarkerColor;
@@ -903,7 +923,6 @@
   end
   else
   begin
-    SkinManager.SetToDefaultSkin;
     BattleForm.QuickLookRichEdit.Color :=  clBtnFace;
     MainForm.ClientsListBox.Color := clWindow;
     MainForm.ClientsListBox.BorderStyle := Forms.bsSingle;
@@ -950,7 +969,7 @@
 begin
   if VT is TVirtualDrawTree then
   begin
-    if SkinManager.GetSkinType = sknSkin then
+    if (SkinManager.GetSkinType = sknSkin) and Preferences.AdvancedSkinning then
     begin
       TVirtualDrawTree(VT).Color := IfNotClNone(SkinManager.CurrentSkin.Options(skncListItem).Body.Color1,clWindow);
       TVirtualDrawTree(VT).Colors.FocusedSelectionColor := TVirtualDrawTree(VT).Color;
@@ -969,7 +988,7 @@
   end
   else
   begin
-    if SkinManager.GetSkinType = sknSkin then
+    if (SkinManager.GetSkinType = sknSkin) and Preferences.AdvancedSkinning  then
     begin
       TVirtualStringTree(VT).Color := IfNotClNone(SkinManager.CurrentSkin.Options(skncListItem).Body.Color1,clWindow);
       TVirtualStringTree(VT).Colors.FocusedSelectionColor := TVirtualDrawTree(VT).Color;
@@ -993,7 +1012,7 @@
     hdr := TVirtualStringTree(VT).Header;
 
   for i:=0 to hdr.Columns.Count-1 do
-    if Preferences.ThemeType = sknSkin then
+    if (Preferences.ThemeType = sknSkin) and Preferences.AdvancedSkinning  then
       hdr.Columns[i].Style := vsOwnerDraw
     else
       hdr.Columns[i].Style := vsText;
@@ -1002,7 +1021,7 @@
 
 procedure TPreferencesForm.UpdateRichEdit(RE: TRichEdit);
 begin
-  if Preferences.ThemeType = sknSkin then
+  if (Preferences.ThemeType = sknSkin) and Preferences.AdvancedSkinning  then
   begin
     RE.Color := IfNotClNone(SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1,clWindow);
     RE.BorderStyle := Forms.bsNone;
@@ -1016,7 +1035,7 @@
 
 procedure TPreferencesForm.UpdateExRichEdit(RE: TExRichEdit);
 begin
-  if Preferences.ThemeType = sknSkin then
+  if (Preferences.ThemeType = sknSkin) and Preferences.AdvancedSkinning  then
   begin
     RE.Color := IfNotClNone(SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1,clWindow);
     RE.BorderStyle := Forms.bsNone;
@@ -1030,7 +1049,7 @@
 
 procedure TPreferencesForm.UpdateTntMemo(TM: TTntMemo);
 begin
-  if Preferences.ThemeType = sknSkin then
+  if (Preferences.ThemeType = sknSkin) and Preferences.AdvancedSkinning  then
   begin
     TM.Font.Color := SkinManager.CurrentSkin.GetTextColor(skncEditFrame,sknsNormal);
     TM.Ctl3D := False;
@@ -1140,6 +1159,8 @@
   p.EnableScripts := EnableScriptsCheckBox.Checked;
   p.DisableNews := DisableNewsCheckBox.Checked;
 
+  p.AdvancedSkinning := AdvancedSkinningCheckBox.Checked;
+
   try
     p.LanguageCode := LangCodes[LanguageCombobox.ItemIndex];
   except
@@ -1250,6 +1271,8 @@
   LoadMetalHeightMaps.Checked := p.LoadMetalHeightMinimaps;
   DisplayAutoHostInterfaceCheckBox.Checked := p.DisplayAutohostInterface;
 
+  AdvancedSkinningCheckBox.Checked := p.AdvancedSkinning;
+
   UseLanguage(p.LanguageCode);
   for i:=0 to LangCodes.Count-1 do
   begin
@@ -1972,8 +1995,36 @@
   if OpenDialog1.Execute then
   begin
     Preferences.Theme := OpenDialog1.FileName;
+    if MessageDlg(_('Do you want to load the skin''s TASClient custom colors too ?'),mtConfirmation,[mbYes,mbNo],0) = mrYes then
+      ColorsPreference.LoadColors(OpenDialog1.FileName);
     ApplyCurrentTheme;
   end;
 end;
 
+procedure TSpTBXTASClientSkin.FillOptions;
+begin
+  LoadFromStrings(PreferencesForm.memoTASClientSkin.Lines.AnsiStrings);
+end;
+
+procedure TSpTBXTASClientSkin.PaintBackground(ACanvas: TCanvas; ARect: TRect;
+  Component: TSpTBXSkinComponentsType; State: TSpTBXSkinStatesType; Background,
+  Borders, Vertical: Boolean; ForceRectBorders: TAnchors);
+begin
+  inherited;
+  // Override the Tab painting
+  if (Component = skncTab) and (State in [sknsChecked]) then begin
+    SpDrawLine(ACanvas, ARect.Left + 3, ARect.Top, ARect.Right - 3, ARect.Top, $7DE2FF); //$C1FCFF
+    SpDrawLine(ACanvas, ARect.Left + 2, ARect.Top + 1, ARect.Right - 2, ARect.Top + 1, $2FD0FF);
+    SpDrawLine(ACanvas, ARect.Left + 1, ARect.Top + 2, ARect.Right - 1, ARect.Top + 2, $2FD0FF);
+  end;
+end;
+
+procedure TPreferencesForm.SkinEditorButtonClick(Sender: TObject);
+begin
+  Misc.OpenURLInDefaultBrowser('<A HREF="http://www.silverpointdevelopment.com/skineditor/index.htm">http://www.silverpointdevelopment.com/skineditor/index.htm</A>');
+end;
+
+initialization
+  SkinManager.SkinsList.AddSkin('TASClient', TSpTBXTASClientSkin);
+
 end.

Modified: Lobby/TASClient/ScrollingNews/newsItemBg.png
===================================================================
(Binary files differ)

Modified: Lobby/TASClient/ScrollingNews/newsItemLeftBg.png
===================================================================
(Binary files differ)

Modified: Lobby/TASClient/ScrollingNews/newsItemRightBg.png
===================================================================
(Binary files differ)

Modified: Lobby/TASClient/ScrollingNews/newsItemSelBg.png
===================================================================
(Binary files differ)

Modified: Lobby/TASClient/ScrollingNews/newsItemSelLeftBg.png
===================================================================
(Binary files differ)

Modified: Lobby/TASClient/ScrollingNews/newsItemSelRightBg.png
===================================================================
(Binary files differ)

Modified: Lobby/TASClient/ScrollingNews/page.html
===================================================================
--- Lobby/TASClient/ScrollingNews/page.html	2010-04-01 20:00:41 UTC (rev 7455)
+++ Lobby/TASClient/ScrollingNews/page.html	2010-04-02 18:02:19 UTC (rev 7456)
@@ -2,128 +2,143 @@
 	&lt;head&gt;
 		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-1&quot;&gt;
 		&lt;STYLE type=&quot;text/css&quot;&gt;
-			body {
-				padding: 0;
-				margin: 0;
-				background-color: #cdcdcd;
-				width: 100%;
-			}
-			a,a:visited{
-				color: #474747;
+			a, a:visited {
+				color: #e1ce70;
 				text-decoration: none;
 				font-family: Arial;
 				font-size: 12px;
 				font-weight: bold;
 			}
 			a:hover {
-				color: white;
+				text-decoration: none;
+				font-family: Arial;
+				font-size: 12px;
+				font-weight: bold;
 			}
 			
-			.news{
-				background-image: url('newsItemBg.png');
-				margin-right:10px;
-				margin-bottom:8px;
-				float: left;
-				height: 28px;
-			}
-			.newsContent{
-				background-image: url('newsItemLeftBg.png');
-				background-repeat: no-repeat;
-				height: 28px;
-				padding: 6px;
-				float: left;
-				white-space: nowrap;
-			}
-			.newsRightBorder{
-				background-image: url('newsItemRightBg.png');
-				background-repeat: no-repeat;
-				height: 28px;
-				width: 2px;
-				float: left;
-			}
-			a:hover .news{
-				background-image: url('newsItemSelBg.png');
-				margin-right:10px;
-				float: left;
-				height: 28px;
-			}
-			a:hover .newsContent{
-				background-image: url('newsItemSelLeftBg.png');
-				background-repeat: no-repeat;
-				height: 28px;
-				padding: 6px;
-				float: left;
-			}
-			a:hover .newsRightBorder{
-				background-image: url('newsItemSelRightBg.png');
-				background-repeat: no-repeat;
-				height: 28px;
-				width: 2px;
-				float: left;
-			}
-			#scrollingDiv{
-				position: absolute;
-				left: 0px;
-				top: 0;
-				margin: 4px;
-				height: 0px;
-				overflow: hidden;
-			}
-			.content{
-				float: left;
-			}
-			#debug{
-				position: absolute;
-				top: 30px;
-				left: 0;
-				background-color: red;
-			}
+            .newNews{
+                background-image: url('newNewsItemBg.png');
+                margin-right:10px;
+                margin-bottom:8px;
+                float: left;
+                height: 28px;
+            }
+            .newNewsContent{
+                background-image: url('newNewsItemLeftBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                padding: 6px;
+                float: left;
+                white-space: nowrap;
+            }
+            .newNewsRightBorder{
+                background-image: url('newNewsItemRightBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                width: 2px;
+                float: left;
+            }
+            a:hover .newNews{
+                background-image: url('newNewsItemSelBg.png');
+                margin-right:10px;
+                float: left;
+                height: 28px;
+            }
+            a:hover .newNewsContent{
+                background-image: url('newNewsItemSelLeftBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                padding: 6px;
+                float: left;
+            }
+            a:hover .newNewsRightBorder{
+                background-image: url('newNewsItemSelRightBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                width: 2px;
+                float: left;
+            }
+            .news{
+                background-image: url('newsItemBg.png');
+                margin-right:10px;
+                margin-bottom:8px;
+                float: left;
+                height: 28px;
+            }
+            .newsContent{
+                background-image: url('newsItemLeftBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                padding: 6px;
+                float: left;
+                white-space: nowrap;
+            }
+            .newsRightBorder{
+                background-image: url('newsItemRightBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                width: 2px;
+                float: left;
+            }
+            a:hover .news{
+                background-image: url('newsItemSelBg.png');
+                margin-right:10px;
+                float: left;
+                height: 28px;
+            }
+            a:hover .newsContent{
+                background-image: url('newsItemSelLeftBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                padding: 6px;
+                float: left;
+            }
+            a:hover .newsRightBorder{
+                background-image: url('newsItemSelRightBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                width: 2px;
+                float: left;
+            }
+            #scrollingDiv{
+                position: absolute;
+                left: 0px;
+                top: 0;
+                margin: 4px;
+                height: 0px;
+                overflow: hidden;
+            }
+            .content{
+                float: left;
+            }
+            #debug{
+                position: absolute;
+                top: 30px;
+                left: 0;
+                background-color: red;
+            }
+
 		&lt;/STYLE&gt;
 		&lt;script type=&quot;text/javascript&quot;&gt;
-			pos = 0;
-			timerInterval = 10000;
 			scrollingEnabled = true;
 			function debug(msg){
 				document.getElementById('debug').innerHTML = msg;
 			}
-			function moveScrollingDiv(){
-				pos = pos - 36;
-				document.getElementById('scrollingDiv').style.top = pos+&quot;px&quot;;
-				if(scrollingEnabled){
-					timer = setTimeout(&quot;moveScrollingDiv()&quot;,timerInterval);
-				}
-				if(pos-60 &lt; -document.getElementById('scrollingDiv').offsetHeight)
-				{
-					pos = 36;
-				}
-			}
-			function stopScrolling(){
-				clearTimeout(timer);
-				scrollingEnabled = false;
-			}
-			function goScrolling(){
-				scrollingEnabled = true;
-				timer = setTimeout(&quot;moveScrollingDiv()&quot;,timerInterval);
-			}
-			function init(){			
-				document.getElementById('scrollingDiv').style.height = &quot;auto&quot;;
-				timer = setTimeout(&quot;moveScrollingDiv()&quot;,timerInterval);
-			}
 		&lt;/script&gt;
 	&lt;/head&gt;
-	&lt;body onload=&quot;init()&quot;&gt;
-		&lt;div id=&quot;scrollingDiv&quot; onmouseover=&quot;stopScrolling();&quot; onmouseout=&quot;goScrolling();&quot;&gt;
+	&lt;body style=&quot;padding: 0;margin: 0;background-color: black;width: 100000px&quot;&gt;
+		&lt;div id=&quot;scrollingDiv&quot;&gt;
 			&lt;div id=&quot;content1&quot; class=&quot;content&quot;&gt;
-								&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=411">http://www.springinfo.info/?p=411</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;New Map: Fields Of Isis&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
-				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=406">http://www.springinfo.info/?p=406</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;SpecRun - Fictional controllable unit&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
-				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=396">http://www.springinfo.info/?p=396</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;Spring: 1944 v0.92 &#147;Operation Konstantin&#148; Released&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
-				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=384">http://www.springinfo.info/?p=384</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;New Map: Mearth V4&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
-				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=381">http://www.springinfo.info/?p=381</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;Dynamic Blob Shadows&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
-				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=369">http://www.springinfo.info/?p=369</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;D-Gun Helper Widget&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
-				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=365">http://www.springinfo.info/?p=365</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;Kernel Panic Video&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
-				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=361">http://www.springinfo.info/?p=361</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;TASClient - SpringInfo Integration&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
-				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=359">http://www.springinfo.info/?p=359</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;Unit Auto Repair Widget&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
-				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=350">http://www.springinfo.info/?p=350</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;Kiev 1944&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
+				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=1487">http://www.springinfo.info/?p=1487</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;Gunmetal Harbor&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
+				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=1465">http://www.springinfo.info/?p=1465</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;Demonaut &#150; battle investigator&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
+				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=1449">http://www.springinfo.info/?p=1449</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;Bugfix release: Spring 0.81.2.1&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
+				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=1440">http://www.springinfo.info/?p=1440</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;Spring 0.81.2 released&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
+				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=1432">http://www.springinfo.info/?p=1432</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;Tale of Two Hills&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
+				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=1430">http://www.springinfo.info/?p=1430</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;Spring 0.81.1.3 released&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
+				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=1422">http://www.springinfo.info/?p=1422</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;Default Spring Economy Guidelines&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
+				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=1419">http://www.springinfo.info/?p=1419</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;XTA Guide &#150; XTA Basics&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
+				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=1415">http://www.springinfo.info/?p=1415</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;CA Guide &#150; Simple Starting Build Order&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
+				&lt;a href=&quot;<A HREF="http://www.springinfo.info/?p=1412">http://www.springinfo.info/?p=1412</A>&quot;&gt;&lt;div class=&quot;news&quot;&gt;&lt;div class=&quot;newsContent&quot;&gt;&#145;Out of Game&#146; Guide &#150; Keybinds&lt;/div&gt;&lt;div class=&quot;newsRightBorder&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt;
 
 			&lt;/div&gt;
 		&lt;/div&gt;

Modified: Lobby/TASClient/ScrollingNews/template.html
===================================================================
--- Lobby/TASClient/ScrollingNews/template.html	2010-04-01 20:00:41 UTC (rev 7455)
+++ Lobby/TASClient/ScrollingNews/template.html	2010-04-02 18:02:19 UTC (rev 7456)
@@ -2,145 +2,131 @@
 	&lt;head&gt;
 		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-1&quot;&gt;
 		&lt;STYLE type=&quot;text/css&quot;&gt;
-			body {
-				padding: 0;
-				margin: 0;
-				background-color: #cdcdcd;
-				width: 100%;
-			}
-			a,a:visited{
-				color: #474747;
+			a, a:visited {
+				color: #e1ce70;
 				text-decoration: none;
 				font-family: Arial;
 				font-size: 12px;
 				font-weight: bold;
 			}
 			a:hover {
-				color: white;
-			}
-			
-			a .newNews,a:hover .newNews,a:visited .newNews{
-				color: #e1ce70;
 				text-decoration: none;
 				font-family: Arial;
 				font-size: 12px;
 				font-weight: bold;
 			}
 			
-			.newNews{
-				background-image: url('newNewsItemBg.png');
-				margin-right:10px;
-				margin-bottom:8px;
-				float: left;
-				height: 28px;
-			}
-			.newNewsContent{
-				background-image: url('newNewsItemLeftBg.png');
-				background-repeat: no-repeat;
-				height: 28px;
-				padding: 6px;
-				float: left;
-				white-space: nowrap;
-			}
-			.newNewsRightBorder{
-				background-image: url('newNewsItemRightBg.png');
-				background-repeat: no-repeat;
-				height: 28px;
-				width: 2px;
-				float: left;
-			}
-			a:hover .newNews{
-				background-image: url('newNewsItemSelBg.png');
-				margin-right:10px;
-				float: left;
-				height: 28px;
-			}
-			a:hover .newNewsContent{
-				background-image: url('newNewsItemSelLeftBg.png');
-				background-repeat: no-repeat;
-				height: 28px;
-				padding: 6px;
-				float: left;
-			}
-			a:hover .newNewsRightBorder{
-				background-image: url('newNewsItemSelRightBg.png');
-				background-repeat: no-repeat;
-				height: 28px;
-				width: 2px;
-				float: left;
-			}
-			.news{
-				background-image: url('newsItemBg.png');
-				margin-right:10px;
-				margin-bottom:8px;
-				float: left;
-				height: 28px;
-			}
-			.newsContent{
-				background-image: url('newsItemLeftBg.png');
-				background-repeat: no-repeat;
-				height: 28px;
-				padding: 6px;
-				float: left;
-				white-space: nowrap;
-			}
-			.newsRightBorder{
-				background-image: url('newsItemRightBg.png');
-				background-repeat: no-repeat;
-				height: 28px;
-				width: 2px;
-				float: left;
-			}
-			a:hover .news{
-				background-image: url('newsItemSelBg.png');
-				margin-right:10px;
-				float: left;
-				height: 28px;
-			}
-			a:hover .newsContent{
-				background-image: url('newsItemSelLeftBg.png');
-				background-repeat: no-repeat;
-				height: 28px;
-				padding: 6px;
-				float: left;
-			}
-			a:hover .newsRightBorder{
-				background-image: url('newsItemSelRightBg.png');
-				background-repeat: no-repeat;
-				height: 28px;
-				width: 2px;
-				float: left;
-			}
-			#scrollingDiv{
-				position: absolute;
-				left: 0px;
-				top: 0;
-				margin: 4px;
-				height: 0px;
-				overflow: hidden;
-			}
-			.content{
-				float: left;
-			}
-			#debug{
-				position: absolute;
-				top: 30px;
-				left: 0;
-				background-color: red;
-			}
+            .newNews{
+                background-image: url('newNewsItemBg.png');
+                margin-right:10px;
+                margin-bottom:8px;
+                float: left;
+                height: 28px;
+            }
+            .newNewsContent{
+                background-image: url('newNewsItemLeftBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                padding: 6px;
+                float: left;
+                white-space: nowrap;
+            }
+            .newNewsRightBorder{
+                background-image: url('newNewsItemRightBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                width: 2px;
+                float: left;
+            }
+            a:hover .newNews{
+                background-image: url('newNewsItemSelBg.png');
+                margin-right:10px;
+                float: left;
+                height: 28px;
+            }
+            a:hover .newNewsContent{
+                background-image: url('newNewsItemSelLeftBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                padding: 6px;
+                float: left;
+            }
+            a:hover .newNewsRightBorder{
+                background-image: url('newNewsItemSelRightBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                width: 2px;
+                float: left;
+            }
+            .news{
+                background-image: url('newsItemBg.png');
+                margin-right:10px;
+                margin-bottom:8px;
+                float: left;
+                height: 28px;
+            }
+            .newsContent{
+                background-image: url('newsItemLeftBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                padding: 6px;
+                float: left;
+                white-space: nowrap;
+            }
+            .newsRightBorder{
+                background-image: url('newsItemRightBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                width: 2px;
+                float: left;
+            }
+            a:hover .news{
+                background-image: url('newsItemSelBg.png');
+                margin-right:10px;
+                float: left;
+                height: 28px;
+            }
+            a:hover .newsContent{
+                background-image: url('newsItemSelLeftBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                padding: 6px;
+                float: left;
+            }
+            a:hover .newsRightBorder{
+                background-image: url('newsItemSelRightBg.png');
+                background-repeat: no-repeat;
+                height: 28px;
+                width: 2px;
+                float: left;
+            }
+            #scrollingDiv{
+                position: absolute;
+                left: 0px;
+                top: 0;
+                margin: 4px;
+                height: 0px;
+                overflow: hidden;
+            }
+            .content{
+                float: left;
+            }
+            #debug{
+                position: absolute;
+                top: 30px;
+                left: 0;
+                background-color: red;
+            }
+
 		&lt;/STYLE&gt;
 		&lt;script type=&quot;text/javascript&quot;&gt;
+			scrollingEnabled = true;
 			function debug(msg){
 				document.getElementById('debug').innerHTML = msg;
 			}
-			function onNewNewsClick(div){
-				divs = div.getElementsByTagName('div');
-				divs[0].style.display = 'none';
-				divs[3].style.display = 'block';
-			}
 		&lt;/script&gt;
 	&lt;/head&gt;
-	&lt;body&gt;
+	&lt;body style=&quot;padding: 0;margin: 0;background-color: black;width: 100000px&quot;&gt;
 		&lt;div id=&quot;scrollingDiv&quot;&gt;
 			&lt;div id=&quot;content1&quot; class=&quot;content&quot;&gt;
 [newsItems]

Modified: Lobby/TASClient/TASClient.cfg
===================================================================
--- Lobby/TASClient/TASClient.cfg	2010-04-01 20:00:41 UTC (rev 7455)
+++ Lobby/TASClient/TASClient.cfg	2010-04-02 18:02:19 UTC (rev 7456)
@@ -35,10 +35,10 @@
 -E&quot;C:\Program Files\Spring&quot;
 -LE&quot;c:\program files\borland\delphi7\Projects\Bpl&quot;
 -LN&quot;c:\program files\borland\delphi7\Projects\Bpl&quot;
--U&quot;c:\program files\borland\delphi7\Lib\Debug;D:\Tools\DEVELO~1\TASCLI~2\01_JCL\lib\d7\debug;hics32-1_5_1&quot;
--O&quot;c:\program files\borland\delphi7\Lib\Debug;D:\Tools\DEVELO~1\TASCLI~2\01_JCL\lib\d7\debug;hics32-1_5_1&quot;
--I&quot;c:\program files\borland\delphi7\Lib\Debug;D:\Tools\DEVELO~1\TASCLI~2\01_JCL\lib\d7\debug;hics32-1_5_1&quot;
--R&quot;c:\program files\borland\delphi7\Lib\Debug;D:\Tools\DEVELO~1\TASCLI~2\01_JCL\lib\d7\debug;hics32-1_5_1&quot;
+-U&quot;hics32-1_5_1&quot;
+-O&quot;hics32-1_5_1&quot;
+-I&quot;hics32-1_5_1&quot;
+-R&quot;hics32-1_5_1&quot;
 -w-UNSAFE_TYPE
 -w-UNSAFE_CODE
 -w-UNSAFE_CAST

Modified: Lobby/TASClient/TASClient.dof
===================================================================
--- Lobby/TASClient/TASClient.dof	2010-04-01 20:00:41 UTC (rev 7455)
+++ Lobby/TASClient/TASClient.dof	2010-04-02 18:02:19 UTC (rev 7456)
@@ -94,7 +94,7 @@
 UnitOutputDir=
 PackageDLLOutputDir=
 PackageDCPOutputDir=
-SearchPath=$(DELPHI)\Lib\Debug;D:\Tools\DEVELO~1\TASCLI~2\01_JCL\lib\d7\debug;hics32-1_5_1
+SearchPath=hics32-1_5_1
 Packages=vcl;rtl;vclx;indy;inet;xmlrtl;vclie;inetdbbde;inetdbxpress;dbrtl;dsnap;dsnapcon;vcldb;soaprtl;VclSmp;dbexpress;dbxcds;inetdb;bdertl;vcldbx;webdsnap;websnap;adortl;ibxpress;teeui;teedb;tee;dss;visualclx;visualdbclx;vclactnband;vclshlctrls;IntrawebDB_50_70;Intraweb_50_70;Rave50CLX;Rave50VCL;dclOfficeXP;OmegaD7;VirtualTreesD7
 Conditionals=
 DebugSourceDirs=
@@ -113,9 +113,9 @@
 IncludeVerInfo=1
 AutoIncBuild=1
 MajorVer=0
-MinorVer=70
+MinorVer=71
 Release=0
-Build=839
+Build=841
 Debug=0
 PreRelease=0
 Special=0
@@ -126,7 +126,7 @@
 [Version Info Keys]
 CompanyName=
 FileDescription=Spring RTS Engine lobby client
-FileVersion=0.70.0.839
+FileVersion=0.71.0.841
 InternalName=
 LegalCopyright=
 LegalTrademarks=

Modified: Lobby/TASClient/TASClient.res
===================================================================
(Binary files differ)

Added: Lobby/TASClient/TASClient.skn
===================================================================
--- Lobby/TASClient/TASClient.skn	                        (rev 0)
+++ Lobby/TASClient/TASClient.skn	2010-04-02 18:02:19 UTC (rev 7456)
@@ -0,0 +1,317 @@
+[Skin]
+Name=sdf
+Author=sdf
+ColorBtnFace=clBtnFace
+FloatingWindowBorderSize=4
+OfficeIcons=0
+OfficeMenu=0
+OfficeStatusBar=0
+
+[Dock]
+Normal.Body=3, $00524743, $00463E3B, $0030302F, $00454545
+Normal.Borders=0, clNone, clNone, clNone, clNone
+Normal.TextColor=clWhite
+
+[DockablePanel]
+Normal.Body=3, $00524743, $00463E3B, $0030302F, $00454545
+Normal.Borders=0, $00333333, clBlack, $0030302F, $0030302F
+Normal.TextColor=$007B919F
+
+[DockablePanelTitleBar]
+Normal.Body=3, $00524743, $00463E3B, $0030302F, $00454545
+Normal.Borders=0, $00333333, clBlack, $0030302F, $0030302F
+Normal.TextColor=$007B919F
+
+[MenuBar]
+Normal.Body=1, $00404040, $00292929, clNone, clNone
+Normal.Borders=0, clBlack, clBlack, $00666666, $00333333
+Normal.TextColor=$00A2E0EB
+
+[Panel]
+Normal.Body=1, $00404040, $00292929, clNone, clNone
+Normal.Borders=0, $00404040, $00404040, clNone, clNone
+Normal.TextColor=$00A2E0EB
+
+[Popup]
+Normal.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7
+Normal.Borders=0, $0059858E, $0031474D, clNone, clNone
+Normal.TextColor=$00A2E0EB
+
+[Separator]
+Normal.Body=3, $00537C84, $00729EA6, $00CCF4F2, $004B93A7
+Normal.Borders=0, $0059858E, $0031474D, clNone, clNone
+Normal.TextColor=clBlack
+
+[Splitter]
+Normal.Body=1, $00404040, $00292929, clNone, clNone
+Normal.Borders=2, $00404040, $00404040, clNone, clNone
+Normal.TextColor=$00A2E0EB
+
+[StatusBarGrip]
+Normal.Body=0, $00B7C1CB, clWhite, clNone, clNone
+Normal.Borders=0, clNone, clNone, clNone, clNone
+Normal.TextColor=clNone
+
+[TabBackground]
+Normal.Body=1, $001A1A1A, $00404040, $0030302F, $00454545
+Normal.Borders=0, $001A1A1A, $001A1A1A, clNone, clNone
+Normal.TextColor=clWhite
+
+[TabToolbar]
+Normal.Body=0, $00333333, $00463E3B, $0030302F, $00454545
+Normal.Borders=0, clNone, clNone, clNone, clNone
+Normal.TextColor=clWhite
+
+[Toolbar]
+Normal.Body=1, $00404040, $00292929, clNone, clNone
+Normal.Borders=0, clBlack, clBlack, $00666666, $00333333
+Normal.TextColor=$00A2E0EB
+
+[ToolbarGrip]
+Normal.Body=0, $00B7C1CB, clWhite, clNone, clNone
+Normal.Borders=0, clNone, clNone, clNone, clNone
+Normal.TextColor=clNone
+
+[Window]
+Normal.Body=1, $00404040, $00292929, clNone, clNone
+Normal.Borders=0, $002F2F2F, $004D4D4D, $00666666, $004D4D4D
+Normal.TextColor=$00A2E0EB
+
+[WindowTitleBar]
+Normal.Body=7, $00524743, $00463E3B, $0030302F, $00454545
+Normal.Borders=0, clNone, clNone, clNone, clNone
+Normal.TextColor=clWhite
+
+[MenuBarItem]
+Normal.Body=0, clNone, clNone, clNone, clNone
+Normal.Borders=0, clNone, clNone, clNone, clNone
+Normal.TextColor=$00729EA6
+HotTrack.Body=5, $00C1FCFF, $007DE2FF, $002FD0FF, $0079E1FF
+HotTrack.Borders=0, clNone, clNone, clNone, clNone
+HotTrack.TextColor=clNone
+Pushed.Body=5, $00C1FCFF, $007DE2FF, $002FD0FF, $0079E1FF
+Pushed.Borders=0, clNone, clNone, clNone, clNone
+Pushed.TextColor=clNone
+Checked.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7
+Checked.Borders=0, $0059858E, $0031474D, clNone, clNone
+Checked.TextColor=clBlack
+CheckedAndHotTrack.Body=3, $00C1FCFF, $007DE2FF, $002FD0FF, $0079E1FF
+CheckedAndHotTrack.Borders=1, $00003F51, $00003F51, $002FD0FF, $002FD0FF
+CheckedAndHotTrack.TextColor=clNone
+
+[MenuItem]
+Normal.Body=0, clNone, clNone, clNone, clNone
+Normal.Borders=0, clNone, clNone, clNone, clNone
+Normal.TextColor=clBlack
+HotTrack.Body=3, $003C5960, $00407C8E, $00729EA6, $00568087
+HotTrack.Borders=2, $00003F51, $00003F51, $00729EA6, $00407C8E
+HotTrack.TextColor=clWhite
+Checked.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7
+Checked.Borders=0, $0059858E, $0031474D, clNone, clNone
+Checked.TextColor=clBlack
+CheckedAndHotTrack.Body=3, $003C5960, $00407C8E, $00729EA6, $00568087
+CheckedAndHotTrack.Borders=2, $00003F51, $00003F51, $00729EA6, $00407C8E
+CheckedAndHotTrack.TextColor=clWhite
+
+[ToolbarItem]
+Normal.Body=0, clNone, clNone, clNone, clNone
+Normal.Borders=0, clNone, clNone, clNone, clNone
+Normal.TextColor=$00CCFFFF
+HotTrack.Body=3, $00729EA6, $00568087, $003C5960, $00407C8E
+HotTrack.Borders=2, $0036302E, $0036302E, clBlack, clBlack
+HotTrack.TextColor=clWhite
+Pushed.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+Pushed.Borders=2, $000D5A71, $000D5A71, $00729EA6, $00729EA6
+Pushed.TextColor=clWhite
+Checked.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+Checked.Borders=2, $000D5A71, $000D5A71, $00729EA6, $00729EA6
+Checked.TextColor=clWhite
+CheckedAndHotTrack.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+CheckedAndHotTrack.Borders=2, $000D5A71, $000D5A71, $00729EA6, $00729EA6
+CheckedAndHotTrack.TextColor=clWhite
+
+[Button]
+Normal.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+Normal.Borders=2, $0036302E, $0036302E, clBlack, clBlack
+Normal.TextColor=$00A2E0EB
+Disabled.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+Disabled.Borders=2, $0036302E, $0036302E, clBlack, clBlack
+Disabled.TextColor=clNone
+HotTrack.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+HotTrack.Borders=2, $000D5A71, $000D5A71, $00729EA6, $00729EA6
+HotTrack.TextColor=$00A2E0EB
+Pushed.Body=3, $00729EA6, $00568087, $003C5960, $00407C8E
+Pushed.Borders=2, $0036302E, $0036302E, clBlack, clBlack
+Pushed.TextColor=clWhite
+Checked.Body=3, $00729EA6, $00568087, $003C5960, $00407C8E
+Checked.Borders=2, $0036302E, $0036302E, clBlack, clBlack
+Checked.TextColor=clWhite
+CheckedAndHotTrack.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+CheckedAndHotTrack.Borders=2, $000D5A71, $000D5A71, $00729EA6, $00729EA6
+CheckedAndHotTrack.TextColor=$00A2E0EB
+
+[CheckBox]
+Normal.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+Normal.Borders=2, clBlack, clBlack, $00729EA6, $00729EA6
+Normal.TextColor=$00A2E0EB
+Disabled.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+Disabled.Borders=2, clBlack, clBlack, $003E6775, $003E6775
+Disabled.TextColor=$00515F6A
+HotTrack.Body=3, $003C5960, $00407C8E, $00729EA6, $00568087
+HotTrack.Borders=2, $00003F51, $00003F51, $00729EA6, $00407C8E
+HotTrack.TextColor=clWhite
+Pushed.Body=5, $00007EA4, $000D5A71, $000D5A71, $000D5A71
+Pushed.Borders=2, clBlack, clBlack, $00729EA6, $00729EA6
+Pushed.TextColor=$00A2E0EB
+Checked.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+Checked.Borders=2, clBlack, clBlack, $00729EA6, $00729EA6
+Checked.TextColor=$00A2E0EB
+CheckedAndHotTrack.Body=3, $002C4045, $00336371, $00365156, $00486A71
+CheckedAndHotTrack.Borders=2, $0000232D, $0000232D, $0059858C, $00366978
+CheckedAndHotTrack.TextColor=clWhite
+
+[EditButton]
+HotTrack.Body=5, $00C1FCFF, $007DE2FF, $002FD0FF, $0079E1FF
+HotTrack.Borders=0, clNone, clNone, clNone, clNone
+HotTrack.TextColor=clBlack
+Pushed.Body=3, $002FD0FF, $0079E1FF, $00C1FCFF, $007DE2FF
+Pushed.Borders=1, $00003F51, $00003F51, $002FD0FF, $002FD0FF
+Pushed.TextColor=clNone
+Normal.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7
+Normal.Borders=0, $0059858E, $0031474D, clNone, clNone
+Normal.TextColor=clBlack
+
+[EditFrame]
+Normal.Body=0, $001A1A1A, clNone, clNone, clNone
+Normal.Borders=2, $00313131, $00313131, $00151515, $00151515
+Normal.TextColor=$00A2E0EB
+Disabled.Body=0, clNone, clNone, clNone, clNone
+Disabled.Borders=1, clNone, clNone, $00E6E6E6, $00E6E6E6
+Disabled.TextColor=clNone
+HotTrack.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+HotTrack.Borders=2, $000D5A71, $000D5A71, $00729EA6, $00729EA6
+HotTrack.TextColor=clWhite
+
+[Header]
+Normal.Body=1, $00404040, $00292929, clNone, clNone
+Normal.Borders=0, $00292929, $00292929, clNone, clNone
+Normal.TextColor=$00A2E0EB
+HotTrack.Body=3, $00729EA6, $00568087, $003C5960, $00407C8E
+HotTrack.Borders=0, clNone, clNone, clNone, clNone
+HotTrack.TextColor=clWhite
+
+[Label]
+Normal.Body=0, clNone, clNone, clNone, clNone
+Normal.Borders=0, clNone, clNone, clNone, clNone
+Normal.TextColor=$00A2E0EB
+
+[ListItem]
+Normal.Body=0, $001A1A1A, clNone, clNone, clNone
+Normal.Borders=0, clNone, clNone, clNone, clNone
+Normal.TextColor=$00729EA6
+HotTrack.Body=3, $00729EA6, $00568087, $003C5960, $00407C8E
+HotTrack.Borders=0, clNone, clNone, clNone, clNone
+HotTrack.TextColor=clWhite
+Checked.Body=3, $003C5960, $00407C8E, $00729EA6, $00568087
+Checked.Borders=2, $00003F51, $00003F51, $00729EA6, $00407C8E
+Checked.TextColor=clWhite
+CheckedAndHotTrack.Body=3, $002C4045, $00336371, $00365156, $00486A71
+CheckedAndHotTrack.Borders=2, $0000232D, $0000232D, $0059858C, $00366978
+CheckedAndHotTrack.TextColor=clWhite
+Disabled.Body=3, $00333333, $00333333, $00333333, $00333333
+Disabled.Borders=0, clNone, clNone, clNone, clNone
+Disabled.TextColor=clNone
+
+[ProgressBar]
+Normal.Body=1, $00404040, $00292929, clNone, clNone
+Normal.Borders=2, $00404040, $00404040, clNone, clNone
+Normal.TextColor=$00A2E0EB
+HotTrack.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7
+HotTrack.Borders=0, $0059858E, $0031474D, clNone, clNone
+HotTrack.TextColor=clBlack
+
+[RadioButton]
+Normal.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+Normal.Borders=2, clBlack, clBlack, $00729EA6, $00729EA6
+Normal.TextColor=$00A2E0EB
+Disabled.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+Disabled.Borders=2, clBlack, clBlack, $003E6775, $003E6775
+Disabled.TextColor=$00515F6A
+HotTrack.Body=3, $003C5960, $00407C8E, $00729EA6, $00568087
+HotTrack.Borders=2, $00003F51, $00003F51, $00729EA6, $00407C8E
+HotTrack.TextColor=clWhite
+Pushed.Body=5, $00007EA4, $000D5A71, $000D5A71, $000D5A71
+Pushed.Borders=2, clBlack, clBlack, $00729EA6, $00729EA6
+Pushed.TextColor=$00A2E0EB
+Checked.Body=5, $00524743, $00463E3B, $0030302F, $00454545
+Checked.Borders=2, clBlack, clBlack, $00729EA6, $00729EA6
+Checked.TextColor=$00A2E0EB
+CheckedAndHotTrack.Body=3, $002C4045, $00336371, $00365156, $00486A71
+CheckedAndHotTrack.Borders=2, $0000232D, $0000232D, $0059858C, $00366978
+CheckedAndHotTrack.TextColor=clWhite
+
+[Tab]
+Normal.Body=0, $00404040, $00292929, clNone, clNone
+Normal.Borders=2, clBlack, clBlack, $00524743, $0036302E
+Normal.TextColor=$00CCCCCC
+Disabled.Body=0, $00DBDFE4, clNone, clNone, clNone
+Disabled.Borders=2, $00B8C2CA, $00B8C2CA, $00E1E4E8, $00E1E4E8
+Disabled.TextColor=clNone
+HotTrack.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7
+HotTrack.Borders=2, $001A1A1A, $001A1A1A, clNone, clNone
+HotTrack.TextColor=clBlack
+Pushed.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7
+Pushed.Borders=2, $001A1A1A, $001A1A1A, clNone, clNone
+Pushed.TextColor=clBlack
+Checked.Body=1, $00373737, $00171717, clNone, clNone
+Checked.Borders=2, clBlack, clBlack, $00524743, $0036302E
+Checked.TextColor=$00A2E0EB
+CheckedAndHotTrack.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7
+CheckedAndHotTrack.Borders=2, $001A1A1A, $001A1A1A, clNone, clNone
+CheckedAndHotTrack.TextColor=clBlack
+
+[TrackBar]
+Normal.Body=3, $00524743, $00463E3B, $0030302F, $00454545
+Normal.Borders=2, clBlack, $00333333, $0030302F, $0030302F
+Normal.TextColor=$007B919F
+HotTrack.Body=5, $00C1FCFF, $007DE2FF, $002FD0FF, $0079E1FF
+HotTrack.Borders=2, $0036302E, $0036302E, clBlack, clBlack
+HotTrack.TextColor=clNone
+
+[TrackBarButton]
+Normal.Body=3, $00CCF4F2, $00729EA6, $00537C84, $004B93A7
+Normal.Borders=2, $0059858E, $0031474D, clNone, clNone
+Normal.TextColor=clBlack
+Pushed.Body=5, $00C1FCFF, $007DE2FF, $002FD0FF, $0079E1FF
+Pushed.Borders=2, $00333333, $00333333, $004CD7FF, $004CD7FF
+Pushed.TextColor=clBlack
+
+[OpenToolbarItem]
+Normal.Body=0, clNone, clNone, clNone, clNone
+Normal.Borders=0, clNone, clNone, clNone, clNone
+Normal.TextColor=$00A2E0EB
+
+[Gutter]
+Normal.Body=0, clNone, clNone, clNone, clNone
+Normal.Borders=0, clNone, clNone, clNone, clNone
+Normal.TextColor=$00A2E0EB
+
+[TASClientColor]
+Normal=7511718
+Data=32768
+Error=3289801
+Info=16762273
+MinorInfo=8388608
+ChanJoin=32768
+ChanLeft=16762273
+MOTD=5855610
+SayEx=8738949
+Topic=5855610
+ClientAway=5526612
+MapModUnavailable=11028383
+BotText=8421504
+MyText=10674411
+AdminText=16777215
+OldMsgs=5526612
+BattleDetailsNonDefault=11028383
+BattleDetailsChanged=16762273


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002225.html">[Taspring-linux-commit] r7455 - Lobby/TASClient
</A></li>
	<LI>Next message: <A HREF="002227.html">[Taspring-linux-commit] r7457 - in Lobby/TASClient: . Graphics
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2226">[ date ]</a>
              <a href="thread.html#2226">[ thread ]</a>
              <a href="subject.html#2226">[ subject ]</a>
              <a href="author.html#2226">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
