<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r7036 - in branches/caiinterface: . AI	AI/Skirmish/AAI AI/Skirmish/JCAI AI/Skirmish/KAI	AI/Skirmish/KAIK AI/Skirmish/NTai/AI/NTai/Agents	AI/Skirmish/NTai/AI/NTai/Helpers/Terrain	AI/Skirmish/NTai/AI/NTai/Tasks AI/Skirmish/NTai/AI/NTai/Units	AI/Skirmish/RAI AI/Wrappers/LegacyCpp rts rts/ExternalAI	rts/ExternalAI/Interface rts/Game rts/Game/UI rts/Lua rts/Map	rts/Rendering/Env rts/Rendering/UnitModels rts/Sim/Features	rts/Sim/Misc rts/Sim/MoveTypes rts/Sim/Objects rts/Sim/Units	rts/Sim/Units/CommandAI rts/Sim/Units/UnitTypes	rts/System/Platform/Win rts/build/vstudio8 tools/DedicatedServer
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7036%20-%20in%20branches/caiinterface%3A%20.%20AI%0A%09AI/Skirmish/AAI%20AI/Skirmish/JCAI%20AI/Skirmish/KAI%0A%09AI/Skirmish/KAIK%20AI/Skirmish/NTai/AI/NTai/Agents%0A%09AI/Skirmish/NTai/AI/NTai/Helpers/Terrain%0A%09AI/Skirmish/NTai/AI/NTai/Tasks%20AI/Skirmish/NTai/AI/NTai/Units%0A%09AI/Skirmish/RAI%20AI/Wrappers/LegacyCpp%20rts%20rts/ExternalAI%0A%09rts/ExternalAI/Interface%20rts/Game%20rts/Game/UI%20rts/Lua%20rts/Map%0A%09rts/Rendering/Env%20rts/Rendering/UnitModels%20rts/Sim/Features%0A%09rts/Sim/Misc%20rts/Sim/MoveTypes%20rts/Sim/Objects%20rts/Sim/Units%0A%09rts/Sim/Units/CommandAI%20rts/Sim/Units/UnitTypes%0A%09rts/System/Platform/Win%20rts/build/vstudio8%20tools/DedicatedServer&In-Reply-To=%3C20081113103916.76BB0475F%40progate.clan-sy.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001804.html">
   <LINK REL="Next"  HREF="001806.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r7036 - in branches/caiinterface: . AI	AI/Skirmish/AAI AI/Skirmish/JCAI AI/Skirmish/KAI	AI/Skirmish/KAIK AI/Skirmish/NTai/AI/NTai/Agents	AI/Skirmish/NTai/AI/NTai/Helpers/Terrain	AI/Skirmish/NTai/AI/NTai/Tasks AI/Skirmish/NTai/AI/NTai/Units	AI/Skirmish/RAI AI/Wrappers/LegacyCpp rts rts/ExternalAI	rts/ExternalAI/Interface rts/Game rts/Game/UI rts/Lua rts/Map	rts/Rendering/Env rts/Rendering/UnitModels rts/Sim/Features	rts/Sim/Misc rts/Sim/MoveTypes rts/Sim/Objects rts/Sim/Units	rts/Sim/Units/CommandAI rts/Sim/Units/UnitTypes	rts/System/Platform/Win rts/build/vstudio8 tools/DedicatedServer</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7036%20-%20in%20branches/caiinterface%3A%20.%20AI%0A%09AI/Skirmish/AAI%20AI/Skirmish/JCAI%20AI/Skirmish/KAI%0A%09AI/Skirmish/KAIK%20AI/Skirmish/NTai/AI/NTai/Agents%0A%09AI/Skirmish/NTai/AI/NTai/Helpers/Terrain%0A%09AI/Skirmish/NTai/AI/NTai/Tasks%20AI/Skirmish/NTai/AI/NTai/Units%0A%09AI/Skirmish/RAI%20AI/Wrappers/LegacyCpp%20rts%20rts/ExternalAI%0A%09rts/ExternalAI/Interface%20rts/Game%20rts/Game/UI%20rts/Lua%20rts/Map%0A%09rts/Rendering/Env%20rts/Rendering/UnitModels%20rts/Sim/Features%0A%09rts/Sim/Misc%20rts/Sim/MoveTypes%20rts/Sim/Objects%20rts/Sim/Units%0A%09rts/Sim/Units/CommandAI%20rts/Sim/Units/UnitTypes%0A%09rts/System/Platform/Win%20rts/build/vstudio8%20tools/DedicatedServer&In-Reply-To=%3C20081113103916.76BB0475F%40progate.clan-sy.com%3E"
       TITLE="[Taspring-linux-commit] r7036 - in branches/caiinterface: . AI	AI/Skirmish/AAI AI/Skirmish/JCAI AI/Skirmish/KAI	AI/Skirmish/KAIK AI/Skirmish/NTai/AI/NTai/Agents	AI/Skirmish/NTai/AI/NTai/Helpers/Terrain	AI/Skirmish/NTai/AI/NTai/Tasks AI/Skirmish/NTai/AI/NTai/Units	AI/Skirmish/RAI AI/Wrappers/LegacyCpp rts rts/ExternalAI	rts/ExternalAI/Interface rts/Game rts/Game/UI rts/Lua rts/Map	rts/Rendering/Env rts/Rendering/UnitModels rts/Sim/Features	rts/Sim/Misc rts/Sim/MoveTypes rts/Sim/Objects rts/Sim/Units	rts/Sim/Units/CommandAI rts/Sim/Units/UnitTypes	rts/System/Platform/Win rts/build/vstudio8 tools/DedicatedServer">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Thu Nov 13 11:39:16 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001804.html">[Taspring-linux-commit] r7035 - trunk
</A></li>
        <LI>Next message: <A HREF="001806.html">[Taspring-linux-commit] r7037 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1805">[ date ]</a>
              <a href="thread.html#1805">[ thread ]</a>
              <a href="subject.html#1805">[ subject ]</a>
              <a href="author.html#1805">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: hoijui
Date: 2008-11-13 11:39:15 +0100 (Thu, 13 Nov 2008)
New Revision: 7036

Modified:
   branches/caiinterface/AI/CMakeLists.txt
   branches/caiinterface/AI/Skirmish/AAI/AAI.cpp
   branches/caiinterface/AI/Skirmish/AAI/AAIBuildTable.cpp
   branches/caiinterface/AI/Skirmish/AAI/AAIExecute.cpp
   branches/caiinterface/AI/Skirmish/AAI/AAIMap.cpp
   branches/caiinterface/AI/Skirmish/AAI/AAISector.cpp
   branches/caiinterface/AI/Skirmish/JCAI/BuildMap.cpp
   branches/caiinterface/AI/Skirmish/JCAI/MetalSpotMap.cpp
   branches/caiinterface/AI/Skirmish/JCAI/TaskManager.cpp
   branches/caiinterface/AI/Skirmish/KAI/AttackGroup.cpp
   branches/caiinterface/AI/Skirmish/KAI/DamageControl.cpp
   branches/caiinterface/AI/Skirmish/KAI/UnitTable.cpp
   branches/caiinterface/AI/Skirmish/KAIK/UnitTable.cpp
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Agents/CManufacturer.cpp
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/Terrain/CBuildingPlacer.cpp
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/Terrain/Map.cpp
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Tasks/CKeywordConstructionTask.cpp
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Tasks/CUnitConstructionTask.cpp
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CUnitTypeData.cpp
   branches/caiinterface/AI/Skirmish/RAI/Builder.cpp
   branches/caiinterface/AI/Skirmish/RAI/GResourceMap.cpp
   branches/caiinterface/AI/Skirmish/RAI/RAI.cpp
   branches/caiinterface/AI/Wrappers/LegacyCpp/AIAICallback.cpp
   branches/caiinterface/CMakeLists.txt
   branches/caiinterface/SConstruct
   branches/caiinterface/rts/CMakeLists.txt
   branches/caiinterface/rts/ExternalAI/AICallback.cpp
   branches/caiinterface/rts/ExternalAI/Interface/SAICallback.h
   branches/caiinterface/rts/ExternalAI/SAICallback.cpp
   branches/caiinterface/rts/Game/Game.cpp
   branches/caiinterface/rts/Game/GameHelper.cpp
   branches/caiinterface/rts/Game/SelectedUnits.cpp
   branches/caiinterface/rts/Game/SelectedUnitsAI.cpp
   branches/caiinterface/rts/Game/UI/GuiHandler.cpp
   branches/caiinterface/rts/Lua/LuaFeatureDefs.cpp
   branches/caiinterface/rts/Lua/LuaUnitDefs.cpp
   branches/caiinterface/rts/Map/BaseGroundDrawer.cpp
   branches/caiinterface/rts/Map/BasicMapDamage.cpp
   branches/caiinterface/rts/Rendering/Env/SkyBox.cpp
   branches/caiinterface/rts/Rendering/UnitModels/UnitDrawer.cpp
   branches/caiinterface/rts/Sim/Features/Feature.cpp
   branches/caiinterface/rts/Sim/Features/FeatureDef.h
   branches/caiinterface/rts/Sim/Features/FeatureHandler.cpp
   branches/caiinterface/rts/Sim/Misc/GroundBlockingObjectMap.cpp
   branches/caiinterface/rts/Sim/Misc/RadarHandler.cpp
   branches/caiinterface/rts/Sim/Misc/RadarHandler.h
   branches/caiinterface/rts/Sim/MoveTypes/AirMoveType.cpp
   branches/caiinterface/rts/Sim/MoveTypes/GroundMoveType.cpp
   branches/caiinterface/rts/Sim/MoveTypes/TAAirMoveType.cpp
   branches/caiinterface/rts/Sim/Objects/SolidObject.cpp
   branches/caiinterface/rts/Sim/Objects/SolidObject.h
   branches/caiinterface/rts/Sim/Units/CommandAI/BuilderCAI.cpp
   branches/caiinterface/rts/Sim/Units/CommandAI/CommandAI.cpp
   branches/caiinterface/rts/Sim/Units/UnitDef.h
   branches/caiinterface/rts/Sim/Units/UnitDefHandler.cpp
   branches/caiinterface/rts/Sim/Units/UnitHandler.cpp
   branches/caiinterface/rts/Sim/Units/UnitLoader.cpp
   branches/caiinterface/rts/Sim/Units/UnitTypes/Builder.cpp
   branches/caiinterface/rts/System/Platform/Win/DxSound.cpp
   branches/caiinterface/rts/build/vstudio8/rts.vcproj
   branches/caiinterface/tools/DedicatedServer/CMakeLists.txt
Log:
* reintegrated trunk up to 7035

Modified: branches/caiinterface/AI/CMakeLists.txt
===================================================================
--- branches/caiinterface/AI/CMakeLists.txt	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/CMakeLists.txt	2008-11-13 10:39:15 UTC (rev 7036)
@@ -1,5 +1,6 @@
 include_directories(${CMAKE_SOURCE_DIR}/rts ${CMAKE_SOURCE_DIR}/rts/ExternalAI ${CMAKE_SOURCE_DIR}/AI/Wrappers ${CMAKE_SOURCE_DIR}/rts/System ${SDL_INCLUDE_DIR})
 
+remove_definitions(-DSTREFLOP_SSE) # would break AI compiling
 add_definitions(${PIC_FLAG} -D_REENTRANT -D_GNU_SOURCE=1)
 aux_source_directory(${CMAKE_SOURCE_DIR}/rts/System/creg creg)
 #list (APPEND creg ${CMAKE_SOURCE_DIR}/rts/System/float3)

Modified: branches/caiinterface/AI/Skirmish/AAI/AAI.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/AAI/AAI.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/AAI/AAI.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -622,19 +622,19 @@
 
 				if(bt-&gt;CanPlacedLand(def-&gt;id))
 				{
-					map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, false, false);
-					map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, 0);
+					map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, false, false);
+					map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, 0);
 					map-&gt;BlockCells(pos.x, pos.z - 8, def-&gt;xsize, 8, false, false);
-					map-&gt;BlockCells(pos.x + def-&gt;xsize, pos.z - 8, cfg-&gt;X_SPACE, def-&gt;ysize + 1.5 * cfg-&gt;Y_SPACE, false, false);
-					map-&gt;BlockCells(pos.x, pos.z + def-&gt;ysize, def-&gt;xsize, 1.5 * cfg-&gt;Y_SPACE - 8, false, false);
+					map-&gt;BlockCells(pos.x + def-&gt;xsize, pos.z - 8, cfg-&gt;X_SPACE, def-&gt;zsize + 1.5 * cfg-&gt;Y_SPACE, false, false);
+					map-&gt;BlockCells(pos.x, pos.z + def-&gt;zsize, def-&gt;xsize, 1.5 * cfg-&gt;Y_SPACE - 8, false, false);
 				}
 				else
 				{
-					map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, false, true);	
-					map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, 4);
+					map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, false, true);	
+					map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, 4);
 					map-&gt;BlockCells(pos.x, pos.z - 8, def-&gt;xsize, 8, false, true);
-					map-&gt;BlockCells(pos.x + def-&gt;xsize, pos.z - 8, cfg-&gt;X_SPACE, def-&gt;ysize + 1.5 * cfg-&gt;Y_SPACE, false, true);
-					map-&gt;BlockCells(pos.x, pos.z + def-&gt;ysize, def-&gt;xsize, 1.5 * cfg-&gt;Y_SPACE - 8, false, true);
+					map-&gt;BlockCells(pos.x + def-&gt;xsize, pos.z - 8, cfg-&gt;X_SPACE, def-&gt;zsize + 1.5 * cfg-&gt;Y_SPACE, false, true);
+					map-&gt;BlockCells(pos.x, pos.z + def-&gt;zsize, def-&gt;xsize, 1.5 * cfg-&gt;Y_SPACE - 8, false, true);
 				}
 			}
 			// hq
@@ -647,19 +647,19 @@
 
 				if(def-&gt;minWaterDepth &lt;= 0)
 				{
-					map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, false, false);
-					map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, 0);
+					map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, false, false);
+					map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, 0);
 					map-&gt;BlockCells(pos.x, pos.z - 8, def-&gt;xsize, 8, false, false);
-					map-&gt;BlockCells(pos.x + def-&gt;xsize, pos.z - 8, cfg-&gt;X_SPACE, def-&gt;ysize + 1.5 * cfg-&gt;Y_SPACE, false, false);
-					map-&gt;BlockCells(pos.x, pos.z + def-&gt;ysize, def-&gt;xsize, 1.5 * cfg-&gt;Y_SPACE - 8, false, false);
+					map-&gt;BlockCells(pos.x + def-&gt;xsize, pos.z - 8, cfg-&gt;X_SPACE, def-&gt;zsize + 1.5 * cfg-&gt;Y_SPACE, false, false);
+					map-&gt;BlockCells(pos.x, pos.z + def-&gt;zsize, def-&gt;xsize, 1.5 * cfg-&gt;Y_SPACE - 8, false, false);
 				}
 				else
 				{
-					map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, false, true);	
-					map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, 4);
+					map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, false, true);	
+					map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, 4);
 					map-&gt;BlockCells(pos.x, pos.z - 8, def-&gt;xsize, 8, false, true);
-					map-&gt;BlockCells(pos.x + def-&gt;xsize, pos.z - 8, cfg-&gt;X_SPACE, def-&gt;ysize + 1.5 * cfg-&gt;Y_SPACE, false, true);
-					map-&gt;BlockCells(pos.x, pos.z + def-&gt;ysize, def-&gt;xsize, 1.5 * cfg-&gt;Y_SPACE - 8, false, true);
+					map-&gt;BlockCells(pos.x + def-&gt;xsize, pos.z - 8, cfg-&gt;X_SPACE, def-&gt;zsize + 1.5 * cfg-&gt;Y_SPACE, false, true);
+					map-&gt;BlockCells(pos.x, pos.z + def-&gt;zsize, def-&gt;xsize, 1.5 * cfg-&gt;Y_SPACE - 8, false, true);
 				}
 			}
 			// other building
@@ -670,13 +670,13 @@
 
 				if(def-&gt;minWaterDepth &lt;= 0)
 				{
-					map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, 0);
-					map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, false, false);
+					map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, 0);
+					map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, false, false);
 				}
 				else
 				{
-					map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, 4);
-					map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, false, true);
+					map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, 4);
+					map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, false, true);
 				}
 			}
 

Modified: branches/caiinterface/AI/Skirmish/AAI/AAIBuildTable.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/AAI/AAIBuildTable.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/AAI/AAIBuildTable.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -1673,9 +1673,9 @@
 	{
 		for(list&lt;int&gt;::iterator mex = units_of_category[EXTRACTOR][s].begin();  mex != units_of_category[EXTRACTOR][s].end(); ++mex)
 		{
-			if(unitList[*mex-1]-&gt;xsize * unitList[*mex-1]-&gt;ysize &gt; biggest_yard_map)
+			if(unitList[*mex-1]-&gt;xsize * unitList[*mex-1]-&gt;zsize &gt; biggest_yard_map)
 			{
-				biggest_yard_map = unitList[*mex-1]-&gt;xsize * unitList[*mex-1]-&gt;ysize;
+				biggest_yard_map = unitList[*mex-1]-&gt;xsize * unitList[*mex-1]-&gt;zsize;
 				biggest_mex = *mex;
 			}
 		}

Modified: branches/caiinterface/AI/Skirmish/AAI/AAIExecute.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/AAI/AAIExecute.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/AAI/AAIExecute.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -186,25 +186,25 @@
 		ut-&gt;futureFactories += 1;
 
 		if(water)
-			map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, 5);
+			map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, 5);
 		else
-			map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, 1);
+			map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, 1);
 
 		map-&gt;BlockCells(pos.x, pos.z - 8, def-&gt;xsize, 8, true, water);
-		map-&gt;BlockCells(pos.x + def-&gt;xsize, pos.z - 8, cfg-&gt;X_SPACE, def-&gt;ysize + 1.5 * cfg-&gt;Y_SPACE, true, water);
-		map-&gt;BlockCells(pos.x, pos.z + def-&gt;ysize, def-&gt;xsize, 1.5 * cfg-&gt;Y_SPACE - 8, true, water);
+		map-&gt;BlockCells(pos.x + def-&gt;xsize, pos.z - 8, cfg-&gt;X_SPACE, def-&gt;zsize + 1.5 * cfg-&gt;Y_SPACE, true, water);
+		map-&gt;BlockCells(pos.x, pos.z + def-&gt;zsize, def-&gt;xsize, 1.5 * cfg-&gt;Y_SPACE - 8, true, water);
 	}
 	// normal building
 	else
 	{
 		if(water)
-			map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, 5);
+			map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, 5);
 		else
-			map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, 1);
+			map-&gt;SetBuildMap(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, 1);
 	}
 	
 	// prevent ai from building too many things in a row
-	map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize, true, water);
+	map-&gt;CheckRows(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize, true, water);
 
 	return true;
 }
@@ -3265,12 +3265,12 @@
 
 		// update buildmap of sector
 		map-&gt;Pos2BuildMapPos(&amp;build_pos, def);
-		map-&gt;CheckRows(build_pos.x, build_pos.z, def-&gt;xsize, def-&gt;ysize, false, water);
+		map-&gt;CheckRows(build_pos.x, build_pos.z, def-&gt;xsize, def-&gt;zsize, false, water);
 		
-		map-&gt;SetBuildMap(build_pos.x, build_pos.z, def-&gt;xsize, def-&gt;ysize, value);
+		map-&gt;SetBuildMap(build_pos.x, build_pos.z, def-&gt;xsize, def-&gt;zsize, value);
 		map-&gt;BlockCells(build_pos.x, build_pos.z - 8, def-&gt;xsize, 8, false, water);
-		map-&gt;BlockCells(build_pos.x + def-&gt;xsize, build_pos.z - 8, cfg-&gt;X_SPACE, def-&gt;ysize + 1.5 * cfg-&gt;Y_SPACE, false, water);
-		map-&gt;BlockCells(build_pos.x, build_pos.z + def-&gt;ysize, def-&gt;xsize, 1.5 * cfg-&gt;Y_SPACE - 8, false, water);
+		map-&gt;BlockCells(build_pos.x + def-&gt;xsize, build_pos.z - 8, cfg-&gt;X_SPACE, def-&gt;zsize + 1.5 * cfg-&gt;Y_SPACE, false, water);
+		map-&gt;BlockCells(build_pos.x, build_pos.z + def-&gt;zsize, def-&gt;xsize, 1.5 * cfg-&gt;Y_SPACE - 8, false, water);
 	}
 	else // normal building
 	{
@@ -3278,13 +3278,13 @@
 			
 		if(def-&gt;minWaterDepth &lt;= 0)
 		{
-			map-&gt;SetBuildMap(build_pos.x, build_pos.z, def-&gt;xsize, def-&gt;ysize, 0);
-			map-&gt;CheckRows(build_pos.x, build_pos.z, def-&gt;xsize, def-&gt;ysize, false, false);
+			map-&gt;SetBuildMap(build_pos.x, build_pos.z, def-&gt;xsize, def-&gt;zsize, 0);
+			map-&gt;CheckRows(build_pos.x, build_pos.z, def-&gt;xsize, def-&gt;zsize, false, false);
 		}
 		else
 		{
-				map-&gt;SetBuildMap(build_pos.x, build_pos.z, def-&gt;xsize, def-&gt;ysize, 4);
-				map-&gt;CheckRows(build_pos.x, build_pos.z, def-&gt;xsize, def-&gt;ysize, false, true);
+				map-&gt;SetBuildMap(build_pos.x, build_pos.z, def-&gt;xsize, def-&gt;zsize, 4);
+				map-&gt;CheckRows(build_pos.x, build_pos.z, def-&gt;xsize, def-&gt;zsize, false, true);
 		}
 	}
 }
@@ -3556,4 +3556,4 @@
 	//	fprintf(ai-&gt;file, &quot;%i th order has been given by %s in frame %i\n&quot;, issued_orders, owner,  cb-&gt;GetCurrentFrame());
 
 	cb-&gt;GiveOrder(unit, c);
-}
\ No newline at end of file
+}

Modified: branches/caiinterface/AI/Skirmish/AAI/AAIMap.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/AAI/AAIMap.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/AAI/AAIMap.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -871,7 +871,7 @@
 
 	// shift to the leftmost uppermost cell
 	pos-&gt;x -= def-&gt;xsize/2;
-	pos-&gt;z -= def-&gt;ysize/2;
+	pos-&gt;z -= def-&gt;zsize/2;
 
 	// check if pos is still in that map, otherwise retun 0
 	if(pos-&gt;x &lt; 0 &amp;&amp; pos-&gt;z &lt; 0)
@@ -882,7 +882,7 @@
 {
 	// shift to middlepoint
 	pos-&gt;x += def-&gt;xsize/2;
-	pos-&gt;z += def-&gt;ysize/2;
+	pos-&gt;z += def-&gt;zsize/2;
 
 	// back to unit coordinates
 	pos-&gt;x *= SQUARE_SIZE;
@@ -1474,7 +1474,7 @@
 	else
 		pos-&gt;x=floor((pos-&gt;x+8)/(SQUARE_SIZE*2))*SQUARE_SIZE*2;
 
-	if(def-&gt;ysize&amp;2)
+	if(def-&gt;zsize&amp;2)
 		pos-&gt;z=floor((pos-&gt;z)/(SQUARE_SIZE*2))*SQUARE_SIZE*2+8;
 	else
 		pos-&gt;z=floor((pos-&gt;z+8)/(SQUARE_SIZE*2))*SQUARE_SIZE*2;
@@ -1522,7 +1522,7 @@
 {
 	// calculate size of building
 	*xSize = def-&gt;xsize;
-	*ySize = def-&gt;ysize;
+	*ySize = def-&gt;zsize;
 
 	// if building is a factory additional vertical space is needed
 	if(bt-&gt;IsFactory(def-&gt;id))
@@ -2021,15 +2021,15 @@
 
 				if(pos.z &gt;= 2 &amp;&amp; pos.x &gt;= 2 &amp;&amp; pos.x &lt; xMapSize-2 &amp;&amp; pos.z &lt; yMapSize-2)
 				{
-					if(CanBuildAt(pos.x, pos.z, def-&gt;xsize, def-&gt;ysize))
+					if(CanBuildAt(pos.x, pos.z, def-&gt;xsize, def-&gt;zsize))
 					{
 						metal_spots.push_back(temp);
 						SpotsFound++;
 
 						if(pos.y &gt;= 0)
-							SetBuildMap(pos.x-2, pos.z-2, def-&gt;xsize+4, def-&gt;ysize+4, 1);
+							SetBuildMap(pos.x-2, pos.z-2, def-&gt;xsize+4, def-&gt;zsize+4, 1);
 						else
-							SetBuildMap(pos.x-2, pos.z-2, def-&gt;xsize+4, def-&gt;ysize+4, 5);
+							SetBuildMap(pos.x-2, pos.z-2, def-&gt;xsize+4, def-&gt;zsize+4, 5);
 					}
 				}
 			//}
@@ -2679,4 +2679,5 @@
 		y = yContMapSize - 1;
 
 	return continent_map[y * xContMapSize + x];
-}
\ No newline at end of file
+}
+

Modified: branches/caiinterface/AI/Skirmish/AAI/AAISector.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/AAI/AAISector.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/AAI/AAISector.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -406,7 +406,7 @@
 
 	// shift to the leftmost uppermost cell
 	pos-&gt;x -= def-&gt;xsize/2;
-	pos-&gt;z -= def-&gt;ysize/2;
+	pos-&gt;z -= def-&gt;zsize/2;
 
 	// check if pos is still in that scetor, otherwise retun 0
 	if(pos-&gt;x &lt; 0 &amp;&amp; pos-&gt;z &lt; 0)
@@ -417,7 +417,7 @@
 {
 	// shift to middlepoint
 	pos-&gt;x += def-&gt;xsize/2;
-	pos-&gt;z += def-&gt;ysize/2;
+	pos-&gt;z += def-&gt;zsize/2;
 
 	// get cell position on complete map
 	pos-&gt;x += x * ai-&gt;map-&gt;xSectorSizeMap;
@@ -770,4 +770,5 @@
 	}
 
 	*pos = ZeroVector;
-}
\ No newline at end of file
+}
+

Modified: branches/caiinterface/AI/Skirmish/JCAI/BuildMap.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/JCAI/BuildMap.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/JCAI/BuildMap.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -81,7 +81,7 @@
 	else
 		pos.x=floor((pos.x+8)/(SQUARE_SIZE*2))*SQUARE_SIZE*2;
 
-	if(ud-&gt;ysize&amp;2)
+	if(ud-&gt;zsize&amp;2)
 		pos.z=floor((pos.z)/(SQUARE_SIZE*2))*SQUARE_SIZE*2+8;
 	else
 		pos.z=floor((pos.z+8)/(SQUARE_SIZE*2))*SQUARE_SIZE*2;
@@ -99,9 +99,9 @@
 	int space = GetUnitSpace (def);
 
 	int xstart = max (0, (int(pos.x)/SQUARE_SIZE - def-&gt;xsize/2) / 4 - space);
-	int ystart = max (0, (int(pos.z)/SQUARE_SIZE - def-&gt;ysize/2) / 4 - space);
+	int ystart = max (0, (int(pos.z)/SQUARE_SIZE - def-&gt;zsize/2) / 4 - space);
 	int xend = min (w, (int(pos.x)/SQUARE_SIZE + def-&gt;xsize/2) / 4 + space);
-	int yend = min (h, (int(pos.z)/SQUARE_SIZE + def-&gt;ysize/2) / 4 + space);
+	int yend = min (h, (int(pos.z)/SQUARE_SIZE + def-&gt;zsize/2) / 4 + space);
 
 	for (int y=ystart;y&lt;yend;y++)
 		for (int x=xstart;x&lt;xend;x++)
@@ -140,9 +140,9 @@
 		if (callback-&gt;CanBuildAt (def, pos))
 		{
 			int xstart = int(x*4 - def-&gt;xsize/2) / 4 - space;
-			int ystart = int(y*4 - def-&gt;ysize/2) / 4 - space;
+			int ystart = int(y*4 - def-&gt;zsize/2) / 4 - space;
 			int xend = int(x*4 + def-&gt;xsize/2) / 4 + space;
-			int yend = int(y*4 + def-&gt;ysize/2) / 4 + space;
+			int yend = int(y*4 + def-&gt;zsize/2) / 4 + space;
 
 			if (xstart &lt; 0 || ystart &lt; 0 || xend &gt;= w || yend &gt;= h)
 				continue;

Modified: branches/caiinterface/AI/Skirmish/JCAI/MetalSpotMap.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/JCAI/MetalSpotMap.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/JCAI/MetalSpotMap.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -154,7 +154,7 @@
 	else
 		pos.x=floor((pos.x+8)/(SQUARE_SIZE*2))*SQUARE_SIZE*2;
 
-	if(ud-&gt;ysize&amp;2)
+	if(ud-&gt;zsize&amp;2)
 		pos.z=floor((pos.z)/(SQUARE_SIZE*2))*SQUARE_SIZE*2+8;
 	else
 		pos.z=floor((pos.z+8)/(SQUARE_SIZE*2))*SQUARE_SIZE*2;

Modified: branches/caiinterface/AI/Skirmish/JCAI/TaskManager.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/JCAI/TaskManager.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/JCAI/TaskManager.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -22,7 +22,7 @@
 	BuildTable::UDef* cd=buildTable.GetCachedDef (def-&gt;id);
 	if (cd-&gt;IsBuilding()) {
         if (cd-&gt;IsBuilder()) return SQUARE_SIZE * 12; // factories
-		else return SQUARE_SIZE * (def-&gt;xsize+def-&gt;ysize)/4;
+		else return SQUARE_SIZE * (def-&gt;xsize+def-&gt;zsize)/4;
 	} else return SQUARE_SIZE * 6;
 }
 

Modified: branches/caiinterface/AI/Skirmish/KAI/AttackGroup.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/KAI/AttackGroup.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/KAI/AttackGroup.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -227,7 +227,7 @@
 			this-&gt;highestAttackRange = max(this-&gt;highestAttackRange, this-&gt;ai-&gt;ut-&gt;GetMaxRange(ud));
 			this-&gt;lowestUnitSpeed = min(this-&gt;lowestUnitSpeed, ud-&gt;speed);
 			this-&gt;highestUnitSpeed = max(this-&gt;highestUnitSpeed, ud-&gt;speed);
-			this-&gt;groupPhysicalSize += (ud-&gt;xsize+ud-&gt;ysize) * 0.3f;
+			this-&gt;groupPhysicalSize += (ud-&gt;xsize+ud-&gt;zsize) * 0.3f;
 			this-&gt;groupDPS += ai-&gt;MyUnits[unitID]-&gt;GetAverageDPS();
 			if(ud-&gt;canfly)this-&gt;highestTurnRadius = max(this-&gt;highestTurnRadius, ud-&gt;turnRadius);
 		}

Modified: branches/caiinterface/AI/Skirmish/KAI/DamageControl.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/KAI/DamageControl.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/KAI/DamageControl.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -323,11 +323,11 @@
 					//L(&quot;Name: &quot; &lt;&lt; unit-&gt;weapons[i].name &lt;&lt; &quot; AOE: &quot; &lt;&lt; AOE &lt;&lt; &quot; Accuracy: &quot; &lt;&lt; unit-&gt;weapons[i].def-&gt;accuracy &lt;&lt; &quot; range: &quot; &lt;&lt; unit-&gt;weapons[i].def-&gt;range);
 					if((victim-&gt;canfly &amp;&amp; unit-&gt;weapons[i].def-&gt;selfExplode) || !victim-&gt;canfly){
 						impactarea = pow((accuracy*distancetravelled)+AOE,2);
-						targetarea = ((victim-&gt;xsize * 16) + AOE) * ((victim-&gt;ysize * 16) + AOE);
+						targetarea = ((victim-&gt;xsize * 16) + AOE) * ((victim-&gt;zsize * 16) + AOE);
 					}
 					else{
 						impactarea = pow((accuracy)*(0.7f*distancetravelled),2);
-						targetarea = (victim-&gt;xsize * victim-&gt;ysize * 256);
+						targetarea = (victim-&gt;xsize * victim-&gt;zsize * 256);
 					}
 					//L(&quot;Impact Area: &quot; &lt;&lt; impactarea &lt;&lt; &quot; Target Area: &quot; &lt;&lt; targetarea);
 					if(impactarea &gt; targetarea){

Modified: branches/caiinterface/AI/Skirmish/KAI/UnitTable.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/KAI/UnitTable.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/KAI/UnitTable.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -2028,9 +2028,9 @@
 				L(&quot;Its x size: &quot; &lt;&lt; unittypearray[i].def-&gt;xsize);
 			}
 			
-			if(unittypearray[i].def-&gt;ysize &gt; 0)
+			if(unittypearray[i].def-&gt;zsize &gt; 0)
 			{
-				L(&quot;Its y size: &quot; &lt;&lt; unittypearray[i].def-&gt;ysize);
+				L(&quot;Its y size: &quot; &lt;&lt; unittypearray[i].def-&gt;zsize);
 			}
 		
 		

Modified: branches/caiinterface/AI/Skirmish/KAIK/UnitTable.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/KAIK/UnitTable.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/KAIK/UnitTable.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -387,10 +387,10 @@
 
 					if ((victim-&gt;canfly &amp;&amp; unit-&gt;weapons[i].def-&gt;selfExplode) || !victim-&gt;canfly) {
 						impactarea = pow((accuracy * distancetravelled) + AOE, 2);
-						targetarea = ((victim-&gt;xsize * 16) + AOE) * ((victim-&gt;ysize * 16) + AOE);
+						targetarea = ((victim-&gt;xsize * 16) + AOE) * ((victim-&gt;zsize * 16) + AOE);
 					} else {
 						impactarea = pow((accuracy) * (0.7f * distancetravelled), 2);
-						targetarea = (victim-&gt;xsize * victim-&gt;ysize * 256);
+						targetarea = (victim-&gt;xsize * victim-&gt;zsize * 256);
 					}
 
 					if (impactarea &gt; targetarea) {

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Agents/CManufacturer.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Agents/CManufacturer.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Agents/CManufacturer.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -43,7 +43,7 @@
 		if (builderdef == 0) return unitpos;
 
 		float3 epos = unitpos;
-		epos.z -= min(max(float(builderdef-&gt;ysize*8+target-&gt;ysize*10),float(builderdef-&gt;xsize*8+target-&gt;xsize*10)),builderdef-&gt;buildDistance*0.7f);
+		epos.z -= min(max(float(builderdef-&gt;zsize*8+target-&gt;zsize*10),float(builderdef-&gt;xsize*8+target-&gt;xsize*10)),builderdef-&gt;buildDistance*0.7f);
 		//epos.z -= target-&gt;buildDistance*0.6f;
 		float angle = float(G-&gt;mrand()%320);
 		unitpos = G-&gt;Map-&gt;Rotate(epos,angle,unitpos);
@@ -360,7 +360,7 @@
 		if(!BPlans-&gt;empty()){
 			for(deque&lt;CBPlan* &gt;::iterator i = BPlans-&gt;begin(); i != BPlans-&gt;end(); ++i){
 				if((*i)-&gt;utd-&gt;GetUnitDef()-&gt;name != ud-&gt;name){
-					if(pos.distance2D((*i)-&gt;pos) &lt; (*i)-&gt;radius+(max(ud-&gt;ysize,ud-&gt;xsize)*8)){
+					if(pos.distance2D((*i)-&gt;pos) &lt; (*i)-&gt;radius+(max(ud-&gt;zsize,ud-&gt;xsize)*8)){
 						return i;
 					}
 				}

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/Terrain/CBuildingPlacer.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/Terrain/CBuildingPlacer.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/Terrain/CBuildingPlacer.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -300,7 +300,7 @@
 			}
 
 			int* iunits = new int[10000];
-			int itemp = G-&gt;GetEnemyUnits(iunits, q, (float)max(building-&gt;GetUnitDef()-&gt;ysize, building-&gt;GetUnitDef()-&gt;xsize)*8);
+			int itemp = G-&gt;GetEnemyUnits(iunits, q, (float)max(building-&gt;GetUnitDef()-&gt;zsize, building-&gt;GetUnitDef()-&gt;xsize)*8);
 			delete [] iunits;
 
 			if(itemp&gt;0){

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/Terrain/Map.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/Terrain/Map.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/Terrain/Map.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -155,8 +155,8 @@
 		float maxDif=unitdef-&gt;maxHeightDif;
 		int x1 = (int)max(0.f,(pos.x-(unitdef-&gt;xsize*0.5f*SQUARE_SIZE))/SQUARE_SIZE);
 		int x2 = min(G-&gt;cb-&gt;GetMapWidth()*SQUARE_SIZE,x1+unitdef-&gt;xsize);
-		int z1 = (int)max(0.f,(pos.z-(unitdef-&gt;ysize*0.5f*SQUARE_SIZE))/SQUARE_SIZE);
-		int z2 = min(G-&gt;cb-&gt;GetMapHeight()*SQUARE_SIZE,z1+unitdef-&gt;ysize);
+		int z1 = (int)max(0.f,(pos.z-(unitdef-&gt;zsize*0.5f*SQUARE_SIZE))/SQUARE_SIZE);
+		int z2 = min(G-&gt;cb-&gt;GetMapHeight()*SQUARE_SIZE,z1+unitdef-&gt;zsize);
 
 		if (x1 &gt; G-&gt;cb-&gt;GetMapWidth()*SQUARE_SIZE) x1 = G-&gt;cb-&gt;GetMapWidth()*SQUARE_SIZE;
 		if (x2 &lt; 0) x2 = 0;
@@ -195,7 +195,7 @@
 		else
 			pos.x=floor((pos.x+8)/(SQUARE_SIZE*2))*SQUARE_SIZE*2;
 
-		if(ud-&gt;ysize&amp;2)
+		if(ud-&gt;zsize&amp;2)
 			pos.z=floor((pos.z)/(SQUARE_SIZE*2))*SQUARE_SIZE*2+8;
 		else
 			pos.z=floor((pos.z+8)/(SQUARE_SIZE*2))*SQUARE_SIZE*2;

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Tasks/CKeywordConstructionTask.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Tasks/CKeywordConstructionTask.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Tasks/CKeywordConstructionTask.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -101,7 +101,7 @@
 					Bplan-&gt;utd=building;
 					G-&gt;Manufacturer-&gt;AddPlan();
 					Bplan-&gt;id = G-&gt;Manufacturer-&gt;getplans();
-					Bplan-&gt;radius = (float)max(building-&gt;GetUnitDef()-&gt;xsize,building-&gt;GetUnitDef()-&gt;ysize)*8.0f;
+					Bplan-&gt;radius = (float)max(building-&gt;GetUnitDef()-&gt;xsize,building-&gt;GetUnitDef()-&gt;zsize)*8.0f;
 					Bplan-&gt;inFactory = building-&gt;IsFactory();
 
 					G-&gt;Manufacturer-&gt;BPlans-&gt;push_back(Bplan);

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Tasks/CUnitConstructionTask.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Tasks/CUnitConstructionTask.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Tasks/CUnitConstructionTask.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -118,7 +118,7 @@
 					G-&gt;Manufacturer-&gt;AddPlan();
 
 					Bplan-&gt;id = G-&gt;Manufacturer-&gt;getplans();
-					Bplan-&gt;radius = (float)max(building-&gt;GetUnitDef()-&gt;xsize,building-&gt;GetUnitDef()-&gt;ysize)*8.0f;
+					Bplan-&gt;radius = (float)max(building-&gt;GetUnitDef()-&gt;xsize,building-&gt;GetUnitDef()-&gt;zsize)*8.0f;
 					Bplan-&gt;inFactory = builder-&gt;IsFactory();
 					G-&gt;Manufacturer-&gt;BPlans-&gt;push_back(Bplan);
 					if((builder-&gt;IsFactory()&amp;&amp;building-&gt;IsMobile())==false){

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CUnitTypeData.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CUnitTypeData.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CUnitTypeData.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -102,7 +102,7 @@
 		}else{
 			G-&gt;Get_mod_tdf()-&gt;GetDef(buildSpacing,&quot;1&quot;, &quot;AI\\default_spacing&quot;);
 		}
-		float r = sqrt(pow((float)ud-&gt;xsize*8,2)+pow((float)ud-&gt;ysize*8,2))/2;
+		float r = sqrt(pow((float)ud-&gt;xsize*8,2)+pow((float)ud-&gt;zsize*8,2))/2;
 		r += (buildSpacing*8);
 		buildSpacing = r;
 

Modified: branches/caiinterface/AI/Skirmish/RAI/Builder.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/RAI/Builder.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/RAI/Builder.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -1063,7 +1063,7 @@
 			float3 positionL = position;
 			positionL.z-=48.0f;
 //			positionL.y=cb-&gt;GetElevation(positionL.x,positionL.z);
-			if( position.z/8 &gt;= cb-&gt;GetMapHeight()-5-(U-&gt;BuildQ-&gt;creationUD-&gt;ud-&gt;ysize/2) ||
+			if( position.z/8 &gt;= cb-&gt;GetMapHeight()-5-(U-&gt;BuildQ-&gt;creationUD-&gt;ud-&gt;zsize/2) ||
 				(cb-&gt;CanBuildAt(bd,positionL) &amp;&amp; !cb-&gt;CanBuildAt(bd,positionH) ) )
 				c.params.push_back(2);
 		}

Modified: branches/caiinterface/AI/Skirmish/RAI/GResourceMap.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/RAI/GResourceMap.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/RAI/GResourceMap.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -383,7 +383,7 @@
 			MMXSize = cb-&gt;GetMapWidth()/2;
 			*l&lt;&lt;&quot;\n   Metal-Map Size: &quot;&lt;&lt;MMXSize*MMZSize&lt;&lt;&quot; (x&quot;&lt;&lt;MMXSize&lt;&lt;&quot;,z&quot;&lt;&lt;MMZSize&lt;&lt;&quot;)&quot;;
 			const float MBtoBB = 2.0; // Metal-Block to Build-Block, * for Conversion, / for the reverse
-			const float MMMinExtractorRadius = sqrt(pow(float(udList[0]-&gt;xsize)/MBtoBB,2)+pow(float(udList[0]-&gt;ysize)/MBtoBB,2)); // If less then this value then sites could overlap
+			const float MMMinExtractorRadius = sqrt(pow(float(udList[0]-&gt;xsize)/MBtoBB,2)+pow(float(udList[0]-&gt;zsize)/MBtoBB,2)); // If less then this value then sites could overlap
 			*l&lt;&lt;&quot;\n   Minimal Metal-Map Extractor Radius: &quot;&lt;&lt;MMMinExtractorRadius;
 
 			// sorts the list so that the most unique size extractors are first
@@ -397,7 +397,7 @@
 					{
 						uniqueExtractorIndex = iud;
 						for( int iud2=0; iud2&lt;uniqueExtractors; iud2++ )
-							if( udList[iud]-&gt;xsize == udList[iud2]-&gt;xsize &amp;&amp; udList[iud]-&gt;ysize == udList[iud2]-&gt;ysize &amp;&amp;
+							if( udList[iud]-&gt;xsize == udList[iud2]-&gt;xsize &amp;&amp; udList[iud]-&gt;zsize == udList[iud2]-&gt;zsize &amp;&amp;
 								udList[iud]-&gt;minWaterDepth == udList[iud2]-&gt;minWaterDepth &amp;&amp; udList[iud]-&gt;maxWaterDepth == udList[iud2]-&gt;maxWaterDepth )
 							{
 								uniqueExtractorIndex = -1;
@@ -413,7 +413,7 @@
 					uniqueExtractors++;
 
 					// make udList[0] = the smallest extractor
-					for( int i=uniqueExtractors-1; i&gt;0 &amp;&amp; udList[i]-&gt;xsize*udList[i]-&gt;ysize &lt; udList[i-1]-&gt;xsize*udList[i-1]-&gt;ysize; i-- )
+					for( int i=uniqueExtractors-1; i&gt;0 &amp;&amp; udList[i]-&gt;xsize*udList[i]-&gt;zsize &lt; udList[i-1]-&gt;xsize*udList[i-1]-&gt;zsize; i-- )
 					{
 						const UnitDef* ud = udList[i-1];
 						udList[i-1] = udList[i];
@@ -421,7 +421,7 @@
 					}
 				}
 			}
-			*l&lt;&lt;&quot;\n   Minimal Unit-Definition Size: (x&quot;&lt;&lt;udList[0]-&gt;xsize&lt;&lt;&quot;,z&quot;&lt;&lt;udList[0]-&gt;ysize&lt;&lt;&quot;)&quot;;
+			*l&lt;&lt;&quot;\n   Minimal Unit-Definition Size: (x&quot;&lt;&lt;udList[0]-&gt;xsize&lt;&lt;&quot;,z&quot;&lt;&lt;udList[0]-&gt;zsize&lt;&lt;&quot;)&quot;;
 			*l&lt;&lt;&quot;\n   Unique Extractor Unit-Definitions: &quot;&lt;&lt;uniqueExtractors;
 
 			// Calculate the offsets
@@ -481,7 +481,7 @@
 				const UnitDef *ud = 0;
 				for( int iud=0; iud&lt;udSize; iud++ )
 					if( udList[iud]-&gt;needGeo )
-						if( ud == 0 || udList[iud]-&gt;xsize*udList[iud]-&gt;ysize &lt; ud-&gt;xsize*ud-&gt;ysize )
+						if( ud == 0 || udList[iud]-&gt;xsize*udList[iud]-&gt;zsize &lt; ud-&gt;xsize*ud-&gt;zsize )
 							ud = udList[iud];
 
 				const int MMtoMP = 16; // Metal-Map to Map-Position, * for conversion, / for the reverse
@@ -490,7 +490,7 @@
 				{
 					xMin = int(R[1][iR]-&gt;position.x)/MMtoMP;
 					zMin = int(R[1][iR]-&gt;position.z)/MMtoMP;
-					SetLimitBoundary(xMin,xMax,ud-&gt;xsize/MBtoBB-1,zMin,zMax,ud-&gt;ysize/MBtoBB-1);
+					SetLimitBoundary(xMin,xMax,ud-&gt;xsize/MBtoBB-1,zMin,zMax,ud-&gt;zsize/MBtoBB-1);
 					for(int z=zMin; z&lt;=zMax; z++)
 						for(int x=xMin; x&lt;=xMax; x++)
 							if( MMS[x][z].assessing )
@@ -628,7 +628,7 @@
 				// The Extractor Radius is small enough that Sites will overlap, remove the nearby indexes being assessed
 //				if( MMExtractorRadius &lt; MMMinExtractorRadius )
 //				{
-				SetLimitBoundary((xMin=mms-&gt;x),xMax,udList[0]-&gt;xsize/MBtoBB -1,(zMin=mms-&gt;z),zMax,udList[0]-&gt;ysize/MBtoBB -1);
+				SetLimitBoundary((xMin=mms-&gt;x),xMax,udList[0]-&gt;xsize/MBtoBB -1,(zMin=mms-&gt;z),zMax,udList[0]-&gt;zsize/MBtoBB -1);
 				for(int z=zMin; z&lt;=zMax; z++)
 					for(int x=xMin; x&lt;=xMax; x++)
 						if( MMS[x][z].assessing )

Modified: branches/caiinterface/AI/Skirmish/RAI/RAI.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/RAI/RAI.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Skirmish/RAI/RAI.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -785,7 +785,7 @@
 						eventList[0]-&gt;lastPosition-&gt;x = -1.0;
 						float3 conPosition = cb-&gt;GetUnitPos(eventList[0]-&gt;unitI-&gt;BuildQ-&gt;creationID.front());
 						if( abs(int(position.x-conPosition.x)) + 4.0 &lt; 8.0*eventList[0]-&gt;unitI-&gt;ud-&gt;xsize/2.0 + 8.0*eventList[0]-&gt;unitI-&gt;BuildQ-&gt;creationUD-&gt;ud-&gt;xsize/2.0 &amp;&amp;
-							abs(int(position.z-conPosition.z)) + 4.0 &lt; 8.0*eventList[0]-&gt;unitI-&gt;ud-&gt;ysize/2.0 + 8.0*eventList[0]-&gt;unitI-&gt;BuildQ-&gt;creationUD-&gt;ud-&gt;ysize/2.0 )
+							abs(int(position.z-conPosition.z)) + 4.0 &lt; 8.0*eventList[0]-&gt;unitI-&gt;ud-&gt;zsize/2.0 + 8.0*eventList[0]-&gt;unitI-&gt;BuildQ-&gt;creationUD-&gt;ud-&gt;zsize/2.0 )
 						{	// most likely, the commander built something on top of himself
 							Command c;
 							c.id = CMD_RECLAIM;
@@ -802,9 +802,9 @@
 									c.params.push_back(position.x + ((position.x-conPosition.x)/position.distance2D(conPosition))*(8.0*eventList[0]-&gt;unitI-&gt;ud-&gt;xsize/2.0 +8.0*eventList[0]-&gt;unitI-&gt;BuildQ-&gt;creationUD-&gt;ud-&gt;xsize/2.0) );
 								c.params.push_back(position.y);
 								if( position.z &lt; conPosition.z )
-									c.params.push_back(position.z - ((position.z-conPosition.z)/position.distance2D(conPosition))*(8.0*eventList[0]-&gt;unitI-&gt;ud-&gt;ysize/2.0 +8.0*eventList[0]-&gt;unitI-&gt;BuildQ-&gt;creationUD-&gt;ud-&gt;ysize/2.0) );
+									c.params.push_back(position.z - ((position.z-conPosition.z)/position.distance2D(conPosition))*(8.0*eventList[0]-&gt;unitI-&gt;ud-&gt;zsize/2.0 +8.0*eventList[0]-&gt;unitI-&gt;BuildQ-&gt;creationUD-&gt;ud-&gt;zsize/2.0) );
 								else
-									c.params.push_back(position.z + ((position.z-conPosition.z)/position.distance2D(conPosition))*(8.0*eventList[0]-&gt;unitI-&gt;ud-&gt;ysize/2.0 +8.0*eventList[0]-&gt;unitI-&gt;BuildQ-&gt;creationUD-&gt;ud-&gt;ysize/2.0) );
+									c.params.push_back(position.z + ((position.z-conPosition.z)/position.distance2D(conPosition))*(8.0*eventList[0]-&gt;unitI-&gt;ud-&gt;zsize/2.0 +8.0*eventList[0]-&gt;unitI-&gt;BuildQ-&gt;creationUD-&gt;ud-&gt;zsize/2.0) );
 								cb-&gt;GiveOrder(eventList[0]-&gt;unitID,&amp;c);
 							}
 						}

Modified: branches/caiinterface/AI/Wrappers/LegacyCpp/AIAICallback.cpp
===================================================================
--- branches/caiinterface/AI/Wrappers/LegacyCpp/AIAICallback.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/AI/Wrappers/LegacyCpp/AIAICallback.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -1022,7 +1022,7 @@
 unitDef-&gt;maxRudder = sAICallback-&gt;UnitDef_getMaxRudder(teamId, unitDefId);
 //unitDef-&gt;yardmaps = sAICallback-&gt;UnitDef_getYardMaps(teamId, unitDefId);
 unitDef-&gt;xsize = sAICallback-&gt;UnitDef_getXSize(teamId, unitDefId);
-unitDef-&gt;ysize = sAICallback-&gt;UnitDef_getYSize(teamId, unitDefId);
+unitDef-&gt;zsize = sAICallback-&gt;UnitDef_getZSize(teamId, unitDefId);
 unitDef-&gt;buildangle = sAICallback-&gt;UnitDef_getBuildAngle(teamId, unitDefId);
 unitDef-&gt;loadingRadius = sAICallback-&gt;UnitDef_getLoadingRadius(teamId, unitDefId);
 unitDef-&gt;unloadSpread = sAICallback-&gt;UnitDef_getUnloadSpread(teamId, unitDefId);
@@ -1502,8 +1502,8 @@
 featureDef-&gt;noSelect = sAICallback-&gt;FeatureDef_isNoSelect(teamId, featureDefId);
 featureDef-&gt;geoThermal = sAICallback-&gt;FeatureDef_isGeoThermal(teamId, featureDefId);
 featureDef-&gt;deathFeature = sAICallback-&gt;FeatureDef_getDeathFeature(teamId, featureDefId);
-featureDef-&gt;xsize = sAICallback-&gt;FeatureDef_getXsize(teamId, featureDefId);
-featureDef-&gt;ysize = sAICallback-&gt;FeatureDef_getYsize(teamId, featureDefId);
+featureDef-&gt;xsize = sAICallback-&gt;FeatureDef_getXSize(teamId, featureDefId);
+featureDef-&gt;zsize = sAICallback-&gt;FeatureDef_getZSize(teamId, featureDefId);
 {
 	int size = sAICallback-&gt;FeatureDef_getNumCustomParams(teamId, featureDefId);
 	featureDef-&gt;customParams = std::map&lt;std::string,std::string&gt;();

Modified: branches/caiinterface/CMakeLists.txt
===================================================================
--- branches/caiinterface/CMakeLists.txt	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/CMakeLists.txt	2008-11-13 10:39:15 UTC (rev 7036)
@@ -75,12 +75,14 @@
 
 # intel C compiler fix (does not support these flags: -march -mfpmath -ggdb)
 IF ($ENV{CXX} MATCHES &quot;icpc&quot;)
-	SET(CMAKE_CXX_FLAGS &quot;&quot;)
+	SET(CMAKE_CXX_FLAGS &quot; -axK&quot;)
 	SET(CXX_FLAGS_DEBUG_ADDITIONAL &quot;-g -debug full&quot;)
+ELSE ($ENV{CXX} MATCHES &quot;icpc&quot;)
+	SET(CXX_FLAGS_DEBUG_ADDITIONAL &quot;&quot;)
 ENDIF ($ENV{CXX} MATCHES &quot;icpc&quot;)
 
 SET(CMAKE_CXX_FLAGS &quot;${CMAKE_CXX_FLAGS} -fsingle-precision-constant -frounding-math -fsignaling-nans -mieee-fp -pipe -fno-strict-aliasing ${VISIBILITY_HIDDEN} ${VISIBILITY_INLINES_HIDDEN}&quot;)
-# ADD_DEFINITIONS(-DSTREFLOP_X87) breaks AI compiling
+ADD_DEFINITIONS(-DSTREFLOP_SSE) # would break AI compiling, but is undefined in ./AI/CMakeLists.txt
 IF (UNIX)
 	SET(CMAKE_CXX_FLAGS &quot;${CMAKE_CXX_FLAGS} -pthread&quot;)
 ENDIF (UNIX)
@@ -117,5 +119,7 @@
 	install (FILES installer/freedesktop/applications/spring.desktop DESTINATION ${APPLICATIONS_DIR})
 	install (FILES installer/freedesktop/mime/spring.xml DESTINATION ${MIME_DIR}/packages)
 	install (FILES installer/freedesktop/pixmaps/spring.png installer/freedesktop/pixmaps/application-x-spring-demo.png DESTINATION ${PIXMAPS_DIR})
+else (UNIX AND NOT MINGW)
+	install (DIRECTORY ${MINGWLIBS}/dll/ DESTINATION ${BINDIR})
 endif (UNIX AND NOT MINGW)
 

Modified: branches/caiinterface/SConstruct
===================================================================
--- branches/caiinterface/SConstruct	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/SConstruct	2008-11-13 10:39:15 UTC (rev 7036)
@@ -66,7 +66,7 @@
 datadir = ['SPRING_DATADIR=&quot;\\&quot;'+os.path.join(env['prefix'], env['datadir'])+'\\&quot;&quot;',
            'SPRING_DATADIR_2=&quot;\\&quot;'+os.path.join(env['prefix'], env['libdir'])+'\\&quot;&quot;']
 
-# Build UnixDataDirHandler.cpp separately from the other sources.  This is to prevent recompilation of
+# Build DataDirLocater.cpp separately from the other sources.  This is to prevent recompilation of
 # the entire source if one wants to change just the install installprefix (and hence the datadir).
 
 if env['platform'] != 'windows':
@@ -118,7 +118,6 @@
 	'rts/Rendering/Textures/nv_dds.cpp',
 	'rts/Sim/Misc/SideParser.cpp',
 	'rts/System/Platform/ConfigHandler.cpp',
-	'rts/System/FileSystem/FileSystem.cpp',
 	'rts/System/LogOutput.cpp',
 ]
 for f in unitsync_fs_files:       unitsync_files += f
@@ -133,7 +132,7 @@
 	# during linking
 	if os.name != 'nt':
 		unitsync_files.append('rts/lib/minizip/iowin32.c')
-	for f in ['rts/System/Platform/Win/WinFileSystemHandler.cpp', 'rts/System/FileSystem/DataDirLocater.cpp', 'rts/System/Platform/Win/RegHandler.cpp']:
+	for f in ['rts/System/FileSystem/DataDirLocater.cpp', 'rts/System/Platform/Win/RegHandler.cpp']:
 		unitsync_files += [os.path.join(uenv['builddir'], f)]
 	# Need the -Wl,--kill-at --add-stdcall-alias because TASClient expects undecorated stdcall functions.
 	unitsync = uenv.SharedLibrary('game/unitsync', unitsync_files, LINKFLAGS=env['LINKFLAGS'] + ['-Wl,--kill-at', '--add-stdcall-alias'])
@@ -141,7 +140,6 @@
 	ddlcpp = uenv.SharedObject(os.path.join(uenv['builddir'], 'rts/System/FileSystem/DataDirLocater.cpp'), CPPDEFINES = uenv['CPPDEFINES']+datadir)
 	unitsync_files += [ ddlcpp,
 		os.path.join(uenv['builddir'], 'rts/System/Platform/Linux/DotfileHandler.cpp'),
-		os.path.join(uenv['builddir'], 'rts/System/Platform/Linux/UnixFileSystemHandler.cpp')
 	]
 	unitsync = uenv.SharedLibrary('game/unitsync', unitsync_files)
 

Modified: branches/caiinterface/rts/CMakeLists.txt
===================================================================
--- branches/caiinterface/rts/CMakeLists.txt	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/CMakeLists.txt	2008-11-13 10:39:15 UTC (rev 7036)
@@ -1,5 +1,3 @@
-ADD_DEFINITIONS(-DSTREFLOP_SSE) # should be in ../CMakeLists.txt
-
 INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/ System)
 
 ### Spring defines

Modified: branches/caiinterface/rts/ExternalAI/AICallback.cpp
===================================================================
--- branches/caiinterface/rts/ExternalAI/AICallback.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/ExternalAI/AICallback.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -1080,8 +1080,8 @@
 			int zs=(int)(z/SQUARE_SIZE);
 			bool good=true;
 			int xsize=bi.GetXSize();
-			int ysize=bi.GetYSize();
-			for(int z2=std::max(0,zs-ysize/2-minDist);z2&lt;std::min(gs-&gt;mapy,zs+(ysize+1)/2+minDist);++z2){
+			int zsize=bi.GetZSize();
+			for(int z2=std::max(0,zs-zsize/2-minDist);z2&lt;std::min(gs-&gt;mapy,zs+(zsize+1)/2+minDist);++z2){
 				for(int x2=std::max(0,xs-xsize/2-minDist);x2&lt;std::min(gs-&gt;mapx,xs+(xsize+1)/2+minDist);++x2){
 					CSolidObject* so = groundBlockingObjectMap-&gt;GroundBlockedUnsafe(z2 * gs-&gt;mapx + x2);
 					if(so &amp;&amp; so-&gt;immobile &amp;&amp; !dynamic_cast&lt;CFeature*&gt;(so)){
@@ -1091,7 +1091,7 @@
 				}
 			}
 			//Checking factories near - factory can open yard for building
-			if (good) for(int z2=std::max(0,zs-ysize/2-minDist-2);z2&lt;std::min(gs-&gt;mapy,zs+(ysize+1)/2+minDist+2);++z2){
+			if (good) for(int z2=std::max(0,zs-zsize/2-minDist-2);z2&lt;std::min(gs-&gt;mapy,zs+(zsize+1)/2+minDist+2);++z2){
 				for(int x2=std::max(0,xs-xsize/2-minDist-2);x2&lt;std::min(gs-&gt;mapx,xs+(xsize+1)/2+minDist+2);++x2){
 					CSolidObject* so = groundBlockingObjectMap-&gt;GroundBlockedUnsafe(z2 * gs-&gt;mapx + x2);
 					if(so &amp;&amp; so-&gt;immobile &amp;&amp; dynamic_cast&lt;CFactory*&gt;(so) &amp;&amp; ((CFactory*)so)-&gt;opening){

Modified: branches/caiinterface/rts/ExternalAI/Interface/SAICallback.h
===================================================================
--- branches/caiinterface/rts/ExternalAI/Interface/SAICallback.h	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/ExternalAI/Interface/SAICallback.h	2008-11-13 10:39:15 UTC (rev 7036)
@@ -250,7 +250,7 @@
 ///* returned size is 4 */
 //const unsigned char*[] (CALLING_CONV *UnitDef_getYardMaps)(int teamId, int unitDefId);
 int (CALLING_CONV *UnitDef_getXSize)(int teamId, int unitDefId);
-int (CALLING_CONV *UnitDef_getYSize)(int teamId, int unitDefId);
+int (CALLING_CONV *UnitDef_getZSize)(int teamId, int unitDefId);
 int (CALLING_CONV *UnitDef_getBuildAngle)(int teamId, int unitDefId);
 float (CALLING_CONV *UnitDef_getLoadingRadius)(int teamId, int unitDefId);
 float (CALLING_CONV *UnitDef_getUnloadSpread)(int teamId, int unitDefId);
@@ -509,8 +509,8 @@
 bool (CALLING_CONV *FeatureDef_isNoSelect)(int teamId, int weaponDefId);
 bool (CALLING_CONV *FeatureDef_isGeoThermal)(int teamId, int weaponDefId);
 const char* (CALLING_CONV *FeatureDef_getDeathFeature)(int teamId, int weaponDefId);
-int (CALLING_CONV *FeatureDef_getXsize)(int teamId, int weaponDefId);
-int (CALLING_CONV *FeatureDef_getYsize)(int teamId, int weaponDefId);
+int (CALLING_CONV *FeatureDef_getXSize)(int teamId, int weaponDefId);
+int (CALLING_CONV *FeatureDef_getZSize)(int teamId, int weaponDefId);
 int (CALLING_CONV *FeatureDef_getNumCustomParams)(int teamId, int weaponDefId);
 //int (CALLING_CONV *FeatureDef_getCustomParams)(int teamId, int weaponDefId, const char* map[][2]);
 int (CALLING_CONV *FeatureDef_getCustomParamKeys)(int teamId, int weaponDefId, const char* keys[]);

Modified: branches/caiinterface/rts/ExternalAI/SAICallback.cpp
===================================================================
--- branches/caiinterface/rts/ExternalAI/SAICallback.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/ExternalAI/SAICallback.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -1704,7 +1704,7 @@
 Export(float) _UnitDef_getMaxRudder(int teamId, int unitDefId) {return getUnitDefById(teamId, unitDefId)-&gt;maxRudder;}
 //const unsigned char** _UnitDef_getYardMaps(int teamId, int unitDefId) {return getUnitDefById(teamId, unitDefId)-&gt;yardmaps;}
 Export(int) _UnitDef_getXSize(int teamId, int unitDefId) {return getUnitDefById(teamId, unitDefId)-&gt;xsize;}
-Export(int) _UnitDef_getYSize(int teamId, int unitDefId) {return getUnitDefById(teamId, unitDefId)-&gt;ysize;}
+Export(int) _UnitDef_getZSize(int teamId, int unitDefId) {return getUnitDefById(teamId, unitDefId)-&gt;zsize;}
 Export(int) _UnitDef_getBuildAngle(int teamId, int unitDefId) {return getUnitDefById(teamId, unitDefId)-&gt;buildangle;}
 Export(float) _UnitDef_getLoadingRadius(int teamId, int unitDefId) {return getUnitDefById(teamId, unitDefId)-&gt;loadingRadius;}
 Export(float) _UnitDef_getUnloadSpread(int teamId, int unitDefId) {return getUnitDefById(teamId, unitDefId)-&gt;unloadSpread;}
@@ -2641,8 +2641,8 @@
 Export(bool) _FeatureDef_isNoSelect(int teamId, int featureDefId) {return getFeatureDefById(teamId, featureDefId)-&gt;noSelect;}
 Export(bool) _FeatureDef_isGeoThermal(int teamId, int featureDefId) {return getFeatureDefById(teamId, featureDefId)-&gt;geoThermal;}
 Export(const char*) _FeatureDef_getDeathFeature(int teamId, int featureDefId) {return getFeatureDefById(teamId, featureDefId)-&gt;deathFeature.c_str();}
-Export(int) _FeatureDef_getXsize(int teamId, int featureDefId) {return getFeatureDefById(teamId, featureDefId)-&gt;xsize;}
-Export(int) _FeatureDef_getYsize(int teamId, int featureDefId) {return getFeatureDefById(teamId, featureDefId)-&gt;ysize;}
+Export(int) _FeatureDef_getXSize(int teamId, int featureDefId) {return getFeatureDefById(teamId, featureDefId)-&gt;xsize;}
+Export(int) _FeatureDef_getZSize(int teamId, int featureDefId) {return getFeatureDefById(teamId, featureDefId)-&gt;zsize;}
 Export(int) _FeatureDef_getNumCustomParams(int teamId, int featureDefId) {
 	return getFeatureDefById(teamId, featureDefId)-&gt;customParams.size();
 }
@@ -3356,7 +3356,7 @@
 	sAICallback-&gt;UnitDef_getMaxElevator = _UnitDef_getMaxElevator;
 	sAICallback-&gt;UnitDef_getMaxRudder = _UnitDef_getMaxRudder;
 	sAICallback-&gt;UnitDef_getXSize = _UnitDef_getXSize;
-	sAICallback-&gt;UnitDef_getYSize = _UnitDef_getYSize;
+	sAICallback-&gt;UnitDef_getZSize = _UnitDef_getZSize;
 	sAICallback-&gt;UnitDef_getBuildAngle = _UnitDef_getBuildAngle;
 	sAICallback-&gt;UnitDef_getLoadingRadius = _UnitDef_getLoadingRadius;
 	sAICallback-&gt;UnitDef_getUnloadSpread = _UnitDef_getUnloadSpread;
@@ -3575,8 +3575,8 @@
 	sAICallback-&gt;FeatureDef_isNoSelect = _FeatureDef_isNoSelect;
 	sAICallback-&gt;FeatureDef_isGeoThermal = _FeatureDef_isGeoThermal;
 	sAICallback-&gt;FeatureDef_getDeathFeature = _FeatureDef_getDeathFeature;
-	sAICallback-&gt;FeatureDef_getXsize = _FeatureDef_getXsize;
-	sAICallback-&gt;FeatureDef_getYsize = _FeatureDef_getYsize;
+	sAICallback-&gt;FeatureDef_getXSize = _FeatureDef_getXSize;
+	sAICallback-&gt;FeatureDef_getZSize = _FeatureDef_getZSize;
 	sAICallback-&gt;FeatureDef_getNumCustomParams = _FeatureDef_getNumCustomParams;
 	sAICallback-&gt;FeatureDef_getCustomParamKeys = _FeatureDef_getCustomParamKeys;
 	sAICallback-&gt;FeatureDef_getCustomParamValues = _FeatureDef_getCustomParamValues;

Modified: branches/caiinterface/rts/Game/Game.cpp
===================================================================
--- branches/caiinterface/rts/Game/Game.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Game/Game.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -2247,7 +2247,7 @@
 
 			if (unitDef != NULL) {
 				int xsize = unitDef-&gt;xsize;
-				int zsize = unitDef-&gt;ysize;
+				int zsize = unitDef-&gt;zsize;
 				int squareSize = (int) streflop::ceil(streflop::sqrt((float) numRequestedUnits));
 				int total = numRequestedUnits;
 
@@ -2279,7 +2279,7 @@
 				const FeatureDef* featureDef = featureHandler-&gt;GetFeatureDef(unitName);
 				if (featureDef) {
 					int xsize = featureDef-&gt;xsize;
-					int zsize = featureDef-&gt;ysize;
+					int zsize = featureDef-&gt;zsize;
 					int squareSize = (int) streflop::ceil(streflop::sqrt((float) numRequestedUnits));
 					int total = amount; // FIXME -- feature count limit?
 

Modified: branches/caiinterface/rts/Game/GameHelper.cpp
===================================================================
--- branches/caiinterface/rts/Game/GameHelper.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Game/GameHelper.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -900,7 +900,7 @@
 	else
 		pos.x = floor((buildInfo.pos.x + 8) / (SQUARE_SIZE * 2)) * SQUARE_SIZE * 2;
 
-	if (buildInfo.GetYSize() &amp; 2)
+	if (buildInfo.GetZSize() &amp; 2)
 		pos.z = floor((buildInfo.pos.z    ) / (SQUARE_SIZE * 2)) * SQUARE_SIZE * 2 + 8;
 	else
 		pos.z = floor((buildInfo.pos.z + 8) / (SQUARE_SIZE * 2)) * SQUARE_SIZE * 2;

Modified: branches/caiinterface/rts/Game/SelectedUnits.cpp
===================================================================
--- branches/caiinterface/rts/Game/SelectedUnits.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Game/SelectedUnits.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -481,10 +481,10 @@
 				continue;
 			}
 
-			glVertexf3(unit-&gt;drawPos + float3( unit-&gt;xsize * 4, 0,  unit-&gt;ysize * 4));
-			glVertexf3(unit-&gt;drawPos + float3(-unit-&gt;xsize * 4, 0,  unit-&gt;ysize * 4));
-			glVertexf3(unit-&gt;drawPos + float3(-unit-&gt;xsize * 4, 0, -unit-&gt;ysize * 4));
-			glVertexf3(unit-&gt;drawPos + float3( unit-&gt;xsize * 4, 0, -unit-&gt;ysize * 4));
+			glVertexf3(unit-&gt;drawPos + float3( unit-&gt;xsize * 4, 0,  unit-&gt;zsize * 4));
+			glVertexf3(unit-&gt;drawPos + float3(-unit-&gt;xsize * 4, 0,  unit-&gt;zsize * 4));
+			glVertexf3(unit-&gt;drawPos + float3(-unit-&gt;xsize * 4, 0, -unit-&gt;zsize * 4));
+			glVertexf3(unit-&gt;drawPos + float3( unit-&gt;xsize * 4, 0, -unit-&gt;zsize * 4));
 		}
 		glEnd();
 	}

Modified: branches/caiinterface/rts/Game/SelectedUnitsAI.cpp
===================================================================
--- branches/caiinterface/rts/Game/SelectedUnitsAI.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Game/SelectedUnitsAI.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -258,7 +258,7 @@
 		CUnit* unit=uh-&gt;units[*ui];
 		if(unit){
 			const UnitDef* ud = unit-&gt;unitDef;
-			sumLength += (int)((ud-&gt;xsize + ud-&gt;ysize)/2);
+			sumLength += (int)((ud-&gt;xsize + ud-&gt;zsize)/2);
 
 			float3 unitPos;
 			if (queueing) {
@@ -374,7 +374,7 @@
 	CUnit* u = uh-&gt;units[unit];
 	if (u) {
 		const UnitDef* ud = u-&gt;unitDef;
-		unitSize = (int)((ud-&gt;xsize + ud-&gt;ysize)/2);
+		unitSize = (int)((ud-&gt;xsize + ud-&gt;zsize)/2);
 	}
 	float3 retPos(nextCornerPos.x+unitSize*8*2+addSpace, 0, nextCornerPos.z);
 	float3 movePos(nextCornerPos.x+unitSize*8+addSpace, 0, nextCornerPos.z); //posit in coordinates of &quot;front&quot;

Modified: branches/caiinterface/rts/Game/UI/GuiHandler.cpp
===================================================================
--- branches/caiinterface/rts/Game/UI/GuiHandler.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Game/UI/GuiHandler.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -2492,23 +2492,23 @@
 
 	if(other.def &amp;&amp; GetQueueKeystate() &amp;&amp; keys[SDLK_LCTRL]){		//circle build around building
 		int oxsize=other.GetXSize()*SQUARE_SIZE;
-		int oysize=other.GetYSize()*SQUARE_SIZE;
+		int ozsize=other.GetZSize()*SQUARE_SIZE;
 		int xsize=startInfo.GetXSize()*SQUARE_SIZE;
-		int ysize=startInfo.GetYSize()*SQUARE_SIZE;
+		int zsize=startInfo.GetZSize()*SQUARE_SIZE;
 
 		start =end=helper-&gt;Pos2BuildPos(other);
 		start.x-=oxsize/2;
-		start.z-=oysize/2;
+		start.z-=ozsize/2;
 		end.x+=oxsize/2;
-		end.z+=oysize/2;
+		end.z+=ozsize/2;
 
 		int nvert=1+oxsize/xsize;
-		int nhori=1+oysize/xsize;
+		int nhori=1+ozsize/xsize;
 
-		FillRowOfBuildPos(startInfo, end.x  +ysize/2, start.z+xsize/2,      0, +xsize, nhori, 3, true, ret);
-		FillRowOfBuildPos(startInfo, end.x  -xsize/2, end.z  +ysize/2, -xsize,      0, nvert, 2, true, ret);
-		FillRowOfBuildPos(startInfo, start.x-ysize/2, end.z  -xsize/2,      0, -xsize, nhori, 1, true, ret);
-		FillRowOfBuildPos(startInfo, start.x+xsize/2, start.z-ysize/2, +xsize,      0, nvert, 0, true, ret);
+		FillRowOfBuildPos(startInfo, end.x  +zsize/2, start.z+xsize/2,      0, +xsize, nhori, 3, true, ret);
+		FillRowOfBuildPos(startInfo, end.x  -xsize/2, end.z  +zsize/2, -xsize,      0, nvert, 2, true, ret);
+		FillRowOfBuildPos(startInfo, start.x-zsize/2, end.z  -xsize/2,      0, -xsize, nhori, 1, true, ret);
+		FillRowOfBuildPos(startInfo, start.x+xsize/2, start.z-zsize/2, +xsize,      0, nvert, 0, true, ret);
 
 	} else { // rectangle or line
 		float3 delta = end - start;
@@ -2517,7 +2517,7 @@
 		int xnum=(int)((fabs(delta.x)+xsize*1.4f)/xsize);
 		float xstep=(int)((0&lt;delta.x) ? xsize : -xsize);
 
-		float zsize=SQUARE_SIZE*(startInfo.GetYSize()+buildSpacing*2);
+		float zsize=SQUARE_SIZE*(startInfo.GetZSize()+buildSpacing*2);
 		int znum=(int)((fabs(delta.z)+zsize*1.4f)/zsize);
 		float zstep=(int)((0&lt;delta.z) ? zsize : -zsize);
 

Modified: branches/caiinterface/rts/Lua/LuaFeatureDefs.cpp
===================================================================
--- branches/caiinterface/rts/Lua/LuaFeatureDefs.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Lua/LuaFeatureDefs.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -427,7 +427,7 @@
 	ADD_FLOAT(&quot;mass&quot;, fd.mass);
 
 	ADD_INT(&quot;xsize&quot;, fd.xsize);
-	ADD_INT(&quot;ysize&quot;, fd.ysize);
+	ADD_INT(&quot;zsize&quot;, fd.zsize);
 
 	/*
 	ADD_FLOAT(&quot;hitSphereScale&quot;,    fd.collisionSphereScale);

Modified: branches/caiinterface/rts/Lua/LuaUnitDefs.cpp
===================================================================
--- branches/caiinterface/rts/Lua/LuaUnitDefs.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Lua/LuaUnitDefs.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -842,7 +842,7 @@
 //	unsigned char* yardmaps[4];			//Iterations of the Ymap for building rotation
 
 	ADD_INT(&quot;xsize&quot;, ud.xsize);
-	ADD_INT(&quot;ysize&quot;, ud.ysize);
+	ADD_INT(&quot;zsize&quot;, ud.zsize);
 
 	ADD_INT(&quot;buildangle&quot;, ud.buildangle);
 

Modified: branches/caiinterface/rts/Map/BaseGroundDrawer.cpp
===================================================================
--- branches/caiinterface/rts/Map/BaseGroundDrawer.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Map/BaseGroundDrawer.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -383,7 +383,7 @@
 				const int airMipLevel = loshandler-&gt;airMipLevel;
 				if (drawRadarAndJammer) {
 					const int rxsize = radarhandler-&gt;xsize;
-					const int rysize = radarhandler-&gt;ysize;
+					const int rzsize = radarhandler-&gt;zsize;
 					const int posScale = highResInfoTexWanted ? SQUARE_SIZE : (SQUARE_SIZE * 2);
 					for (int y = starty; y &lt; endy; ++y) {
 						const float zPos = y * posScale;
@@ -407,8 +407,8 @@
 							const unsigned short* radarMap  = myRadar;
 							const unsigned short* jammerMap = myJammer;
 #endif // SONAR_JAMMER_MAPS
-							const int inRadar = InterpolateLos(radarMap,  rxsize, rysize, 3 + lowRes, 255, x, y);
-							const int inJam   = InterpolateLos(jammerMap, rxsize, rysize, 3 + lowRes, 255, x, y);
+							const int inRadar = InterpolateLos(radarMap,  rxsize, rzsize, 3 + lowRes, 255, x, y);
+							const int inJam   = InterpolateLos(jammerMap, rxsize, rzsize, 3 + lowRes, 255, x, y);
 
 							const int index = (a * 4);
 							for (int c = 0; c &lt; 3; c++) {

Modified: branches/caiinterface/rts/Map/BasicMapDamage.cpp
===================================================================
--- branches/caiinterface/rts/Map/BasicMapDamage.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Map/BasicMapDamage.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -117,7 +117,7 @@
 			CUnit* unit = *ui;
 			float totalDif = 0.0f;
 
-			for (int z = unit-&gt;mapPos.y; z &lt; unit-&gt;mapPos.y + unit-&gt;ysize; z++) {
+			for (int z = unit-&gt;mapPos.y; z &lt; unit-&gt;mapPos.y + unit-&gt;zsize; z++) {
 				for (int x = unit-&gt;mapPos.x; x &lt; unit-&gt;mapPos.x + unit-&gt;xsize; x++) {
 					// calculate the distance and normalize it
 					float dist = pos.distance2D(float3(x * SQUARE_SIZE, 0, z * SQUARE_SIZE));
@@ -134,7 +134,7 @@
 				}
 			}
 
-			totalDif /= unit-&gt;xsize * unit-&gt;ysize;
+			totalDif /= unit-&gt;xsize * unit-&gt;zsize;
 			if (totalDif != 0) {
 				ExploBuilding eb;
 				eb.id = (*ui)-&gt;id;
@@ -142,7 +142,7 @@
 				eb.tx1 = unit-&gt;mapPos.x;
 				eb.tx2 = unit-&gt;mapPos.x + unit-&gt;xsize;
 				eb.tz1 = unit-&gt;mapPos.y;
-				eb.tz2 = unit-&gt;mapPos.y + unit-&gt;ysize;
+				eb.tz2 = unit-&gt;mapPos.y + unit-&gt;zsize;
 				e-&gt;buildings.push_back(eb);
 			}
 		}

Modified: branches/caiinterface/rts/Rendering/Env/SkyBox.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/Env/SkyBox.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Rendering/Env/SkyBox.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -60,19 +60,19 @@
 			
 			glTexCoord3f(-v1.x,-v1.y,-v1.z);
 			//glNormal3f(0,1,0);
-			glVertexf3(camera-&gt;pos + v1*(NEAR_PLANE+5));
+			glVertexf3(camera-&gt;pos + v1*(NEAR_PLANE+100));
 
 			glTexCoord3f(-v2.x,-v2.y,-v2.z);
 			//glNormal3f(1,1,0);
-			glVertexf3(camera-&gt;pos + v2*(NEAR_PLANE+5));
+			glVertexf3(camera-&gt;pos + v2*(NEAR_PLANE+100));
 
 			glTexCoord3f(-v3.x,-v3.y,-v3.z);
 			//glNormal3f(0,1,1);
-			glVertexf3(camera-&gt;pos + v3*(NEAR_PLANE+5));
+			glVertexf3(camera-&gt;pos + v3*(NEAR_PLANE+100));
 
 			glTexCoord3f(-v4.x,-v4.y,-v4.z);
 			//glNormal3f(1,1,1);
-			glVertexf3(camera-&gt;pos + v4*(NEAR_PLANE+5));
+			glVertexf3(camera-&gt;pos + v4*(NEAR_PLANE+100));
 		glEnd();
 
 	glDisable(GL_TEXTURE_CUBE_MAP_ARB);

Modified: branches/caiinterface/rts/Rendering/UnitModels/UnitDrawer.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/UnitModels/UnitDrawer.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Rendering/UnitModels/UnitDrawer.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -890,15 +890,15 @@
 				pos = helper-&gt;Pos2BuildPos(bi);
 
 				float xsize = bi.GetXSize() * 4;
-				float ysize = bi.GetYSize() * 4;
+				float zsize = bi.GetZSize() * 4;
 				glColor4f(0.2f, 1, 0.2f, 0.7f);
 				glDisable(GL_TEXTURE_2D);
 				glBegin(GL_LINE_STRIP);
-				glVertexf3(pos+float3( xsize, 1,  ysize));
-				glVertexf3(pos+float3(-xsize, 1,  ysize));
-				glVertexf3(pos+float3(-xsize, 1, -ysize));
-				glVertexf3(pos+float3( xsize, 1, -ysize));
-				glVertexf3(pos+float3( xsize, 1,  ysize));
+				glVertexf3(pos+float3( xsize, 1,  zsize));
+				glVertexf3(pos+float3(-xsize, 1,  zsize));
+				glVertexf3(pos+float3(-xsize, 1, -zsize));
+				glVertexf3(pos+float3( xsize, 1, -zsize));
+				glVertexf3(pos+float3( xsize, 1,  zsize));
 				glEnd();
 				glColor4f(1, 1, 1, 0.3f);
 				glEnable(GL_TEXTURE_2D);

Modified: branches/caiinterface/rts/Sim/Features/Feature.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Features/Feature.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Features/Feature.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -159,7 +159,7 @@
 	health   = def-&gt;maxHealth;
 	blocking = def-&gt;blocking;
 	xsize    = def-&gt;xsize;
-	ysize    = def-&gt;ysize;
+	zsize    = def-&gt;zsize;
 	mass     = def-&gt;mass;
 	noSelect = def-&gt;noSelect;
 

Modified: branches/caiinterface/rts/Sim/Features/FeatureDef.h
===================================================================
--- branches/caiinterface/rts/Sim/Features/FeatureDef.h	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Features/FeatureDef.h	2008-11-13 10:39:15 UTC (rev 7036)
@@ -23,7 +23,7 @@
 		upright(false), drawType(0), modelType(0),
 		resurrectable(false), destructable(false), reclaimable(true), blocking(false),
 		burnable(false), floating(false), noSelect(false), geoThermal(false),
-		xsize(0), ysize(0) {}
+		xsize(0), zsize(0) {}
 
 	S3DOModel* LoadModel(int team) const;
 	CollisionVolume* collisionVolume;
@@ -74,7 +74,7 @@
 	/// each size is 8 units
 	int xsize;
 	/// each size is 8 units
-	int ysize;
+	int zsize;
 
 	std::map&lt;std::string, std::string&gt; customParams;
 };

Modified: branches/caiinterface/rts/Sim/Features/FeatureHandler.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Features/FeatureHandler.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Features/FeatureHandler.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -66,7 +66,7 @@
 		CR_MEMBER(deathFeature),
 		CR_MEMBER(smokeTime),
 		CR_MEMBER(xsize),
-		CR_MEMBER(ysize)
+		CR_MEMBER(zsize)
 		));
 
 
@@ -262,7 +262,7 @@
 
 	// our resolution is double TA's
 	fd-&gt;xsize = fdTable.GetInt(&quot;footprintX&quot;, 1) * 2;
-	fd-&gt;ysize = fdTable.GetInt(&quot;footprintZ&quot;, 1) * 2;
+	fd-&gt;zsize = fdTable.GetInt(&quot;footprintZ&quot;, 1) * 2;
 
 	const float defMass = (fd-&gt;metal * 0.4f) + (fd-&gt;maxHealth * 0.1f);
 	fd-&gt;mass = fdTable.GetFloat(&quot;mass&quot;, defMass);
@@ -328,7 +328,7 @@
 			fd-&gt;reclaimTime = 250;
 			fd-&gt;maxHealth = 5;
 			fd-&gt;xsize = 2;
-			fd-&gt;ysize = 2;
+			fd-&gt;zsize = 2;
 			fd-&gt;myName = name;
 			fd-&gt;description = &quot;Tree&quot;;
 			fd-&gt;mass = 20;
@@ -351,7 +351,7 @@
 			fd-&gt;reclaimTime = 0;
 			fd-&gt;maxHealth = 0;
 			fd-&gt;xsize = 0;
-			fd-&gt;ysize = 0;
+			fd-&gt;zsize = 0;
 			fd-&gt;myName = name;
 			fd-&gt;mass = 100000;
 			// geothermals have no collision volume at all

Modified: branches/caiinterface/rts/Sim/Misc/GroundBlockingObjectMap.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Misc/GroundBlockingObjectMap.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Misc/GroundBlockingObjectMap.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -45,7 +45,7 @@
 	const int minXSqr = bx;
 	const int minZSqr = bz;
 	const int maxXSqr = bx + object-&gt;xsize;
-	const int maxZSqr = bz + object-&gt;ysize;
+	const int maxZSqr = bz + object-&gt;zsize;
 
 	for (int zSqr = minZSqr; zSqr &lt; maxZSqr; zSqr++) {
 		for (int xSqr = minXSqr; xSqr &lt; maxXSqr; xSqr++) {
@@ -83,7 +83,7 @@
 	const int minXSqr = bx;
 	const int minZSqr = bz;
 	const int maxXSqr = bx + object-&gt;xsize;
-	const int maxZSqr = bz + object-&gt;ysize;
+	const int maxZSqr = bz + object-&gt;zsize;
 
 	for (int z = 0; minZSqr + z &lt; maxZSqr; z++) {
 		for (int x = 0; minXSqr + x &lt; maxXSqr; x++) {
@@ -113,7 +113,7 @@
 	const int bx = object-&gt;mapPos.x;
 	const int bz = object-&gt;mapPos.y;
 	const int sx = object-&gt;xsize;
-	const int sz = object-&gt;ysize;
+	const int sz = object-&gt;zsize;
 
 	for (int z = bz; z &lt; bz + sz; ++z) {
 		for (int x = bx; x &lt; bx + sx; ++x) {
@@ -209,7 +209,7 @@
 {
 	const int objID = GetObjectID(yard);
 
-	for (int z = yard-&gt;mapPos.y; z &lt; yard-&gt;mapPos.y + yard-&gt;ysize; ++z) {
+	for (int z = yard-&gt;mapPos.y; z &lt; yard-&gt;mapPos.y + yard-&gt;zsize; ++z) {
 		for (int x = yard-&gt;mapPos.x; x &lt; yard-&gt;mapPos.x + yard-&gt;xsize; ++x) {
 			const int idx = z * gs-&gt;mapx + x;
 			BlockingMapCell&amp; cell = groundBlockingMap[idx];

Modified: branches/caiinterface/rts/Sim/Misc/RadarHandler.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Misc/RadarHandler.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Misc/RadarHandler.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -19,7 +19,7 @@
 	CR_MEMBER(radarErrorSize),
 	CR_MEMBER(baseRadarErrorSize),
 	CR_MEMBER(xsize),
-	CR_MEMBER(ysize),
+	CR_MEMBER(zsize),
 	CR_MEMBER(targFacEffect),
 	CR_RESERVED(32)
 ));
@@ -30,7 +30,7 @@
 
 void CRadarHandler::Serialize(creg::ISerializer&amp; s)
 {
-	const int size = xsize*ysize*2;
+	const int size = xsize*zsize*2;
 
 	// NOTE This could be tricky if gs is serialized after radarHandler.
 	for (int a = 0; a &lt; teamHandler-&gt;ActiveAllyTeams(); ++a) {
@@ -54,10 +54,10 @@
 : circularRadar(circularRadar),
   baseRadarErrorSize(96),
   xsize(gs-&gt;mapx / RADAR_SIZE),
-  ysize(gs-&gt;mapy / RADAR_SIZE),
+  zsize(gs-&gt;mapy / RADAR_SIZE),
   targFacEffect(2)
 {
-	const int size = xsize * ysize;
+	const int size = xsize * zsize;
 
 	commonJammerMap.resize(size, 0);
 	commonSonarJammerMap.resize(size, 0);
@@ -159,7 +159,7 @@
 	const int sx = std::max(0, pos.x - radius);
 	const int ex = std::min(xsize - 1, pos.x + radius);
 	const int sy = std::max(0, pos.y - radius);
-	const int ey = std::min(ysize - 1, pos.y + radius);
+	const int ey = std::min(zsize - 1, pos.y + radius);
 
 	const int rr = (radius * radius);
 
@@ -205,7 +205,7 @@
 
 		for (linei = line.begin(); linei != line.end(); ++linei) {
 			if (((xradar + linei-&gt;x) &lt; xsize) &amp;&amp;
-			    ((yradar + linei-&gt;y) &lt; ysize)) {
+			    ((yradar + linei-&gt;y) &lt; zsize)) {
 				int rsquare = (xradar + linei-&gt;x) + (yradar + linei-&gt;y) * xsize;
 				int msquare = (xmap + linei-&gt;x * 4) + (ymap + linei-&gt;y * 4) * gs-&gt;hmapx;
 				float dh = readmap-&gt;mipHeightmap[1][msquare] - baseHeight;
@@ -253,7 +253,7 @@
 				}
 			}
 			if (((xradar - linei-&gt;y) &gt;= 0) &amp;&amp;
-			    ((yradar + linei-&gt;x) &lt; ysize)) {
+			    ((yradar + linei-&gt;x) &lt; zsize)) {
 				int rsquare = (xradar - linei-&gt;y) + (yradar + linei-&gt;x) * xsize;
 				int msquare = (xmap - linei-&gt;y * 4) + (ymap + linei-&gt;x * 4) * gs-&gt;hmapx;
 				float dh = readmap-&gt;mipHeightmap[1][msquare] - baseHeight;

Modified: branches/caiinterface/rts/Sim/Misc/RadarHandler.h
===================================================================
--- branches/caiinterface/rts/Sim/Misc/RadarHandler.h	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Misc/RadarHandler.h	2008-11-13 10:39:15 UTC (rev 7036)
@@ -36,7 +36,7 @@
 	{
 		const int gx = (int)pos.x / (SQUARE_SIZE * RADAR_SIZE);
 		const int gz = (int)pos.z / (SQUARE_SIZE * RADAR_SIZE);
-		const int rowIdx = std::max(0, std::min(ysize - 1, gz));
+		const int rowIdx = std::max(0, std::min(zsize - 1, gz));
 		const int colIdx = std::max(0, std::min(xsize - 1, gx));
 		return (rowIdx * xsize) + colIdx;
 	}
@@ -112,7 +112,7 @@
 	float baseRadarErrorSize;
 
 	int xsize;
-	int ysize;
+	int zsize;
 
 	float targFacEffect;
 

Modified: branches/caiinterface/rts/Sim/MoveTypes/AirMoveType.cpp
===================================================================
--- branches/caiinterface/rts/Sim/MoveTypes/AirMoveType.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/MoveTypes/AirMoveType.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -1176,7 +1176,7 @@
 	int2 mp = owner-&gt;GetMapPos();
 	owner-&gt;pos = tpos;
 
-	for (int z = mp.y; z &lt; mp.y + owner-&gt;ysize; z++) {
+	for (int z = mp.y; z &lt; mp.y + owner-&gt;zsize; z++) {
 		for (int x = mp.x; x &lt; mp.x + owner-&gt;xsize; x++) {
 			if (groundBlockingObjectMap-&gt;GroundBlockedUnsafe(z * gs-&gt;mapx + x)) {
 				return ret;

Modified: branches/caiinterface/rts/Sim/MoveTypes/GroundMoveType.cpp
===================================================================
--- branches/caiinterface/rts/Sim/MoveTypes/GroundMoveType.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/MoveTypes/GroundMoveType.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -1156,7 +1156,7 @@
 	// calculate the distance in (x,z) depending
 	// on the shape of the object footprints
 	float dist2D;
-	if (object1-&gt;xsize == object1-&gt;ysize || object2-&gt;xsize == object2-&gt;ysize) {
+	if (object1-&gt;xsize == object1-&gt;zsize || object2-&gt;xsize == object2-&gt;zsize) {
 		// use xsize as a cylindrical radius.
 		float3 distVec = (object1-&gt;midPos - object2-&gt;midPos);
 		dist2D = distVec.Length2D() - (object1-&gt;xsize + object2-&gt;xsize) * SQUARE_SIZE / 2 + 2 * marginal;
@@ -1167,7 +1167,7 @@
 		float zdiff = streflop::fabs(object1-&gt;midPos.z - object2-&gt;midPos.z);
 
 		distVec.x = xdiff - (object1-&gt;xsize + object2-&gt;xsize) * SQUARE_SIZE / 2 + 2 * marginal;
-		distVec.z = zdiff - (object1-&gt;ysize + object2-&gt;ysize) * SQUARE_SIZE / 2 + 2 * marginal;
+		distVec.z = zdiff - (object1-&gt;zsize + object2-&gt;zsize) * SQUARE_SIZE / 2 + 2 * marginal;
 
 		if (distVec.x &gt; 0.0f &amp;&amp; distVec.z &gt; 0.0f) {
 			dist2D = distVec.Length2D();
@@ -1436,7 +1436,7 @@
 		int retest = 0;
 
 		do {
-			const float zmove = (owner-&gt;mapPos.y + owner-&gt;ysize / 2) * SQUARE_SIZE;
+			const float zmove = (owner-&gt;mapPos.y + owner-&gt;zsize / 2) * SQUARE_SIZE;
 			const float xmove = (owner-&gt;mapPos.x + owner-&gt;xsize / 2) * SQUARE_SIZE;
 
 			if (fabs(owner-&gt;frontdir.x) &gt; fabs(owner-&gt;frontdir.z)) {
@@ -1444,29 +1444,29 @@
 					haveCollided |= CheckColV(newmp.y, newmp.x, newmp.x + owner-&gt;xsize - 1,  zmove - 3.99f, owner-&gt;mapPos.y);
 					newmp = owner-&gt;GetMapPos();
 				} else if (newmp.y &gt; owner-&gt;mapPos.y) {
-					haveCollided |= CheckColV(newmp.y + owner-&gt;ysize - 1, newmp.x, newmp.x + owner-&gt;xsize - 1,  zmove + 3.99f, owner-&gt;mapPos.y + owner-&gt;ysize - 1);
+					haveCollided |= CheckColV(newmp.y + owner-&gt;zsize - 1, newmp.x, newmp.x + owner-&gt;xsize - 1,  zmove + 3.99f, owner-&gt;mapPos.y + owner-&gt;zsize - 1);
 					newmp = owner-&gt;GetMapPos();
 				}
 				if (newmp.x &lt; owner-&gt;mapPos.x) {
-					haveCollided |= CheckColH(newmp.x, newmp.y, newmp.y + owner-&gt;ysize - 1,  xmove - 3.99f, owner-&gt;mapPos.x);
+					haveCollided |= CheckColH(newmp.x, newmp.y, newmp.y + owner-&gt;zsize - 1,  xmove - 3.99f, owner-&gt;mapPos.x);
 					newmp = owner-&gt;GetMapPos();
 				} else if (newmp.x &gt; owner-&gt;mapPos.x) {
-					haveCollided |= CheckColH(newmp.x + owner-&gt;xsize - 1, newmp.y, newmp.y + owner-&gt;ysize - 1,  xmove + 3.99f, owner-&gt;mapPos.x + owner-&gt;xsize - 1);
+					haveCollided |= CheckColH(newmp.x + owner-&gt;xsize - 1, newmp.y, newmp.y + owner-&gt;zsize - 1,  xmove + 3.99f, owner-&gt;mapPos.x + owner-&gt;xsize - 1);
 					newmp = owner-&gt;GetMapPos();
 				}
 			} else {
 				if (newmp.x &lt; owner-&gt;mapPos.x) {
-					haveCollided |= CheckColH(newmp.x, newmp.y, newmp.y + owner-&gt;ysize - 1,  xmove - 3.99f, owner-&gt;mapPos.x);
+					haveCollided |= CheckColH(newmp.x, newmp.y, newmp.y + owner-&gt;zsize - 1,  xmove - 3.99f, owner-&gt;mapPos.x);
 					newmp = owner-&gt;GetMapPos();
 				} else if (newmp.x &gt; owner-&gt;mapPos.x) {
-					haveCollided |= CheckColH(newmp.x + owner-&gt;xsize - 1, newmp.y, newmp.y + owner-&gt;ysize - 1,  xmove + 3.99f, owner-&gt;mapPos.x + owner-&gt;xsize - 1);
+					haveCollided |= CheckColH(newmp.x + owner-&gt;xsize - 1, newmp.y, newmp.y + owner-&gt;zsize - 1,  xmove + 3.99f, owner-&gt;mapPos.x + owner-&gt;xsize - 1);
 					newmp = owner-&gt;GetMapPos();
 				}
 				if (newmp.y &lt; owner-&gt;mapPos.y) {
 					haveCollided |= CheckColV(newmp.y, newmp.x, newmp.x + owner-&gt;xsize - 1,  zmove - 3.99f, owner-&gt;mapPos.y);
 					newmp = owner-&gt;GetMapPos();
 				} else if (newmp.y &gt; owner-&gt;mapPos.y) {
-					haveCollided |= CheckColV(newmp.y + owner-&gt;ysize - 1, newmp.x, newmp.x + owner-&gt;xsize - 1,  zmove + 3.99f, owner-&gt;mapPos.y + owner-&gt;ysize - 1);
+					haveCollided |= CheckColV(newmp.y + owner-&gt;zsize - 1, newmp.x, newmp.x + owner-&gt;xsize - 1,  zmove + 3.99f, owner-&gt;mapPos.y + owner-&gt;zsize - 1);
 					newmp = owner-&gt;GetMapPos();
 				}
 			}

Modified: branches/caiinterface/rts/Sim/MoveTypes/TAAirMoveType.cpp
===================================================================
--- branches/caiinterface/rts/Sim/MoveTypes/TAAirMoveType.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/MoveTypes/TAAirMoveType.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -973,7 +973,7 @@
 	int2 mp = owner-&gt;GetMapPos();
 	owner-&gt;pos = tpos;
 
-	for (int z = mp.y; z &lt; mp.y + owner-&gt;ysize; z++) {
+	for (int z = mp.y; z &lt; mp.y + owner-&gt;zsize; z++) {
 		for (int x = mp.x; x &lt; mp.x + owner-&gt;xsize; x++) {
 			CObject* o = groundBlockingObjectMap-&gt;GroundBlockedUnsafe(z * gs-&gt;mapx + x);
 			if (o &amp;&amp; o != owner) {

Modified: branches/caiinterface/rts/Sim/Objects/SolidObject.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Objects/SolidObject.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Objects/SolidObject.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -18,7 +18,7 @@
 	CR_MEMBER(immobile),
 	CR_MEMBER(blockHeightChanges),
 	CR_MEMBER(xsize),
-	CR_MEMBER(ysize),
+	CR_MEMBER(zsize),
 	CR_MEMBER(height),
 	CR_MEMBER(heading),
 	CR_ENUM_MEMBER(physicalState),
@@ -42,7 +42,7 @@
 	blockHeightChanges(false),
 	floatOnWater(false),
 	xsize(1),
-	ysize(1),
+	zsize(1),
 	height(1),
 
 	physicalState(Ghost),
@@ -123,7 +123,7 @@
 {
 	int2 p;
 	p.x = (int(pos.x + SQUARE_SIZE / 2) / SQUARE_SIZE) - xsize / 2;
-	p.y = (int(pos.z + SQUARE_SIZE / 2) / SQUARE_SIZE) - ysize / 2;
+	p.y = (int(pos.z + SQUARE_SIZE / 2) / SQUARE_SIZE) - zsize / 2;
 
 	if (p.x &lt; 0)
 		p.x = 0;
@@ -132,8 +132,8 @@
 
 	if (p.y &lt; 0)
 		p.y = 0;
-	if (p.y &gt; gs-&gt;mapy - ysize)
-		p.y = gs-&gt;mapy - ysize;
+	if (p.y &gt; gs-&gt;mapy - zsize)
+		p.y = gs-&gt;mapy - zsize;
 
 	return p;
 }

Modified: branches/caiinterface/rts/Sim/Objects/SolidObject.h
===================================================================
--- branches/caiinterface/rts/Sim/Objects/SolidObject.h	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Objects/SolidObject.h	2008-11-13 10:39:15 UTC (rev 7036)
@@ -43,7 +43,7 @@
 	bool immobile;								// Immobile objects can not be moved. (Except perhaps along y-axis, to make them stay on ground.)
 	bool blockHeightChanges;					// map height cannot change under this object
 	int xsize;									// The x-size of this object, according to its footprint.
-	int ysize;									// The z-size of this object, according to its footprint. (NOTE: This one should have been called zsize!)
+	int zsize;									// The z-size of this object, according to its footprint.
 	float height;								// The height of this object.
 	SyncedSshort heading;								// Contains the same information as frontdir, but in a short signed integer.
 	

Modified: branches/caiinterface/rts/Sim/Units/CommandAI/BuilderCAI.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Units/CommandAI/BuilderCAI.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Units/CommandAI/BuilderCAI.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -1507,12 +1507,12 @@
 			BuildInfo bi(*ci);
 			bi.pos = helper-&gt;Pos2BuildPos(bi);
 			const float xsize = bi.GetXSize()*4;
-			const float ysize = bi.GetYSize()*4;
+			const float zsize = bi.GetZSize()*4;
 			glBegin(GL_LINE_LOOP);
-			glVertexf3(bi.pos + float3(+xsize, 1, +ysize));
-			glVertexf3(bi.pos + float3(-xsize, 1, +ysize));
-			glVertexf3(bi.pos + float3(-xsize, 1, -ysize));
-			glVertexf3(bi.pos + float3(+xsize, 1, -ysize));
+			glVertexf3(bi.pos + float3(+xsize, 1, +zsize));
+			glVertexf3(bi.pos + float3(-xsize, 1, +zsize));
+			glVertexf3(bi.pos + float3(-xsize, 1, -zsize));
+			glVertexf3(bi.pos + float3(+xsize, 1, -zsize));
 			glEnd();
 			if (bi.pos.y &lt; 0.0f) {
 				const float s[4] = { 0.0f, 0.0f, 1.0f, 0.5f }; // start color
@@ -1520,9 +1520,9 @@
 
 				const float h = bi.pos.y;
 				const float x1 = bi.pos.x - xsize;
-				const float z1 = bi.pos.z - ysize;
+				const float z1 = bi.pos.z - zsize;
 				const float x2 = bi.pos.x + xsize;
-				const float z2 = bi.pos.z + ysize;
+				const float z2 = bi.pos.z + zsize;
 
 				glPushAttrib(GL_CURRENT_BIT);
 				glBegin(GL_LINES);

Modified: branches/caiinterface/rts/Sim/Units/CommandAI/CommandAI.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Units/CommandAI/CommandAI.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Units/CommandAI/CommandAI.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -971,7 +971,7 @@
 					BuildInfo bt(t);
 					if (bc.def &amp;&amp; bt.def
 					    &amp;&amp; fabs(bc.pos.x - bt.pos.x) * 2 &lt;= std::max(bc.GetXSize(), bt.GetXSize()) * SQUARE_SIZE
-					    &amp;&amp; fabs(bc.pos.z - bt.pos.z) * 2 &lt;= std::max(bc.GetYSize(), bt.GetYSize()) * SQUARE_SIZE) {
+					    &amp;&amp; fabs(bc.pos.z - bt.pos.z) * 2 &lt;= std::max(bc.GetZSize(), bt.GetZSize()) * SQUARE_SIZE) {
 						return ci;
 					}
 				} else {
@@ -1069,9 +1069,9 @@
 						const float dist2X = 2.0f * fabs(cbi.pos.x - tbi.pos.x);
 						const float dist2Z = 2.0f * fabs(cbi.pos.z - tbi.pos.z);
 						const float addSizeX = SQUARE_SIZE * (cbi.GetXSize() + tbi.GetXSize());
-						const float addSizeZ = SQUARE_SIZE * (cbi.GetYSize() + tbi.GetYSize());
+						const float addSizeZ = SQUARE_SIZE * (cbi.GetZSize() + tbi.GetZSize());
 						const float maxSizeX = SQUARE_SIZE * std::max(cbi.GetXSize(), tbi.GetXSize());
-						const float maxSizeZ = SQUARE_SIZE * std::max(cbi.GetYSize(), tbi.GetYSize());
+						const float maxSizeZ = SQUARE_SIZE * std::max(cbi.GetZSize(), tbi.GetZSize());
 						if (cbi.def &amp;&amp; tbi.def &amp;&amp;
 						    ((dist2X &gt; maxSizeX) || (dist2Z &gt; maxSizeZ)) &amp;&amp;
 						    ((dist2X &lt; addSizeX) &amp;&amp; (dist2Z &lt; addSizeZ))) {

Modified: branches/caiinterface/rts/Sim/Units/UnitDef.h
===================================================================
--- branches/caiinterface/rts/Sim/Units/UnitDef.h	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Units/UnitDef.h	2008-11-13 10:39:15 UTC (rev 7036)
@@ -309,7 +309,7 @@
 	unsigned char* yardmaps[4];						// Iterations of the Ymap for building rotation
 
 	int xsize;										// each size is 8 units
-	int ysize;										// each size is 8 units
+	int zsize;										// each size is 8 units
 
 	int buildangle;
 
@@ -423,8 +423,8 @@
 	BuildInfo(const Command&amp; c) { Parse(c); }
 	BuildInfo(const std::string&amp; name, const float3&amp; p, int facing);
 
-	int GetXSize() const { return (buildFacing&amp;1)==0 ? def-&gt;xsize : def-&gt;ysize; }
-	int GetYSize() const { return (buildFacing&amp;1)==1 ? def-&gt;xsize : def-&gt;ysize; }
+	int GetXSize() const { return (buildFacing&amp;1)==0 ? def-&gt;xsize : def-&gt;zsize; }
+	int GetZSize() const { return (buildFacing&amp;1)==1 ? def-&gt;xsize : def-&gt;zsize; }
 	bool Parse(const Command&amp; c);
 	void FillCmd(Command&amp; c) const;
 

Modified: branches/caiinterface/rts/Sim/Units/UnitDefHandler.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Units/UnitDefHandler.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Units/UnitDefHandler.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -705,7 +705,7 @@
 
 	// TA has only half our res so multiply size with 2
 	ud.xsize = udTable.GetInt(&quot;footprintX&quot;, 1) * 2;
-	ud.ysize = udTable.GetInt(&quot;footprintZ&quot;, 1) * 2;
+	ud.zsize = udTable.GetInt(&quot;footprintZ&quot;, 1) * 2;
 
 	ud.needGeo = false;
 	if ((ud.type == &quot;Building&quot;) || (ud.type == &quot;Factory&quot;)) {
@@ -944,15 +944,15 @@
 
 	//Creates the map.
 	for (int u=0;u&lt;4;u++)
-		def-&gt;yardmaps[u] = SAFE_NEW unsigned char[def-&gt;xsize * def-&gt;ysize];
+		def-&gt;yardmaps[u] = SAFE_NEW unsigned char[def-&gt;xsize * def-&gt;zsize];
 
-	unsigned char *originalMap = SAFE_NEW unsigned char[def-&gt;xsize * def-&gt;ysize / 4];		//TAS resolution is double of TA resolution.
-	memset(originalMap, 255, def-&gt;xsize * def-&gt;ysize / 4);
+	unsigned char *originalMap = SAFE_NEW unsigned char[def-&gt;xsize * def-&gt;zsize / 4];		//TAS resolution is double of TA resolution.
+	memset(originalMap, 255, def-&gt;xsize * def-&gt;zsize / 4);
 
 	if(!yardmapStr.empty()){
 		std::string::iterator si = yardmapStr.begin();
 		int x, y;
-		for(y = 0; y &lt; def-&gt;ysize / 2; y++) {
+		for(y = 0; y &lt; def-&gt;zsize / 2; y++) {
 			for(x = 0; x &lt; def-&gt;xsize / 2; x++) {
 				if(*si == 'g')
 					def-&gt;needGeo=true;
@@ -970,12 +970,12 @@
 				break;
 		}
 	}
-	for(int y = 0; y &lt; def-&gt;ysize; y++)
+	for(int y = 0; y &lt; def-&gt;zsize; y++)
 		for(int x = 0; x &lt; def-&gt;xsize; x++){
 			def-&gt;yardmaps[0][x + y*def-&gt;xsize] = originalMap[x/2 + y/2*def-&gt;xsize/2];
-			def-&gt;yardmaps[1][(def-&gt;ysize*def-&gt;xsize)-(def-&gt;ysize*(x+1)-(y+1)+1)] = originalMap[x/2 + y/2*def-&gt;xsize/2];
-			def-&gt;yardmaps[2][(def-&gt;ysize*def-&gt;xsize)-(x + y*def-&gt;xsize+1)] = originalMap[x/2 + y/2*def-&gt;xsize/2];
-			def-&gt;yardmaps[3][def-&gt;ysize*(x+1)-(y+1)] = originalMap[x/2 + y/2*def-&gt;xsize/2];
+			def-&gt;yardmaps[1][(def-&gt;zsize*def-&gt;xsize)-(def-&gt;zsize*(x+1)-(y+1)+1)] = originalMap[x/2 + y/2*def-&gt;xsize/2];
+			def-&gt;yardmaps[2][(def-&gt;zsize*def-&gt;xsize)-(x + y*def-&gt;xsize+1)] = originalMap[x/2 + y/2*def-&gt;xsize/2];
+			def-&gt;yardmaps[3][def-&gt;zsize*(x+1)-(y+1)] = originalMap[x/2 + y/2*def-&gt;xsize/2];
 		}
 	delete[] originalMap;
 }

Modified: branches/caiinterface/rts/Sim/Units/UnitHandler.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Units/UnitHandler.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Units/UnitHandler.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -341,13 +341,13 @@
 	const float* heightmap=readmap-&gt;GetHeightmap();
 
 	int xsize=1;
-	int ysize=1;
+	int zsize=1;
 
 	float maxDif=unitdef-&gt;maxHeightDif;
 	int x1 = (int)max(0.f,(pos.x-(xsize*0.5f*SQUARE_SIZE))/SQUARE_SIZE);
 	int x2 = min(gs-&gt;mapx,x1+xsize);
-	int z1 = (int)max(0.f,(pos.z-(ysize*0.5f*SQUARE_SIZE))/SQUARE_SIZE);
-	int z2 = min(gs-&gt;mapy,z1+ysize);
+	int z1 = (int)max(0.f,(pos.z-(zsize*0.5f*SQUARE_SIZE))/SQUARE_SIZE);
+	int z2 = min(gs-&gt;mapy,z1+zsize);
 
 	if (x1 &gt; gs-&gt;mapx) x1 = gs-&gt;mapx;
 	if (x2 &lt; 0) x2 = 0;
@@ -383,25 +383,25 @@
 {
 	feature = NULL;
 	int xsize = buildInfo.GetXSize();
-	int ysize = buildInfo.GetYSize();
+	int zsize = buildInfo.GetZSize();
 	float3 pos = buildInfo.pos;
 
 	int x1 = (int) (pos.x - (xsize * 0.5f * SQUARE_SIZE));
 	int x2 = x1 + xsize * SQUARE_SIZE;
-	int z1 = (int) (pos.z - (ysize * 0.5f * SQUARE_SIZE));
-	int z2 = z1 + ysize * SQUARE_SIZE;
+	int z1 = (int) (pos.z - (zsize * 0.5f * SQUARE_SIZE));
+	int z2 = z1 + zsize * SQUARE_SIZE;
 	float h=GetBuildHeight(pos,buildInfo.def);
 
 	int canBuild = 2;
 
 	if (buildInfo.def-&gt;needGeo) {
 		canBuild = 0;
-		std::vector&lt;CFeature*&gt; features=qf-&gt;GetFeaturesExact(pos,max(xsize,ysize)*6);
+		std::vector&lt;CFeature*&gt; features=qf-&gt;GetFeaturesExact(pos,max(xsize,zsize)*6);
 
 		for (std::vector&lt;CFeature*&gt;::iterator fi=features.begin();fi!=features.end();++fi) {
 			if ((*fi)-&gt;def-&gt;geoThermal
 			    &amp;&amp; fabs((*fi)-&gt;pos.x - pos.x) &lt; (xsize * 4 - 4)
-			    &amp;&amp; fabs((*fi)-&gt;pos.z - pos.z) &lt; (ysize * 4 - 4)){
+			    &amp;&amp; fabs((*fi)-&gt;pos.z - pos.z) &lt; (zsize * 4 - 4)){
 				canBuild = 2;
 				break;
 			}
@@ -492,13 +492,13 @@
 	glBegin(GL_QUADS);
 
 	int xsize=buildInfo.GetXSize();
-	int ysize=buildInfo.GetYSize();
+	int zsize=buildInfo.GetZSize();
 	const float3&amp; pos = buildInfo.pos;
 
 	int x1 = (int) (pos.x-(xsize*0.5f*SQUARE_SIZE));
 	int x2 = x1+xsize*SQUARE_SIZE;
-	int z1 = (int) (pos.z-(ysize*0.5f*SQUARE_SIZE));
-	int z2 = z1+ysize*SQUARE_SIZE;
+	int z1 = (int) (pos.z-(zsize*0.5f*SQUARE_SIZE));
+	int z2 = z1+zsize*SQUARE_SIZE;
 	float h=GetBuildHeight(pos,buildInfo.def);
 
 	int canbuild=2;
@@ -506,10 +506,10 @@
 	if(buildInfo.def-&gt;needGeo)
 	{
 		canbuild=0;
-		std::vector&lt;CFeature*&gt; features=qf-&gt;GetFeaturesExact(pos,max(xsize,ysize)*6);
+		std::vector&lt;CFeature*&gt; features=qf-&gt;GetFeaturesExact(pos,max(xsize,zsize)*6);
 
 		for(std::vector&lt;CFeature*&gt;::iterator fi=features.begin();fi!=features.end();++fi){
-			if((*fi)-&gt;def-&gt;geoThermal &amp;&amp; fabs((*fi)-&gt;pos.x-pos.x)&lt;xsize*4-4 &amp;&amp; fabs((*fi)-&gt;pos.z-pos.z)&lt;ysize*4-4){
+			if((*fi)-&gt;def-&gt;geoThermal &amp;&amp; fabs((*fi)-&gt;pos.x-pos.x)&lt;xsize*4-4 &amp;&amp; fabs((*fi)-&gt;pos.z-pos.z)&lt;zsize*4-4){
 				canbuild=2;
 				break;
 			}
@@ -529,7 +529,7 @@
 				for(;ci != cv.end() &amp;&amp; tbs; ci++){
 					BuildInfo bc(*ci);
 					if(max(bc.pos.x-x-SQUARE_SIZE,x-bc.pos.x)*2 &lt; bc.GetXSize()*SQUARE_SIZE
-						&amp;&amp; max(bc.pos.z-z-SQUARE_SIZE,z-bc.pos.z)*2 &lt; bc.GetYSize()*SQUARE_SIZE){
+						&amp;&amp; max(bc.pos.z-z-SQUARE_SIZE,z-bc.pos.z)*2 &lt; bc.GetZSize()*SQUARE_SIZE){
 						tbs=0;
 					}
 				}
@@ -690,7 +690,7 @@
 				if((*ci).id &lt; 0 &amp;&amp; (*ci).params.size() &gt;= 3){
 					BuildInfo bi(*ci);
 					tempF1 = pos + dir*((bi.pos.y - pos.y)/dir.y) - bi.pos;
-					if(bi.def &amp;&amp; bi.GetXSize()/2*SQUARE_SIZE &gt; fabs(tempF1.x) &amp;&amp; bi.GetYSize()/2*SQUARE_SIZE &gt; fabs(tempF1.z)){
+					if(bi.def &amp;&amp; bi.GetXSize()/2*SQUARE_SIZE &gt; fabs(tempF1.x) &amp;&amp; bi.GetZSize()/2*SQUARE_SIZE &gt; fabs(tempF1.z)){
 						return (*ci);
 					}
 				}

Modified: branches/caiinterface/rts/Sim/Units/UnitLoader.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Units/UnitLoader.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Units/UnitLoader.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -124,8 +124,8 @@
 
 	unit-&gt;beingBuilt = build;
 
-	unit-&gt;xsize = ((facing &amp; 1) == 0) ? ud-&gt;xsize : ud-&gt;ysize;
-	unit-&gt;ysize = ((facing &amp; 1) == 1) ? ud-&gt;xsize : ud-&gt;ysize;
+	unit-&gt;xsize = ((facing &amp; 1) == 0) ? ud-&gt;xsize : ud-&gt;zsize;
+	unit-&gt;zsize = ((facing &amp; 1) == 1) ? ud-&gt;xsize : ud-&gt;zsize;
 	unit-&gt;buildFacing = facing;
 	unit-&gt;power = ud-&gt;power;
 	unit-&gt;maxHealth = ud-&gt;health;
@@ -524,9 +524,9 @@
 		bi.pos = helper-&gt;Pos2BuildPos(bi);
 		const float hss = 0.5f * SQUARE_SIZE;
 		const int tx1 = (int) std::max(0.0f ,(bi.pos.x - (bi.GetXSize() * hss)) / SQUARE_SIZE);
-		const int tz1 = (int) std::max(0.0f ,(bi.pos.z - (bi.GetYSize() * hss)) / SQUARE_SIZE);
+		const int tz1 = (int) std::max(0.0f ,(bi.pos.z - (bi.GetZSize() * hss)) / SQUARE_SIZE);
 		const int tx2 = std::min(gs-&gt;mapx, tx1 + bi.GetXSize());
-		const int tz2 = std::min(gs-&gt;mapy, tz1 + bi.GetYSize());
+		const int tz2 = std::min(gs-&gt;mapy, tz1 + bi.GetZSize());
 
 		for (int z = tz1; z &lt;= tz2; z++) {
 			for (int x = tx1; x &lt;= tx2; x++) {

Modified: branches/caiinterface/rts/Sim/Units/UnitTypes/Builder.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Units/UnitTypes/Builder.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/Sim/Units/UnitTypes/Builder.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -407,8 +407,8 @@
 		//resume levelling the ground
 		tx1 = (int)max((float)0,(target-&gt;pos.x - (target-&gt;unitDef-&gt;xsize*0.5f*SQUARE_SIZE))/SQUARE_SIZE);
 		tx2 = min(gs-&gt;mapx,tx1+target-&gt;unitDef-&gt;xsize);
-		tz1 = (int)max((float)0,(target-&gt;pos.z - (target-&gt;unitDef-&gt;ysize*0.5f*SQUARE_SIZE))/SQUARE_SIZE);
-		tz2 = min(gs-&gt;mapy,tz1+target-&gt;unitDef-&gt;ysize);
+		tz1 = (int)max((float)0,(target-&gt;pos.z - (target-&gt;unitDef-&gt;zsize*0.5f*SQUARE_SIZE))/SQUARE_SIZE);
+		tz2 = min(gs-&gt;mapy,tz1+target-&gt;unitDef-&gt;zsize);
 		terraformCenter = target-&gt;pos;
 		terraformRadius = (tx1 - tx2) * SQUARE_SIZE;
 		terraformType=Terraform_Building;
@@ -574,8 +574,8 @@
 	else {
 		tx1 = (int)max((float)0,(b-&gt;pos.x - (b-&gt;unitDef-&gt;xsize*0.5f*SQUARE_SIZE))/SQUARE_SIZE);
 		tx2 = min(gs-&gt;mapx,tx1+b-&gt;unitDef-&gt;xsize);
-		tz1 = (int)max((float)0,(b-&gt;pos.z - (b-&gt;unitDef-&gt;ysize*0.5f*SQUARE_SIZE))/SQUARE_SIZE);
-		tz2 = min(gs-&gt;mapy,tz1+b-&gt;unitDef-&gt;ysize);
+		tz1 = (int)max((float)0,(b-&gt;pos.z - (b-&gt;unitDef-&gt;zsize*0.5f*SQUARE_SIZE))/SQUARE_SIZE);
+		tz2 = min(gs-&gt;mapy,tz1+b-&gt;unitDef-&gt;zsize);
 
 		b-&gt;terraformLeft = CalculateBuildTerraformCost(buildInfo);
 		b-&gt;groundLevelled=false;

Modified: branches/caiinterface/rts/System/Platform/Win/DxSound.cpp
===================================================================
--- branches/caiinterface/rts/System/Platform/Win/DxSound.cpp	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/System/Platform/Win/DxSound.cpp	2008-11-13 10:39:15 UTC (rev 7036)
@@ -30,7 +30,7 @@
 
 CDxSound::CDxSound()
 {
-	maxSounds = ConfigHandler::GetInstance().GetInt(&quot;MaxSounds&quot;, 16);
+	maxSounds = configHandler.GetInt(&quot;MaxSounds&quot;, 16);
 	if (maxSounds &lt;= 0) {
 		throw content_error(&quot;Internal error, (maxSounds &lt;= 0) in CDxSound&quot;);
 	}

Modified: branches/caiinterface/rts/build/vstudio8/rts.vcproj
===================================================================
--- branches/caiinterface/rts/build/vstudio8/rts.vcproj	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/rts/build/vstudio8/rts.vcproj	2008-11-13 10:39:15 UTC (rev 7036)
@@ -796,27 +796,27 @@
 				&gt;
 			&lt;/File&gt;
 			&lt;File
-				RelativePath=&quot;..\..\Game\GlobalSynced.cpp&quot;
+				RelativePath=&quot;..\..\Game\Player.cpp&quot;
 				&gt;
 			&lt;/File&gt;
 			&lt;File
-				RelativePath=&quot;..\..\Game\GlobalSynced.h&quot;
+				RelativePath=&quot;..\..\Game\Player.h&quot;
 				&gt;
 			&lt;/File&gt;
 			&lt;File
-				RelativePath=&quot;..\..\Game\Player.cpp&quot;
+				RelativePath=&quot;..\..\Game\PlayerBase.cpp&quot;
 				&gt;
 			&lt;/File&gt;
 			&lt;File
-				RelativePath=&quot;..\..\Game\Player.h&quot;
+				RelativePath=&quot;..\..\Game\PlayerBase.h&quot;
 				&gt;
 			&lt;/File&gt;
 			&lt;File
-				RelativePath=&quot;..\..\Game\PlayerBase.cpp&quot;
+				RelativePath=&quot;..\..\Game\PlayerHandler.cpp&quot;
 				&gt;
 			&lt;/File&gt;
 			&lt;File
-				RelativePath=&quot;..\..\Game\PlayerBase.h&quot;
+				RelativePath=&quot;..\..\Game\PlayerHandler.h&quot;
 				&gt;
 			&lt;/File&gt;
 			&lt;File
@@ -860,14 +860,6 @@
 				&gt;
 			&lt;/File&gt;
 			&lt;File
-				RelativePath=&quot;..\..\Game\Team.cpp&quot;
-				&gt;
-			&lt;/File&gt;
-			&lt;File
-				RelativePath=&quot;..\..\Game\Team.h&quot;
-				&gt;
-			&lt;/File&gt;
-			&lt;File
 				RelativePath=&quot;..\..\Game\WaitCommandsAI.cpp&quot;
 				&gt;
 			&lt;/File&gt;
@@ -2311,22 +2303,6 @@
 		&lt;Filter
 			Name=&quot;Sim&quot;
 			&gt;
-			&lt;File
-				RelativePath=&quot;..\..\Sim\ModInfo.cpp&quot;
-				&gt;
-			&lt;/File&gt;
-			&lt;File
-				RelativePath=&quot;..\..\Sim\ModInfo.h&quot;
-				&gt;
-			&lt;/File&gt;
-			&lt;File
-				RelativePath=&quot;..\..\Sim\SideParser.cpp&quot;
-				&gt;
-			&lt;/File&gt;
-			&lt;File
-				RelativePath=&quot;..\..\Sim\SideParser.h&quot;
-				&gt;
-			&lt;/File&gt;
 			&lt;Filter
 				Name=&quot;Units&quot;
 				&gt;
@@ -3263,6 +3239,18 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=&quot;..\..\Sim\Misc\GlobalConstants.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;..\..\Sim\Misc\GlobalSynced.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;..\..\Sim\Misc\GlobalSynced.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=&quot;..\..\Sim\Misc\GroundBlockingObjectMap.cpp&quot;
 					&gt;
 					&lt;FileConfiguration
@@ -3335,6 +3323,14 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=&quot;..\..\Sim\Misc\ModInfo.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;..\..\Sim\Misc\ModInfo.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=&quot;..\..\Sim\Misc\QuadField.cpp&quot;
 					&gt;
 				&lt;/File&gt;
@@ -3351,6 +3347,30 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=&quot;..\..\Sim\Misc\SideParser.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;..\..\Sim\Misc\SideParser.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;..\..\Sim\Misc\Team.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;..\..\Sim\Misc\Team.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;..\..\Sim\Misc\TeamHandler.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;..\..\Sim\Misc\TeamHandler.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=&quot;..\..\Sim\Misc\Wind.cpp&quot;
 					&gt;
 				&lt;/File&gt;
@@ -4191,6 +4211,14 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=&quot;..\..\System\FileSystem\DataDirLocater.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;..\..\System\FileSystem\DataDirLocater.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=&quot;..\..\System\FileSystem\FileFilter.cpp&quot;
 					&gt;
 					&lt;FileConfiguration
@@ -4255,6 +4283,14 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=&quot;..\..\System\FileSystem\FileSystem.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;..\..\System\FileSystem\FileSystem.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=&quot;..\..\System\FileSystem\SimpleParser.cpp&quot;
 					&gt;
 					&lt;FileConfiguration
@@ -4317,6 +4353,14 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
+					RelativePath=&quot;..\..\System\FileSystem\UnixFileSystemHandler.cpp&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;..\..\System\FileSystem\UnixFileSystemHandler.h&quot;
+					&gt;
+				&lt;/File&gt;
+				&lt;File
 					RelativePath=&quot;..\..\System\FileSystem\VFSHandler.cpp&quot;
 					&gt;
 				&lt;/File&gt;
@@ -5281,14 +5325,6 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
-					RelativePath=&quot;..\..\System\Platform\FileSystem.cpp&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
-					RelativePath=&quot;..\..\System\Platform\FileSystem.h&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
 					RelativePath=&quot;..\..\System\Platform\NullSound.h&quot;
 					&gt;
 				&lt;/File&gt;
@@ -5320,14 +5356,6 @@
 						&gt;
 					&lt;/File&gt;
 					&lt;File
-						RelativePath=&quot;..\..\System\Platform\Linux\DataDirLocater.cpp&quot;
-						&gt;
-					&lt;/File&gt;
-					&lt;File
-						RelativePath=&quot;..\..\System\Platform\Linux\DataDirLocater.h&quot;
-						&gt;
-					&lt;/File&gt;
-					&lt;File
 						RelativePath=&quot;..\..\System\Platform\Win\DllLib.cpp&quot;
 						&gt;
 						&lt;FileConfiguration
@@ -5516,14 +5544,6 @@
 						&gt;
 					&lt;/File&gt;
 					&lt;File
-						RelativePath=&quot;..\..\System\Platform\Win\WinFileSystemHandler.cpp&quot;
-						&gt;
-					&lt;/File&gt;
-					&lt;File
-						RelativePath=&quot;..\..\System\Platform\Win\WinFileSystemHandler.h&quot;
-						&gt;
-					&lt;/File&gt;
-					&lt;File
 						RelativePath=&quot;..\..\System\Platform\Win\WinVersion.cpp&quot;
 						&gt;
 					&lt;/File&gt;

Modified: branches/caiinterface/tools/DedicatedServer/CMakeLists.txt
===================================================================
--- branches/caiinterface/tools/DedicatedServer/CMakeLists.txt	2008-11-13 10:10:16 UTC (rev 7035)
+++ branches/caiinterface/tools/DedicatedServer/CMakeLists.txt	2008-11-13 10:39:15 UTC (rev 7036)
@@ -1,4 +1,3 @@
-ADD_DEFINITIONS(-DSTREFLOP_SSE) # should be in ../../CMakeLists.txt
 ADD_DEFINITIONS(-DDEDICATED ${PIC_FLAG} -DNO_AVI)
 
 AUX_SOURCE_DIRECTORY(../../rts/System/Net/ netfiles)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001804.html">[Taspring-linux-commit] r7035 - trunk
</A></li>
	<LI>Next message: <A HREF="001806.html">[Taspring-linux-commit] r7037 - trunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1805">[ date ]</a>
              <a href="thread.html#1805">[ thread ]</a>
              <a href="subject.html#1805">[ subject ]</a>
              <a href="author.html#1805">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
