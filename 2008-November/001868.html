<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r7099 - in branches/caiinterface: . AI/Group/CentralBuildAI AI/Group/EconomyAI AI/Group/MetalMakerAI AI/Group/MexUpgraderAI AI/Group/RadarAI AI/Group/ReportIdleAI AI/Group/SimpleFormationAI AI/Skirmish/AAI AI/Skirmish/CSAI/ABICompatibilityLayer AI/Skirmish/CSAI/CSAILoader AI/Skirmish/CSAI/MonoLoader AI/Skirmish/JCAI AI/Skirmish/KAI AI/Skirmish/NTai/AI AI/Skirmish/NTai/AI/NTai/Core AI/Skirmish/NTai/AI/NTai/Helpers AI/Skirmish/NTai/AI/NTai/Units AI/Skirmish/NTai/AI/ntai-xcode AI/Skirmish/NTai/AI/ntai-xcode/build AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj AI/Skirmish/RAI AI/Wrappers/LegacyCpp game/LuaUI game/LuaUI/Widgets installer rts/ExternalAI rts/Game rts/Game/Camera rts/Game/StartScripts rts/Game/UI rts/Lua rts/Map rts/Map/SM3 rts/Map/SMF rts/Rendering rts/Rendering/Env rts/Rendering/GL rts/Rendering/Textures rts/Rendering/UnitModels rts/Sim/Features rts/Sim/Misc rts/Sim/MoveTypes rts/Sim/Path rts/Sim/Projectiles rts/Sim/Projectiles/Unsynced rts/Sim/Units rts/System rts/System/FileSystem rts/System/Platform rts/System/Platform/Linux rts/System/Platform/Mac rts/System/Platform/Win rts/System/Sync rts/build/vstudio8 rts/lib/gml rts/lib/lua/include rts/lib/luabind/luabind/detail tools/DedicatedServer tools/unitsync tools/unitsync_cacher
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7099%20-%20in%20branches/caiinterface%3A%20.%0A%20AI/Group/CentralBuildAI%20AI/Group/EconomyAI%20AI/Group/MetalMakerAI%0A%20AI/Group/MexUpgraderAI%20AI/Group/RadarAI%20AI/Group/ReportIdleAI%0A%20AI/Group/SimpleFormationAI%20AI/Skirmish/AAI%0A%20AI/Skirmish/CSAI/ABICompatibilityLayer%20AI/Skirmish/CSAI/CSAILoader%0A%20AI/Skirmish/CSAI/MonoLoader%20AI/Skirmish/JCAI%20AI/Skirmish/KAI%0A%20AI/Skirmish/NTai/AI%20AI/Skirmish/NTai/AI/NTai/Core%0A%20AI/Skirmish/NTai/AI/NTai/Helpers%20AI/Skirmish/NTai/AI/NTai/Units%0A%20AI/Skirmish/NTai/AI/ntai-xcode%20AI/Skirmish/NTai/AI/ntai-xcode/build%0A%20AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build%0A%20AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex%0A%20AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings%0A%20AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj%20AI/Skirmish/RAI%0A%20AI/Wrappers/LegacyCpp%20game/LuaUI%20game/LuaUI/Widgets%20installer%0A%20rts/ExternalAI%20rts/Game%20rts/Game/Camera%20rts/Game/StartScripts%20rts/Game/UI%0A%20rts/Lua%20rts/Map%20rts/Map/SM3%20rts/Map/SMF%20rts/Rendering%20rts/Rendering/Env%0A%20rts/Rendering/GL%20rts/Rendering/Textures%20rts/Rendering/UnitModels%0A%20rts/Sim/Features%20rts/Sim/Misc%20rts/Sim/MoveTypes%20rts/Sim/Path%0A%20rts/Sim/Projectiles%20rts/Sim/Projectiles/Unsynced%20rts/Sim/Units%20rts/System%0A%20rts/System/FileSystem%20rts/System/Platform%20rts/System/Platform/Linux%0A%20rts/System/Platform/Mac%20rts/System/Platform/Win%20rts/System/Sync%0A%20rts/build/vstudio8%20rts/lib/gml%20rts/lib/lua/include%0A%20rts/lib/luabind/luabind/detail%20tools/DedicatedServer%20tools/unitsync%0A%20tools/unitsync_cacher&In-Reply-To=%3C20081125232654.0D35C4760%40progate.clan-sy.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001867.html">
   <LINK REL="Next"  HREF="001869.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r7099 - in branches/caiinterface: . AI/Group/CentralBuildAI AI/Group/EconomyAI AI/Group/MetalMakerAI AI/Group/MexUpgraderAI AI/Group/RadarAI AI/Group/ReportIdleAI AI/Group/SimpleFormationAI AI/Skirmish/AAI AI/Skirmish/CSAI/ABICompatibilityLayer AI/Skirmish/CSAI/CSAILoader AI/Skirmish/CSAI/MonoLoader AI/Skirmish/JCAI AI/Skirmish/KAI AI/Skirmish/NTai/AI AI/Skirmish/NTai/AI/NTai/Core AI/Skirmish/NTai/AI/NTai/Helpers AI/Skirmish/NTai/AI/NTai/Units AI/Skirmish/NTai/AI/ntai-xcode AI/Skirmish/NTai/AI/ntai-xcode/build AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj AI/Skirmish/RAI AI/Wrappers/LegacyCpp game/LuaUI game/LuaUI/Widgets installer rts/ExternalAI rts/Game rts/Game/Camera rts/Game/StartScripts rts/Game/UI rts/Lua rts/Map rts/Map/SM3 rts/Map/SMF rts/Rendering rts/Rendering/Env rts/Rendering/GL rts/Rendering/Textures rts/Rendering/UnitModels rts/Sim/Features rts/Sim/Misc rts/Sim/MoveTypes rts/Sim/Path rts/Sim/Projectiles rts/Sim/Projectiles/Unsynced rts/Sim/Units rts/System rts/System/FileSystem rts/System/Platform rts/System/Platform/Linux rts/System/Platform/Mac rts/System/Platform/Win rts/System/Sync rts/build/vstudio8 rts/lib/gml rts/lib/lua/include rts/lib/luabind/luabind/detail tools/DedicatedServer tools/unitsync tools/unitsync_cacher</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7099%20-%20in%20branches/caiinterface%3A%20.%0A%20AI/Group/CentralBuildAI%20AI/Group/EconomyAI%20AI/Group/MetalMakerAI%0A%20AI/Group/MexUpgraderAI%20AI/Group/RadarAI%20AI/Group/ReportIdleAI%0A%20AI/Group/SimpleFormationAI%20AI/Skirmish/AAI%0A%20AI/Skirmish/CSAI/ABICompatibilityLayer%20AI/Skirmish/CSAI/CSAILoader%0A%20AI/Skirmish/CSAI/MonoLoader%20AI/Skirmish/JCAI%20AI/Skirmish/KAI%0A%20AI/Skirmish/NTai/AI%20AI/Skirmish/NTai/AI/NTai/Core%0A%20AI/Skirmish/NTai/AI/NTai/Helpers%20AI/Skirmish/NTai/AI/NTai/Units%0A%20AI/Skirmish/NTai/AI/ntai-xcode%20AI/Skirmish/NTai/AI/ntai-xcode/build%0A%20AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build%0A%20AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex%0A%20AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings%0A%20AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj%20AI/Skirmish/RAI%0A%20AI/Wrappers/LegacyCpp%20game/LuaUI%20game/LuaUI/Widgets%20installer%0A%20rts/ExternalAI%20rts/Game%20rts/Game/Camera%20rts/Game/StartScripts%20rts/Game/UI%0A%20rts/Lua%20rts/Map%20rts/Map/SM3%20rts/Map/SMF%20rts/Rendering%20rts/Rendering/Env%0A%20rts/Rendering/GL%20rts/Rendering/Textures%20rts/Rendering/UnitModels%0A%20rts/Sim/Features%20rts/Sim/Misc%20rts/Sim/MoveTypes%20rts/Sim/Path%0A%20rts/Sim/Projectiles%20rts/Sim/Projectiles/Unsynced%20rts/Sim/Units%20rts/System%0A%20rts/System/FileSystem%20rts/System/Platform%20rts/System/Platform/Linux%0A%20rts/System/Platform/Mac%20rts/System/Platform/Win%20rts/System/Sync%0A%20rts/build/vstudio8%20rts/lib/gml%20rts/lib/lua/include%0A%20rts/lib/luabind/luabind/detail%20tools/DedicatedServer%20tools/unitsync%0A%20tools/unitsync_cacher&In-Reply-To=%3C20081125232654.0D35C4760%40progate.clan-sy.com%3E"
       TITLE="[Taspring-linux-commit] r7099 - in branches/caiinterface: . AI/Group/CentralBuildAI AI/Group/EconomyAI AI/Group/MetalMakerAI AI/Group/MexUpgraderAI AI/Group/RadarAI AI/Group/ReportIdleAI AI/Group/SimpleFormationAI AI/Skirmish/AAI AI/Skirmish/CSAI/ABICompatibilityLayer AI/Skirmish/CSAI/CSAILoader AI/Skirmish/CSAI/MonoLoader AI/Skirmish/JCAI AI/Skirmish/KAI AI/Skirmish/NTai/AI AI/Skirmish/NTai/AI/NTai/Core AI/Skirmish/NTai/AI/NTai/Helpers AI/Skirmish/NTai/AI/NTai/Units AI/Skirmish/NTai/AI/ntai-xcode AI/Skirmish/NTai/AI/ntai-xcode/build AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj AI/Skirmish/RAI AI/Wrappers/LegacyCpp game/LuaUI game/LuaUI/Widgets installer rts/ExternalAI rts/Game rts/Game/Camera rts/Game/StartScripts rts/Game/UI rts/Lua rts/Map rts/Map/SM3 rts/Map/SMF rts/Rendering rts/Rendering/Env rts/Rendering/GL rts/Rendering/Textures rts/Rendering/UnitModels rts/Sim/Features rts/Sim/Misc rts/Sim/MoveTypes rts/Sim/Path rts/Sim/Projectiles rts/Sim/Projectiles/Unsynced rts/Sim/Units rts/System rts/System/FileSystem rts/System/Platform rts/System/Platform/Linux rts/System/Platform/Mac rts/System/Platform/Win rts/System/Sync rts/build/vstudio8 rts/lib/gml rts/lib/lua/include rts/lib/luabind/luabind/detail tools/DedicatedServer tools/unitsync tools/unitsync_cacher">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Wed Nov 26 00:26:52 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001867.html">[Taspring-linux-commit] r7098 - in branches/caiinterface:	AI/Skirmish/NullLegacyCppAI AI/Wrappers/LegacyCpp	rts/ExternalAI rts/ExternalAI/Interface rts/Sim/Misc	rts/Sim/Units tools/unitsync
</A></li>
        <LI>Next message: <A HREF="001869.html">[Taspring-linux-commit] r7100 - branches/gmltest/rts/lib/gml
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1868">[ date ]</a>
              <a href="thread.html#1868">[ thread ]</a>
              <a href="subject.html#1868">[ subject ]</a>
              <a href="author.html#1868">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: hoijui
Date: 2008-11-26 00:26:49 +0100 (Wed, 26 Nov 2008)
New Revision: 7099

Added:
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/categories.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/cdecls.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/decls.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/files.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/imports.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/pbxindex.header
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/protocols.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/refs.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings/
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings/control
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings/strings
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/subclasses.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/symbols0.pbxsymbols
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/project.pbxproj
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.mode1v3
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.pbxuser
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeProj.xcconfig
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeTarget.xcconfig
   branches/caiinterface/rts/System/ConfigHandler.cpp
   branches/caiinterface/rts/System/ConfigHandler.h
Removed:
   branches/caiinterface/AI/Skirmish/NTai/AI/dll.cbp
   branches/caiinterface/AI/Skirmish/NTai/AI/nbproject/
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/categories.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/cdecls.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/decls.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/files.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/imports.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/pbxindex.header
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/protocols.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/refs.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings/
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings/control
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings/strings
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/subclasses.pbxbtree
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/symbols0.pbxsymbols
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/project.pbxproj
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.mode1v3
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.pbxuser
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeProj.xcconfig
   branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeTarget.xcconfig
   branches/caiinterface/rts/System/FileSystem/UnixFileSystemHandler.cpp
   branches/caiinterface/rts/System/FileSystem/UnixFileSystemHandler.h
   branches/caiinterface/rts/System/Platform/ConfigHandler.cpp
   branches/caiinterface/rts/System/Platform/ConfigHandler.h
   branches/caiinterface/rts/System/Platform/Linux/DotfileHandler.cpp
   branches/caiinterface/rts/System/Platform/Linux/DotfileHandler.h
   branches/caiinterface/rts/System/Platform/Mac/UserDefsHandler.h
   branches/caiinterface/rts/System/Platform/Mac/UserDefsHandler.mm
   branches/caiinterface/rts/System/Platform/Win/RegHandler.cpp
   branches/caiinterface/rts/System/Platform/Win/RegHandler.h
Modified:
   branches/caiinterface/AI/Group/CentralBuildAI/TestAI.cpp
   branches/caiinterface/AI/Group/EconomyAI/TestAI.cpp
   branches/caiinterface/AI/Group/MetalMakerAI/TestAI.cpp
   branches/caiinterface/AI/Group/MexUpgraderAI/TestAI.cpp
   branches/caiinterface/AI/Group/RadarAI/TestAI.cpp
   branches/caiinterface/AI/Group/ReportIdleAI/TestAI.cpp
   branches/caiinterface/AI/Group/SimpleFormationAI/TestAI.cpp
   branches/caiinterface/AI/Skirmish/AAI/Interface.cpp
   branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/AbicAICallback.cpp
   branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/AbicAICallback.h
   branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/dllbuild.h
   branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/myai.cpp
   branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/myaimingw.cpp
   branches/caiinterface/AI/Skirmish/CSAI/CSAILoader/CSAILoader.cpp
   branches/caiinterface/AI/Skirmish/CSAI/MonoLoader/CSAILoaderMono.cpp
   branches/caiinterface/AI/Skirmish/JCAI/Interface.cpp
   branches/caiinterface/AI/Skirmish/KAI/TestAI.cpp
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Core/Global.cpp
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Core/Interface.cpp
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/TdfParser.cpp
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/TdfParser.h
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CConfigTaskManager.cpp
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CConfigTaskManager.h
   branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CUnit.cpp
   branches/caiinterface/AI/Skirmish/RAI/DLLExportRAI.cpp
   branches/caiinterface/AI/Wrappers/LegacyCpp/AIAICallback.cpp
   branches/caiinterface/AI/Wrappers/LegacyCpp/AIAICheats.cpp
   branches/caiinterface/CMakeLists.txt
   branches/caiinterface/SConstruct
   branches/caiinterface/game/LuaUI/Widgets/unit_immobile_buider.lua
   branches/caiinterface/game/LuaUI/layout.lua
   branches/caiinterface/installer/make_test_installer.sh
   branches/caiinterface/rts/ExternalAI/AICallback.cpp
   branches/caiinterface/rts/ExternalAI/AIInterfaceLibrary.cpp
   branches/caiinterface/rts/ExternalAI/EngineOutHandler.cpp
   branches/caiinterface/rts/ExternalAI/SAICallback.cpp
   branches/caiinterface/rts/ExternalAI/aibase.h
   branches/caiinterface/rts/Game/Camera/CameraController.cpp
   branches/caiinterface/rts/Game/Camera/FPSController.cpp
   branches/caiinterface/rts/Game/Camera/FreeController.cpp
   branches/caiinterface/rts/Game/Camera/OrbitController.cpp
   branches/caiinterface/rts/Game/Camera/OverheadController.cpp
   branches/caiinterface/rts/Game/Camera/RotOverheadController.cpp
   branches/caiinterface/rts/Game/Camera/SmoothController.cpp
   branches/caiinterface/rts/Game/Camera/TWController.cpp
   branches/caiinterface/rts/Game/CameraHandler.cpp
   branches/caiinterface/rts/Game/Game.cpp
   branches/caiinterface/rts/Game/Game.h
   branches/caiinterface/rts/Game/GameServer.cpp
   branches/caiinterface/rts/Game/GameServer.h
   branches/caiinterface/rts/Game/GameVersion.cpp
   branches/caiinterface/rts/Game/Player.h
   branches/caiinterface/rts/Game/PlayerHandler.cpp
   branches/caiinterface/rts/Game/PreGame.cpp
   branches/caiinterface/rts/Game/SelectMenu.cpp
   branches/caiinterface/rts/Game/SelectedUnits.cpp
   branches/caiinterface/rts/Game/StartScripts/AirScript.cpp
   branches/caiinterface/rts/Game/UI/GameSetupDrawer.cpp
   branches/caiinterface/rts/Game/UI/GuiHandler.cpp
   branches/caiinterface/rts/Game/UI/InfoConsole.cpp
   branches/caiinterface/rts/Game/UI/LuaUI.cpp
   branches/caiinterface/rts/Game/UI/MiniMap.cpp
   branches/caiinterface/rts/Game/UI/MouseHandler.cpp
   branches/caiinterface/rts/Game/UI/ProfileDrawer.cpp
   branches/caiinterface/rts/Game/UI/TooltipConsole.cpp
   branches/caiinterface/rts/Lua/LuaHandle.cpp
   branches/caiinterface/rts/Lua/LuaOpenGL.cpp
   branches/caiinterface/rts/Lua/LuaUnsyncedCtrl.cpp
   branches/caiinterface/rts/Map/BaseGroundDrawer.cpp
   branches/caiinterface/rts/Map/HeightLinePalette.cpp
   branches/caiinterface/rts/Map/HeightMapTexture.cpp
   branches/caiinterface/rts/Map/MetalMap.cpp
   branches/caiinterface/rts/Map/ReadMap.cpp
   branches/caiinterface/rts/Map/SM3/Sm3GroundDrawer.cpp
   branches/caiinterface/rts/Map/SM3/Sm3Map.cpp
   branches/caiinterface/rts/Map/SMF/BFGroundDrawer.cpp
   branches/caiinterface/rts/Map/SMF/SmfReadMap.cpp
   branches/caiinterface/rts/Rendering/Env/AdvSky.cpp
   branches/caiinterface/rts/Rendering/Env/BaseSky.cpp
   branches/caiinterface/rts/Rendering/Env/BaseTreeDrawer.cpp
   branches/caiinterface/rts/Rendering/Env/BaseWater.cpp
   branches/caiinterface/rts/Rendering/Env/BasicSky.cpp
   branches/caiinterface/rts/Rendering/Env/BumpWater.cpp
   branches/caiinterface/rts/Rendering/Env/GrassDrawer.cpp
   branches/caiinterface/rts/Rendering/GL/glList.cpp
   branches/caiinterface/rts/Rendering/GL/myGL.cpp
   branches/caiinterface/rts/Rendering/GroundDecalHandler.cpp
   branches/caiinterface/rts/Rendering/ShadowHandler.cpp
   branches/caiinterface/rts/Rendering/Textures/TextureHandler.cpp
   branches/caiinterface/rts/Rendering/UnitModels/UnitDrawer.cpp
   branches/caiinterface/rts/Rendering/VerticalSync.cpp
   branches/caiinterface/rts/Sim/Features/FeatureHandler.cpp
   branches/caiinterface/rts/Sim/Misc/ModInfo.cpp
   branches/caiinterface/rts/Sim/MoveTypes/MoveInfo.cpp
   branches/caiinterface/rts/Sim/MoveTypes/TAAirMoveType.cpp
   branches/caiinterface/rts/Sim/Path/PathEstimator.cpp
   branches/caiinterface/rts/Sim/Projectiles/ExplosionGenerator.cpp
   branches/caiinterface/rts/Sim/Projectiles/ProjectileHandler.cpp
   branches/caiinterface/rts/Sim/Projectiles/Unsynced/SimpleParticleSystem.cpp
   branches/caiinterface/rts/Sim/Projectiles/Unsynced/SimpleParticleSystem.h
   branches/caiinterface/rts/Sim/Units/UnitDefHandler.cpp
   branches/caiinterface/rts/Sim/Units/UnitHandler.cpp
   branches/caiinterface/rts/Sim/Units/UnitTracker.cpp
   branches/caiinterface/rts/System/AutohostInterface.cpp
   branches/caiinterface/rts/System/FileSystem/DataDirLocater.cpp
   branches/caiinterface/rts/System/FileSystem/FileSystem.cpp
   branches/caiinterface/rts/System/FileSystem/FileSystem.h
   branches/caiinterface/rts/System/LogOutput.cpp
   branches/caiinterface/rts/System/NetProtocol.cpp
   branches/caiinterface/rts/System/Platform/Linux/OpenALSound.cpp
   branches/caiinterface/rts/System/Platform/Win/CrashHandler.cpp
   branches/caiinterface/rts/System/Platform/Win/DxSound.cpp
   branches/caiinterface/rts/System/Sound.cpp
   branches/caiinterface/rts/System/SpringApp.cpp
   branches/caiinterface/rts/System/SpringApp.h
   branches/caiinterface/rts/System/Sync/SyncDebugger.cpp
   branches/caiinterface/rts/System/TimeProfiler.cpp
   branches/caiinterface/rts/System/TimeProfiler.h
   branches/caiinterface/rts/System/exportdefines.h
   branches/caiinterface/rts/build/vstudio8/rts.vcproj
   branches/caiinterface/rts/lib/gml/gml.cpp
   branches/caiinterface/rts/lib/gml/gml.h
   branches/caiinterface/rts/lib/gml/gmlsrv.h
   branches/caiinterface/rts/lib/lua/include/luaconf.h
   branches/caiinterface/rts/lib/luabind/luabind/detail/has_get_pointer.hpp
   branches/caiinterface/tools/DedicatedServer/CMakeLists.txt
   branches/caiinterface/tools/DedicatedServer/main.cpp
   branches/caiinterface/tools/unitsync/CMakeLists.txt
   branches/caiinterface/tools/unitsync/Doxyfile
   branches/caiinterface/tools/unitsync/LuaParserAPI.cpp
   branches/caiinterface/tools/unitsync/javabind.cpp
   branches/caiinterface/tools/unitsync/pybind.cpp
   branches/caiinterface/tools/unitsync/setup.py
   branches/caiinterface/tools/unitsync/unitsync.cpp
   branches/caiinterface/tools/unitsync/unitsync.h
   branches/caiinterface/tools/unitsync/unitsync_api.h
   branches/caiinterface/tools/unitsync_cacher/test.cpp
Log:
reintegrated trunk up to 7096

Modified: branches/caiinterface/AI/Group/CentralBuildAI/TestAI.cpp
===================================================================
--- branches/caiinterface/AI/Group/CentralBuildAI/TestAI.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Group/CentralBuildAI/TestAI.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3,19 +3,19 @@
 #include &quot;Sim/Units/UnitDef.h&quot;
 #include &lt;set&gt;
 
-DLL_EXPORT int GetGroupAiVersion()
+SHARED_EXPORT int GetGroupAiVersion()
 {
 	return AI_INTERFACE_VERSION;
 }
 
 static const char* aiNameList[] = { AI_NAME, NULL } ;
 
-DLL_EXPORT const char** GetAiNameList()
+SHARED_EXPORT const char** GetAiNameList()
 {
 	return aiNameList;
 }
 
-DLL_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
+SHARED_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
 {
 	if(unitDef-&gt;buildSpeed==0) //can only use builder units
 		return false;
@@ -23,14 +23,14 @@
 		return true;
 }
 
-DLL_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
+SHARED_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
 {
 	CGroupAI* ai=new CGroupAI();
 //	ais.insert(ai);
 	return ai;
 }
 
-DLL_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
+SHARED_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
 {
 	delete i;
 //	ais.erase(i);

Modified: branches/caiinterface/AI/Group/EconomyAI/TestAI.cpp
===================================================================
--- branches/caiinterface/AI/Group/EconomyAI/TestAI.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Group/EconomyAI/TestAI.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3,19 +3,19 @@
 #include &quot;ExternalAI/aibase.h&quot;
 #include &quot;Sim/Units/UnitDef.h&quot;
 
-DLL_EXPORT int GetGroupAiVersion()
+SHARED_EXPORT int GetGroupAiVersion()
 {
 	return AI_INTERFACE_VERSION;
 }
 
 static const char* aiNameList[] = { AI_NAME, NULL };
 
-DLL_EXPORT const char** GetAiNameList()
+SHARED_EXPORT const char** GetAiNameList()
 {
 	return aiNameList;
 }
 
-DLL_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
+SHARED_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
 {
 	if(unitDef-&gt;buildSpeed==0)
 		return false;
@@ -23,19 +23,19 @@
 		return true;
 }
 
-DLL_EXPORT bool IsLoadSupported(unsigned aiNumber)
+SHARED_EXPORT bool IsLoadSupported(unsigned aiNumber)
 {
 	return true;
 }
 
-DLL_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
+SHARED_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
 {
 	CGroupAI* ai=new CGroupAI();
 //	ais.insert(ai);
 	return ai;
 }
 
-DLL_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
+SHARED_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
 {
 	delete i;
 //	ais.erase(i);

Modified: branches/caiinterface/AI/Group/MetalMakerAI/TestAI.cpp
===================================================================
--- branches/caiinterface/AI/Group/MetalMakerAI/TestAI.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Group/MetalMakerAI/TestAI.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -4,19 +4,19 @@
 #include &quot;Sim/Units/UnitDef.h&quot;
 #include &lt;set&gt;
 
-DLL_EXPORT int GetGroupAiVersion()
+SHARED_EXPORT int GetGroupAiVersion()
 {
 	return AI_INTERFACE_VERSION;
 }
 
 static const char* aiNameList[] = { AI_NAME, NULL };
 
-DLL_EXPORT const char** GetAiNameList()
+SHARED_EXPORT const char** GetAiNameList()
 {
 	return aiNameList;
 }
 
-DLL_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
+SHARED_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
 {
 	if(unitDef-&gt;energyUpkeep&gt;0.0f &amp;&amp; (unitDef-&gt;makesMetal&gt;0.0f || unitDef-&gt;extractsMetal&gt;0.0f))
 		return true;
@@ -24,14 +24,14 @@
 		return false;
 }
 
-DLL_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
+SHARED_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
 {
 	CGroupAI* ai=new CGroupAI();
 //	ais.insert(ai);
 	return ai;
 }
 
-DLL_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
+SHARED_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
 {
 	delete i;
 //	ais.erase(i);

Modified: branches/caiinterface/AI/Group/MexUpgraderAI/TestAI.cpp
===================================================================
--- branches/caiinterface/AI/Group/MexUpgraderAI/TestAI.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Group/MexUpgraderAI/TestAI.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3,24 +3,24 @@
 #include &quot;ExternalAI/aibase.h&quot;
 #include &quot;Sim/Units/UnitDef.h&quot;
 
-DLL_EXPORT int GetGroupAiVersion()
+SHARED_EXPORT int GetGroupAiVersion()
 {
 	return AI_INTERFACE_VERSION;
 }
 
 static const char* aiNameList[] = { AI_NAME, NULL };
 
-DLL_EXPORT const char** GetAiNameList()
+SHARED_EXPORT const char** GetAiNameList()
 {
 	return aiNameList;
 }
 
-DLL_EXPORT bool IsLoadSupported(unsigned aiNumber)
+SHARED_EXPORT bool IsLoadSupported(unsigned aiNumber)
 {
 	return true;
 }
 
-DLL_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
+SHARED_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
 {
 	if(unitDef-&gt;buildSpeed==0 || !unitDef-&gt;canmove)
 		return false;
@@ -28,14 +28,14 @@
 		return true;
 }
 
-DLL_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
+SHARED_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
 {
 	CGroupAI* ai=new CGroupAI();
 //	ais.insert(ai);
 	return ai;
 }
 
-DLL_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
+SHARED_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
 {
 	delete i;
 //	ais.erase(i);

Modified: branches/caiinterface/AI/Group/RadarAI/TestAI.cpp
===================================================================
--- branches/caiinterface/AI/Group/RadarAI/TestAI.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Group/RadarAI/TestAI.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3,19 +3,19 @@
 #include &quot;ExternalAI/aibase.h&quot;
 #include &quot;Sim/Units/UnitDef.h&quot;
 
-DLL_EXPORT int GetGroupAiVersion()
+SHARED_EXPORT int GetGroupAiVersion()
 {
 	return AI_INTERFACE_VERSION;
 }
 
 static const char* aiNameList[] = { AI_NAME, NULL };
 
-DLL_EXPORT const char** GetAiNameList()
+SHARED_EXPORT const char** GetAiNameList()
 {
 	return aiNameList;
 }
 
-DLL_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
+SHARED_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
 {
 	if(unitDef-&gt;radarRadius==0 &amp;&amp; unitDef-&gt;sonarRadius==0)
 		return false;
@@ -23,14 +23,14 @@
 		return true;
 }
 
-DLL_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
+SHARED_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
 {
 	CGroupAI* ai=new CGroupAI();
 //	ais.insert(ai);
 	return ai;
 }
 
-DLL_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
+SHARED_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
 {
 	delete i;
 //	ais.erase(i);

Modified: branches/caiinterface/AI/Group/ReportIdleAI/TestAI.cpp
===================================================================
--- branches/caiinterface/AI/Group/ReportIdleAI/TestAI.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Group/ReportIdleAI/TestAI.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3,19 +3,19 @@
 #include &quot;ExternalAI/aibase.h&quot;
 #include &quot;Sim/Units/UnitDef.h&quot;
 
-DLL_EXPORT int GetGroupAiVersion()
+SHARED_EXPORT int GetGroupAiVersion()
 {
 	return AI_INTERFACE_VERSION;
 }
 
 static const char* aiNameList[] = { AI_NAME, NULL };
 
-DLL_EXPORT const char** GetAiNameList()
+SHARED_EXPORT const char** GetAiNameList()
 {
 	return aiNameList;
 }
 
-DLL_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
+SHARED_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
 {
 	if(unitDef-&gt;buildSpeed==0)
 	{
@@ -27,14 +27,14 @@
 	}
 }
 
-DLL_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
+SHARED_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
 {
 	CGroupAI* ai=new CGroupAI();
 //	ais.insert(ai);
 	return ai;
 }
 
-DLL_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
+SHARED_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
 {
 	delete i;
 //	ais.erase(i);

Modified: branches/caiinterface/AI/Group/SimpleFormationAI/TestAI.cpp
===================================================================
--- branches/caiinterface/AI/Group/SimpleFormationAI/TestAI.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Group/SimpleFormationAI/TestAI.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -4,19 +4,19 @@
 #include &quot;Sim/Units/UnitDef.h&quot;
 #include &lt;set&gt;
 
-DLL_EXPORT int GetGroupAiVersion()
+SHARED_EXPORT int GetGroupAiVersion()
 {
 	return AI_INTERFACE_VERSION;
 }
 
 static const char* aiNameList[] = { AI_NAME, NULL };
 
-DLL_EXPORT const char** GetAiNameList()
+SHARED_EXPORT const char** GetAiNameList()
 {
 	return aiNameList;
 }
 
-DLL_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
+SHARED_EXPORT bool IsUnitSuited(unsigned aiNumber, const UnitDef* unitDef)
 {
 	if(!unitDef-&gt;canmove)
 		return false;
@@ -24,14 +24,14 @@
 		return true;
 }
 
-DLL_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
+SHARED_EXPORT IGroupAI* GetNewAI(unsigned aiNumber)
 {
 	CGroupAI* ai=new CGroupAI();
 //	ais.insert(ai);
 	return ai;
 }
 
-DLL_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
+SHARED_EXPORT void ReleaseAI(unsigned aiNumber, IGroupAI* i)
 {
 	delete i;
 //	ais.erase(i);

Modified: branches/caiinterface/AI/Skirmish/AAI/Interface.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/AAI/Interface.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/AAI/Interface.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -16,35 +16,35 @@
 std::set&lt;IGlobalAI*&gt; ais;
 
 
-DLL_EXPORT int GetGlobalAiVersion()
+SHARED_EXPORT int GetGlobalAiVersion()
 {
 	return GLOBAL_AI_INTERFACE_VERSION;
 }
 
-DLL_EXPORT void GetAiName(char* name)
+SHARED_EXPORT void GetAiName(char* name)
 {
 	strcpy(name, AAI_VERSION);
 }
 
-DLL_EXPORT IGlobalAI* GetNewAI()
+SHARED_EXPORT IGlobalAI* GetNewAI()
 {
 	AAI* ai = new AAI();
 	ais.insert(ai);
 	return ai;
 }
 
-DLL_EXPORT void ReleaseAI(IGlobalAI* i)
+SHARED_EXPORT void ReleaseAI(IGlobalAI* i)
 {
 	ais.erase(i);
 	delete (AAI*)i;
 }
 
-DLL_EXPORT int IsCInterface(void) 
+SHARED_EXPORT int IsCInterface(void) 
 {
 	return 0;
 } 
 
-DLL_EXPORT int IsLoadSupported() 
+SHARED_EXPORT int IsLoadSupported() 
 {
 	return 0;
 }

Modified: branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/AbicAICallback.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/AbicAICallback.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/AbicAICallback.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,7 +1,7 @@
 
 #include &quot;StdAfx.h&quot;
 
-//#include &quot;ExternalAI/aibase.h&quot; // for DLL_EXPORT definition
+//#include &quot;ExternalAI/aibase.h&quot; // for SHARED_EXPORT definition
 
 #include &quot;AbicAICallback.h&quot;
 

Modified: branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/AbicAICallback.h
===================================================================
--- branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/AbicAICallback.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/AbicAICallback.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,5 +1,5 @@
 
-// #include &quot;ExternalAI/aibase.h&quot; // for DLL_EXPORT definition
+// #include &quot;ExternalAI/aibase.h&quot; // for SHARED_EXPORT definition
 
 #include &quot;dllbuild.h&quot;
 

Modified: branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/dllbuild.h
===================================================================
--- branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/dllbuild.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/dllbuild.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,6 +1,6 @@
 // used to decide what gets imported and what gets exported
 
-#include &quot;ExternalAI/aibase.h&quot; // we need this to define DLL_EXPORT
+#include &quot;ExternalAI/aibase.h&quot; // we need this to define SHARED_EXPORT
 
 // define DLL_IMPORT, which is platform dependent
 // since we only have a C interface, we dont care about destructors, virtual functions and so on
@@ -9,16 +9,16 @@
 	#define DLL_IMPORT extern &quot;C&quot; __declspec(dllimport)
 #elif __GNUC__ &gt;= 4
 	// Support for '-fvisibility=hidden'.
-	#define DLL_EXPORT extern &quot;C&quot; __attribute__ ((visibility(&quot;default&quot;)))
+	#define SHARED_EXPORT extern &quot;C&quot; __attribute__ ((visibility(&quot;default&quot;)))
 #else
 	// Older versions of gcc have everything visible; no need for fancy stuff.
-	#define DLL_EXPORT extern &quot;C&quot;
+	#define SHARED_EXPORT extern &quot;C&quot;
 #endif
 
 // define BUILDING_ABIC when building abic dll:
 #ifdef BUILDING_ABIC
-   #define SPRING_TO_ABIC_API DLL_EXPORT  // export, for spring to call into us
-   #define AICALLBACK_API DLL_EXPORT    // export, for ai.dll to callback into us
+   #define SPRING_TO_ABIC_API SHARED_EXPORT  // export, for spring to call into us
+   #define AICALLBACK_API SHARED_EXPORT    // export, for ai.dll to callback into us
                                                    // no outgoing imports: we link dynamically with ai.dll
 #endif
 

Modified: branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/myai.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/myai.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/myai.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,6 +1,6 @@
 #include &lt;stdio.h&gt;
 
-#include &quot;ExternalAI/aibase.h&quot; // we need this to define DLL_EXPORT
+#include &quot;ExternalAI/aibase.h&quot; // we need this to define SHARED_EXPORT
 
 // ***** dont include any spring includes above this, except aibase.h ******
 #include &quot;AbicAICallback.h&quot;
@@ -127,65 +127,65 @@
 // exported dll symbols, wrap our AI class
 
 // returns pointers to our new AI object
-DLL_EXPORT void *InitAI( struct IAICallback *aicallback, int team)
+SHARED_EXPORT void *InitAI( struct IAICallback *aicallback, int team)
 {
     MyAI *ai = new MyAI();
     ai-&gt;InitAI( aicallback, team );
     return ai;
 }
 
-DLL_EXPORT void UnitCreated( void *ai, int unit)									//called when a new unit is created on ai team
+SHARED_EXPORT void UnitCreated( void *ai, int unit)									//called when a new unit is created on ai team
 {
     ( ( MyAI *)ai )-&gt;UnitCreated( unit );
 }
 
-DLL_EXPORT void UnitFinished(void *ai, int unit)							//called when an unit has finished building
+SHARED_EXPORT void UnitFinished(void *ai, int unit)							//called when an unit has finished building
 {
     ( ( MyAI *)ai )-&gt;UnitFinished( unit );
 }
 
-DLL_EXPORT void UnitDestroyed(void *ai, int unit,int attacker)								//called when a unit is destroyed
+SHARED_EXPORT void UnitDestroyed(void *ai, int unit,int attacker)								//called when a unit is destroyed
 {
 }
 
-DLL_EXPORT void EnemyEnterLOS(void *ai, int enemy)
+SHARED_EXPORT void EnemyEnterLOS(void *ai, int enemy)
 {
 }
 
-DLL_EXPORT void EnemyLeaveLOS(void *ai, int enemy)
+SHARED_EXPORT void EnemyLeaveLOS(void *ai, int enemy)
 {
 }
 
-DLL_EXPORT void EnemyEnterRadar(void *ai, int enemy)		
+SHARED_EXPORT void EnemyEnterRadar(void *ai, int enemy)		
 {
 }
 
-DLL_EXPORT void EnemyLeaveRadar(void *ai, int enemy)
+SHARED_EXPORT void EnemyLeaveRadar(void *ai, int enemy)
 {
 }
 
-DLL_EXPORT void EnemyDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)	//called when an enemy inside los or radar is damaged
+SHARED_EXPORT void EnemyDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)	//called when an enemy inside los or radar is damaged
 {
 }
 
-DLL_EXPORT void EnemyDestroyed(void *ai, int enemy,int attacker)							//will be called if an enemy inside los or radar dies (note that leave los etc will not be called then)
+SHARED_EXPORT void EnemyDestroyed(void *ai, int enemy,int attacker)							//will be called if an enemy inside los or radar dies (note that leave los etc will not be called then)
 {
 }
 
-DLL_EXPORT void UnitIdle(void *ai, int unit)										//called when a unit go idle and is not assigned to any group
+SHARED_EXPORT void UnitIdle(void *ai, int unit)										//called when a unit go idle and is not assigned to any group
 {
     ( ( MyAI *)ai )-&gt;UnitIdle( unit );
 }
 
-DLL_EXPORT void GotChatMsg(void *aik, const char* msg,int player)					//called when someone writes a chat msg
+SHARED_EXPORT void GotChatMsg(void *aik, const char* msg,int player)					//called when someone writes a chat msg
 {
 }
 
-DLL_EXPORT void UnitDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)					//called when one of your units are damaged
+SHARED_EXPORT void UnitDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)					//called when one of your units are damaged
 {
 }
 
-DLL_EXPORT void UnitMoveFailed(void *ai, int unit)
+SHARED_EXPORT void UnitMoveFailed(void *ai, int unit)
 {
     ( ( MyAI *)ai )-&gt;UnitMoveFailed( unit );
 }
@@ -193,7 +193,7 @@
 //int HandleEvent (int msg,const void *data); // todo
 
 //called every frame
-DLL_EXPORT void Update(void *ai )
+SHARED_EXPORT void Update(void *ai )
 {
 }
     

Modified: branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/myaimingw.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/myaimingw.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/CSAI/ABICompatibilityLayer/myaimingw.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,6 +1,6 @@
 #include &lt;stdio.h&gt;
 
-#include &quot;ExternalAI/aibase.h&quot; // we need this to define DLL_EXPORT
+#include &quot;ExternalAI/aibase.h&quot; // we need this to define SHARED_EXPORT
 
 // ***** dont include any spring includes above this, except aibase.h ******
 #include &quot;AbicAICallback.h&quot;
@@ -127,65 +127,65 @@
 // exported dll symbols, wrap our AI class
 
 // returns pointers to our new AI object
-DLL_EXPORT void *InitAI( struct IAICallback *aicallback, int team)
+SHARED_EXPORT void *InitAI( struct IAICallback *aicallback, int team)
 {
     MyAI *ai = new MyAI();
     ai-&gt;InitAI( aicallback, team );
     return ai;
 }
 
-DLL_EXPORT void UnitCreated( void *ai, int unit)									//called when a new unit is created on ai team
+SHARED_EXPORT void UnitCreated( void *ai, int unit)									//called when a new unit is created on ai team
 {
     ( ( MyAI *)ai )-&gt;UnitCreated( unit );
 }
 
-DLL_EXPORT void UnitFinished(void *ai, int unit)							//called when an unit has finished building
+SHARED_EXPORT void UnitFinished(void *ai, int unit)							//called when an unit has finished building
 {
     ( ( MyAI *)ai )-&gt;UnitFinished( unit );
 }
 
-DLL_EXPORT void UnitDestroyed(void *ai, int unit,int attacker)								//called when a unit is destroyed
+SHARED_EXPORT void UnitDestroyed(void *ai, int unit,int attacker)								//called when a unit is destroyed
 {
 }
 
-DLL_EXPORT void EnemyEnterLOS(void *ai, int enemy)
+SHARED_EXPORT void EnemyEnterLOS(void *ai, int enemy)
 {
 }
 
-DLL_EXPORT void EnemyLeaveLOS(void *ai, int enemy)
+SHARED_EXPORT void EnemyLeaveLOS(void *ai, int enemy)
 {
 }
 
-DLL_EXPORT void EnemyEnterRadar(void *ai, int enemy)		
+SHARED_EXPORT void EnemyEnterRadar(void *ai, int enemy)		
 {
 }
 
-DLL_EXPORT void EnemyLeaveRadar(void *ai, int enemy)
+SHARED_EXPORT void EnemyLeaveRadar(void *ai, int enemy)
 {
 }
 
-DLL_EXPORT void EnemyDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)	//called when an enemy inside los or radar is damaged
+SHARED_EXPORT void EnemyDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)	//called when an enemy inside los or radar is damaged
 {
 }
 
-DLL_EXPORT void EnemyDestroyed(void *ai, int enemy,int attacker)							//will be called if an enemy inside los or radar dies (note that leave los etc will not be called then)
+SHARED_EXPORT void EnemyDestroyed(void *ai, int enemy,int attacker)							//will be called if an enemy inside los or radar dies (note that leave los etc will not be called then)
 {
 }
 
-DLL_EXPORT void UnitIdle(void *ai, int unit)										//called when a unit go idle and is not assigned to any group
+SHARED_EXPORT void UnitIdle(void *ai, int unit)										//called when a unit go idle and is not assigned to any group
 {
     ( ( MyAI *)ai )-&gt;UnitIdle( unit );
 }
 
-DLL_EXPORT void GotChatMsg(void *aik, const char* msg,int player)					//called when someone writes a chat msg
+SHARED_EXPORT void GotChatMsg(void *aik, const char* msg,int player)					//called when someone writes a chat msg
 {
 }
 
-DLL_EXPORT void UnitDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)					//called when one of your units are damaged
+SHARED_EXPORT void UnitDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)					//called when one of your units are damaged
 {
 }
 
-DLL_EXPORT void UnitMoveFailed(void *ai, int unit)
+SHARED_EXPORT void UnitMoveFailed(void *ai, int unit)
 {
     ( ( MyAI *)ai )-&gt;UnitMoveFailed( unit );
 }
@@ -193,7 +193,7 @@
 //int HandleEvent (int msg,const void *data); // todo
 
 //called every frame
-DLL_EXPORT void Update(void *ai )
+SHARED_EXPORT void Update(void *ai )
 {
 }
     

Modified: branches/caiinterface/AI/Skirmish/CSAI/CSAILoader/CSAILoader.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/CSAI/CSAILoader/CSAILoader.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/CSAI/CSAILoader/CSAILoader.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -9,22 +9,22 @@
 /////////////////////////////////////////////////////////////////////////////
 
 // declare that we present a C interface.  Spring checks for this.
-DLL_EXPORT bool IsCInterface()
+SHARED_EXPORT bool IsCInterface()
 {
     return true;
 }
 
-DLL_EXPORT int GetGlobalAiVersion()
+SHARED_EXPORT int GetGlobalAiVersion()
 {
 	return GLOBALAI_C_INTERFACE_VERSION;
 }
 
-DLL_EXPORT void GetAiName(char* name)
+SHARED_EXPORT void GetAiName(char* name)
 {
 	strcpy(name, CSAIProxy::GetAiName() );
 }
 
-DLL_EXPORT void *InitAI( struct IAICallback *aicallback, int team)
+SHARED_EXPORT void *InitAI( struct IAICallback *aicallback, int team)
 {
     CSAIProxy *ai = new CSAIProxy();
     AbicAICallbackWrapper *aicallbackwrapper = new AbicAICallbackWrapper( aicallback );
@@ -32,67 +32,67 @@
     return ai;
 }
 
-DLL_EXPORT void UnitCreated( void *ai, int unit)									//called when a new unit is created on ai team
+SHARED_EXPORT void UnitCreated( void *ai, int unit)									//called when a new unit is created on ai team
 {
     ( ( CSAIProxy *)ai )-&gt;UnitCreated( unit );
 }
 
-DLL_EXPORT void UnitFinished(void *ai, int unit)							//called when an unit has finished building
+SHARED_EXPORT void UnitFinished(void *ai, int unit)							//called when an unit has finished building
 {
     ( ( CSAIProxy *)ai )-&gt;UnitFinished( unit );
 }
 
-DLL_EXPORT void UnitDestroyed(void *ai, int unit,int attacker)								//called when a unit is destroyed
+SHARED_EXPORT void UnitDestroyed(void *ai, int unit,int attacker)								//called when a unit is destroyed
 {
     ( ( CSAIProxy *)ai )-&gt;UnitDestroyed( unit, attacker );
 }
 
-DLL_EXPORT void EnemyEnterLOS(void *ai, int enemy)
+SHARED_EXPORT void EnemyEnterLOS(void *ai, int enemy)
 {
     ( ( CSAIProxy *)ai )-&gt;EnemyEnterLOS( enemy );
 }
 
-DLL_EXPORT void EnemyLeaveLOS(void *ai, int enemy)
+SHARED_EXPORT void EnemyLeaveLOS(void *ai, int enemy)
 {
     ( ( CSAIProxy *)ai )-&gt;EnemyLeaveLOS( enemy );
 }
 
-DLL_EXPORT void EnemyEnterRadar(void *ai, int enemy)		
+SHARED_EXPORT void EnemyEnterRadar(void *ai, int enemy)		
 {
     ( ( CSAIProxy *)ai )-&gt;EnemyEnterRadar( enemy );
 }
 
-DLL_EXPORT void EnemyLeaveRadar(void *ai, int enemy)
+SHARED_EXPORT void EnemyLeaveRadar(void *ai, int enemy)
 {
     ( ( CSAIProxy *)ai )-&gt;EnemyLeaveRadar( enemy );
 }
 
-DLL_EXPORT void EnemyDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)	//called when an enemy inside los or radar is damaged
+SHARED_EXPORT void EnemyDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)	//called when an enemy inside los or radar is damaged
 {
     ( ( CSAIProxy *)ai )-&gt;EnemyDamaged( damaged, attacker ,damage, float3( dirx, diry, dirz ) );
 }
 
-DLL_EXPORT void EnemyDestroyed(void *ai, int enemy,int attacker)							//will be called if an enemy inside los or radar dies (note that leave los etc will not be called then)
+SHARED_EXPORT void EnemyDestroyed(void *ai, int enemy,int attacker)							//will be called if an enemy inside los or radar dies (note that leave los etc will not be called then)
 {
     ( ( CSAIProxy *)ai )-&gt;EnemyDestroyed( enemy, attacker );
 }
 
-DLL_EXPORT void UnitIdle(void *ai, int unit)										//called when a unit go idle and is not assigned to any group
+SHARED_EXPORT void UnitIdle(void *ai, int unit)										//called when a unit go idle and is not assigned to any group
 {
     ( ( CSAIProxy *)ai )-&gt;UnitIdle( unit );
 }
 
-DLL_EXPORT void GotChatMsg(void *ai, const char* msg,int player)					//called when someone writes a chat msg
+SHARED_EXPORT void GotChatMsg(void *ai, const char* msg,int player)					//called when someone writes a chat msg
 {
     ( ( CSAIProxy *)ai )-&gt;GotChatMsg( msg, player );
 }
 
-DLL_EXPORT void UnitDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)					//called when one of your units are damaged
+SHARED_EXPORT void UnitDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)					//called when one of your units are damaged
 {
     ( ( CSAIProxy *)ai )-&gt;UnitDamaged( damaged, attacker, damage, float3(dirx, diry, dirz ) );
 }
 
-DLL_EXPORT void UnitMoveFailed(void *ai, int unit)
+SHARED_EXPORT void UnitMoveFailed(void *ai, int unit)
 {
     ( ( CSAIProxy *)ai )-&gt;UnitMoveFailed( unit );
 }
@@ -102,23 +102,23 @@
 //int HandleEvent (int msg,const void *data); // todo
 
 //called every frame
-DLL_EXPORT void Update(void *ai )
+SHARED_EXPORT void Update(void *ai )
 {
     ( ( CSAIProxy *)ai )-&gt;Update();
 }
     
 /* Old C++ interface bootstrap:
-DLL_EXPORT int GetGlobalAiVersion()
+SHARED_EXPORT int GetGlobalAiVersion()
 {
 	return GLOBAL_AI_INTERFACE_VERSION;
 }
 
-DLL_EXPORT void GetAiName(char* name)
+SHARED_EXPORT void GetAiName(char* name)
 {
 	strcpy(name,AI_NAME);
 }
 
-DLL_EXPORT IGlobalAI* GetNewAI()
+SHARED_EXPORT IGlobalAI* GetNewAI()
 {
     __crt_dll_initialize();
     
@@ -127,7 +127,7 @@
 	return ai;
 }
 
-DLL_EXPORT void ReleaseAI(IGlobalAI* i)
+SHARED_EXPORT void ReleaseAI(IGlobalAI* i)
 {
 	delete i;
 	ais.erase(i);

Modified: branches/caiinterface/AI/Skirmish/CSAI/MonoLoader/CSAILoaderMono.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/CSAI/MonoLoader/CSAILoaderMono.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/CSAI/MonoLoader/CSAILoaderMono.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -365,23 +365,23 @@
 }
 
 // declare that we present a C interface.  Spring checks for this.
-DLL_EXPORT bool IsCInterface()
+SHARED_EXPORT bool IsCInterface()
 {
     return true;
 }
 
-DLL_EXPORT int GetGlobalAiVersion()
+SHARED_EXPORT int GetGlobalAiVersion()
 {
 	return GLOBALAI_C_INTERFACE_VERSION;
 }
 
-DLL_EXPORT void GetAiName(char* name)
+SHARED_EXPORT void GetAiName(char* name)
 {
 	strcpy(name, &quot;CSAILoaderMono&quot; );
 }
 
 static int numexec = 0;
-DLL_EXPORT void *InitAI( struct IAICallback *aicallback, int team)
+SHARED_EXPORT void *InitAI( struct IAICallback *aicallback, int team)
 {
     AIProxy *aiproxy = new AIProxy(); // set this variable, so the callbacks go to right place
     thisaiproxy = aiproxy;  // so Set callbacks work ok
@@ -420,63 +420,63 @@
     return aiproxy;
 }
 
-DLL_EXPORT void UnitCreated( void *ai, int unit)									//called when a new unit is created on ai team
+SHARED_EXPORT void UnitCreated( void *ai, int unit)									//called when a new unit is created on ai team
 {
     WriteLine( &quot;UnitCreated &gt;&gt;&gt;&quot; );
     ( (AIProxy *)ai )-&gt;UnitCreated( unit );
     WriteLine( &quot;UnitCreated &lt;&lt;&lt;&quot; );
 }
 
-DLL_EXPORT void UnitFinished(void *ai, int unit)							//called when an unit has finished building
+SHARED_EXPORT void UnitFinished(void *ai, int unit)							//called when an unit has finished building
 {
     WriteLine( &quot;UnitFinished &gt;&gt;&gt;&quot; );
     ( (AIProxy *)ai )-&gt;UnitFinished( unit );
     WriteLine( &quot;UnitFinished &lt;&lt;&lt;&quot; );
 }
 
-DLL_EXPORT void UnitDestroyed(void *ai, int unit,int attacker)								//called when a unit is destroyed
+SHARED_EXPORT void UnitDestroyed(void *ai, int unit,int attacker)								//called when a unit is destroyed
 {
     ( (AIProxy *)ai )-&gt;UnitDestroyed( unit, attacker );
 }
 
-DLL_EXPORT void EnemyEnterLOS(void *ai, int enemy)
+SHARED_EXPORT void EnemyEnterLOS(void *ai, int enemy)
 {
     ( (AIProxy *)ai )-&gt;EnemyEnterLOS( enemy );
 }
 
-DLL_EXPORT void EnemyLeaveLOS(void *ai, int enemy)
+SHARED_EXPORT void EnemyLeaveLOS(void *ai, int enemy)
 {
     ( (AIProxy *)ai )-&gt;EnemyLeaveLOS( enemy );
 }
 
-DLL_EXPORT void EnemyEnterRadar(void *ai, int enemy)		
+SHARED_EXPORT void EnemyEnterRadar(void *ai, int enemy)		
 {
     ( (AIProxy *)ai )-&gt;EnemyEnterRadar(enemy );
 }
 
-DLL_EXPORT void EnemyLeaveRadar(void *ai, int enemy)
+SHARED_EXPORT void EnemyLeaveRadar(void *ai, int enemy)
 {
     ( (AIProxy *)ai )-&gt;EnemyLeaveRadar( enemy );
 }
 
-DLL_EXPORT void EnemyDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)	//called when an enemy inside los or radar is damaged
+SHARED_EXPORT void EnemyDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)	//called when an enemy inside los or radar is damaged
 {
     ( (AIProxy *)ai )-&gt;EnemyDamaged( damaged, attacker, damage, dirx, diry, dirz );
 }
 
-DLL_EXPORT void EnemyDestroyed(void *ai, int enemy,int attacker)							//will be called if an enemy inside los or radar dies (note that leave los etc will not be called then)
+SHARED_EXPORT void EnemyDestroyed(void *ai, int enemy,int attacker)							//will be called if an enemy inside los or radar dies (note that leave los etc will not be called then)
 {
     ( (AIProxy *)ai )-&gt;EnemyDestroyed( enemy, attacker );
 }
 
-DLL_EXPORT void UnitIdle(void *ai, int unit)										//called when a unit go idle and is not assigned to any group
+SHARED_EXPORT void UnitIdle(void *ai, int unit)										//called when a unit go idle and is not assigned to any group
 {
     WriteLine( &quot;UnitIdle &gt;&gt;&gt;&quot; );
     ( (AIProxy *)ai )-&gt;UnitIdle( unit );
     WriteLine( &quot;UnitIdle &lt;&lt;&lt;&quot; );
 }
 
-DLL_EXPORT void GotChatMsg(void *ai, const char* msg,int player)					//called when someone writes a chat msg
+SHARED_EXPORT void GotChatMsg(void *ai, const char* msg,int player)					//called when someone writes a chat msg
 {
     WriteLine( &quot;GotChatMsg &gt;&gt;&gt;&quot; );
     WriteLine( msg );
@@ -484,12 +484,12 @@
     WriteLine( &quot;GotChatMsg &lt;&lt;&lt;&quot; );
 }
 
-DLL_EXPORT void UnitDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)					//called when one of your units are damaged
+SHARED_EXPORT void UnitDamaged(void *ai, int damaged,int attacker,float damage, float dirx, float diry, float dirz)					//called when one of your units are damaged
 {
     ( (AIProxy *)ai )-&gt;UnitDamaged( damaged, attacker, damage, dirx, diry, dirz );
 }
 
-DLL_EXPORT void UnitMoveFailed(void *ai, int unit)
+SHARED_EXPORT void UnitMoveFailed(void *ai, int unit)
 {
     ( (AIProxy *)ai )-&gt;UnitMoveFailed( unit );
 }
@@ -497,7 +497,7 @@
 //int HandleEvent (int msg,const void *data); // todo
 
 //called every frame
-DLL_EXPORT void Update(void *ai )
+SHARED_EXPORT void Update(void *ai )
 {
   //  WriteLine( &quot;Update &gt;&gt;&gt;&quot; );
     ( (AIProxy *)ai )-&gt;Update(  );

Modified: branches/caiinterface/AI/Skirmish/JCAI/Interface.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/JCAI/Interface.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/JCAI/Interface.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -15,24 +15,24 @@
 
 std::set&lt;IGlobalAI*&gt; ais;
 
-DLL_EXPORT int GetGlobalAiVersion()
+SHARED_EXPORT int GetGlobalAiVersion()
 {
 	return GLOBAL_AI_INTERFACE_VERSION;
 }
 
-DLL_EXPORT void GetAiName(char* name)
+SHARED_EXPORT void GetAiName(char* name)
 {
 	strcpy(name,AI_NAME);
 }
 
-DLL_EXPORT IGlobalAI* GetNewAI()
+SHARED_EXPORT IGlobalAI* GetNewAI()
 {
 	MainAI* ai=new MainAI(ais.size());
 	ais.insert(ai);
 	return ai;
 }
 
-DLL_EXPORT void ReleaseAI(IGlobalAI* i)
+SHARED_EXPORT void ReleaseAI(IGlobalAI* i)
 {
 	delete i;
 	ais.erase(i);
@@ -40,3 +40,4 @@
 	if (ais.empty ())
 		MainAI::FreeCommonData ();
 }
+

Modified: branches/caiinterface/AI/Skirmish/KAI/TestAI.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/KAI/TestAI.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/KAI/TestAI.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3,32 +3,32 @@
 std::set&lt;IGlobalAI*&gt; ais;
 
 
-DLL_EXPORT int GetGlobalAiVersion() {
+SHARED_EXPORT int GetGlobalAiVersion() {
 	return GLOBAL_AI_INTERFACE_VERSION;
 }
 
-DLL_EXPORT void GetAiName(char* name) {
+SHARED_EXPORT void GetAiName(char* name) {
 	strcpy(name, AI_NAME);
 }
 
-DLL_EXPORT IGlobalAI* GetNewAI() {
+SHARED_EXPORT IGlobalAI* GetNewAI() {
 	if (ais.empty()) creg::System::InitializeClasses ();
 	CGlobalAI* ai = new CGlobalAI();
 	ais.insert(ai);
 	return ai;
 }
 
-DLL_EXPORT void ReleaseAI(IGlobalAI* i) {
+SHARED_EXPORT void ReleaseAI(IGlobalAI* i) {
 	ais.erase(i);
 	delete (CGlobalAI*) i;
 	if (ais.empty()) creg::System::FreeClasses ();
 }
 
-DLL_EXPORT int IsCInterface(void) {
+SHARED_EXPORT int IsCInterface(void) {
 	return 0;
 }
 
-DLL_EXPORT bool IsLoadSupported()
+SHARED_EXPORT bool IsLoadSupported()
 {
 	return true;
 }

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Core/Global.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Core/Global.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Core/Global.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -80,7 +80,11 @@
 
 		CLOG(&quot;Loading modinfo.tdf&quot;);
 		TdfParser sf(G);
-		sf.LoadFile(&quot;modinfo.tdf&quot;);
+		if(sf.LoadFile(&quot;modinfo.tdf&quot;)){
+			L.print(&quot;modinfo.tdf loaded into parser&quot;);
+		} else {
+			L.eprint(&quot;error modinfo.tdf retrieval failed&quot;);
+		}
 
 		CLOG(&quot;Getting tdfpath value&quot;);
 		info-&gt;tdfpath =  sf.SGetValueDef(string(cb-&gt;GetModName()), &quot;MOD\\NTAI\\tdfpath&quot;);

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Core/Interface.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Core/Interface.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Core/Interface.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -6,18 +6,19 @@
 
 #include &quot;CNTai.h&quot;
 
-DLL_EXPORT int GetGlobalAiVersion(){
+SHARED_EXPORT int GetGlobalAiVersion(){
 	return GLOBAL_AI_INTERFACE_VERSION;
 }
 
-DLL_EXPORT void GetAiName(char* name){
+SHARED_EXPORT void GetAiName(char* name){
 	strcpy(name,ntai::AI_NAME);
 }
 
-DLL_EXPORT IGlobalAI* GetNewAI(){
+SHARED_EXPORT IGlobalAI* GetNewAI(){
 	return new ntai::CNTai();
 }
 
-DLL_EXPORT void ReleaseAI(IGlobalAI* i){
+SHARED_EXPORT void ReleaseAI(IGlobalAI* i){
 	delete i;
 }
+

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/TdfParser.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/TdfParser.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/TdfParser.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -78,30 +78,30 @@
 		LoadFile( filename );
 	}
 
-	void TdfParser::LoadFile(std::string const&amp; filename){
+	bool TdfParser::LoadFile(std::string const&amp; filename){
 		this-&gt;filename = filename;
 		int size = G-&gt;cb-&gt;GetFileSize(filename.c_str());
 		if(size == -1){
 			G-&gt;L.print(&quot;file &quot; + filename + &quot; not found&quot;);
-			return;
+			return false;
 		}
 		char* c = new char[size];
 		G-&gt;cb-&gt;ReadFile(filename.c_str(),c,size);
 		LoadBuffer(c,(std::size_t)size);
-		return;
+		return true;
 	}
 
-	void TdfParser::LoadVirtualFile(std::string const&amp; filename){
+	bool TdfParser::LoadVirtualFile(std::string const&amp; filename){
 		this-&gt;filename = filename;
 		int size = G-&gt;cb-&gt;GetFileSize(filename.c_str());
 		if(size == -1){
 			G-&gt;L.print(&quot;file &quot; + filename + &quot; not found&quot;);
-			return;
+			return false;
 		}
 		char* c = new char[size];
 		G-&gt;cb-&gt;ReadFile(filename.c_str(),c,size);
 		LoadBuffer(c,(std::size_t)size);
-		return;
+		return true;
 	}
 
 	TdfParser::TdfParser(Global* G, char const* buf, std::size_t size) {

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/TdfParser.h
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/TdfParser.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Helpers/TdfParser.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -30,8 +30,8 @@
 		TdfParser(Global* G, const char* buffer, std::size_t size );
 
 		void print( std::ostream &amp; out ) const;
-		void LoadFile( std::string const&amp; file );
-		void LoadVirtualFile( std::string const&amp; file );
+		bool LoadFile( std::string const&amp; file );
+		bool LoadVirtualFile( std::string const&amp; file );
 		void LoadBuffer( const char* buffer, std::size_t size );
 		virtual ~TdfParser();
 

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CConfigTaskManager.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CConfigTaskManager.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CConfigTaskManager.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -31,10 +31,7 @@
 
 	void CConfigTaskManager::TaskFinished(){
 		//
-		if(HasTasks()){
-			tasks.erase(tasks.begin());
-		}
-		if(!HasTasks()){
+		if(!EraseFirst()){
 			LoadTaskList();
 		}
 	}
@@ -46,16 +43,18 @@
 	
 	boost::shared_ptr&lt;IModule&gt; CConfigTaskManager::GetNextTask(){
 		//
-		assert(HasTasks());
-
-		return tasks.front();
+		if(HasTasks()){
+			return tasks.front();
+		} else {
+			return boost::shared_ptr&lt;IModule&gt;();
+		}
 	}
 	
 	void CConfigTaskManager::RemoveAllTasks(){
 		//
-		assert(HasTasks());
-
-		tasks.erase(tasks.begin(),tasks.end());
+		if(HasTasks()){
+			tasks.erase(tasks.begin(),tasks.end());
+		}
 	}
 
 	bool CConfigTaskManager::LoadTaskList(){
@@ -79,7 +78,6 @@
 		string us = utd-&gt;GetName();
 		if(sl != string(&quot;&quot;)){
 			CTokenizer&lt;CIsComma&gt;::Tokenize(vl, sl, CIsComma());
-			//vl = bds::set_cont(vl,sl.c_str());
 			if(vl.empty() == false){
 				int randnum = G-&gt;mrand()%vl.size();
 				us = vl.at(min(randnum,max(int(vl.size()-1),1)));
@@ -88,7 +86,7 @@
 
 		string s = G-&gt;Get_mod_tdf()-&gt;SGetValueMSG(string(&quot;TASKLISTS\\LISTS\\&quot;)+us);
 
-		if(s.empty() == true){
+		if(s.empty()){
 			G-&gt;L.print(&quot; error loading tasklist for unit :: \&quot;&quot; + us + &quot;\&quot; :: buffer empty, most likely because of an empty list&quot;);
 			nolist=true;
 			return false;
@@ -100,7 +98,6 @@
 		vector&lt;string&gt; v;
 
 		CTokenizer&lt;CIsComma&gt;::Tokenize(v, s, CIsComma());
-		//v = bds::set_cont(v,s.c_str());
 
 		if(v.empty() == false){
 			G-&gt;L.print(&quot;loading contents of  tasklist :: &quot; + us + &quot; :: filling tasklist with #&quot; + to_string(v.size()) + &quot; items&quot;);
@@ -119,7 +116,7 @@
 
 			// TASKS LOADING
 			
-			for(vector&lt;string&gt;::iterator vi = v.begin(); vi != v.end(); ++vi){
+			for(std::vector&lt;string&gt;::iterator vi = v.begin(); vi != v.end(); ++vi){
 				if(polation){
 					if(polate){
 						boost::shared_ptr&lt;IModule&gt; t(new CKeywordConstructionTask(G,u-&gt;GetID(),bt));
@@ -127,7 +124,7 @@
 					}
 					polate = !polate;
 				}
-				string q = *vi;
+				std::string q = *vi;
 
 				trim(q);
 				tolowercase(q);
@@ -186,5 +183,13 @@
 			return false;
 		}
 	}
+	
+	bool CConfigTaskManager::EraseFirst(){
+		if(!tasks.empty()){
+			tasks.erase(tasks.begin());
+			return true;
+		}
+		return false;
+	}
 
 }

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CConfigTaskManager.h
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CConfigTaskManager.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CConfigTaskManager.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -19,6 +19,8 @@
 
 		void RemoveAllTasks();
 	protected:
+		
+		bool EraseFirst();
 		std::list&lt; boost::shared_ptr&lt;IModule&gt; &gt; tasks;
 		bool nolist;
 		bool repeat;

Modified: branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CUnit.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CUnit.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/NTai/Units/CUnit.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -82,24 +82,20 @@
 					if(!currentTask-&gt;IsValid()){
 						//
 						taskManager-&gt;TaskFinished();
-						if(taskManager-&gt;HasTasks()){
-							currentTask = taskManager-&gt;GetNextTask();
-							if(currentTask.get() != 0){
-								currentTask-&gt;Init();
-								G-&gt;RegisterMessageHandler(currentTask);
-							}
+						currentTask = taskManager-&gt;GetNextTask();
+						if(currentTask.get() != 0){
+							currentTask-&gt;Init();
+							G-&gt;RegisterMessageHandler(currentTask);
 						}else{
 							currentTask = boost::shared_ptr&lt;IModule&gt;();
 						}
 					}
 				}else{
 					//
-					if(taskManager-&gt;HasTasks()){
-						currentTask = taskManager-&gt;GetNextTask();
-						if(currentTask.get() != 0){
-							currentTask-&gt;Init();
-							G-&gt;RegisterMessageHandler(currentTask);
-						}
+					currentTask = taskManager-&gt;GetNextTask();
+					if(currentTask.get() != 0){
+						currentTask-&gt;Init();
+						G-&gt;RegisterMessageHandler(currentTask);
 					}
 				}
 

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/dll.cbp
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/dll.cbp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/dll.cbp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,137 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot; ?&gt;
-&lt;CodeBlocks_project_file&gt;
-	&lt;FileVersion major=&quot;1&quot; minor=&quot;6&quot; /&gt;
-	&lt;Project&gt;
-		&lt;Option title=&quot;NTai DLL&quot; /&gt;
-		&lt;Option pch_mode=&quot;0&quot; /&gt;
-		&lt;Option default_target=&quot;default&quot; /&gt;
-		&lt;Option compiler=&quot;gcc&quot; /&gt;
-		&lt;Build&gt;
-			&lt;Target title=&quot;default&quot;&gt;
-				&lt;Option output=&quot;~/.spring/AI/Skirmish/impls/NTaiAI&quot; prefix_auto=&quot;0&quot; extension_auto=&quot;1&quot; /&gt;
-				&lt;Option type=&quot;3&quot; /&gt;
-				&lt;Option compiler=&quot;gcc&quot; /&gt;
-				&lt;Option host_application=&quot;/usr/local/games/spring&quot; /&gt;
-				&lt;Option createStaticLib=&quot;1&quot; /&gt;
-				&lt;Compiler&gt;
-					&lt;Add option=&quot;-W&quot; /&gt;
-				&lt;/Compiler&gt;
-			&lt;/Target&gt;
-		&lt;/Build&gt;
-		&lt;VirtualTargets&gt;
-			&lt;Add alias=&quot;All&quot; targets=&quot;default;&quot; /&gt;
-		&lt;/VirtualTargets&gt;
-		&lt;Compiler&gt;
-			&lt;Add option=&quot;-W&quot; /&gt;
-			&lt;Add option=&quot;-g&quot; /&gt;
-			&lt;Add option=&quot;-fPIC&quot; /&gt;
-			&lt;Add option=&quot;-DBUILD_DLL&quot; /&gt;
-			&lt;Add directory=&quot;../../../../rts&quot; /&gt;
-			&lt;Add directory=&quot;../../../../rts/ExternalAI&quot; /&gt;
-			&lt;Add directory=&quot;../../../../rts/Sim&quot; /&gt;
-			&lt;Add directory=&quot;../../../../rts/System&quot; /&gt;
-		&lt;/Compiler&gt;
-		&lt;Unit filename=&quot;NTai/Agents/CManufacturer.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Agents/CManufacturer.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Agents/Chaser.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Agents/Chaser.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Agents/Planning.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Agents/Planning.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Core/CCached.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Core/CMessage.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Core/CMessage.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Core/GlobalAI.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Core/GlobalAI.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Core/IModule.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Core/IModule.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Core/Interface.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Core/helper.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Core/helper.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Core/include.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Core/resource.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Engine/COrderRouter.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Engine/COrderRouter.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Engine/TCommand.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/CEconomy.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/CEconomy.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/CThreadManager.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/CTokenizer.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/CWorkerThread.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Information.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Log.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Log.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/TdfParser.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/TdfParser.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Terrain/CBuildingPlacer.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Terrain/CBuildingPlacer.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Terrain/DTHandler.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Terrain/DTHandler.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Terrain/Map.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Terrain/Map.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Terrain/MetalHandler.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Terrain/MetalHandler.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Terrain/MetalMap.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Terrain/MetalMap.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Terrain/RadarHandler.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Terrain/RadarHandler.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Units/Actions.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Units/Actions.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Units/CUnitDefHelp.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Units/CUnitDefHelp.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Units/CUnitDefLoader.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/Units/CUnitDefLoader.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/grid/CGridCell.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/grid/CGridCell.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/grid/CGridManager.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/grid/CGridManager.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/mtrand.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/mtrand.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/tdf_grammar.hpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/ubuild.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Helpers/ubuild.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/AI.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/CommandQueue.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/DamageArray.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/FeatureDef.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/GlobalStuff.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/IAICallback.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/IAICheats.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/IGlobalAI.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/IGlobalAICallback.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/ISerializer.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/MoveInfo.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/Sync/SyncChecker.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/Sync/SyncDebugger.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/Sync/SyncedPrimitive.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/Sync/Upcast.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/TypeDeduction.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/UnitDef.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/WeaponDefHandler.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/aibase.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/command.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/creg.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/SDK/float3.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Tasks/CConsoleTask.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Tasks/CConsoleTask.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Tasks/CKeywordConstructionTask.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Tasks/CKeywordConstructionTask.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Tasks/CLeaveBuildSpotTask.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Tasks/CLeaveBuildSpotTask.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Tasks/CUnitConstructionTask.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Tasks/CUnitConstructionTask.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Tasks/ITask.h&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Units/Behaviours/AttackBehaviour.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Units/Behaviours/MetalMakerBehaviour.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Units/CUnit.cpp&quot; /&gt;
-		&lt;Unit filename=&quot;NTai/Units/CUnit.h&quot; /&gt;
-		&lt;Extensions&gt;
-			&lt;code_completion /&gt;
-			&lt;envvars /&gt;
-			&lt;debugger&gt;
-				&lt;remote_debugging target=&quot;default&quot;&gt;
-					&lt;options conn_type=&quot;0&quot; serial_port=&quot;&quot; serial_baud=&quot;115200&quot; ip_address=&quot;&quot; ip_port=&quot;&quot; additional_cmds=&quot;&quot; /&gt;
-				&lt;/remote_debugging&gt;
-			&lt;/debugger&gt;
-		&lt;/Extensions&gt;
-	&lt;/Project&gt;
-&lt;/CodeBlocks_project_file&gt;

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/categories.pbxbtree
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/categories.pbxbtree (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/categories.pbxbtree)
===================================================================
(Binary files differ)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/cdecls.pbxbtree
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/cdecls.pbxbtree (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/cdecls.pbxbtree)
===================================================================
(Binary files differ)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/decls.pbxbtree
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/decls.pbxbtree (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/decls.pbxbtree)
===================================================================
(Binary files differ)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/files.pbxbtree
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/files.pbxbtree (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/files.pbxbtree)
===================================================================
(Binary files differ)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/imports.pbxbtree
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/imports.pbxbtree (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/imports.pbxbtree)
===================================================================
(Binary files differ)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/pbxindex.header
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/pbxindex.header (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/pbxindex.header)
===================================================================
(Binary files differ)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/protocols.pbxbtree
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/protocols.pbxbtree (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/protocols.pbxbtree)
===================================================================
(Binary files differ)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/refs.pbxbtree
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/refs.pbxbtree (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/refs.pbxbtree)
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings/control
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings/control (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings/control)
===================================================================
(Binary files differ)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings/strings
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings/strings (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/strings.pbxstrings/strings)
===================================================================
(Binary files differ)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/subclasses.pbxbtree
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/subclasses.pbxbtree (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/subclasses.pbxbtree)
===================================================================
(Binary files differ)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/symbols0.pbxsymbols
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/symbols0.pbxsymbols (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/build/ntai-xcode.build/ntai-xcode.pbxindex/symbols0.pbxsymbols)
===================================================================
(Binary files differ)

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj)

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/project.pbxproj
===================================================================
--- trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/project.pbxproj	2008-11-23 23:14:26 UTC (rev 7096)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/project.pbxproj	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,686 +0,0 @@
-// !$*UTF8*$!
-{
-	archiveVersion = 1;
-	classes = {
-	};
-	objectVersion = 45;
-	objects = {
-
-/* Begin PBXBuildFile section */
-		C3AD26B90ED34BA80044B2BB /* Chaser.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26500ED34BA80044B2BB /* Chaser.cpp */; };
-		C3AD26BA0ED34BA80044B2BB /* Chaser.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26510ED34BA80044B2BB /* Chaser.h */; };
-		C3AD26BB0ED34BA80044B2BB /* CManufacturer.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26520ED34BA80044B2BB /* CManufacturer.cpp */; };
-		C3AD26BC0ED34BA80044B2BB /* CManufacturer.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26530ED34BA80044B2BB /* CManufacturer.h */; };
-		C3AD26BD0ED34BA80044B2BB /* Planning.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26540ED34BA80044B2BB /* Planning.cpp */; };
-		C3AD26BE0ED34BA80044B2BB /* Planning.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26550ED34BA80044B2BB /* Planning.h */; };
-		C3AD26BF0ED34BA80044B2BB /* CCached.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26570ED34BA80044B2BB /* CCached.h */; };
-		C3AD26C00ED34BA80044B2BB /* CMessage.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26580ED34BA80044B2BB /* CMessage.cpp */; };
-		C3AD26C10ED34BA80044B2BB /* CMessage.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26590ED34BA80044B2BB /* CMessage.h */; };
-		C3AD26C20ED34BA80044B2BB /* CNTai.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD265A0ED34BA80044B2BB /* CNTai.cpp */; };
-		C3AD26C30ED34BA80044B2BB /* CNTai.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD265B0ED34BA80044B2BB /* CNTai.h */; };
-		C3AD26C40ED34BA80044B2BB /* enums.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD265C0ED34BA80044B2BB /* enums.h */; };
-		C3AD26C50ED34BA80044B2BB /* Global.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD265D0ED34BA80044B2BB /* Global.cpp */; };
-		C3AD26C60ED34BA80044B2BB /* Global.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD265E0ED34BA80044B2BB /* Global.h */; };
-		C3AD26C70ED34BA80044B2BB /* IModule.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD265F0ED34BA80044B2BB /* IModule.cpp */; };
-		C3AD26C80ED34BA80044B2BB /* IModule.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26600ED34BA80044B2BB /* IModule.h */; };
-		C3AD26C90ED34BA80044B2BB /* include.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26610ED34BA80044B2BB /* include.h */; };
-		C3AD26CA0ED34BA80044B2BB /* Interface.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26620ED34BA80044B2BB /* Interface.cpp */; };
-		C3AD26CB0ED34BA80044B2BB /* macros.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26630ED34BA80044B2BB /* macros.h */; };
-		C3AD26CC0ED34BA80044B2BB /* resource.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26660ED34BA80044B2BB /* resource.h */; };
-		C3AD26CD0ED34BA80044B2BB /* COrderRouter.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26690ED34BA80044B2BB /* COrderRouter.cpp */; };
-		C3AD26CE0ED34BA80044B2BB /* COrderRouter.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD266A0ED34BA80044B2BB /* COrderRouter.h */; };
-		C3AD26CF0ED34BA80044B2BB /* TCommand.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD266B0ED34BA80044B2BB /* TCommand.h */; };
-		C3AD26D00ED34BA80044B2BB /* CConfigData.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD266D0ED34BA80044B2BB /* CConfigData.cpp */; };
-		C3AD26D10ED34BA80044B2BB /* CConfigData.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD266E0ED34BA80044B2BB /* CConfigData.h */; };
-		C3AD26D20ED34BA80044B2BB /* CEconomy.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD266F0ED34BA80044B2BB /* CEconomy.cpp */; };
-		C3AD26D30ED34BA80044B2BB /* CEconomy.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26700ED34BA80044B2BB /* CEconomy.h */; };
-		C3AD26D40ED34BA80044B2BB /* CTokenizer.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26710ED34BA80044B2BB /* CTokenizer.h */; };
-		C3AD26D50ED34BA80044B2BB /* CWorkerThread.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26720ED34BA80044B2BB /* CWorkerThread.h */; };
-		C3AD26D60ED34BA80044B2BB /* CGridCell.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26740ED34BA80044B2BB /* CGridCell.cpp */; };
-		C3AD26D70ED34BA80044B2BB /* CGridCell.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26750ED34BA80044B2BB /* CGridCell.h */; };
-		C3AD26D80ED34BA80044B2BB /* CGridManager.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26760ED34BA80044B2BB /* CGridManager.cpp */; };
-		C3AD26D90ED34BA80044B2BB /* CGridManager.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26770ED34BA80044B2BB /* CGridManager.h */; };
-		C3AD26DA0ED34BA80044B2BB /* Log.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26780ED34BA80044B2BB /* Log.cpp */; };
-		C3AD26DB0ED34BA80044B2BB /* Log.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26790ED34BA80044B2BB /* Log.h */; };
-		C3AD26DC0ED34BA80044B2BB /* mtrand.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD267A0ED34BA80044B2BB /* mtrand.cpp */; };
-		C3AD26DD0ED34BA80044B2BB /* mtrand.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD267B0ED34BA80044B2BB /* mtrand.h */; };
-		C3AD26DE0ED34BA80044B2BB /* tdf_grammar.hpp in Headers */ = {isa = PBXBuildFile; fileRef = C3AD267C0ED34BA80044B2BB /* tdf_grammar.hpp */; };
-		C3AD26DF0ED34BA80044B2BB /* TdfParser.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD267D0ED34BA80044B2BB /* TdfParser.cpp */; };
-		C3AD26E00ED34BA80044B2BB /* TdfParser.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD267E0ED34BA80044B2BB /* TdfParser.h */; };
-		C3AD26E10ED34BA80044B2BB /* CBuildingPlacer.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26800ED34BA80044B2BB /* CBuildingPlacer.cpp */; };
-		C3AD26E20ED34BA80044B2BB /* CBuildingPlacer.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26810ED34BA80044B2BB /* CBuildingPlacer.h */; };
-		C3AD26E30ED34BA80044B2BB /* DTHandler.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26820ED34BA80044B2BB /* DTHandler.cpp */; };
-		C3AD26E40ED34BA80044B2BB /* DTHandler.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26830ED34BA80044B2BB /* DTHandler.h */; };
-		C3AD26E50ED34BA80044B2BB /* Map.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26840ED34BA80044B2BB /* Map.cpp */; };
-		C3AD26E60ED34BA80044B2BB /* Map.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26850ED34BA80044B2BB /* Map.h */; };
-		C3AD26E70ED34BA80044B2BB /* MetalHandler.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26860ED34BA80044B2BB /* MetalHandler.cpp */; };
-		C3AD26E80ED34BA80044B2BB /* MetalHandler.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26870ED34BA80044B2BB /* MetalHandler.h */; };
-		C3AD26E90ED34BA80044B2BB /* MetalMap.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26880ED34BA80044B2BB /* MetalMap.cpp */; };
-		C3AD26EA0ED34BA80044B2BB /* MetalMap.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26890ED34BA80044B2BB /* MetalMap.h */; };
-		C3AD26EB0ED34BA80044B2BB /* RadarHandler.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD268A0ED34BA80044B2BB /* RadarHandler.cpp */; };
-		C3AD26EC0ED34BA80044B2BB /* RadarHandler.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD268B0ED34BA80044B2BB /* RadarHandler.h */; };
-		C3AD26ED0ED34BA80044B2BB /* ubuild.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD268C0ED34BA80044B2BB /* ubuild.cpp */; };
-		C3AD26EE0ED34BA80044B2BB /* ubuild.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD268D0ED34BA80044B2BB /* ubuild.h */; };
-		C3AD26EF0ED34BA80044B2BB /* Actions.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD268F0ED34BA80044B2BB /* Actions.cpp */; };
-		C3AD26F00ED34BA80044B2BB /* Actions.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26900ED34BA80044B2BB /* Actions.h */; };
-		C3AD26F10ED34BA80044B2BB /* CUnitDefLoader.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26910ED34BA80044B2BB /* CUnitDefLoader.cpp */; };
-		C3AD26F20ED34BA80044B2BB /* CUnitDefLoader.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26920ED34BA80044B2BB /* CUnitDefLoader.h */; };
-		C3AD26F30ED34BA80044B2BB /* AI.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26950ED34BA80044B2BB /* AI.h */; };
-		C3AD26F40ED34BA80044B2BB /* CConsoleTask.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26970ED34BA80044B2BB /* CConsoleTask.cpp */; };
-		C3AD26F50ED34BA80044B2BB /* CConsoleTask.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26980ED34BA80044B2BB /* CConsoleTask.h */; };
-		C3AD26F60ED34BA80044B2BB /* CKeywordConstructionTask.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26990ED34BA80044B2BB /* CKeywordConstructionTask.cpp */; };
-		C3AD26F70ED34BA80044B2BB /* CKeywordConstructionTask.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD269A0ED34BA80044B2BB /* CKeywordConstructionTask.h */; };
-		C3AD26F80ED34BA80044B2BB /* CLeaveBuildSpotTask.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD269B0ED34BA80044B2BB /* CLeaveBuildSpotTask.cpp */; };
-		C3AD26F90ED34BA80044B2BB /* CLeaveBuildSpotTask.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD269C0ED34BA80044B2BB /* CLeaveBuildSpotTask.h */; };
-		C3AD26FA0ED34BA80044B2BB /* CUnitConstructionTask.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD269D0ED34BA80044B2BB /* CUnitConstructionTask.cpp */; };
-		C3AD26FB0ED34BA80044B2BB /* CUnitConstructionTask.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD269E0ED34BA80044B2BB /* CUnitConstructionTask.h */; };
-		C3AD26FC0ED34BA80044B2BB /* ITask.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD269F0ED34BA80044B2BB /* ITask.h */; };
-		C3AD26FD0ED34BA80044B2BB /* AttackBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26A20ED34BA80044B2BB /* AttackBehaviour.cpp */; };
-		C3AD26FE0ED34BA80044B2BB /* AttackBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26A30ED34BA80044B2BB /* AttackBehaviour.h */; };
-		C3AD26FF0ED34BA80044B2BB /* CDGunBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26A40ED34BA80044B2BB /* CDGunBehaviour.cpp */; };
-		C3AD27000ED34BA80044B2BB /* CDGunBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26A50ED34BA80044B2BB /* CDGunBehaviour.h */; };
-		C3AD27010ED34BA80044B2BB /* CKamikazeBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26A60ED34BA80044B2BB /* CKamikazeBehaviour.cpp */; };
-		C3AD27020ED34BA80044B2BB /* CKamikazeBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26A70ED34BA80044B2BB /* CKamikazeBehaviour.h */; };
-		C3AD27030ED34BA80044B2BB /* CMoveFailReclaimBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26A80ED34BA80044B2BB /* CMoveFailReclaimBehaviour.cpp */; };
-		C3AD27040ED34BA80044B2BB /* CMoveFailReclaimBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26A90ED34BA80044B2BB /* CMoveFailReclaimBehaviour.h */; };
-		C3AD27050ED34BA80044B2BB /* CRetreatBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26AA0ED34BA80044B2BB /* CRetreatBehaviour.cpp */; };
-		C3AD27060ED34BA80044B2BB /* CRetreatBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26AB0ED34BA80044B2BB /* CRetreatBehaviour.h */; };
-		C3AD27070ED34BA80044B2BB /* CStaticDefenceBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26AC0ED34BA80044B2BB /* CStaticDefenceBehaviour.cpp */; };
-		C3AD27080ED34BA80044B2BB /* CStaticDefenceBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26AD0ED34BA80044B2BB /* CStaticDefenceBehaviour.h */; };
-		C3AD27090ED34BA80044B2BB /* MetalMakerBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26AE0ED34BA80044B2BB /* MetalMakerBehaviour.cpp */; };
-		C3AD270A0ED34BA80044B2BB /* MetalMakerBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26AF0ED34BA80044B2BB /* MetalMakerBehaviour.h */; };
-		C3AD270B0ED34BA80044B2BB /* CConfigTaskManager.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26B00ED34BA80044B2BB /* CConfigTaskManager.cpp */; };
-		C3AD270C0ED34BA80044B2BB /* CConfigTaskManager.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26B10ED34BA80044B2BB /* CConfigTaskManager.h */; };
-		C3AD270D0ED34BA80044B2BB /* CUnit.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26B20ED34BA80044B2BB /* CUnit.cpp */; };
-		C3AD270E0ED34BA80044B2BB /* CUnit.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26B30ED34BA80044B2BB /* CUnit.h */; };
-		C3AD270F0ED34BA80044B2BB /* CUnitTypeData.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26B40ED34BA80044B2BB /* CUnitTypeData.cpp */; };
-		C3AD27100ED34BA80044B2BB /* CUnitTypeData.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26B50ED34BA80044B2BB /* CUnitTypeData.h */; };
-		C3AD27110ED34BA80044B2BB /* IBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26B60ED34BA80044B2BB /* IBehaviour.h */; };
-		C3AD27120ED34BA80044B2BB /* ITaskManager.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26B70ED34BA80044B2BB /* ITaskManager.h */; };
-		C3AD27130ED34BA80044B2BB /* ITaskManagerFactory.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26B80ED34BA80044B2BB /* ITaskManagerFactory.h */; };
-		D2AAC0B105546B7500DB518D /* Carbon.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 08FB77AAFE841565C02AAC07 /* Carbon.framework */; };
-/* End PBXBuildFile section */
-
-/* Begin PBXFileReference section */
-		08FB77AAFE841565C02AAC07 /* Carbon.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = Carbon.framework; path = /System/Library/Frameworks/Carbon.framework; sourceTree = &quot;&lt;absolute&gt;&quot;; };
-		5073E0C609E734A800EC74B6 /* ntai-xcodeProj.xcconfig */ = {isa = PBXFileReference; fileEncoding = 30; lastKnownFileType = text.xcconfig; path = &quot;ntai-xcodeProj.xcconfig&quot;; sourceTree = &quot;&lt;group&gt;&quot;; };
-		5073E0C709E734A800EC74B6 /* ntai-xcodeTarget.xcconfig */ = {isa = PBXFileReference; fileEncoding = 30; lastKnownFileType = text.xcconfig; path = &quot;ntai-xcodeTarget.xcconfig&quot;; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26500ED34BA80044B2BB /* Chaser.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Chaser.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26510ED34BA80044B2BB /* Chaser.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Chaser.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26520ED34BA80044B2BB /* CManufacturer.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CManufacturer.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26530ED34BA80044B2BB /* CManufacturer.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CManufacturer.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26540ED34BA80044B2BB /* Planning.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Planning.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26550ED34BA80044B2BB /* Planning.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Planning.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26570ED34BA80044B2BB /* CCached.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CCached.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26580ED34BA80044B2BB /* CMessage.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CMessage.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26590ED34BA80044B2BB /* CMessage.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CMessage.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD265A0ED34BA80044B2BB /* CNTai.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CNTai.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD265B0ED34BA80044B2BB /* CNTai.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CNTai.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD265C0ED34BA80044B2BB /* enums.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = enums.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD265D0ED34BA80044B2BB /* Global.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Global.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD265E0ED34BA80044B2BB /* Global.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Global.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD265F0ED34BA80044B2BB /* IModule.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = IModule.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26600ED34BA80044B2BB /* IModule.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = IModule.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26610ED34BA80044B2BB /* include.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = include.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26620ED34BA80044B2BB /* Interface.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Interface.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26630ED34BA80044B2BB /* macros.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = macros.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26640ED34BA80044B2BB /* NTAI.APS */ = {isa = PBXFileReference; lastKnownFileType = file; path = NTAI.APS; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26650ED34BA80044B2BB /* NTAI.rc */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text; path = NTAI.rc; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26660ED34BA80044B2BB /* resource.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = resource.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26670ED34BA80044B2BB /* ResTempl1.rct */ = {isa = PBXFileReference; lastKnownFileType = file; path = ResTempl1.rct; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26690ED34BA80044B2BB /* COrderRouter.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = COrderRouter.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD266A0ED34BA80044B2BB /* COrderRouter.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = COrderRouter.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD266B0ED34BA80044B2BB /* TCommand.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = TCommand.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD266D0ED34BA80044B2BB /* CConfigData.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CConfigData.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD266E0ED34BA80044B2BB /* CConfigData.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CConfigData.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD266F0ED34BA80044B2BB /* CEconomy.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CEconomy.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26700ED34BA80044B2BB /* CEconomy.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CEconomy.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26710ED34BA80044B2BB /* CTokenizer.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CTokenizer.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26720ED34BA80044B2BB /* CWorkerThread.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CWorkerThread.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26740ED34BA80044B2BB /* CGridCell.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CGridCell.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26750ED34BA80044B2BB /* CGridCell.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CGridCell.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26760ED34BA80044B2BB /* CGridManager.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CGridManager.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26770ED34BA80044B2BB /* CGridManager.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CGridManager.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26780ED34BA80044B2BB /* Log.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Log.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26790ED34BA80044B2BB /* Log.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Log.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD267A0ED34BA80044B2BB /* mtrand.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = mtrand.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD267B0ED34BA80044B2BB /* mtrand.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = mtrand.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD267C0ED34BA80044B2BB /* tdf_grammar.hpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.h; path = tdf_grammar.hpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD267D0ED34BA80044B2BB /* TdfParser.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = TdfParser.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD267E0ED34BA80044B2BB /* TdfParser.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = TdfParser.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26800ED34BA80044B2BB /* CBuildingPlacer.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CBuildingPlacer.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26810ED34BA80044B2BB /* CBuildingPlacer.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CBuildingPlacer.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26820ED34BA80044B2BB /* DTHandler.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = DTHandler.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26830ED34BA80044B2BB /* DTHandler.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = DTHandler.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26840ED34BA80044B2BB /* Map.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Map.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26850ED34BA80044B2BB /* Map.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Map.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26860ED34BA80044B2BB /* MetalHandler.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = MetalHandler.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26870ED34BA80044B2BB /* MetalHandler.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = MetalHandler.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26880ED34BA80044B2BB /* MetalMap.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = MetalMap.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26890ED34BA80044B2BB /* MetalMap.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = MetalMap.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD268A0ED34BA80044B2BB /* RadarHandler.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = RadarHandler.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD268B0ED34BA80044B2BB /* RadarHandler.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = RadarHandler.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD268C0ED34BA80044B2BB /* ubuild.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = ubuild.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD268D0ED34BA80044B2BB /* ubuild.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = ubuild.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD268F0ED34BA80044B2BB /* Actions.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Actions.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26900ED34BA80044B2BB /* Actions.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Actions.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26910ED34BA80044B2BB /* CUnitDefLoader.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CUnitDefLoader.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26920ED34BA80044B2BB /* CUnitDefLoader.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CUnitDefLoader.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26950ED34BA80044B2BB /* AI.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = AI.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26970ED34BA80044B2BB /* CConsoleTask.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CConsoleTask.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26980ED34BA80044B2BB /* CConsoleTask.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CConsoleTask.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26990ED34BA80044B2BB /* CKeywordConstructionTask.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CKeywordConstructionTask.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD269A0ED34BA80044B2BB /* CKeywordConstructionTask.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CKeywordConstructionTask.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD269B0ED34BA80044B2BB /* CLeaveBuildSpotTask.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CLeaveBuildSpotTask.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD269C0ED34BA80044B2BB /* CLeaveBuildSpotTask.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CLeaveBuildSpotTask.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD269D0ED34BA80044B2BB /* CUnitConstructionTask.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CUnitConstructionTask.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD269E0ED34BA80044B2BB /* CUnitConstructionTask.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CUnitConstructionTask.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD269F0ED34BA80044B2BB /* ITask.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = ITask.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26A20ED34BA80044B2BB /* AttackBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = AttackBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26A30ED34BA80044B2BB /* AttackBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = AttackBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26A40ED34BA80044B2BB /* CDGunBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CDGunBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26A50ED34BA80044B2BB /* CDGunBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CDGunBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26A60ED34BA80044B2BB /* CKamikazeBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CKamikazeBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26A70ED34BA80044B2BB /* CKamikazeBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CKamikazeBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26A80ED34BA80044B2BB /* CMoveFailReclaimBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CMoveFailReclaimBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26A90ED34BA80044B2BB /* CMoveFailReclaimBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CMoveFailReclaimBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26AA0ED34BA80044B2BB /* CRetreatBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CRetreatBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26AB0ED34BA80044B2BB /* CRetreatBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CRetreatBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26AC0ED34BA80044B2BB /* CStaticDefenceBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CStaticDefenceBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26AD0ED34BA80044B2BB /* CStaticDefenceBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CStaticDefenceBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26AE0ED34BA80044B2BB /* MetalMakerBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = MetalMakerBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26AF0ED34BA80044B2BB /* MetalMakerBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = MetalMakerBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26B00ED34BA80044B2BB /* CConfigTaskManager.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CConfigTaskManager.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26B10ED34BA80044B2BB /* CConfigTaskManager.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CConfigTaskManager.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26B20ED34BA80044B2BB /* CUnit.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CUnit.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26B30ED34BA80044B2BB /* CUnit.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CUnit.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26B40ED34BA80044B2BB /* CUnitTypeData.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CUnitTypeData.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26B50ED34BA80044B2BB /* CUnitTypeData.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CUnitTypeData.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26B60ED34BA80044B2BB /* IBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = IBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26B70ED34BA80044B2BB /* ITaskManager.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = ITaskManager.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		C3AD26B80ED34BA80044B2BB /* ITaskManagerFactory.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = ITaskManagerFactory.h; sourceTree = &quot;&lt;group&gt;&quot;; };
-		D2AAC09D05546B4700DB518D /* libntai-xcode.dylib */ = {isa = PBXFileReference; explicitFileType = &quot;compiled.mach-o.dylib&quot;; includeInIndex = 0; path = &quot;libntai-xcode.dylib&quot;; sourceTree = BUILT_PRODUCTS_DIR; };
-/* End PBXFileReference section */
-
-/* Begin PBXFrameworksBuildPhase section */
-		D2AAC09B05546B4700DB518D /* Frameworks */ = {
-			isa = PBXFrameworksBuildPhase;
-			buildActionMask = 2147483647;
-			files = (
-				D2AAC0B105546B7500DB518D /* Carbon.framework in Frameworks */,
-			);
-			runOnlyForDeploymentPostprocessing = 0;
-		};
-/* End PBXFrameworksBuildPhase section */
-
-/* Begin PBXGroup section */
-		034768DDFF38A45A11DB9C8B /* Products */ = {
-			isa = PBXGroup;
-			children = (
-				D2AAC09D05546B4700DB518D /* libntai-xcode.dylib */,
-			);
-			name = Products;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		0867D691FE84028FC02AAC07 /* ntai-xcode */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD264E0ED34BA80044B2BB /* NTai */,
-				5073E0CA09E734BC00EC74B6 /* Configuration Files */,
-				0867D69AFE84028FC02AAC07 /* External Frameworks and Libraries */,
-				034768DDFF38A45A11DB9C8B /* Products */,
-			);
-			name = &quot;ntai-xcode&quot;;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		0867D69AFE84028FC02AAC07 /* External Frameworks and Libraries */ = {
-			isa = PBXGroup;
-			children = (
-				08FB77AAFE841565C02AAC07 /* Carbon.framework */,
-			);
-			name = &quot;External Frameworks and Libraries&quot;;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		5073E0CA09E734BC00EC74B6 /* Configuration Files */ = {
-			isa = PBXGroup;
-			children = (
-				5073E0C609E734A800EC74B6 /* ntai-xcodeProj.xcconfig */,
-				5073E0C709E734A800EC74B6 /* ntai-xcodeTarget.xcconfig */,
-			);
-			name = &quot;Configuration Files&quot;;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		C3AD264E0ED34BA80044B2BB /* NTai */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD264F0ED34BA80044B2BB /* Agents */,
-				C3AD26560ED34BA80044B2BB /* Core */,
-				C3AD26680ED34BA80044B2BB /* Engine */,
-				C3AD266C0ED34BA80044B2BB /* Helpers */,
-				C3AD26930ED34BA80044B2BB /* resources */,
-				C3AD26940ED34BA80044B2BB /* SDK */,
-				C3AD26960ED34BA80044B2BB /* Tasks */,
-				C3AD26A00ED34BA80044B2BB /* Units */,
-			);
-			name = NTai;
-			path = ../NTai;
-			sourceTree = SOURCE_ROOT;
-		};
-		C3AD264F0ED34BA80044B2BB /* Agents */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD26500ED34BA80044B2BB /* Chaser.cpp */,
-				C3AD26510ED34BA80044B2BB /* Chaser.h */,
-				C3AD26520ED34BA80044B2BB /* CManufacturer.cpp */,
-				C3AD26530ED34BA80044B2BB /* CManufacturer.h */,
-				C3AD26540ED34BA80044B2BB /* Planning.cpp */,
-				C3AD26550ED34BA80044B2BB /* Planning.h */,
-			);
-			path = Agents;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		C3AD26560ED34BA80044B2BB /* Core */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD26570ED34BA80044B2BB /* CCached.h */,
-				C3AD26580ED34BA80044B2BB /* CMessage.cpp */,
-				C3AD26590ED34BA80044B2BB /* CMessage.h */,
-				C3AD265A0ED34BA80044B2BB /* CNTai.cpp */,
-				C3AD265B0ED34BA80044B2BB /* CNTai.h */,
-				C3AD265C0ED34BA80044B2BB /* enums.h */,
-				C3AD265D0ED34BA80044B2BB /* Global.cpp */,
-				C3AD265E0ED34BA80044B2BB /* Global.h */,
-				C3AD265F0ED34BA80044B2BB /* IModule.cpp */,
-				C3AD26600ED34BA80044B2BB /* IModule.h */,
-				C3AD26610ED34BA80044B2BB /* include.h */,
-				C3AD26620ED34BA80044B2BB /* Interface.cpp */,
-				C3AD26630ED34BA80044B2BB /* macros.h */,
-				C3AD26640ED34BA80044B2BB /* NTAI.APS */,
-				C3AD26650ED34BA80044B2BB /* NTAI.rc */,
-				C3AD26660ED34BA80044B2BB /* resource.h */,
-				C3AD26670ED34BA80044B2BB /* ResTempl1.rct */,
-			);
-			path = Core;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		C3AD26680ED34BA80044B2BB /* Engine */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD26690ED34BA80044B2BB /* COrderRouter.cpp */,
-				C3AD266A0ED34BA80044B2BB /* COrderRouter.h */,
-				C3AD266B0ED34BA80044B2BB /* TCommand.h */,
-			);
-			path = Engine;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		C3AD266C0ED34BA80044B2BB /* Helpers */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD266D0ED34BA80044B2BB /* CConfigData.cpp */,
-				C3AD266E0ED34BA80044B2BB /* CConfigData.h */,
-				C3AD266F0ED34BA80044B2BB /* CEconomy.cpp */,
-				C3AD26700ED34BA80044B2BB /* CEconomy.h */,
-				C3AD26710ED34BA80044B2BB /* CTokenizer.h */,
-				C3AD26720ED34BA80044B2BB /* CWorkerThread.h */,
-				C3AD26730ED34BA80044B2BB /* grid */,
-				C3AD26780ED34BA80044B2BB /* Log.cpp */,
-				C3AD26790ED34BA80044B2BB /* Log.h */,
-				C3AD267A0ED34BA80044B2BB /* mtrand.cpp */,
-				C3AD267B0ED34BA80044B2BB /* mtrand.h */,
-				C3AD267C0ED34BA80044B2BB /* tdf_grammar.hpp */,
-				C3AD267D0ED34BA80044B2BB /* TdfParser.cpp */,
-				C3AD267E0ED34BA80044B2BB /* TdfParser.h */,
-				C3AD267F0ED34BA80044B2BB /* Terrain */,
-				C3AD268C0ED34BA80044B2BB /* ubuild.cpp */,
-				C3AD268D0ED34BA80044B2BB /* ubuild.h */,
-				C3AD268E0ED34BA80044B2BB /* Units */,
-			);
-			path = Helpers;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		C3AD26730ED34BA80044B2BB /* grid */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD26740ED34BA80044B2BB /* CGridCell.cpp */,
-				C3AD26750ED34BA80044B2BB /* CGridCell.h */,
-				C3AD26760ED34BA80044B2BB /* CGridManager.cpp */,
-				C3AD26770ED34BA80044B2BB /* CGridManager.h */,
-			);
-			path = grid;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		C3AD267F0ED34BA80044B2BB /* Terrain */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD26800ED34BA80044B2BB /* CBuildingPlacer.cpp */,
-				C3AD26810ED34BA80044B2BB /* CBuildingPlacer.h */,
-				C3AD26820ED34BA80044B2BB /* DTHandler.cpp */,
-				C3AD26830ED34BA80044B2BB /* DTHandler.h */,
-				C3AD26840ED34BA80044B2BB /* Map.cpp */,
-				C3AD26850ED34BA80044B2BB /* Map.h */,
-				C3AD26860ED34BA80044B2BB /* MetalHandler.cpp */,
-				C3AD26870ED34BA80044B2BB /* MetalHandler.h */,
-				C3AD26880ED34BA80044B2BB /* MetalMap.cpp */,
-				C3AD26890ED34BA80044B2BB /* MetalMap.h */,
-				C3AD268A0ED34BA80044B2BB /* RadarHandler.cpp */,
-				C3AD268B0ED34BA80044B2BB /* RadarHandler.h */,
-			);
-			path = Terrain;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		C3AD268E0ED34BA80044B2BB /* Units */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD268F0ED34BA80044B2BB /* Actions.cpp */,
-				C3AD26900ED34BA80044B2BB /* Actions.h */,
-				C3AD26910ED34BA80044B2BB /* CUnitDefLoader.cpp */,
-				C3AD26920ED34BA80044B2BB /* CUnitDefLoader.h */,
-			);
-			path = Units;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		C3AD26930ED34BA80044B2BB /* resources */ = {
-			isa = PBXGroup;
-			children = (
-			);
-			path = resources;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		C3AD26940ED34BA80044B2BB /* SDK */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD26950ED34BA80044B2BB /* AI.h */,
-			);
-			path = SDK;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		C3AD26960ED34BA80044B2BB /* Tasks */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD26970ED34BA80044B2BB /* CConsoleTask.cpp */,
-				C3AD26980ED34BA80044B2BB /* CConsoleTask.h */,
-				C3AD26990ED34BA80044B2BB /* CKeywordConstructionTask.cpp */,
-				C3AD269A0ED34BA80044B2BB /* CKeywordConstructionTask.h */,
-				C3AD269B0ED34BA80044B2BB /* CLeaveBuildSpotTask.cpp */,
-				C3AD269C0ED34BA80044B2BB /* CLeaveBuildSpotTask.h */,
-				C3AD269D0ED34BA80044B2BB /* CUnitConstructionTask.cpp */,
-				C3AD269E0ED34BA80044B2BB /* CUnitConstructionTask.h */,
-				C3AD269F0ED34BA80044B2BB /* ITask.h */,
-			);
-			path = Tasks;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		C3AD26A00ED34BA80044B2BB /* Units */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD26A10ED34BA80044B2BB /* Behaviours */,
-				C3AD26B00ED34BA80044B2BB /* CConfigTaskManager.cpp */,
-				C3AD26B10ED34BA80044B2BB /* CConfigTaskManager.h */,
-				C3AD26B20ED34BA80044B2BB /* CUnit.cpp */,
-				C3AD26B30ED34BA80044B2BB /* CUnit.h */,
-				C3AD26B40ED34BA80044B2BB /* CUnitTypeData.cpp */,
-				C3AD26B50ED34BA80044B2BB /* CUnitTypeData.h */,
-				C3AD26B60ED34BA80044B2BB /* IBehaviour.h */,
-				C3AD26B70ED34BA80044B2BB /* ITaskManager.h */,
-				C3AD26B80ED34BA80044B2BB /* ITaskManagerFactory.h */,
-			);
-			path = Units;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-		C3AD26A10ED34BA80044B2BB /* Behaviours */ = {
-			isa = PBXGroup;
-			children = (
-				C3AD26A20ED34BA80044B2BB /* AttackBehaviour.cpp */,
-				C3AD26A30ED34BA80044B2BB /* AttackBehaviour.h */,
-				C3AD26A40ED34BA80044B2BB /* CDGunBehaviour.cpp */,
-				C3AD26A50ED34BA80044B2BB /* CDGunBehaviour.h */,
-				C3AD26A60ED34BA80044B2BB /* CKamikazeBehaviour.cpp */,
-				C3AD26A70ED34BA80044B2BB /* CKamikazeBehaviour.h */,
-				C3AD26A80ED34BA80044B2BB /* CMoveFailReclaimBehaviour.cpp */,
-				C3AD26A90ED34BA80044B2BB /* CMoveFailReclaimBehaviour.h */,
-				C3AD26AA0ED34BA80044B2BB /* CRetreatBehaviour.cpp */,
-				C3AD26AB0ED34BA80044B2BB /* CRetreatBehaviour.h */,
-				C3AD26AC0ED34BA80044B2BB /* CStaticDefenceBehaviour.cpp */,
-				C3AD26AD0ED34BA80044B2BB /* CStaticDefenceBehaviour.h */,
-				C3AD26AE0ED34BA80044B2BB /* MetalMakerBehaviour.cpp */,
-				C3AD26AF0ED34BA80044B2BB /* MetalMakerBehaviour.h */,
-			);
-			path = Behaviours;
-			sourceTree = &quot;&lt;group&gt;&quot;;
-		};
-/* End PBXGroup section */
-
-/* Begin PBXHeadersBuildPhase section */
-		D2AAC09905546B4700DB518D /* Headers */ = {
-			isa = PBXHeadersBuildPhase;
-			buildActionMask = 2147483647;
-			files = (
-				C3AD26BA0ED34BA80044B2BB /* Chaser.h in Headers */,
-				C3AD26BC0ED34BA80044B2BB /* CManufacturer.h in Headers */,
-				C3AD26BE0ED34BA80044B2BB /* Planning.h in Headers */,
-				C3AD26BF0ED34BA80044B2BB /* CCached.h in Headers */,
-				C3AD26C10ED34BA80044B2BB /* CMessage.h in Headers */,
-				C3AD26C30ED34BA80044B2BB /* CNTai.h in Headers */,
-				C3AD26C40ED34BA80044B2BB /* enums.h in Headers */,
-				C3AD26C60ED34BA80044B2BB /* Global.h in Headers */,
-				C3AD26C80ED34BA80044B2BB /* IModule.h in Headers */,
-				C3AD26C90ED34BA80044B2BB /* include.h in Headers */,
-				C3AD26CB0ED34BA80044B2BB /* macros.h in Headers */,
-				C3AD26CC0ED34BA80044B2BB /* resource.h in Headers */,
-				C3AD26CE0ED34BA80044B2BB /* COrderRouter.h in Headers */,
-				C3AD26CF0ED34BA80044B2BB /* TCommand.h in Headers */,
-				C3AD26D10ED34BA80044B2BB /* CConfigData.h in Headers */,
-				C3AD26D30ED34BA80044B2BB /* CEconomy.h in Headers */,
-				C3AD26D40ED34BA80044B2BB /* CTokenizer.h in Headers */,
-				C3AD26D50ED34BA80044B2BB /* CWorkerThread.h in Headers */,
-				C3AD26D70ED34BA80044B2BB /* CGridCell.h in Headers */,
-				C3AD26D90ED34BA80044B2BB /* CGridManager.h in Headers */,
-				C3AD26DB0ED34BA80044B2BB /* Log.h in Headers */,
-				C3AD26DD0ED34BA80044B2BB /* mtrand.h in Headers */,
-				C3AD26DE0ED34BA80044B2BB /* tdf_grammar.hpp in Headers */,
-				C3AD26E00ED34BA80044B2BB /* TdfParser.h in Headers */,
-				C3AD26E20ED34BA80044B2BB /* CBuildingPlacer.h in Headers */,
-				C3AD26E40ED34BA80044B2BB /* DTHandler.h in Headers */,
-				C3AD26E60ED34BA80044B2BB /* Map.h in Headers */,
-				C3AD26E80ED34BA80044B2BB /* MetalHandler.h in Headers */,
-				C3AD26EA0ED34BA80044B2BB /* MetalMap.h in Headers */,
-				C3AD26EC0ED34BA80044B2BB /* RadarHandler.h in Headers */,
-				C3AD26EE0ED34BA80044B2BB /* ubuild.h in Headers */,
-				C3AD26F00ED34BA80044B2BB /* Actions.h in Headers */,
-				C3AD26F20ED34BA80044B2BB /* CUnitDefLoader.h in Headers */,
-				C3AD26F30ED34BA80044B2BB /* AI.h in Headers */,
-				C3AD26F50ED34BA80044B2BB /* CConsoleTask.h in Headers */,
-				C3AD26F70ED34BA80044B2BB /* CKeywordConstructionTask.h in Headers */,
-				C3AD26F90ED34BA80044B2BB /* CLeaveBuildSpotTask.h in Headers */,
-				C3AD26FB0ED34BA80044B2BB /* CUnitConstructionTask.h in Headers */,
-				C3AD26FC0ED34BA80044B2BB /* ITask.h in Headers */,
-				C3AD26FE0ED34BA80044B2BB /* AttackBehaviour.h in Headers */,
-				C3AD27000ED34BA80044B2BB /* CDGunBehaviour.h in Headers */,
-				C3AD27020ED34BA80044B2BB /* CKamikazeBehaviour.h in Headers */,
-				C3AD27040ED34BA80044B2BB /* CMoveFailReclaimBehaviour.h in Headers */,
-				C3AD27060ED34BA80044B2BB /* CRetreatBehaviour.h in Headers */,
-				C3AD27080ED34BA80044B2BB /* CStaticDefenceBehaviour.h in Headers */,
-				C3AD270A0ED34BA80044B2BB /* MetalMakerBehaviour.h in Headers */,
-				C3AD270C0ED34BA80044B2BB /* CConfigTaskManager.h in Headers */,
-				C3AD270E0ED34BA80044B2BB /* CUnit.h in Headers */,
-				C3AD27100ED34BA80044B2BB /* CUnitTypeData.h in Headers */,
-				C3AD27110ED34BA80044B2BB /* IBehaviour.h in Headers */,
-				C3AD27120ED34BA80044B2BB /* ITaskManager.h in Headers */,
-				C3AD27130ED34BA80044B2BB /* ITaskManagerFactory.h in Headers */,
-			);
-			runOnlyForDeploymentPostprocessing = 0;
-		};
-/* End PBXHeadersBuildPhase section */
-
-/* Begin PBXNativeTarget section */
-		D2AAC09C05546B4700DB518D /* ntai-xcode */ = {
-			isa = PBXNativeTarget;
-			buildConfigurationList = 1DEB916008733D950010E9CD /* Build configuration list for PBXNativeTarget &quot;ntai-xcode&quot; */;
-			buildPhases = (
-				D2AAC09905546B4700DB518D /* Headers */,
-				D2AAC09B05546B4700DB518D /* Frameworks */,
-				D2AAC09A05546B4700DB518D /* Sources */,
-			);
-			buildRules = (
-			);
-			dependencies = (
-			);
-			name = &quot;ntai-xcode&quot;;
-			productName = &quot;libntai-xcode&quot;;
-			productReference = D2AAC09D05546B4700DB518D /* libntai-xcode.dylib */;
-			productType = &quot;com.apple.product-type.library.dynamic&quot;;
-		};
-/* End PBXNativeTarget section */
-
-/* Begin PBXProject section */
-		0867D690FE84028FC02AAC07 /* Project object */ = {
-			isa = PBXProject;
-			buildConfigurationList = 1DEB916408733D950010E9CD /* Build configuration list for PBXProject &quot;ntai-xcode&quot; */;
-			compatibilityVersion = &quot;Xcode 3.1&quot;;
-			hasScannedForEncodings = 1;
-			mainGroup = 0867D691FE84028FC02AAC07 /* ntai-xcode */;
-			productRefGroup = 034768DDFF38A45A11DB9C8B /* Products */;
-			projectDirPath = &quot;&quot;;
-			projectRoot = &quot;&quot;;
-			targets = (
-				D2AAC09C05546B4700DB518D /* ntai-xcode */,
-			);
-		};
-/* End PBXProject section */
-
-/* Begin PBXSourcesBuildPhase section */
-		D2AAC09A05546B4700DB518D /* Sources */ = {
-			isa = PBXSourcesBuildPhase;
-			buildActionMask = 2147483647;
-			files = (
-				C3AD26B90ED34BA80044B2BB /* Chaser.cpp in Sources */,
-				C3AD26BB0ED34BA80044B2BB /* CManufacturer.cpp in Sources */,
-				C3AD26BD0ED34BA80044B2BB /* Planning.cpp in Sources */,
-				C3AD26C00ED34BA80044B2BB /* CMessage.cpp in Sources */,
-				C3AD26C20ED34BA80044B2BB /* CNTai.cpp in Sources */,
-				C3AD26C50ED34BA80044B2BB /* Global.cpp in Sources */,
-				C3AD26C70ED34BA80044B2BB /* IModule.cpp in Sources */,
-				C3AD26CA0ED34BA80044B2BB /* Interface.cpp in Sources */,
-				C3AD26CD0ED34BA80044B2BB /* COrderRouter.cpp in Sources */,
-				C3AD26D00ED34BA80044B2BB /* CConfigData.cpp in Sources */,
-				C3AD26D20ED34BA80044B2BB /* CEconomy.cpp in Sources */,
-				C3AD26D60ED34BA80044B2BB /* CGridCell.cpp in Sources */,
-				C3AD26D80ED34BA80044B2BB /* CGridManager.cpp in Sources */,
-				C3AD26DA0ED34BA80044B2BB /* Log.cpp in Sources */,
-				C3AD26DC0ED34BA80044B2BB /* mtrand.cpp in Sources */,
-				C3AD26DF0ED34BA80044B2BB /* TdfParser.cpp in Sources */,
-				C3AD26E10ED34BA80044B2BB /* CBuildingPlacer.cpp in Sources */,
-				C3AD26E30ED34BA80044B2BB /* DTHandler.cpp in Sources */,
-				C3AD26E50ED34BA80044B2BB /* Map.cpp in Sources */,
-				C3AD26E70ED34BA80044B2BB /* MetalHandler.cpp in Sources */,
-				C3AD26E90ED34BA80044B2BB /* MetalMap.cpp in Sources */,
-				C3AD26EB0ED34BA80044B2BB /* RadarHandler.cpp in Sources */,
-				C3AD26ED0ED34BA80044B2BB /* ubuild.cpp in Sources */,
-				C3AD26EF0ED34BA80044B2BB /* Actions.cpp in Sources */,
-				C3AD26F10ED34BA80044B2BB /* CUnitDefLoader.cpp in Sources */,
-				C3AD26F40ED34BA80044B2BB /* CConsoleTask.cpp in Sources */,
-				C3AD26F60ED34BA80044B2BB /* CKeywordConstructionTask.cpp in Sources */,
-				C3AD26F80ED34BA80044B2BB /* CLeaveBuildSpotTask.cpp in Sources */,
-				C3AD26FA0ED34BA80044B2BB /* CUnitConstructionTask.cpp in Sources */,
-				C3AD26FD0ED34BA80044B2BB /* AttackBehaviour.cpp in Sources */,
-				C3AD26FF0ED34BA80044B2BB /* CDGunBehaviour.cpp in Sources */,
-				C3AD27010ED34BA80044B2BB /* CKamikazeBehaviour.cpp in Sources */,
-				C3AD27030ED34BA80044B2BB /* CMoveFailReclaimBehaviour.cpp in Sources */,
-				C3AD27050ED34BA80044B2BB /* CRetreatBehaviour.cpp in Sources */,
-				C3AD27070ED34BA80044B2BB /* CStaticDefenceBehaviour.cpp in Sources */,
-				C3AD27090ED34BA80044B2BB /* MetalMakerBehaviour.cpp in Sources */,
-				C3AD270B0ED34BA80044B2BB /* CConfigTaskManager.cpp in Sources */,
-				C3AD270D0ED34BA80044B2BB /* CUnit.cpp in Sources */,
-				C3AD270F0ED34BA80044B2BB /* CUnitTypeData.cpp in Sources */,
-			);
-			runOnlyForDeploymentPostprocessing = 0;
-		};
-/* End PBXSourcesBuildPhase section */
-
-/* Begin XCBuildConfiguration section */
-		1DEB916108733D950010E9CD /* Debug */ = {
-			isa = XCBuildConfiguration;
-			baseConfigurationReference = 5073E0C709E734A800EC74B6 /* ntai-xcodeTarget.xcconfig */;
-			buildSettings = {
-				ALWAYS_SEARCH_USER_PATHS = NO;
-				COPY_PHASE_STRIP = NO;
-				GCC_DYNAMIC_NO_PIC = NO;
-				GCC_ENABLE_FIX_AND_CONTINUE = YES;
-				GCC_MODEL_TUNING = G5;
-				GCC_OPTIMIZATION_LEVEL = 0;
-				GCC_PRECOMPILE_PREFIX_HEADER = YES;
-				GCC_PREFIX_HEADER = &quot;ntai-xcode_Prefix.pch&quot;;
-				GCC_PREPROCESSOR_DEFINITIONS = (
-					&quot;_GLIBCXX_DEBUG=1&quot;,
-					&quot;_GLIBCXX_DEBUG_PEDANTIC=1&quot;,
-				);
-			};
-			name = Debug;
-		};
-		1DEB916208733D950010E9CD /* Release */ = {
-			isa = XCBuildConfiguration;
-			baseConfigurationReference = 5073E0C709E734A800EC74B6 /* ntai-xcodeTarget.xcconfig */;
-			buildSettings = {
-				ALWAYS_SEARCH_USER_PATHS = NO;
-				DEBUG_INFORMATION_FORMAT = &quot;dwarf-with-dsym&quot;;
-				GCC_MODEL_TUNING = G5;
-				GCC_PRECOMPILE_PREFIX_HEADER = YES;
-				GCC_PREFIX_HEADER = &quot;ntai-xcode_Prefix.pch&quot;;
-				STRIP_INSTALLED_PRODUCT = YES;
-				STRIP_STYLE = &quot;non-global&quot;;
-			};
-			name = Release;
-		};
-		1DEB916508733D950010E9CD /* Debug */ = {
-			isa = XCBuildConfiguration;
-			baseConfigurationReference = 5073E0C609E734A800EC74B6 /* ntai-xcodeProj.xcconfig */;
-			buildSettings = {
-				ARCHS = &quot;$(ARCHS_STANDARD_32_BIT)&quot;;
-				GCC_C_LANGUAGE_STANDARD = c99;
-				GCC_OPTIMIZATION_LEVEL = 0;
-				GCC_WARN_ABOUT_RETURN_TYPE = YES;
-				GCC_WARN_UNUSED_VARIABLE = YES;
-				ONLY_ACTIVE_ARCH = YES;
-				PREBINDING = NO;
-				SDKROOT = macosx10.5;
-			};
-			name = Debug;
-		};
-		1DEB916608733D950010E9CD /* Release */ = {
-			isa = XCBuildConfiguration;
-			baseConfigurationReference = 5073E0C609E734A800EC74B6 /* ntai-xcodeProj.xcconfig */;
-			buildSettings = {
-				ARCHS = &quot;$(ARCHS_STANDARD_32_BIT)&quot;;
-				GCC_C_LANGUAGE_STANDARD = c99;
-				GCC_WARN_ABOUT_RETURN_TYPE = YES;
-				GCC_WARN_UNUSED_VARIABLE = YES;
-				PREBINDING = NO;
-				SDKROOT = macosx10.5;
-			};
-			name = Release;
-		};
-/* End XCBuildConfiguration section */
-
-/* Begin XCConfigurationList section */
-		1DEB916008733D950010E9CD /* Build configuration list for PBXNativeTarget &quot;ntai-xcode&quot; */ = {
-			isa = XCConfigurationList;
-			buildConfigurations = (
-				1DEB916108733D950010E9CD /* Debug */,
-				1DEB916208733D950010E9CD /* Release */,
-			);
-			defaultConfigurationIsVisible = 0;
-			defaultConfigurationName = Release;
-		};
-		1DEB916408733D950010E9CD /* Build configuration list for PBXProject &quot;ntai-xcode&quot; */ = {
-			isa = XCConfigurationList;
-			buildConfigurations = (
-				1DEB916508733D950010E9CD /* Debug */,
-				1DEB916608733D950010E9CD /* Release */,
-			);
-			defaultConfigurationIsVisible = 0;
-			defaultConfigurationName = Release;
-		};
-/* End XCConfigurationList section */
-	};
-	rootObject = 0867D690FE84028FC02AAC07 /* Project object */;
-}

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/project.pbxproj (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/project.pbxproj)
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/project.pbxproj	                        (rev 0)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/project.pbxproj	2008-11-25 23:26:49 UTC (rev 7099)
@@ -0,0 +1,686 @@
+// !$*UTF8*$!
+{
+	archiveVersion = 1;
+	classes = {
+	};
+	objectVersion = 45;
+	objects = {
+
+/* Begin PBXBuildFile section */
+		C3AD26B90ED34BA80044B2BB /* Chaser.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26500ED34BA80044B2BB /* Chaser.cpp */; };
+		C3AD26BA0ED34BA80044B2BB /* Chaser.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26510ED34BA80044B2BB /* Chaser.h */; };
+		C3AD26BB0ED34BA80044B2BB /* CManufacturer.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26520ED34BA80044B2BB /* CManufacturer.cpp */; };
+		C3AD26BC0ED34BA80044B2BB /* CManufacturer.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26530ED34BA80044B2BB /* CManufacturer.h */; };
+		C3AD26BD0ED34BA80044B2BB /* Planning.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26540ED34BA80044B2BB /* Planning.cpp */; };
+		C3AD26BE0ED34BA80044B2BB /* Planning.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26550ED34BA80044B2BB /* Planning.h */; };
+		C3AD26BF0ED34BA80044B2BB /* CCached.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26570ED34BA80044B2BB /* CCached.h */; };
+		C3AD26C00ED34BA80044B2BB /* CMessage.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26580ED34BA80044B2BB /* CMessage.cpp */; };
+		C3AD26C10ED34BA80044B2BB /* CMessage.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26590ED34BA80044B2BB /* CMessage.h */; };
+		C3AD26C20ED34BA80044B2BB /* CNTai.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD265A0ED34BA80044B2BB /* CNTai.cpp */; };
+		C3AD26C30ED34BA80044B2BB /* CNTai.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD265B0ED34BA80044B2BB /* CNTai.h */; };
+		C3AD26C40ED34BA80044B2BB /* enums.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD265C0ED34BA80044B2BB /* enums.h */; };
+		C3AD26C50ED34BA80044B2BB /* Global.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD265D0ED34BA80044B2BB /* Global.cpp */; };
+		C3AD26C60ED34BA80044B2BB /* Global.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD265E0ED34BA80044B2BB /* Global.h */; };
+		C3AD26C70ED34BA80044B2BB /* IModule.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD265F0ED34BA80044B2BB /* IModule.cpp */; };
+		C3AD26C80ED34BA80044B2BB /* IModule.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26600ED34BA80044B2BB /* IModule.h */; };
+		C3AD26C90ED34BA80044B2BB /* include.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26610ED34BA80044B2BB /* include.h */; };
+		C3AD26CA0ED34BA80044B2BB /* Interface.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26620ED34BA80044B2BB /* Interface.cpp */; };
+		C3AD26CB0ED34BA80044B2BB /* macros.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26630ED34BA80044B2BB /* macros.h */; };
+		C3AD26CC0ED34BA80044B2BB /* resource.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26660ED34BA80044B2BB /* resource.h */; };
+		C3AD26CD0ED34BA80044B2BB /* COrderRouter.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26690ED34BA80044B2BB /* COrderRouter.cpp */; };
+		C3AD26CE0ED34BA80044B2BB /* COrderRouter.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD266A0ED34BA80044B2BB /* COrderRouter.h */; };
+		C3AD26CF0ED34BA80044B2BB /* TCommand.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD266B0ED34BA80044B2BB /* TCommand.h */; };
+		C3AD26D00ED34BA80044B2BB /* CConfigData.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD266D0ED34BA80044B2BB /* CConfigData.cpp */; };
+		C3AD26D10ED34BA80044B2BB /* CConfigData.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD266E0ED34BA80044B2BB /* CConfigData.h */; };
+		C3AD26D20ED34BA80044B2BB /* CEconomy.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD266F0ED34BA80044B2BB /* CEconomy.cpp */; };
+		C3AD26D30ED34BA80044B2BB /* CEconomy.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26700ED34BA80044B2BB /* CEconomy.h */; };
+		C3AD26D40ED34BA80044B2BB /* CTokenizer.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26710ED34BA80044B2BB /* CTokenizer.h */; };
+		C3AD26D50ED34BA80044B2BB /* CWorkerThread.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26720ED34BA80044B2BB /* CWorkerThread.h */; };
+		C3AD26D60ED34BA80044B2BB /* CGridCell.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26740ED34BA80044B2BB /* CGridCell.cpp */; };
+		C3AD26D70ED34BA80044B2BB /* CGridCell.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26750ED34BA80044B2BB /* CGridCell.h */; };
+		C3AD26D80ED34BA80044B2BB /* CGridManager.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26760ED34BA80044B2BB /* CGridManager.cpp */; };
+		C3AD26D90ED34BA80044B2BB /* CGridManager.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26770ED34BA80044B2BB /* CGridManager.h */; };
+		C3AD26DA0ED34BA80044B2BB /* Log.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26780ED34BA80044B2BB /* Log.cpp */; };
+		C3AD26DB0ED34BA80044B2BB /* Log.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26790ED34BA80044B2BB /* Log.h */; };
+		C3AD26DC0ED34BA80044B2BB /* mtrand.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD267A0ED34BA80044B2BB /* mtrand.cpp */; };
+		C3AD26DD0ED34BA80044B2BB /* mtrand.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD267B0ED34BA80044B2BB /* mtrand.h */; };
+		C3AD26DE0ED34BA80044B2BB /* tdf_grammar.hpp in Headers */ = {isa = PBXBuildFile; fileRef = C3AD267C0ED34BA80044B2BB /* tdf_grammar.hpp */; };
+		C3AD26DF0ED34BA80044B2BB /* TdfParser.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD267D0ED34BA80044B2BB /* TdfParser.cpp */; };
+		C3AD26E00ED34BA80044B2BB /* TdfParser.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD267E0ED34BA80044B2BB /* TdfParser.h */; };
+		C3AD26E10ED34BA80044B2BB /* CBuildingPlacer.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26800ED34BA80044B2BB /* CBuildingPlacer.cpp */; };
+		C3AD26E20ED34BA80044B2BB /* CBuildingPlacer.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26810ED34BA80044B2BB /* CBuildingPlacer.h */; };
+		C3AD26E30ED34BA80044B2BB /* DTHandler.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26820ED34BA80044B2BB /* DTHandler.cpp */; };
+		C3AD26E40ED34BA80044B2BB /* DTHandler.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26830ED34BA80044B2BB /* DTHandler.h */; };
+		C3AD26E50ED34BA80044B2BB /* Map.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26840ED34BA80044B2BB /* Map.cpp */; };
+		C3AD26E60ED34BA80044B2BB /* Map.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26850ED34BA80044B2BB /* Map.h */; };
+		C3AD26E70ED34BA80044B2BB /* MetalHandler.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26860ED34BA80044B2BB /* MetalHandler.cpp */; };
+		C3AD26E80ED34BA80044B2BB /* MetalHandler.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26870ED34BA80044B2BB /* MetalHandler.h */; };
+		C3AD26E90ED34BA80044B2BB /* MetalMap.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26880ED34BA80044B2BB /* MetalMap.cpp */; };
+		C3AD26EA0ED34BA80044B2BB /* MetalMap.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26890ED34BA80044B2BB /* MetalMap.h */; };
+		C3AD26EB0ED34BA80044B2BB /* RadarHandler.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD268A0ED34BA80044B2BB /* RadarHandler.cpp */; };
+		C3AD26EC0ED34BA80044B2BB /* RadarHandler.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD268B0ED34BA80044B2BB /* RadarHandler.h */; };
+		C3AD26ED0ED34BA80044B2BB /* ubuild.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD268C0ED34BA80044B2BB /* ubuild.cpp */; };
+		C3AD26EE0ED34BA80044B2BB /* ubuild.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD268D0ED34BA80044B2BB /* ubuild.h */; };
+		C3AD26EF0ED34BA80044B2BB /* Actions.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD268F0ED34BA80044B2BB /* Actions.cpp */; };
+		C3AD26F00ED34BA80044B2BB /* Actions.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26900ED34BA80044B2BB /* Actions.h */; };
+		C3AD26F10ED34BA80044B2BB /* CUnitDefLoader.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26910ED34BA80044B2BB /* CUnitDefLoader.cpp */; };
+		C3AD26F20ED34BA80044B2BB /* CUnitDefLoader.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26920ED34BA80044B2BB /* CUnitDefLoader.h */; };
+		C3AD26F30ED34BA80044B2BB /* AI.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26950ED34BA80044B2BB /* AI.h */; };
+		C3AD26F40ED34BA80044B2BB /* CConsoleTask.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26970ED34BA80044B2BB /* CConsoleTask.cpp */; };
+		C3AD26F50ED34BA80044B2BB /* CConsoleTask.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26980ED34BA80044B2BB /* CConsoleTask.h */; };
+		C3AD26F60ED34BA80044B2BB /* CKeywordConstructionTask.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26990ED34BA80044B2BB /* CKeywordConstructionTask.cpp */; };
+		C3AD26F70ED34BA80044B2BB /* CKeywordConstructionTask.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD269A0ED34BA80044B2BB /* CKeywordConstructionTask.h */; };
+		C3AD26F80ED34BA80044B2BB /* CLeaveBuildSpotTask.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD269B0ED34BA80044B2BB /* CLeaveBuildSpotTask.cpp */; };
+		C3AD26F90ED34BA80044B2BB /* CLeaveBuildSpotTask.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD269C0ED34BA80044B2BB /* CLeaveBuildSpotTask.h */; };
+		C3AD26FA0ED34BA80044B2BB /* CUnitConstructionTask.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD269D0ED34BA80044B2BB /* CUnitConstructionTask.cpp */; };
+		C3AD26FB0ED34BA80044B2BB /* CUnitConstructionTask.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD269E0ED34BA80044B2BB /* CUnitConstructionTask.h */; };
+		C3AD26FC0ED34BA80044B2BB /* ITask.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD269F0ED34BA80044B2BB /* ITask.h */; };
+		C3AD26FD0ED34BA80044B2BB /* AttackBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26A20ED34BA80044B2BB /* AttackBehaviour.cpp */; };
+		C3AD26FE0ED34BA80044B2BB /* AttackBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26A30ED34BA80044B2BB /* AttackBehaviour.h */; };
+		C3AD26FF0ED34BA80044B2BB /* CDGunBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26A40ED34BA80044B2BB /* CDGunBehaviour.cpp */; };
+		C3AD27000ED34BA80044B2BB /* CDGunBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26A50ED34BA80044B2BB /* CDGunBehaviour.h */; };
+		C3AD27010ED34BA80044B2BB /* CKamikazeBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26A60ED34BA80044B2BB /* CKamikazeBehaviour.cpp */; };
+		C3AD27020ED34BA80044B2BB /* CKamikazeBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26A70ED34BA80044B2BB /* CKamikazeBehaviour.h */; };
+		C3AD27030ED34BA80044B2BB /* CMoveFailReclaimBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26A80ED34BA80044B2BB /* CMoveFailReclaimBehaviour.cpp */; };
+		C3AD27040ED34BA80044B2BB /* CMoveFailReclaimBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26A90ED34BA80044B2BB /* CMoveFailReclaimBehaviour.h */; };
+		C3AD27050ED34BA80044B2BB /* CRetreatBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26AA0ED34BA80044B2BB /* CRetreatBehaviour.cpp */; };
+		C3AD27060ED34BA80044B2BB /* CRetreatBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26AB0ED34BA80044B2BB /* CRetreatBehaviour.h */; };
+		C3AD27070ED34BA80044B2BB /* CStaticDefenceBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26AC0ED34BA80044B2BB /* CStaticDefenceBehaviour.cpp */; };
+		C3AD27080ED34BA80044B2BB /* CStaticDefenceBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26AD0ED34BA80044B2BB /* CStaticDefenceBehaviour.h */; };
+		C3AD27090ED34BA80044B2BB /* MetalMakerBehaviour.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26AE0ED34BA80044B2BB /* MetalMakerBehaviour.cpp */; };
+		C3AD270A0ED34BA80044B2BB /* MetalMakerBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26AF0ED34BA80044B2BB /* MetalMakerBehaviour.h */; };
+		C3AD270B0ED34BA80044B2BB /* CConfigTaskManager.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26B00ED34BA80044B2BB /* CConfigTaskManager.cpp */; };
+		C3AD270C0ED34BA80044B2BB /* CConfigTaskManager.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26B10ED34BA80044B2BB /* CConfigTaskManager.h */; };
+		C3AD270D0ED34BA80044B2BB /* CUnit.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26B20ED34BA80044B2BB /* CUnit.cpp */; };
+		C3AD270E0ED34BA80044B2BB /* CUnit.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26B30ED34BA80044B2BB /* CUnit.h */; };
+		C3AD270F0ED34BA80044B2BB /* CUnitTypeData.cpp in Sources */ = {isa = PBXBuildFile; fileRef = C3AD26B40ED34BA80044B2BB /* CUnitTypeData.cpp */; };
+		C3AD27100ED34BA80044B2BB /* CUnitTypeData.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26B50ED34BA80044B2BB /* CUnitTypeData.h */; };
+		C3AD27110ED34BA80044B2BB /* IBehaviour.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26B60ED34BA80044B2BB /* IBehaviour.h */; };
+		C3AD27120ED34BA80044B2BB /* ITaskManager.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26B70ED34BA80044B2BB /* ITaskManager.h */; };
+		C3AD27130ED34BA80044B2BB /* ITaskManagerFactory.h in Headers */ = {isa = PBXBuildFile; fileRef = C3AD26B80ED34BA80044B2BB /* ITaskManagerFactory.h */; };
+		D2AAC0B105546B7500DB518D /* Carbon.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 08FB77AAFE841565C02AAC07 /* Carbon.framework */; };
+/* End PBXBuildFile section */
+
+/* Begin PBXFileReference section */
+		08FB77AAFE841565C02AAC07 /* Carbon.framework */ = {isa = PBXFileReference; lastKnownFileType = wrapper.framework; name = Carbon.framework; path = /System/Library/Frameworks/Carbon.framework; sourceTree = &quot;&lt;absolute&gt;&quot;; };
+		5073E0C609E734A800EC74B6 /* ntai-xcodeProj.xcconfig */ = {isa = PBXFileReference; fileEncoding = 30; lastKnownFileType = text.xcconfig; path = &quot;ntai-xcodeProj.xcconfig&quot;; sourceTree = &quot;&lt;group&gt;&quot;; };
+		5073E0C709E734A800EC74B6 /* ntai-xcodeTarget.xcconfig */ = {isa = PBXFileReference; fileEncoding = 30; lastKnownFileType = text.xcconfig; path = &quot;ntai-xcodeTarget.xcconfig&quot;; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26500ED34BA80044B2BB /* Chaser.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Chaser.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26510ED34BA80044B2BB /* Chaser.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Chaser.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26520ED34BA80044B2BB /* CManufacturer.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CManufacturer.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26530ED34BA80044B2BB /* CManufacturer.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CManufacturer.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26540ED34BA80044B2BB /* Planning.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Planning.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26550ED34BA80044B2BB /* Planning.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Planning.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26570ED34BA80044B2BB /* CCached.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CCached.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26580ED34BA80044B2BB /* CMessage.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CMessage.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26590ED34BA80044B2BB /* CMessage.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CMessage.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD265A0ED34BA80044B2BB /* CNTai.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CNTai.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD265B0ED34BA80044B2BB /* CNTai.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CNTai.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD265C0ED34BA80044B2BB /* enums.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = enums.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD265D0ED34BA80044B2BB /* Global.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Global.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD265E0ED34BA80044B2BB /* Global.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Global.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD265F0ED34BA80044B2BB /* IModule.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = IModule.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26600ED34BA80044B2BB /* IModule.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = IModule.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26610ED34BA80044B2BB /* include.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = include.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26620ED34BA80044B2BB /* Interface.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Interface.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26630ED34BA80044B2BB /* macros.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = macros.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26640ED34BA80044B2BB /* NTAI.APS */ = {isa = PBXFileReference; lastKnownFileType = file; path = NTAI.APS; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26650ED34BA80044B2BB /* NTAI.rc */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = text; path = NTAI.rc; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26660ED34BA80044B2BB /* resource.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = resource.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26670ED34BA80044B2BB /* ResTempl1.rct */ = {isa = PBXFileReference; lastKnownFileType = file; path = ResTempl1.rct; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26690ED34BA80044B2BB /* COrderRouter.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = COrderRouter.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD266A0ED34BA80044B2BB /* COrderRouter.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = COrderRouter.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD266B0ED34BA80044B2BB /* TCommand.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = TCommand.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD266D0ED34BA80044B2BB /* CConfigData.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CConfigData.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD266E0ED34BA80044B2BB /* CConfigData.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CConfigData.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD266F0ED34BA80044B2BB /* CEconomy.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CEconomy.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26700ED34BA80044B2BB /* CEconomy.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CEconomy.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26710ED34BA80044B2BB /* CTokenizer.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CTokenizer.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26720ED34BA80044B2BB /* CWorkerThread.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CWorkerThread.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26740ED34BA80044B2BB /* CGridCell.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CGridCell.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26750ED34BA80044B2BB /* CGridCell.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CGridCell.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26760ED34BA80044B2BB /* CGridManager.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CGridManager.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26770ED34BA80044B2BB /* CGridManager.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CGridManager.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26780ED34BA80044B2BB /* Log.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Log.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26790ED34BA80044B2BB /* Log.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Log.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD267A0ED34BA80044B2BB /* mtrand.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = mtrand.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD267B0ED34BA80044B2BB /* mtrand.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = mtrand.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD267C0ED34BA80044B2BB /* tdf_grammar.hpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.h; path = tdf_grammar.hpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD267D0ED34BA80044B2BB /* TdfParser.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = TdfParser.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD267E0ED34BA80044B2BB /* TdfParser.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = TdfParser.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26800ED34BA80044B2BB /* CBuildingPlacer.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CBuildingPlacer.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26810ED34BA80044B2BB /* CBuildingPlacer.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CBuildingPlacer.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26820ED34BA80044B2BB /* DTHandler.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = DTHandler.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26830ED34BA80044B2BB /* DTHandler.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = DTHandler.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26840ED34BA80044B2BB /* Map.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Map.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26850ED34BA80044B2BB /* Map.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Map.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26860ED34BA80044B2BB /* MetalHandler.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = MetalHandler.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26870ED34BA80044B2BB /* MetalHandler.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = MetalHandler.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26880ED34BA80044B2BB /* MetalMap.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = MetalMap.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26890ED34BA80044B2BB /* MetalMap.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = MetalMap.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD268A0ED34BA80044B2BB /* RadarHandler.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = RadarHandler.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD268B0ED34BA80044B2BB /* RadarHandler.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = RadarHandler.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD268C0ED34BA80044B2BB /* ubuild.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = ubuild.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD268D0ED34BA80044B2BB /* ubuild.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = ubuild.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD268F0ED34BA80044B2BB /* Actions.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = Actions.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26900ED34BA80044B2BB /* Actions.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = Actions.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26910ED34BA80044B2BB /* CUnitDefLoader.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CUnitDefLoader.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26920ED34BA80044B2BB /* CUnitDefLoader.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CUnitDefLoader.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26950ED34BA80044B2BB /* AI.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = AI.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26970ED34BA80044B2BB /* CConsoleTask.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CConsoleTask.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26980ED34BA80044B2BB /* CConsoleTask.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CConsoleTask.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26990ED34BA80044B2BB /* CKeywordConstructionTask.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CKeywordConstructionTask.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD269A0ED34BA80044B2BB /* CKeywordConstructionTask.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CKeywordConstructionTask.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD269B0ED34BA80044B2BB /* CLeaveBuildSpotTask.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CLeaveBuildSpotTask.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD269C0ED34BA80044B2BB /* CLeaveBuildSpotTask.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CLeaveBuildSpotTask.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD269D0ED34BA80044B2BB /* CUnitConstructionTask.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CUnitConstructionTask.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD269E0ED34BA80044B2BB /* CUnitConstructionTask.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CUnitConstructionTask.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD269F0ED34BA80044B2BB /* ITask.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = ITask.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26A20ED34BA80044B2BB /* AttackBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = AttackBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26A30ED34BA80044B2BB /* AttackBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = AttackBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26A40ED34BA80044B2BB /* CDGunBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CDGunBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26A50ED34BA80044B2BB /* CDGunBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CDGunBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26A60ED34BA80044B2BB /* CKamikazeBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CKamikazeBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26A70ED34BA80044B2BB /* CKamikazeBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CKamikazeBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26A80ED34BA80044B2BB /* CMoveFailReclaimBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CMoveFailReclaimBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26A90ED34BA80044B2BB /* CMoveFailReclaimBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CMoveFailReclaimBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26AA0ED34BA80044B2BB /* CRetreatBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CRetreatBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26AB0ED34BA80044B2BB /* CRetreatBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CRetreatBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26AC0ED34BA80044B2BB /* CStaticDefenceBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CStaticDefenceBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26AD0ED34BA80044B2BB /* CStaticDefenceBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CStaticDefenceBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26AE0ED34BA80044B2BB /* MetalMakerBehaviour.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = MetalMakerBehaviour.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26AF0ED34BA80044B2BB /* MetalMakerBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = MetalMakerBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26B00ED34BA80044B2BB /* CConfigTaskManager.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CConfigTaskManager.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26B10ED34BA80044B2BB /* CConfigTaskManager.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CConfigTaskManager.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26B20ED34BA80044B2BB /* CUnit.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CUnit.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26B30ED34BA80044B2BB /* CUnit.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CUnit.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26B40ED34BA80044B2BB /* CUnitTypeData.cpp */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.cpp.cpp; path = CUnitTypeData.cpp; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26B50ED34BA80044B2BB /* CUnitTypeData.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = CUnitTypeData.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26B60ED34BA80044B2BB /* IBehaviour.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = IBehaviour.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26B70ED34BA80044B2BB /* ITaskManager.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = ITaskManager.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		C3AD26B80ED34BA80044B2BB /* ITaskManagerFactory.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = ITaskManagerFactory.h; sourceTree = &quot;&lt;group&gt;&quot;; };
+		D2AAC09D05546B4700DB518D /* libntai-xcode.dylib */ = {isa = PBXFileReference; explicitFileType = &quot;compiled.mach-o.dylib&quot;; includeInIndex = 0; path = &quot;libntai-xcode.dylib&quot;; sourceTree = BUILT_PRODUCTS_DIR; };
+/* End PBXFileReference section */
+
+/* Begin PBXFrameworksBuildPhase section */
+		D2AAC09B05546B4700DB518D /* Frameworks */ = {
+			isa = PBXFrameworksBuildPhase;
+			buildActionMask = 2147483647;
+			files = (
+				D2AAC0B105546B7500DB518D /* Carbon.framework in Frameworks */,
+			);
+			runOnlyForDeploymentPostprocessing = 0;
+		};
+/* End PBXFrameworksBuildPhase section */
+
+/* Begin PBXGroup section */
+		034768DDFF38A45A11DB9C8B /* Products */ = {
+			isa = PBXGroup;
+			children = (
+				D2AAC09D05546B4700DB518D /* libntai-xcode.dylib */,
+			);
+			name = Products;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		0867D691FE84028FC02AAC07 /* ntai-xcode */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD264E0ED34BA80044B2BB /* NTai */,
+				5073E0CA09E734BC00EC74B6 /* Configuration Files */,
+				0867D69AFE84028FC02AAC07 /* External Frameworks and Libraries */,
+				034768DDFF38A45A11DB9C8B /* Products */,
+			);
+			name = &quot;ntai-xcode&quot;;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		0867D69AFE84028FC02AAC07 /* External Frameworks and Libraries */ = {
+			isa = PBXGroup;
+			children = (
+				08FB77AAFE841565C02AAC07 /* Carbon.framework */,
+			);
+			name = &quot;External Frameworks and Libraries&quot;;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		5073E0CA09E734BC00EC74B6 /* Configuration Files */ = {
+			isa = PBXGroup;
+			children = (
+				5073E0C609E734A800EC74B6 /* ntai-xcodeProj.xcconfig */,
+				5073E0C709E734A800EC74B6 /* ntai-xcodeTarget.xcconfig */,
+			);
+			name = &quot;Configuration Files&quot;;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		C3AD264E0ED34BA80044B2BB /* NTai */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD264F0ED34BA80044B2BB /* Agents */,
+				C3AD26560ED34BA80044B2BB /* Core */,
+				C3AD26680ED34BA80044B2BB /* Engine */,
+				C3AD266C0ED34BA80044B2BB /* Helpers */,
+				C3AD26930ED34BA80044B2BB /* resources */,
+				C3AD26940ED34BA80044B2BB /* SDK */,
+				C3AD26960ED34BA80044B2BB /* Tasks */,
+				C3AD26A00ED34BA80044B2BB /* Units */,
+			);
+			name = NTai;
+			path = ../NTai;
+			sourceTree = SOURCE_ROOT;
+		};
+		C3AD264F0ED34BA80044B2BB /* Agents */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD26500ED34BA80044B2BB /* Chaser.cpp */,
+				C3AD26510ED34BA80044B2BB /* Chaser.h */,
+				C3AD26520ED34BA80044B2BB /* CManufacturer.cpp */,
+				C3AD26530ED34BA80044B2BB /* CManufacturer.h */,
+				C3AD26540ED34BA80044B2BB /* Planning.cpp */,
+				C3AD26550ED34BA80044B2BB /* Planning.h */,
+			);
+			path = Agents;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		C3AD26560ED34BA80044B2BB /* Core */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD26570ED34BA80044B2BB /* CCached.h */,
+				C3AD26580ED34BA80044B2BB /* CMessage.cpp */,
+				C3AD26590ED34BA80044B2BB /* CMessage.h */,
+				C3AD265A0ED34BA80044B2BB /* CNTai.cpp */,
+				C3AD265B0ED34BA80044B2BB /* CNTai.h */,
+				C3AD265C0ED34BA80044B2BB /* enums.h */,
+				C3AD265D0ED34BA80044B2BB /* Global.cpp */,
+				C3AD265E0ED34BA80044B2BB /* Global.h */,
+				C3AD265F0ED34BA80044B2BB /* IModule.cpp */,
+				C3AD26600ED34BA80044B2BB /* IModule.h */,
+				C3AD26610ED34BA80044B2BB /* include.h */,
+				C3AD26620ED34BA80044B2BB /* Interface.cpp */,
+				C3AD26630ED34BA80044B2BB /* macros.h */,
+				C3AD26640ED34BA80044B2BB /* NTAI.APS */,
+				C3AD26650ED34BA80044B2BB /* NTAI.rc */,
+				C3AD26660ED34BA80044B2BB /* resource.h */,
+				C3AD26670ED34BA80044B2BB /* ResTempl1.rct */,
+			);
+			path = Core;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		C3AD26680ED34BA80044B2BB /* Engine */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD26690ED34BA80044B2BB /* COrderRouter.cpp */,
+				C3AD266A0ED34BA80044B2BB /* COrderRouter.h */,
+				C3AD266B0ED34BA80044B2BB /* TCommand.h */,
+			);
+			path = Engine;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		C3AD266C0ED34BA80044B2BB /* Helpers */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD266D0ED34BA80044B2BB /* CConfigData.cpp */,
+				C3AD266E0ED34BA80044B2BB /* CConfigData.h */,
+				C3AD266F0ED34BA80044B2BB /* CEconomy.cpp */,
+				C3AD26700ED34BA80044B2BB /* CEconomy.h */,
+				C3AD26710ED34BA80044B2BB /* CTokenizer.h */,
+				C3AD26720ED34BA80044B2BB /* CWorkerThread.h */,
+				C3AD26730ED34BA80044B2BB /* grid */,
+				C3AD26780ED34BA80044B2BB /* Log.cpp */,
+				C3AD26790ED34BA80044B2BB /* Log.h */,
+				C3AD267A0ED34BA80044B2BB /* mtrand.cpp */,
+				C3AD267B0ED34BA80044B2BB /* mtrand.h */,
+				C3AD267C0ED34BA80044B2BB /* tdf_grammar.hpp */,
+				C3AD267D0ED34BA80044B2BB /* TdfParser.cpp */,
+				C3AD267E0ED34BA80044B2BB /* TdfParser.h */,
+				C3AD267F0ED34BA80044B2BB /* Terrain */,
+				C3AD268C0ED34BA80044B2BB /* ubuild.cpp */,
+				C3AD268D0ED34BA80044B2BB /* ubuild.h */,
+				C3AD268E0ED34BA80044B2BB /* Units */,
+			);
+			path = Helpers;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		C3AD26730ED34BA80044B2BB /* grid */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD26740ED34BA80044B2BB /* CGridCell.cpp */,
+				C3AD26750ED34BA80044B2BB /* CGridCell.h */,
+				C3AD26760ED34BA80044B2BB /* CGridManager.cpp */,
+				C3AD26770ED34BA80044B2BB /* CGridManager.h */,
+			);
+			path = grid;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		C3AD267F0ED34BA80044B2BB /* Terrain */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD26800ED34BA80044B2BB /* CBuildingPlacer.cpp */,
+				C3AD26810ED34BA80044B2BB /* CBuildingPlacer.h */,
+				C3AD26820ED34BA80044B2BB /* DTHandler.cpp */,
+				C3AD26830ED34BA80044B2BB /* DTHandler.h */,
+				C3AD26840ED34BA80044B2BB /* Map.cpp */,
+				C3AD26850ED34BA80044B2BB /* Map.h */,
+				C3AD26860ED34BA80044B2BB /* MetalHandler.cpp */,
+				C3AD26870ED34BA80044B2BB /* MetalHandler.h */,
+				C3AD26880ED34BA80044B2BB /* MetalMap.cpp */,
+				C3AD26890ED34BA80044B2BB /* MetalMap.h */,
+				C3AD268A0ED34BA80044B2BB /* RadarHandler.cpp */,
+				C3AD268B0ED34BA80044B2BB /* RadarHandler.h */,
+			);
+			path = Terrain;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		C3AD268E0ED34BA80044B2BB /* Units */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD268F0ED34BA80044B2BB /* Actions.cpp */,
+				C3AD26900ED34BA80044B2BB /* Actions.h */,
+				C3AD26910ED34BA80044B2BB /* CUnitDefLoader.cpp */,
+				C3AD26920ED34BA80044B2BB /* CUnitDefLoader.h */,
+			);
+			path = Units;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		C3AD26930ED34BA80044B2BB /* resources */ = {
+			isa = PBXGroup;
+			children = (
+			);
+			path = resources;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		C3AD26940ED34BA80044B2BB /* SDK */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD26950ED34BA80044B2BB /* AI.h */,
+			);
+			path = SDK;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		C3AD26960ED34BA80044B2BB /* Tasks */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD26970ED34BA80044B2BB /* CConsoleTask.cpp */,
+				C3AD26980ED34BA80044B2BB /* CConsoleTask.h */,
+				C3AD26990ED34BA80044B2BB /* CKeywordConstructionTask.cpp */,
+				C3AD269A0ED34BA80044B2BB /* CKeywordConstructionTask.h */,
+				C3AD269B0ED34BA80044B2BB /* CLeaveBuildSpotTask.cpp */,
+				C3AD269C0ED34BA80044B2BB /* CLeaveBuildSpotTask.h */,
+				C3AD269D0ED34BA80044B2BB /* CUnitConstructionTask.cpp */,
+				C3AD269E0ED34BA80044B2BB /* CUnitConstructionTask.h */,
+				C3AD269F0ED34BA80044B2BB /* ITask.h */,
+			);
+			path = Tasks;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		C3AD26A00ED34BA80044B2BB /* Units */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD26A10ED34BA80044B2BB /* Behaviours */,
+				C3AD26B00ED34BA80044B2BB /* CConfigTaskManager.cpp */,
+				C3AD26B10ED34BA80044B2BB /* CConfigTaskManager.h */,
+				C3AD26B20ED34BA80044B2BB /* CUnit.cpp */,
+				C3AD26B30ED34BA80044B2BB /* CUnit.h */,
+				C3AD26B40ED34BA80044B2BB /* CUnitTypeData.cpp */,
+				C3AD26B50ED34BA80044B2BB /* CUnitTypeData.h */,
+				C3AD26B60ED34BA80044B2BB /* IBehaviour.h */,
+				C3AD26B70ED34BA80044B2BB /* ITaskManager.h */,
+				C3AD26B80ED34BA80044B2BB /* ITaskManagerFactory.h */,
+			);
+			path = Units;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+		C3AD26A10ED34BA80044B2BB /* Behaviours */ = {
+			isa = PBXGroup;
+			children = (
+				C3AD26A20ED34BA80044B2BB /* AttackBehaviour.cpp */,
+				C3AD26A30ED34BA80044B2BB /* AttackBehaviour.h */,
+				C3AD26A40ED34BA80044B2BB /* CDGunBehaviour.cpp */,
+				C3AD26A50ED34BA80044B2BB /* CDGunBehaviour.h */,
+				C3AD26A60ED34BA80044B2BB /* CKamikazeBehaviour.cpp */,
+				C3AD26A70ED34BA80044B2BB /* CKamikazeBehaviour.h */,
+				C3AD26A80ED34BA80044B2BB /* CMoveFailReclaimBehaviour.cpp */,
+				C3AD26A90ED34BA80044B2BB /* CMoveFailReclaimBehaviour.h */,
+				C3AD26AA0ED34BA80044B2BB /* CRetreatBehaviour.cpp */,
+				C3AD26AB0ED34BA80044B2BB /* CRetreatBehaviour.h */,
+				C3AD26AC0ED34BA80044B2BB /* CStaticDefenceBehaviour.cpp */,
+				C3AD26AD0ED34BA80044B2BB /* CStaticDefenceBehaviour.h */,
+				C3AD26AE0ED34BA80044B2BB /* MetalMakerBehaviour.cpp */,
+				C3AD26AF0ED34BA80044B2BB /* MetalMakerBehaviour.h */,
+			);
+			path = Behaviours;
+			sourceTree = &quot;&lt;group&gt;&quot;;
+		};
+/* End PBXGroup section */
+
+/* Begin PBXHeadersBuildPhase section */
+		D2AAC09905546B4700DB518D /* Headers */ = {
+			isa = PBXHeadersBuildPhase;
+			buildActionMask = 2147483647;
+			files = (
+				C3AD26BA0ED34BA80044B2BB /* Chaser.h in Headers */,
+				C3AD26BC0ED34BA80044B2BB /* CManufacturer.h in Headers */,
+				C3AD26BE0ED34BA80044B2BB /* Planning.h in Headers */,
+				C3AD26BF0ED34BA80044B2BB /* CCached.h in Headers */,
+				C3AD26C10ED34BA80044B2BB /* CMessage.h in Headers */,
+				C3AD26C30ED34BA80044B2BB /* CNTai.h in Headers */,
+				C3AD26C40ED34BA80044B2BB /* enums.h in Headers */,
+				C3AD26C60ED34BA80044B2BB /* Global.h in Headers */,
+				C3AD26C80ED34BA80044B2BB /* IModule.h in Headers */,
+				C3AD26C90ED34BA80044B2BB /* include.h in Headers */,
+				C3AD26CB0ED34BA80044B2BB /* macros.h in Headers */,
+				C3AD26CC0ED34BA80044B2BB /* resource.h in Headers */,
+				C3AD26CE0ED34BA80044B2BB /* COrderRouter.h in Headers */,
+				C3AD26CF0ED34BA80044B2BB /* TCommand.h in Headers */,
+				C3AD26D10ED34BA80044B2BB /* CConfigData.h in Headers */,
+				C3AD26D30ED34BA80044B2BB /* CEconomy.h in Headers */,
+				C3AD26D40ED34BA80044B2BB /* CTokenizer.h in Headers */,
+				C3AD26D50ED34BA80044B2BB /* CWorkerThread.h in Headers */,
+				C3AD26D70ED34BA80044B2BB /* CGridCell.h in Headers */,
+				C3AD26D90ED34BA80044B2BB /* CGridManager.h in Headers */,
+				C3AD26DB0ED34BA80044B2BB /* Log.h in Headers */,
+				C3AD26DD0ED34BA80044B2BB /* mtrand.h in Headers */,
+				C3AD26DE0ED34BA80044B2BB /* tdf_grammar.hpp in Headers */,
+				C3AD26E00ED34BA80044B2BB /* TdfParser.h in Headers */,
+				C3AD26E20ED34BA80044B2BB /* CBuildingPlacer.h in Headers */,
+				C3AD26E40ED34BA80044B2BB /* DTHandler.h in Headers */,
+				C3AD26E60ED34BA80044B2BB /* Map.h in Headers */,
+				C3AD26E80ED34BA80044B2BB /* MetalHandler.h in Headers */,
+				C3AD26EA0ED34BA80044B2BB /* MetalMap.h in Headers */,
+				C3AD26EC0ED34BA80044B2BB /* RadarHandler.h in Headers */,
+				C3AD26EE0ED34BA80044B2BB /* ubuild.h in Headers */,
+				C3AD26F00ED34BA80044B2BB /* Actions.h in Headers */,
+				C3AD26F20ED34BA80044B2BB /* CUnitDefLoader.h in Headers */,
+				C3AD26F30ED34BA80044B2BB /* AI.h in Headers */,
+				C3AD26F50ED34BA80044B2BB /* CConsoleTask.h in Headers */,
+				C3AD26F70ED34BA80044B2BB /* CKeywordConstructionTask.h in Headers */,
+				C3AD26F90ED34BA80044B2BB /* CLeaveBuildSpotTask.h in Headers */,
+				C3AD26FB0ED34BA80044B2BB /* CUnitConstructionTask.h in Headers */,
+				C3AD26FC0ED34BA80044B2BB /* ITask.h in Headers */,
+				C3AD26FE0ED34BA80044B2BB /* AttackBehaviour.h in Headers */,
+				C3AD27000ED34BA80044B2BB /* CDGunBehaviour.h in Headers */,
+				C3AD27020ED34BA80044B2BB /* CKamikazeBehaviour.h in Headers */,
+				C3AD27040ED34BA80044B2BB /* CMoveFailReclaimBehaviour.h in Headers */,
+				C3AD27060ED34BA80044B2BB /* CRetreatBehaviour.h in Headers */,
+				C3AD27080ED34BA80044B2BB /* CStaticDefenceBehaviour.h in Headers */,
+				C3AD270A0ED34BA80044B2BB /* MetalMakerBehaviour.h in Headers */,
+				C3AD270C0ED34BA80044B2BB /* CConfigTaskManager.h in Headers */,
+				C3AD270E0ED34BA80044B2BB /* CUnit.h in Headers */,
+				C3AD27100ED34BA80044B2BB /* CUnitTypeData.h in Headers */,
+				C3AD27110ED34BA80044B2BB /* IBehaviour.h in Headers */,
+				C3AD27120ED34BA80044B2BB /* ITaskManager.h in Headers */,
+				C3AD27130ED34BA80044B2BB /* ITaskManagerFactory.h in Headers */,
+			);
+			runOnlyForDeploymentPostprocessing = 0;
+		};
+/* End PBXHeadersBuildPhase section */
+
+/* Begin PBXNativeTarget section */
+		D2AAC09C05546B4700DB518D /* ntai-xcode */ = {
+			isa = PBXNativeTarget;
+			buildConfigurationList = 1DEB916008733D950010E9CD /* Build configuration list for PBXNativeTarget &quot;ntai-xcode&quot; */;
+			buildPhases = (
+				D2AAC09905546B4700DB518D /* Headers */,
+				D2AAC09B05546B4700DB518D /* Frameworks */,
+				D2AAC09A05546B4700DB518D /* Sources */,
+			);
+			buildRules = (
+			);
+			dependencies = (
+			);
+			name = &quot;ntai-xcode&quot;;
+			productName = &quot;libntai-xcode&quot;;
+			productReference = D2AAC09D05546B4700DB518D /* libntai-xcode.dylib */;
+			productType = &quot;com.apple.product-type.library.dynamic&quot;;
+		};
+/* End PBXNativeTarget section */
+
+/* Begin PBXProject section */
+		0867D690FE84028FC02AAC07 /* Project object */ = {
+			isa = PBXProject;
+			buildConfigurationList = 1DEB916408733D950010E9CD /* Build configuration list for PBXProject &quot;ntai-xcode&quot; */;
+			compatibilityVersion = &quot;Xcode 3.1&quot;;
+			hasScannedForEncodings = 1;
+			mainGroup = 0867D691FE84028FC02AAC07 /* ntai-xcode */;
+			productRefGroup = 034768DDFF38A45A11DB9C8B /* Products */;
+			projectDirPath = &quot;&quot;;
+			projectRoot = &quot;&quot;;
+			targets = (
+				D2AAC09C05546B4700DB518D /* ntai-xcode */,
+			);
+		};
+/* End PBXProject section */
+
+/* Begin PBXSourcesBuildPhase section */
+		D2AAC09A05546B4700DB518D /* Sources */ = {
+			isa = PBXSourcesBuildPhase;
+			buildActionMask = 2147483647;
+			files = (
+				C3AD26B90ED34BA80044B2BB /* Chaser.cpp in Sources */,
+				C3AD26BB0ED34BA80044B2BB /* CManufacturer.cpp in Sources */,
+				C3AD26BD0ED34BA80044B2BB /* Planning.cpp in Sources */,
+				C3AD26C00ED34BA80044B2BB /* CMessage.cpp in Sources */,
+				C3AD26C20ED34BA80044B2BB /* CNTai.cpp in Sources */,
+				C3AD26C50ED34BA80044B2BB /* Global.cpp in Sources */,
+				C3AD26C70ED34BA80044B2BB /* IModule.cpp in Sources */,
+				C3AD26CA0ED34BA80044B2BB /* Interface.cpp in Sources */,
+				C3AD26CD0ED34BA80044B2BB /* COrderRouter.cpp in Sources */,
+				C3AD26D00ED34BA80044B2BB /* CConfigData.cpp in Sources */,
+				C3AD26D20ED34BA80044B2BB /* CEconomy.cpp in Sources */,
+				C3AD26D60ED34BA80044B2BB /* CGridCell.cpp in Sources */,
+				C3AD26D80ED34BA80044B2BB /* CGridManager.cpp in Sources */,
+				C3AD26DA0ED34BA80044B2BB /* Log.cpp in Sources */,
+				C3AD26DC0ED34BA80044B2BB /* mtrand.cpp in Sources */,
+				C3AD26DF0ED34BA80044B2BB /* TdfParser.cpp in Sources */,
+				C3AD26E10ED34BA80044B2BB /* CBuildingPlacer.cpp in Sources */,
+				C3AD26E30ED34BA80044B2BB /* DTHandler.cpp in Sources */,
+				C3AD26E50ED34BA80044B2BB /* Map.cpp in Sources */,
+				C3AD26E70ED34BA80044B2BB /* MetalHandler.cpp in Sources */,
+				C3AD26E90ED34BA80044B2BB /* MetalMap.cpp in Sources */,
+				C3AD26EB0ED34BA80044B2BB /* RadarHandler.cpp in Sources */,
+				C3AD26ED0ED34BA80044B2BB /* ubuild.cpp in Sources */,
+				C3AD26EF0ED34BA80044B2BB /* Actions.cpp in Sources */,
+				C3AD26F10ED34BA80044B2BB /* CUnitDefLoader.cpp in Sources */,
+				C3AD26F40ED34BA80044B2BB /* CConsoleTask.cpp in Sources */,
+				C3AD26F60ED34BA80044B2BB /* CKeywordConstructionTask.cpp in Sources */,
+				C3AD26F80ED34BA80044B2BB /* CLeaveBuildSpotTask.cpp in Sources */,
+				C3AD26FA0ED34BA80044B2BB /* CUnitConstructionTask.cpp in Sources */,
+				C3AD26FD0ED34BA80044B2BB /* AttackBehaviour.cpp in Sources */,
+				C3AD26FF0ED34BA80044B2BB /* CDGunBehaviour.cpp in Sources */,
+				C3AD27010ED34BA80044B2BB /* CKamikazeBehaviour.cpp in Sources */,
+				C3AD27030ED34BA80044B2BB /* CMoveFailReclaimBehaviour.cpp in Sources */,
+				C3AD27050ED34BA80044B2BB /* CRetreatBehaviour.cpp in Sources */,
+				C3AD27070ED34BA80044B2BB /* CStaticDefenceBehaviour.cpp in Sources */,
+				C3AD27090ED34BA80044B2BB /* MetalMakerBehaviour.cpp in Sources */,
+				C3AD270B0ED34BA80044B2BB /* CConfigTaskManager.cpp in Sources */,
+				C3AD270D0ED34BA80044B2BB /* CUnit.cpp in Sources */,
+				C3AD270F0ED34BA80044B2BB /* CUnitTypeData.cpp in Sources */,
+			);
+			runOnlyForDeploymentPostprocessing = 0;
+		};
+/* End PBXSourcesBuildPhase section */
+
+/* Begin XCBuildConfiguration section */
+		1DEB916108733D950010E9CD /* Debug */ = {
+			isa = XCBuildConfiguration;
+			baseConfigurationReference = 5073E0C709E734A800EC74B6 /* ntai-xcodeTarget.xcconfig */;
+			buildSettings = {
+				ALWAYS_SEARCH_USER_PATHS = NO;
+				COPY_PHASE_STRIP = NO;
+				GCC_DYNAMIC_NO_PIC = NO;
+				GCC_ENABLE_FIX_AND_CONTINUE = YES;
+				GCC_MODEL_TUNING = G5;
+				GCC_OPTIMIZATION_LEVEL = 0;
+				GCC_PRECOMPILE_PREFIX_HEADER = YES;
+				GCC_PREFIX_HEADER = &quot;ntai-xcode_Prefix.pch&quot;;
+				GCC_PREPROCESSOR_DEFINITIONS = (
+					&quot;_GLIBCXX_DEBUG=1&quot;,
+					&quot;_GLIBCXX_DEBUG_PEDANTIC=1&quot;,
+				);
+			};
+			name = Debug;
+		};
+		1DEB916208733D950010E9CD /* Release */ = {
+			isa = XCBuildConfiguration;
+			baseConfigurationReference = 5073E0C709E734A800EC74B6 /* ntai-xcodeTarget.xcconfig */;
+			buildSettings = {
+				ALWAYS_SEARCH_USER_PATHS = NO;
+				DEBUG_INFORMATION_FORMAT = &quot;dwarf-with-dsym&quot;;
+				GCC_MODEL_TUNING = G5;
+				GCC_PRECOMPILE_PREFIX_HEADER = YES;
+				GCC_PREFIX_HEADER = &quot;ntai-xcode_Prefix.pch&quot;;
+				STRIP_INSTALLED_PRODUCT = YES;
+				STRIP_STYLE = &quot;non-global&quot;;
+			};
+			name = Release;
+		};
+		1DEB916508733D950010E9CD /* Debug */ = {
+			isa = XCBuildConfiguration;
+			baseConfigurationReference = 5073E0C609E734A800EC74B6 /* ntai-xcodeProj.xcconfig */;
+			buildSettings = {
+				ARCHS = &quot;$(ARCHS_STANDARD_32_BIT)&quot;;
+				GCC_C_LANGUAGE_STANDARD = c99;
+				GCC_OPTIMIZATION_LEVEL = 0;
+				GCC_WARN_ABOUT_RETURN_TYPE = YES;
+				GCC_WARN_UNUSED_VARIABLE = YES;
+				ONLY_ACTIVE_ARCH = YES;
+				PREBINDING = NO;
+				SDKROOT = macosx10.5;
+			};
+			name = Debug;
+		};
+		1DEB916608733D950010E9CD /* Release */ = {
+			isa = XCBuildConfiguration;
+			baseConfigurationReference = 5073E0C609E734A800EC74B6 /* ntai-xcodeProj.xcconfig */;
+			buildSettings = {
+				ARCHS = &quot;$(ARCHS_STANDARD_32_BIT)&quot;;
+				GCC_C_LANGUAGE_STANDARD = c99;
+				GCC_WARN_ABOUT_RETURN_TYPE = YES;
+				GCC_WARN_UNUSED_VARIABLE = YES;
+				PREBINDING = NO;
+				SDKROOT = macosx10.5;
+			};
+			name = Release;
+		};
+/* End XCBuildConfiguration section */
+
+/* Begin XCConfigurationList section */
+		1DEB916008733D950010E9CD /* Build configuration list for PBXNativeTarget &quot;ntai-xcode&quot; */ = {
+			isa = XCConfigurationList;
+			buildConfigurations = (
+				1DEB916108733D950010E9CD /* Debug */,
+				1DEB916208733D950010E9CD /* Release */,
+			);
+			defaultConfigurationIsVisible = 0;
+			defaultConfigurationName = Release;
+		};
+		1DEB916408733D950010E9CD /* Build configuration list for PBXProject &quot;ntai-xcode&quot; */ = {
+			isa = XCConfigurationList;
+			buildConfigurations = (
+				1DEB916508733D950010E9CD /* Debug */,
+				1DEB916608733D950010E9CD /* Release */,
+			);
+			defaultConfigurationIsVisible = 0;
+			defaultConfigurationName = Release;
+		};
+/* End XCConfigurationList section */
+	};
+	rootObject = 0867D690FE84028FC02AAC07 /* Project object */;
+}

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.mode1v3
===================================================================
--- trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.mode1v3	2008-11-23 23:14:26 UTC (rev 7096)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.mode1v3	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,1364 +0,0 @@
-&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
-&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;<A HREF="http://www.apple.com/DTDs/PropertyList-1.0.dtd">http://www.apple.com/DTDs/PropertyList-1.0.dtd</A>&quot;&gt;
-&lt;plist version=&quot;1.0&quot;&gt;
-&lt;dict&gt;
-	&lt;key&gt;ActivePerspectiveName&lt;/key&gt;
-	&lt;string&gt;Project&lt;/string&gt;
-	&lt;key&gt;AllowedModules&lt;/key&gt;
-	&lt;array&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;n&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Groups and Files Outline View&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;n&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Editor&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;n&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;XCTaskListModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Task List&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;n&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;XCDetailModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;File and Smart Group Detail Viewer&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;1&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;PBXBuildResultsModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Detailed Build Results Viewer&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;1&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;PBXProjectFindModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Project Batch Find Tool&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;n&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;XCProjectFormatConflictsModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Project Format Conflicts List&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;n&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;PBXBookmarksModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Bookmarks Tool&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;n&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;PBXClassBrowserModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Class Browser&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;n&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;PBXCVSModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Source Code Control Tool&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;n&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;PBXDebugBreakpointsModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Debug Breakpoints Tool&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;n&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;XCDockableInspector&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Inspector&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;n&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;PBXOpenQuicklyModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Open Quickly Tool&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;1&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;PBXDebugSessionModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Debugger&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;1&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;PBXDebugCLIModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Debug Console&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;BundleLoadPath&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;MaxInstances&lt;/key&gt;
-			&lt;string&gt;n&lt;/string&gt;
-			&lt;key&gt;Module&lt;/key&gt;
-			&lt;string&gt;XCSnapshotModule&lt;/string&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Snapshots Tool&lt;/string&gt;
-		&lt;/dict&gt;
-	&lt;/array&gt;
-	&lt;key&gt;BundlePath&lt;/key&gt;
-	&lt;string&gt;/Developer/Library/PrivateFrameworks/DevToolsInterface.framework/Resources&lt;/string&gt;
-	&lt;key&gt;Description&lt;/key&gt;
-	&lt;string&gt;DefaultDescriptionKey&lt;/string&gt;
-	&lt;key&gt;DockingSystemVisible&lt;/key&gt;
-	&lt;false/&gt;
-	&lt;key&gt;Extension&lt;/key&gt;
-	&lt;string&gt;mode1v3&lt;/string&gt;
-	&lt;key&gt;FavBarConfig&lt;/key&gt;
-	&lt;dict&gt;
-		&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-		&lt;string&gt;C3AD27210ED34BDF0044B2BB&lt;/string&gt;
-		&lt;key&gt;XCBarModuleItemNames&lt;/key&gt;
-		&lt;dict/&gt;
-		&lt;key&gt;XCBarModuleItems&lt;/key&gt;
-		&lt;array/&gt;
-	&lt;/dict&gt;
-	&lt;key&gt;FirstTimeWindowDisplayed&lt;/key&gt;
-	&lt;false/&gt;
-	&lt;key&gt;Identifier&lt;/key&gt;
-	&lt;string&gt;com.apple.perspectives.project.mode1v3&lt;/string&gt;
-	&lt;key&gt;MajorVersion&lt;/key&gt;
-	&lt;integer&gt;33&lt;/integer&gt;
-	&lt;key&gt;MinorVersion&lt;/key&gt;
-	&lt;integer&gt;0&lt;/integer&gt;
-	&lt;key&gt;Name&lt;/key&gt;
-	&lt;string&gt;Default&lt;/string&gt;
-	&lt;key&gt;Notifications&lt;/key&gt;
-	&lt;array/&gt;
-	&lt;key&gt;OpenEditors&lt;/key&gt;
-	&lt;array/&gt;
-	&lt;key&gt;PerspectiveWidths&lt;/key&gt;
-	&lt;array&gt;
-		&lt;integer&gt;-1&lt;/integer&gt;
-		&lt;integer&gt;-1&lt;/integer&gt;
-	&lt;/array&gt;
-	&lt;key&gt;Perspectives&lt;/key&gt;
-	&lt;array&gt;
-		&lt;dict&gt;
-			&lt;key&gt;ChosenToolbarItems&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;active-combo-popup&lt;/string&gt;
-				&lt;string&gt;action&lt;/string&gt;
-				&lt;string&gt;NSToolbarFlexibleSpaceItem&lt;/string&gt;
-				&lt;string&gt;build-and-go&lt;/string&gt;
-				&lt;string&gt;com.apple.ide.PBXToolbarStopButton&lt;/string&gt;
-				&lt;string&gt;get-info&lt;/string&gt;
-				&lt;string&gt;NSToolbarFlexibleSpaceItem&lt;/string&gt;
-				&lt;string&gt;com.apple.pbx.toolbar.searchfield&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;ControllerClassBaseName&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;IconName&lt;/key&gt;
-			&lt;string&gt;WindowOfProjectWithEditor&lt;/string&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;perspective.project&lt;/string&gt;
-			&lt;key&gt;IsVertical&lt;/key&gt;
-			&lt;false/&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;ContentConfiguration&lt;/key&gt;
-					&lt;dict&gt;
-						&lt;key&gt;PBXBottomSmartGroupGIDs&lt;/key&gt;
-						&lt;array&gt;
-							&lt;string&gt;1C37FBAC04509CD000000102&lt;/string&gt;
-							&lt;string&gt;1C37FAAC04509CD000000102&lt;/string&gt;
-							&lt;string&gt;1C08E77C0454961000C914BD&lt;/string&gt;
-							&lt;string&gt;1C37FABC05509CD000000102&lt;/string&gt;
-							&lt;string&gt;1C37FABC05539CD112110102&lt;/string&gt;
-							&lt;string&gt;E2644B35053B69B200211256&lt;/string&gt;
-							&lt;string&gt;1C37FABC04509CD000100104&lt;/string&gt;
-							&lt;string&gt;1CC0EA4004350EF90044410B&lt;/string&gt;
-							&lt;string&gt;1CC0EA4004350EF90041110B&lt;/string&gt;
-						&lt;/array&gt;
-						&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-						&lt;string&gt;1CE0B1FE06471DED0097A5F4&lt;/string&gt;
-						&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-						&lt;string&gt;Files&lt;/string&gt;
-						&lt;key&gt;PBXProjectStructureProvided&lt;/key&gt;
-						&lt;string&gt;yes&lt;/string&gt;
-						&lt;key&gt;PBXSmartGroupTreeModuleColumnData&lt;/key&gt;
-						&lt;dict&gt;
-							&lt;key&gt;PBXSmartGroupTreeModuleColumnWidthsKey&lt;/key&gt;
-							&lt;array&gt;
-								&lt;real&gt;186&lt;/real&gt;
-							&lt;/array&gt;
-							&lt;key&gt;PBXSmartGroupTreeModuleColumnsKey_v4&lt;/key&gt;
-							&lt;array&gt;
-								&lt;string&gt;MainColumn&lt;/string&gt;
-							&lt;/array&gt;
-						&lt;/dict&gt;
-						&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateKey_v7&lt;/key&gt;
-						&lt;dict&gt;
-							&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateExpansionKey&lt;/key&gt;
-							&lt;array&gt;
-								&lt;string&gt;0867D691FE84028FC02AAC07&lt;/string&gt;
-								&lt;string&gt;1C37FABC05509CD000000102&lt;/string&gt;
-							&lt;/array&gt;
-							&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateSelectionKey&lt;/key&gt;
-							&lt;array&gt;
-								&lt;array&gt;
-									&lt;integer&gt;0&lt;/integer&gt;
-								&lt;/array&gt;
-							&lt;/array&gt;
-							&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateVisibleRectKey&lt;/key&gt;
-							&lt;string&gt;{{0, 0}, {186, 445}}&lt;/string&gt;
-						&lt;/dict&gt;
-						&lt;key&gt;PBXTopSmartGroupGIDs&lt;/key&gt;
-						&lt;array/&gt;
-						&lt;key&gt;XCIncludePerspectivesSwitch&lt;/key&gt;
-						&lt;true/&gt;
-						&lt;key&gt;XCSharingToken&lt;/key&gt;
-						&lt;string&gt;com.apple.Xcode.GFSharingToken&lt;/string&gt;
-					&lt;/dict&gt;
-					&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-					&lt;dict&gt;
-						&lt;key&gt;Frame&lt;/key&gt;
-						&lt;string&gt;{{0, 0}, {203, 463}}&lt;/string&gt;
-						&lt;key&gt;GroupTreeTableConfiguration&lt;/key&gt;
-						&lt;array&gt;
-							&lt;string&gt;MainColumn&lt;/string&gt;
-							&lt;real&gt;186&lt;/real&gt;
-						&lt;/array&gt;
-						&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-						&lt;string&gt;151 141 788 504 0 0 1280 778 &lt;/string&gt;
-					&lt;/dict&gt;
-					&lt;key&gt;Module&lt;/key&gt;
-					&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;203pt&lt;/string&gt;
-				&lt;/dict&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;ContentConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-								&lt;string&gt;1CE0B20306471E060097A5F4&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-								&lt;string&gt;Actions.cpp&lt;/string&gt;
-								&lt;key&gt;PBXSplitModuleInNavigatorKey&lt;/key&gt;
-								&lt;dict&gt;
-									&lt;key&gt;Split0&lt;/key&gt;
-									&lt;dict&gt;
-										&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-										&lt;string&gt;1CE0B20406471E060097A5F4&lt;/string&gt;
-										&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-										&lt;string&gt;Actions.cpp&lt;/string&gt;
-										&lt;key&gt;_historyCapacity&lt;/key&gt;
-										&lt;integer&gt;0&lt;/integer&gt;
-										&lt;key&gt;bookmark&lt;/key&gt;
-										&lt;string&gt;C3AD271E0ED34BDF0044B2BB&lt;/string&gt;
-										&lt;key&gt;history&lt;/key&gt;
-										&lt;array&gt;
-											&lt;string&gt;C3AD271B0ED34BDF0044B2BB&lt;/string&gt;
-											&lt;string&gt;C3AD271C0ED34BDF0044B2BB&lt;/string&gt;
-										&lt;/array&gt;
-										&lt;key&gt;prevStack&lt;/key&gt;
-										&lt;array&gt;
-											&lt;string&gt;C3AD271D0ED34BDF0044B2BB&lt;/string&gt;
-										&lt;/array&gt;
-									&lt;/dict&gt;
-									&lt;key&gt;SplitCount&lt;/key&gt;
-									&lt;string&gt;1&lt;/string&gt;
-								&lt;/dict&gt;
-								&lt;key&gt;StatusBarVisibility&lt;/key&gt;
-								&lt;true/&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{{0, 0}, {580, 285}}&lt;/string&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;151 141 788 504 0 0 1280 778 &lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;285pt&lt;/string&gt;
-						&lt;/dict&gt;
-						&lt;dict&gt;
-							&lt;key&gt;BecomeActive&lt;/key&gt;
-							&lt;true/&gt;
-							&lt;key&gt;ContentConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-								&lt;string&gt;1CE0B20506471E060097A5F4&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-								&lt;string&gt;Detail&lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{{0, 290}, {580, 173}}&lt;/string&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;151 141 788 504 0 0 1280 778 &lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;XCDetailModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;173pt&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;580pt&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Project&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;XCModuleDock&lt;/string&gt;
-				&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
-				&lt;string&gt;XCModuleDock&lt;/string&gt;
-				&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
-				&lt;string&gt;XCDetailModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;TableOfContents&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;C3AD271F0ED34BDF0044B2BB&lt;/string&gt;
-				&lt;string&gt;1CE0B1FE06471DED0097A5F4&lt;/string&gt;
-				&lt;string&gt;C3AD27200ED34BDF0044B2BB&lt;/string&gt;
-				&lt;string&gt;1CE0B20306471E060097A5F4&lt;/string&gt;
-				&lt;string&gt;1CE0B20506471E060097A5F4&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
-			&lt;string&gt;xcode.toolbar.config.defaultV3&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;ControllerClassBaseName&lt;/key&gt;
-			&lt;string&gt;&lt;/string&gt;
-			&lt;key&gt;IconName&lt;/key&gt;
-			&lt;string&gt;WindowOfProject&lt;/string&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;perspective.morph&lt;/string&gt;
-			&lt;key&gt;IsVertical&lt;/key&gt;
-			&lt;integer&gt;0&lt;/integer&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;BecomeActive&lt;/key&gt;
-					&lt;integer&gt;1&lt;/integer&gt;
-					&lt;key&gt;ContentConfiguration&lt;/key&gt;
-					&lt;dict&gt;
-						&lt;key&gt;PBXBottomSmartGroupGIDs&lt;/key&gt;
-						&lt;array&gt;
-							&lt;string&gt;1C37FBAC04509CD000000102&lt;/string&gt;
-							&lt;string&gt;1C37FAAC04509CD000000102&lt;/string&gt;
-							&lt;string&gt;1C08E77C0454961000C914BD&lt;/string&gt;
-							&lt;string&gt;1C37FABC05509CD000000102&lt;/string&gt;
-							&lt;string&gt;1C37FABC05539CD112110102&lt;/string&gt;
-							&lt;string&gt;E2644B35053B69B200211256&lt;/string&gt;
-							&lt;string&gt;1C37FABC04509CD000100104&lt;/string&gt;
-							&lt;string&gt;1CC0EA4004350EF90044410B&lt;/string&gt;
-							&lt;string&gt;1CC0EA4004350EF90041110B&lt;/string&gt;
-						&lt;/array&gt;
-						&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-						&lt;string&gt;11E0B1FE06471DED0097A5F4&lt;/string&gt;
-						&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-						&lt;string&gt;Files&lt;/string&gt;
-						&lt;key&gt;PBXProjectStructureProvided&lt;/key&gt;
-						&lt;string&gt;yes&lt;/string&gt;
-						&lt;key&gt;PBXSmartGroupTreeModuleColumnData&lt;/key&gt;
-						&lt;dict&gt;
-							&lt;key&gt;PBXSmartGroupTreeModuleColumnWidthsKey&lt;/key&gt;
-							&lt;array&gt;
-								&lt;real&gt;186&lt;/real&gt;
-							&lt;/array&gt;
-							&lt;key&gt;PBXSmartGroupTreeModuleColumnsKey_v4&lt;/key&gt;
-							&lt;array&gt;
-								&lt;string&gt;MainColumn&lt;/string&gt;
-							&lt;/array&gt;
-						&lt;/dict&gt;
-						&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateKey_v7&lt;/key&gt;
-						&lt;dict&gt;
-							&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateExpansionKey&lt;/key&gt;
-							&lt;array&gt;
-								&lt;string&gt;29B97314FDCFA39411CA2CEA&lt;/string&gt;
-								&lt;string&gt;1C37FABC05509CD000000102&lt;/string&gt;
-							&lt;/array&gt;
-							&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateSelectionKey&lt;/key&gt;
-							&lt;array&gt;
-								&lt;array&gt;
-									&lt;integer&gt;0&lt;/integer&gt;
-								&lt;/array&gt;
-							&lt;/array&gt;
-							&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateVisibleRectKey&lt;/key&gt;
-							&lt;string&gt;{{0, 0}, {186, 337}}&lt;/string&gt;
-						&lt;/dict&gt;
-						&lt;key&gt;PBXTopSmartGroupGIDs&lt;/key&gt;
-						&lt;array/&gt;
-						&lt;key&gt;XCIncludePerspectivesSwitch&lt;/key&gt;
-						&lt;integer&gt;1&lt;/integer&gt;
-						&lt;key&gt;XCSharingToken&lt;/key&gt;
-						&lt;string&gt;com.apple.Xcode.GFSharingToken&lt;/string&gt;
-					&lt;/dict&gt;
-					&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-					&lt;dict&gt;
-						&lt;key&gt;Frame&lt;/key&gt;
-						&lt;string&gt;{{0, 0}, {203, 355}}&lt;/string&gt;
-						&lt;key&gt;GroupTreeTableConfiguration&lt;/key&gt;
-						&lt;array&gt;
-							&lt;string&gt;MainColumn&lt;/string&gt;
-							&lt;real&gt;186&lt;/real&gt;
-						&lt;/array&gt;
-						&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-						&lt;string&gt;373 269 690 397 0 0 1440 878 &lt;/string&gt;
-					&lt;/dict&gt;
-					&lt;key&gt;Module&lt;/key&gt;
-					&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;100%&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Morph&lt;/string&gt;
-			&lt;key&gt;PreferredWidth&lt;/key&gt;
-			&lt;integer&gt;300&lt;/integer&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;XCModuleDock&lt;/string&gt;
-				&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;TableOfContents&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;11E0B1FE06471DED0097A5F4&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
-			&lt;string&gt;xcode.toolbar.config.default.shortV3&lt;/string&gt;
-		&lt;/dict&gt;
-	&lt;/array&gt;
-	&lt;key&gt;PerspectivesBarVisible&lt;/key&gt;
-	&lt;false/&gt;
-	&lt;key&gt;ShelfIsVisible&lt;/key&gt;
-	&lt;false/&gt;
-	&lt;key&gt;SourceDescription&lt;/key&gt;
-	&lt;string&gt;file at '/Developer/Library/PrivateFrameworks/DevToolsInterface.framework/Resources/XCPerspectivesSpecificationMode1.xcperspec'&lt;/string&gt;
-	&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
-	&lt;true/&gt;
-	&lt;key&gt;TimeStamp&lt;/key&gt;
-	&lt;real&gt;0.0&lt;/real&gt;
-	&lt;key&gt;ToolbarDisplayMode&lt;/key&gt;
-	&lt;integer&gt;1&lt;/integer&gt;
-	&lt;key&gt;ToolbarIsVisible&lt;/key&gt;
-	&lt;true/&gt;
-	&lt;key&gt;ToolbarSizeMode&lt;/key&gt;
-	&lt;integer&gt;1&lt;/integer&gt;
-	&lt;key&gt;Type&lt;/key&gt;
-	&lt;string&gt;Perspectives&lt;/string&gt;
-	&lt;key&gt;UpdateMessage&lt;/key&gt;
-	&lt;string&gt;The Default Workspace in this version of Xcode now includes support to hide and show the detail view (what has been referred to as the &quot;Metro-Morph&quot; feature).  You must discard your current Default Workspace settings and update to the latest Default Workspace in order to gain this feature.  Do you wish to update to the latest Workspace defaults for project '%@'?&lt;/string&gt;
-	&lt;key&gt;WindowJustification&lt;/key&gt;
-	&lt;integer&gt;5&lt;/integer&gt;
-	&lt;key&gt;WindowOrderList&lt;/key&gt;
-	&lt;array&gt;
-		&lt;string&gt;C3AD27220ED34BDF0044B2BB&lt;/string&gt;
-		&lt;string&gt;/Users/tarendai/Documents/Development/trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj&lt;/string&gt;
-	&lt;/array&gt;
-	&lt;key&gt;WindowString&lt;/key&gt;
-	&lt;string&gt;151 141 788 504 0 0 1280 778 &lt;/string&gt;
-	&lt;key&gt;WindowToolsV3&lt;/key&gt;
-	&lt;array&gt;
-		&lt;dict&gt;
-			&lt;key&gt;FirstTimeWindowDisplayed&lt;/key&gt;
-			&lt;false/&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;windowTool.build&lt;/string&gt;
-			&lt;key&gt;IsVertical&lt;/key&gt;
-			&lt;true/&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;ContentConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-								&lt;string&gt;1CD0528F0623707200166675&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-								&lt;string&gt;&lt;/string&gt;
-								&lt;key&gt;StatusBarVisibility&lt;/key&gt;
-								&lt;true/&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{{0, 0}, {500, 218}}&lt;/string&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;172 122 500 500 0 0 1280 778 &lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;218pt&lt;/string&gt;
-						&lt;/dict&gt;
-						&lt;dict&gt;
-							&lt;key&gt;ContentConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-								&lt;string&gt;XCMainBuildResultsModuleGUID&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-								&lt;string&gt;Build&lt;/string&gt;
-								&lt;key&gt;XCBuildResultsTrigger_Collapse&lt;/key&gt;
-								&lt;integer&gt;1021&lt;/integer&gt;
-								&lt;key&gt;XCBuildResultsTrigger_Open&lt;/key&gt;
-								&lt;integer&gt;1011&lt;/integer&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{{0, 223}, {500, 236}}&lt;/string&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;172 122 500 500 0 0 1280 778 &lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;PBXBuildResultsModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;236pt&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;459pt&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Build Results&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;PBXBuildResultsModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
-			&lt;true/&gt;
-			&lt;key&gt;TableOfContents&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;C3AD27220ED34BDF0044B2BB&lt;/string&gt;
-				&lt;string&gt;C3AD27230ED34BDF0044B2BB&lt;/string&gt;
-				&lt;string&gt;1CD0528F0623707200166675&lt;/string&gt;
-				&lt;string&gt;XCMainBuildResultsModuleGUID&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
-			&lt;string&gt;xcode.toolbar.config.buildV3&lt;/string&gt;
-			&lt;key&gt;WindowString&lt;/key&gt;
-			&lt;string&gt;172 122 500 500 0 0 1280 778 &lt;/string&gt;
-			&lt;key&gt;WindowToolGUID&lt;/key&gt;
-			&lt;string&gt;C3AD27220ED34BDF0044B2BB&lt;/string&gt;
-			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
-			&lt;false/&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;windowTool.debugger&lt;/string&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;ContentConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;Debugger&lt;/key&gt;
-								&lt;dict&gt;
-									&lt;key&gt;HorizontalSplitView&lt;/key&gt;
-									&lt;dict&gt;
-										&lt;key&gt;_collapsingFrameDimension&lt;/key&gt;
-										&lt;real&gt;0.0&lt;/real&gt;
-										&lt;key&gt;_indexOfCollapsedView&lt;/key&gt;
-										&lt;integer&gt;0&lt;/integer&gt;
-										&lt;key&gt;_percentageOfCollapsedView&lt;/key&gt;
-										&lt;real&gt;0.0&lt;/real&gt;
-										&lt;key&gt;isCollapsed&lt;/key&gt;
-										&lt;string&gt;yes&lt;/string&gt;
-										&lt;key&gt;sizes&lt;/key&gt;
-										&lt;array&gt;
-											&lt;string&gt;{{0, 0}, {317, 164}}&lt;/string&gt;
-											&lt;string&gt;{{317, 0}, {377, 164}}&lt;/string&gt;
-										&lt;/array&gt;
-									&lt;/dict&gt;
-									&lt;key&gt;VerticalSplitView&lt;/key&gt;
-									&lt;dict&gt;
-										&lt;key&gt;_collapsingFrameDimension&lt;/key&gt;
-										&lt;real&gt;0.0&lt;/real&gt;
-										&lt;key&gt;_indexOfCollapsedView&lt;/key&gt;
-										&lt;integer&gt;0&lt;/integer&gt;
-										&lt;key&gt;_percentageOfCollapsedView&lt;/key&gt;
-										&lt;real&gt;0.0&lt;/real&gt;
-										&lt;key&gt;isCollapsed&lt;/key&gt;
-										&lt;string&gt;yes&lt;/string&gt;
-										&lt;key&gt;sizes&lt;/key&gt;
-										&lt;array&gt;
-											&lt;string&gt;{{0, 0}, {694, 164}}&lt;/string&gt;
-											&lt;string&gt;{{0, 164}, {694, 216}}&lt;/string&gt;
-										&lt;/array&gt;
-									&lt;/dict&gt;
-								&lt;/dict&gt;
-								&lt;key&gt;LauncherConfigVersion&lt;/key&gt;
-								&lt;string&gt;8&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-								&lt;string&gt;1C162984064C10D400B95A72&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-								&lt;string&gt;Debug - GLUTExamples (Underwater)&lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;DebugConsoleDrawerSize&lt;/key&gt;
-								&lt;string&gt;{100, 120}&lt;/string&gt;
-								&lt;key&gt;DebugConsoleVisible&lt;/key&gt;
-								&lt;string&gt;None&lt;/string&gt;
-								&lt;key&gt;DebugConsoleWindowFrame&lt;/key&gt;
-								&lt;string&gt;{{200, 200}, {500, 300}}&lt;/string&gt;
-								&lt;key&gt;DebugSTDIOWindowFrame&lt;/key&gt;
-								&lt;string&gt;{{200, 200}, {500, 300}}&lt;/string&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{{0, 0}, {694, 380}}&lt;/string&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;321 238 694 422 0 0 1440 878 &lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;PBXDebugSessionModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;100%&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;100%&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Debugger&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;PBXDebugSessionModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
-			&lt;integer&gt;1&lt;/integer&gt;
-			&lt;key&gt;TableOfContents&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;1CD10A99069EF8BA00B06720&lt;/string&gt;
-				&lt;string&gt;1C0AD2AB069F1E9B00FABCE6&lt;/string&gt;
-				&lt;string&gt;1C162984064C10D400B95A72&lt;/string&gt;
-				&lt;string&gt;1C0AD2AC069F1E9B00FABCE6&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
-			&lt;string&gt;xcode.toolbar.config.debugV3&lt;/string&gt;
-			&lt;key&gt;WindowString&lt;/key&gt;
-			&lt;string&gt;321 238 694 422 0 0 1440 878 &lt;/string&gt;
-			&lt;key&gt;WindowToolGUID&lt;/key&gt;
-			&lt;string&gt;1CD10A99069EF8BA00B06720&lt;/string&gt;
-			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
-			&lt;integer&gt;0&lt;/integer&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;windowTool.find&lt;/string&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;Dock&lt;/key&gt;
-							&lt;array&gt;
-								&lt;dict&gt;
-									&lt;key&gt;ContentConfiguration&lt;/key&gt;
-									&lt;dict&gt;
-										&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-										&lt;string&gt;1CDD528C0622207200134675&lt;/string&gt;
-										&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-										&lt;string&gt;&lt;No Editor&gt;&lt;/string&gt;
-										&lt;key&gt;PBXSplitModuleInNavigatorKey&lt;/key&gt;
-										&lt;dict&gt;
-											&lt;key&gt;Split0&lt;/key&gt;
-											&lt;dict&gt;
-												&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-												&lt;string&gt;1CD0528D0623707200166675&lt;/string&gt;
-											&lt;/dict&gt;
-											&lt;key&gt;SplitCount&lt;/key&gt;
-											&lt;string&gt;1&lt;/string&gt;
-										&lt;/dict&gt;
-										&lt;key&gt;StatusBarVisibility&lt;/key&gt;
-										&lt;integer&gt;1&lt;/integer&gt;
-									&lt;/dict&gt;
-									&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-									&lt;dict&gt;
-										&lt;key&gt;Frame&lt;/key&gt;
-										&lt;string&gt;{{0, 0}, {781, 167}}&lt;/string&gt;
-										&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-										&lt;string&gt;62 385 781 470 0 0 1440 878 &lt;/string&gt;
-									&lt;/dict&gt;
-									&lt;key&gt;Module&lt;/key&gt;
-									&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
-									&lt;key&gt;Proportion&lt;/key&gt;
-									&lt;string&gt;781pt&lt;/string&gt;
-								&lt;/dict&gt;
-							&lt;/array&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;50%&lt;/string&gt;
-						&lt;/dict&gt;
-						&lt;dict&gt;
-							&lt;key&gt;BecomeActive&lt;/key&gt;
-							&lt;integer&gt;1&lt;/integer&gt;
-							&lt;key&gt;ContentConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-								&lt;string&gt;1CD0528E0623707200166675&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-								&lt;string&gt;Project Find&lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{{8, 0}, {773, 254}}&lt;/string&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;62 385 781 470 0 0 1440 878 &lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;PBXProjectFindModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;50%&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;428pt&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Project Find&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;PBXProjectFindModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
-			&lt;integer&gt;1&lt;/integer&gt;
-			&lt;key&gt;TableOfContents&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;1C530D57069F1CE1000CFCEE&lt;/string&gt;
-				&lt;string&gt;1C530D58069F1CE1000CFCEE&lt;/string&gt;
-				&lt;string&gt;1C530D59069F1CE1000CFCEE&lt;/string&gt;
-				&lt;string&gt;1CDD528C0622207200134675&lt;/string&gt;
-				&lt;string&gt;1C530D5A069F1CE1000CFCEE&lt;/string&gt;
-				&lt;string&gt;1CE0B1FE06471DED0097A5F4&lt;/string&gt;
-				&lt;string&gt;1CD0528E0623707200166675&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;WindowString&lt;/key&gt;
-			&lt;string&gt;62 385 781 470 0 0 1440 878 &lt;/string&gt;
-			&lt;key&gt;WindowToolGUID&lt;/key&gt;
-			&lt;string&gt;1C530D57069F1CE1000CFCEE&lt;/string&gt;
-			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
-			&lt;integer&gt;0&lt;/integer&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;MENUSEPARATOR&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;windowTool.debuggerConsole&lt;/string&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;BecomeActive&lt;/key&gt;
-							&lt;integer&gt;1&lt;/integer&gt;
-							&lt;key&gt;ContentConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-								&lt;string&gt;1C78EAAC065D492600B07095&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-								&lt;string&gt;Debugger Console&lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{{0, 0}, {650, 250}}&lt;/string&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;516 632 650 250 0 0 1680 1027 &lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;PBXDebugCLIModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;209pt&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;209pt&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Debugger Console&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;PBXDebugCLIModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
-			&lt;integer&gt;1&lt;/integer&gt;
-			&lt;key&gt;TableOfContents&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;1C78EAAD065D492600B07095&lt;/string&gt;
-				&lt;string&gt;1C78EAAE065D492600B07095&lt;/string&gt;
-				&lt;string&gt;1C78EAAC065D492600B07095&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
-			&lt;string&gt;xcode.toolbar.config.consoleV3&lt;/string&gt;
-			&lt;key&gt;WindowString&lt;/key&gt;
-			&lt;string&gt;650 41 650 250 0 0 1280 1002 &lt;/string&gt;
-			&lt;key&gt;WindowToolGUID&lt;/key&gt;
-			&lt;string&gt;1C78EAAD065D492600B07095&lt;/string&gt;
-			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
-			&lt;integer&gt;0&lt;/integer&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;windowTool.snapshots&lt;/string&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;XCSnapshotModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;100%&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;100%&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Snapshots&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;XCSnapshotModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
-			&lt;string&gt;Yes&lt;/string&gt;
-			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
-			&lt;string&gt;xcode.toolbar.config.snapshots&lt;/string&gt;
-			&lt;key&gt;WindowString&lt;/key&gt;
-			&lt;string&gt;315 824 300 550 0 0 1440 878 &lt;/string&gt;
-			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
-			&lt;string&gt;Yes&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;windowTool.scm&lt;/string&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;ContentConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-								&lt;string&gt;1C78EAB2065D492600B07095&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-								&lt;string&gt;&lt;No Editor&gt;&lt;/string&gt;
-								&lt;key&gt;PBXSplitModuleInNavigatorKey&lt;/key&gt;
-								&lt;dict&gt;
-									&lt;key&gt;Split0&lt;/key&gt;
-									&lt;dict&gt;
-										&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-										&lt;string&gt;1C78EAB3065D492600B07095&lt;/string&gt;
-									&lt;/dict&gt;
-									&lt;key&gt;SplitCount&lt;/key&gt;
-									&lt;string&gt;1&lt;/string&gt;
-								&lt;/dict&gt;
-								&lt;key&gt;StatusBarVisibility&lt;/key&gt;
-								&lt;integer&gt;1&lt;/integer&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{{0, 0}, {452, 0}}&lt;/string&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;743 379 452 308 0 0 1280 1002 &lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;0pt&lt;/string&gt;
-						&lt;/dict&gt;
-						&lt;dict&gt;
-							&lt;key&gt;BecomeActive&lt;/key&gt;
-							&lt;integer&gt;1&lt;/integer&gt;
-							&lt;key&gt;ContentConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-								&lt;string&gt;1CD052920623707200166675&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-								&lt;string&gt;SCM&lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;ConsoleFrame&lt;/key&gt;
-								&lt;string&gt;{{0, 259}, {452, 0}}&lt;/string&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{{0, 7}, {452, 259}}&lt;/string&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;743 379 452 308 0 0 1280 1002 &lt;/string&gt;
-								&lt;key&gt;TableConfiguration&lt;/key&gt;
-								&lt;array&gt;
-									&lt;string&gt;Status&lt;/string&gt;
-									&lt;real&gt;30&lt;/real&gt;
-									&lt;string&gt;FileName&lt;/string&gt;
-									&lt;real&gt;199&lt;/real&gt;
-									&lt;string&gt;Path&lt;/string&gt;
-									&lt;real&gt;197.0950012207031&lt;/real&gt;
-								&lt;/array&gt;
-								&lt;key&gt;TableFrame&lt;/key&gt;
-								&lt;string&gt;{{0, 0}, {452, 250}}&lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;PBXCVSModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;262pt&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;266pt&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;SCM&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;PBXCVSModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
-			&lt;integer&gt;1&lt;/integer&gt;
-			&lt;key&gt;TableOfContents&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;1C78EAB4065D492600B07095&lt;/string&gt;
-				&lt;string&gt;1C78EAB5065D492600B07095&lt;/string&gt;
-				&lt;string&gt;1C78EAB2065D492600B07095&lt;/string&gt;
-				&lt;string&gt;1CD052920623707200166675&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
-			&lt;string&gt;xcode.toolbar.config.scm&lt;/string&gt;
-			&lt;key&gt;WindowString&lt;/key&gt;
-			&lt;string&gt;743 379 452 308 0 0 1280 1002 &lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;windowTool.breakpoints&lt;/string&gt;
-			&lt;key&gt;IsVertical&lt;/key&gt;
-			&lt;integer&gt;0&lt;/integer&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;BecomeActive&lt;/key&gt;
-							&lt;integer&gt;1&lt;/integer&gt;
-							&lt;key&gt;ContentConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;PBXBottomSmartGroupGIDs&lt;/key&gt;
-								&lt;array&gt;
-									&lt;string&gt;1C77FABC04509CD000000102&lt;/string&gt;
-								&lt;/array&gt;
-								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-								&lt;string&gt;1CE0B1FE06471DED0097A5F4&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-								&lt;string&gt;Files&lt;/string&gt;
-								&lt;key&gt;PBXProjectStructureProvided&lt;/key&gt;
-								&lt;string&gt;no&lt;/string&gt;
-								&lt;key&gt;PBXSmartGroupTreeModuleColumnData&lt;/key&gt;
-								&lt;dict&gt;
-									&lt;key&gt;PBXSmartGroupTreeModuleColumnWidthsKey&lt;/key&gt;
-									&lt;array&gt;
-										&lt;real&gt;168&lt;/real&gt;
-									&lt;/array&gt;
-									&lt;key&gt;PBXSmartGroupTreeModuleColumnsKey_v4&lt;/key&gt;
-									&lt;array&gt;
-										&lt;string&gt;MainColumn&lt;/string&gt;
-									&lt;/array&gt;
-								&lt;/dict&gt;
-								&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateKey_v7&lt;/key&gt;
-								&lt;dict&gt;
-									&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateExpansionKey&lt;/key&gt;
-									&lt;array&gt;
-										&lt;string&gt;1C77FABC04509CD000000102&lt;/string&gt;
-									&lt;/array&gt;
-									&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateSelectionKey&lt;/key&gt;
-									&lt;array&gt;
-										&lt;array&gt;
-											&lt;integer&gt;0&lt;/integer&gt;
-										&lt;/array&gt;
-									&lt;/array&gt;
-									&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateVisibleRectKey&lt;/key&gt;
-									&lt;string&gt;{{0, 0}, {168, 350}}&lt;/string&gt;
-								&lt;/dict&gt;
-								&lt;key&gt;PBXTopSmartGroupGIDs&lt;/key&gt;
-								&lt;array/&gt;
-								&lt;key&gt;XCIncludePerspectivesSwitch&lt;/key&gt;
-								&lt;integer&gt;0&lt;/integer&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{{0, 0}, {185, 368}}&lt;/string&gt;
-								&lt;key&gt;GroupTreeTableConfiguration&lt;/key&gt;
-								&lt;array&gt;
-									&lt;string&gt;MainColumn&lt;/string&gt;
-									&lt;real&gt;168&lt;/real&gt;
-								&lt;/array&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;315 424 744 409 0 0 1440 878 &lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;185pt&lt;/string&gt;
-						&lt;/dict&gt;
-						&lt;dict&gt;
-							&lt;key&gt;ContentConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-								&lt;string&gt;1CA1AED706398EBD00589147&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-								&lt;string&gt;Detail&lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{{190, 0}, {554, 368}}&lt;/string&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;315 424 744 409 0 0 1440 878 &lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;XCDetailModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;554pt&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;368pt&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;MajorVersion&lt;/key&gt;
-			&lt;integer&gt;3&lt;/integer&gt;
-			&lt;key&gt;MinorVersion&lt;/key&gt;
-			&lt;integer&gt;0&lt;/integer&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Breakpoints&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
-				&lt;string&gt;XCDetailModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
-			&lt;integer&gt;1&lt;/integer&gt;
-			&lt;key&gt;TableOfContents&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;1CDDB66807F98D9800BB5817&lt;/string&gt;
-				&lt;string&gt;1CDDB66907F98D9800BB5817&lt;/string&gt;
-				&lt;string&gt;1CE0B1FE06471DED0097A5F4&lt;/string&gt;
-				&lt;string&gt;1CA1AED706398EBD00589147&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
-			&lt;string&gt;xcode.toolbar.config.breakpointsV3&lt;/string&gt;
-			&lt;key&gt;WindowString&lt;/key&gt;
-			&lt;string&gt;315 424 744 409 0 0 1440 878 &lt;/string&gt;
-			&lt;key&gt;WindowToolGUID&lt;/key&gt;
-			&lt;string&gt;1CDDB66807F98D9800BB5817&lt;/string&gt;
-			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
-			&lt;integer&gt;1&lt;/integer&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;windowTool.debugAnimator&lt;/string&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;100%&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;100%&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Debug Visualizer&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
-			&lt;integer&gt;1&lt;/integer&gt;
-			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
-			&lt;string&gt;xcode.toolbar.config.debugAnimatorV3&lt;/string&gt;
-			&lt;key&gt;WindowString&lt;/key&gt;
-			&lt;string&gt;100 100 700 500 0 0 1280 1002 &lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;windowTool.bookmarks&lt;/string&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;PBXBookmarksModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;100%&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;100%&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Bookmarks&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;PBXBookmarksModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
-			&lt;integer&gt;0&lt;/integer&gt;
-			&lt;key&gt;WindowString&lt;/key&gt;
-			&lt;string&gt;538 42 401 187 0 0 1280 1002 &lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;windowTool.projectFormatConflicts&lt;/string&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;XCProjectFormatConflictsModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;100%&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;100%&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Project Format Conflicts&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;XCProjectFormatConflictsModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
-			&lt;integer&gt;0&lt;/integer&gt;
-			&lt;key&gt;WindowContentMinSize&lt;/key&gt;
-			&lt;string&gt;450 300&lt;/string&gt;
-			&lt;key&gt;WindowString&lt;/key&gt;
-			&lt;string&gt;50 850 472 307 0 0 1440 877&lt;/string&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;windowTool.classBrowser&lt;/string&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;BecomeActive&lt;/key&gt;
-							&lt;integer&gt;1&lt;/integer&gt;
-							&lt;key&gt;ContentConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;OptionsSetName&lt;/key&gt;
-								&lt;string&gt;Hierarchy, all classes&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
-								&lt;string&gt;1CA6456E063B45B4001379D8&lt;/string&gt;
-								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
-								&lt;string&gt;Class Browser - NSObject&lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;ClassesFrame&lt;/key&gt;
-								&lt;string&gt;{{0, 0}, {374, 96}}&lt;/string&gt;
-								&lt;key&gt;ClassesTreeTableConfiguration&lt;/key&gt;
-								&lt;array&gt;
-									&lt;string&gt;PBXClassNameColumnIdentifier&lt;/string&gt;
-									&lt;real&gt;208&lt;/real&gt;
-									&lt;string&gt;PBXClassBookColumnIdentifier&lt;/string&gt;
-									&lt;real&gt;22&lt;/real&gt;
-								&lt;/array&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{{0, 0}, {630, 331}}&lt;/string&gt;
-								&lt;key&gt;MembersFrame&lt;/key&gt;
-								&lt;string&gt;{{0, 105}, {374, 395}}&lt;/string&gt;
-								&lt;key&gt;MembersTreeTableConfiguration&lt;/key&gt;
-								&lt;array&gt;
-									&lt;string&gt;PBXMemberTypeIconColumnIdentifier&lt;/string&gt;
-									&lt;real&gt;22&lt;/real&gt;
-									&lt;string&gt;PBXMemberNameColumnIdentifier&lt;/string&gt;
-									&lt;real&gt;216&lt;/real&gt;
-									&lt;string&gt;PBXMemberTypeColumnIdentifier&lt;/string&gt;
-									&lt;real&gt;97&lt;/real&gt;
-									&lt;string&gt;PBXMemberBookColumnIdentifier&lt;/string&gt;
-									&lt;real&gt;22&lt;/real&gt;
-								&lt;/array&gt;
-								&lt;key&gt;PBXModuleWindowStatusBarHidden2&lt;/key&gt;
-								&lt;integer&gt;1&lt;/integer&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;385 179 630 352 0 0 1440 878 &lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;PBXClassBrowserModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;332pt&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;332pt&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Class Browser&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;PBXClassBrowserModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
-			&lt;integer&gt;0&lt;/integer&gt;
-			&lt;key&gt;TableOfContents&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;1C0AD2AF069F1E9B00FABCE6&lt;/string&gt;
-				&lt;string&gt;1C0AD2B0069F1E9B00FABCE6&lt;/string&gt;
-				&lt;string&gt;1CA6456E063B45B4001379D8&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
-			&lt;string&gt;xcode.toolbar.config.classbrowser&lt;/string&gt;
-			&lt;key&gt;WindowString&lt;/key&gt;
-			&lt;string&gt;385 179 630 352 0 0 1440 878 &lt;/string&gt;
-			&lt;key&gt;WindowToolGUID&lt;/key&gt;
-			&lt;string&gt;1C0AD2AF069F1E9B00FABCE6&lt;/string&gt;
-			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
-			&lt;integer&gt;0&lt;/integer&gt;
-		&lt;/dict&gt;
-		&lt;dict&gt;
-			&lt;key&gt;Identifier&lt;/key&gt;
-			&lt;string&gt;windowTool.refactoring&lt;/string&gt;
-			&lt;key&gt;IncludeInToolsMenu&lt;/key&gt;
-			&lt;integer&gt;0&lt;/integer&gt;
-			&lt;key&gt;Layout&lt;/key&gt;
-			&lt;array&gt;
-				&lt;dict&gt;
-					&lt;key&gt;Dock&lt;/key&gt;
-					&lt;array&gt;
-						&lt;dict&gt;
-							&lt;key&gt;BecomeActive&lt;/key&gt;
-							&lt;integer&gt;1&lt;/integer&gt;
-							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
-							&lt;dict&gt;
-								&lt;key&gt;Frame&lt;/key&gt;
-								&lt;string&gt;{0, 0}, {500, 335}&lt;/string&gt;
-								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
-								&lt;string&gt;{0, 0}, {500, 335}&lt;/string&gt;
-							&lt;/dict&gt;
-							&lt;key&gt;Module&lt;/key&gt;
-							&lt;string&gt;XCRefactoringModule&lt;/string&gt;
-							&lt;key&gt;Proportion&lt;/key&gt;
-							&lt;string&gt;100%&lt;/string&gt;
-						&lt;/dict&gt;
-					&lt;/array&gt;
-					&lt;key&gt;Proportion&lt;/key&gt;
-					&lt;string&gt;100%&lt;/string&gt;
-				&lt;/dict&gt;
-			&lt;/array&gt;
-			&lt;key&gt;Name&lt;/key&gt;
-			&lt;string&gt;Refactoring&lt;/string&gt;
-			&lt;key&gt;ServiceClasses&lt;/key&gt;
-			&lt;array&gt;
-				&lt;string&gt;XCRefactoringModule&lt;/string&gt;
-			&lt;/array&gt;
-			&lt;key&gt;WindowString&lt;/key&gt;
-			&lt;string&gt;200 200 500 356 0 0 1920 1200 &lt;/string&gt;
-		&lt;/dict&gt;
-	&lt;/array&gt;
-&lt;/dict&gt;
-&lt;/plist&gt;

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.mode1v3 (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.mode1v3)
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.mode1v3	                        (rev 0)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.mode1v3	2008-11-25 23:26:49 UTC (rev 7099)
@@ -0,0 +1,1364 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;<A HREF="http://www.apple.com/DTDs/PropertyList-1.0.dtd">http://www.apple.com/DTDs/PropertyList-1.0.dtd</A>&quot;&gt;
+&lt;plist version=&quot;1.0&quot;&gt;
+&lt;dict&gt;
+	&lt;key&gt;ActivePerspectiveName&lt;/key&gt;
+	&lt;string&gt;Project&lt;/string&gt;
+	&lt;key&gt;AllowedModules&lt;/key&gt;
+	&lt;array&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;n&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Groups and Files Outline View&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;n&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Editor&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;n&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;XCTaskListModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Task List&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;n&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;XCDetailModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;File and Smart Group Detail Viewer&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;1&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;PBXBuildResultsModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Detailed Build Results Viewer&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;1&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;PBXProjectFindModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Project Batch Find Tool&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;n&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;XCProjectFormatConflictsModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Project Format Conflicts List&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;n&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;PBXBookmarksModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Bookmarks Tool&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;n&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;PBXClassBrowserModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Class Browser&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;n&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;PBXCVSModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Source Code Control Tool&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;n&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;PBXDebugBreakpointsModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Debug Breakpoints Tool&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;n&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;XCDockableInspector&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Inspector&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;n&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;PBXOpenQuicklyModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Open Quickly Tool&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;1&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;PBXDebugSessionModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Debugger&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;1&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;PBXDebugCLIModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Debug Console&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;BundleLoadPath&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;MaxInstances&lt;/key&gt;
+			&lt;string&gt;n&lt;/string&gt;
+			&lt;key&gt;Module&lt;/key&gt;
+			&lt;string&gt;XCSnapshotModule&lt;/string&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Snapshots Tool&lt;/string&gt;
+		&lt;/dict&gt;
+	&lt;/array&gt;
+	&lt;key&gt;BundlePath&lt;/key&gt;
+	&lt;string&gt;/Developer/Library/PrivateFrameworks/DevToolsInterface.framework/Resources&lt;/string&gt;
+	&lt;key&gt;Description&lt;/key&gt;
+	&lt;string&gt;DefaultDescriptionKey&lt;/string&gt;
+	&lt;key&gt;DockingSystemVisible&lt;/key&gt;
+	&lt;false/&gt;
+	&lt;key&gt;Extension&lt;/key&gt;
+	&lt;string&gt;mode1v3&lt;/string&gt;
+	&lt;key&gt;FavBarConfig&lt;/key&gt;
+	&lt;dict&gt;
+		&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+		&lt;string&gt;C3AD27210ED34BDF0044B2BB&lt;/string&gt;
+		&lt;key&gt;XCBarModuleItemNames&lt;/key&gt;
+		&lt;dict/&gt;
+		&lt;key&gt;XCBarModuleItems&lt;/key&gt;
+		&lt;array/&gt;
+	&lt;/dict&gt;
+	&lt;key&gt;FirstTimeWindowDisplayed&lt;/key&gt;
+	&lt;false/&gt;
+	&lt;key&gt;Identifier&lt;/key&gt;
+	&lt;string&gt;com.apple.perspectives.project.mode1v3&lt;/string&gt;
+	&lt;key&gt;MajorVersion&lt;/key&gt;
+	&lt;integer&gt;33&lt;/integer&gt;
+	&lt;key&gt;MinorVersion&lt;/key&gt;
+	&lt;integer&gt;0&lt;/integer&gt;
+	&lt;key&gt;Name&lt;/key&gt;
+	&lt;string&gt;Default&lt;/string&gt;
+	&lt;key&gt;Notifications&lt;/key&gt;
+	&lt;array/&gt;
+	&lt;key&gt;OpenEditors&lt;/key&gt;
+	&lt;array/&gt;
+	&lt;key&gt;PerspectiveWidths&lt;/key&gt;
+	&lt;array&gt;
+		&lt;integer&gt;-1&lt;/integer&gt;
+		&lt;integer&gt;-1&lt;/integer&gt;
+	&lt;/array&gt;
+	&lt;key&gt;Perspectives&lt;/key&gt;
+	&lt;array&gt;
+		&lt;dict&gt;
+			&lt;key&gt;ChosenToolbarItems&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;active-combo-popup&lt;/string&gt;
+				&lt;string&gt;action&lt;/string&gt;
+				&lt;string&gt;NSToolbarFlexibleSpaceItem&lt;/string&gt;
+				&lt;string&gt;build-and-go&lt;/string&gt;
+				&lt;string&gt;com.apple.ide.PBXToolbarStopButton&lt;/string&gt;
+				&lt;string&gt;get-info&lt;/string&gt;
+				&lt;string&gt;NSToolbarFlexibleSpaceItem&lt;/string&gt;
+				&lt;string&gt;com.apple.pbx.toolbar.searchfield&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;ControllerClassBaseName&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;IconName&lt;/key&gt;
+			&lt;string&gt;WindowOfProjectWithEditor&lt;/string&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;perspective.project&lt;/string&gt;
+			&lt;key&gt;IsVertical&lt;/key&gt;
+			&lt;false/&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;ContentConfiguration&lt;/key&gt;
+					&lt;dict&gt;
+						&lt;key&gt;PBXBottomSmartGroupGIDs&lt;/key&gt;
+						&lt;array&gt;
+							&lt;string&gt;1C37FBAC04509CD000000102&lt;/string&gt;
+							&lt;string&gt;1C37FAAC04509CD000000102&lt;/string&gt;
+							&lt;string&gt;1C08E77C0454961000C914BD&lt;/string&gt;
+							&lt;string&gt;1C37FABC05509CD000000102&lt;/string&gt;
+							&lt;string&gt;1C37FABC05539CD112110102&lt;/string&gt;
+							&lt;string&gt;E2644B35053B69B200211256&lt;/string&gt;
+							&lt;string&gt;1C37FABC04509CD000100104&lt;/string&gt;
+							&lt;string&gt;1CC0EA4004350EF90044410B&lt;/string&gt;
+							&lt;string&gt;1CC0EA4004350EF90041110B&lt;/string&gt;
+						&lt;/array&gt;
+						&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+						&lt;string&gt;1CE0B1FE06471DED0097A5F4&lt;/string&gt;
+						&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+						&lt;string&gt;Files&lt;/string&gt;
+						&lt;key&gt;PBXProjectStructureProvided&lt;/key&gt;
+						&lt;string&gt;yes&lt;/string&gt;
+						&lt;key&gt;PBXSmartGroupTreeModuleColumnData&lt;/key&gt;
+						&lt;dict&gt;
+							&lt;key&gt;PBXSmartGroupTreeModuleColumnWidthsKey&lt;/key&gt;
+							&lt;array&gt;
+								&lt;real&gt;186&lt;/real&gt;
+							&lt;/array&gt;
+							&lt;key&gt;PBXSmartGroupTreeModuleColumnsKey_v4&lt;/key&gt;
+							&lt;array&gt;
+								&lt;string&gt;MainColumn&lt;/string&gt;
+							&lt;/array&gt;
+						&lt;/dict&gt;
+						&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateKey_v7&lt;/key&gt;
+						&lt;dict&gt;
+							&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateExpansionKey&lt;/key&gt;
+							&lt;array&gt;
+								&lt;string&gt;0867D691FE84028FC02AAC07&lt;/string&gt;
+								&lt;string&gt;1C37FABC05509CD000000102&lt;/string&gt;
+							&lt;/array&gt;
+							&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateSelectionKey&lt;/key&gt;
+							&lt;array&gt;
+								&lt;array&gt;
+									&lt;integer&gt;0&lt;/integer&gt;
+								&lt;/array&gt;
+							&lt;/array&gt;
+							&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateVisibleRectKey&lt;/key&gt;
+							&lt;string&gt;{{0, 0}, {186, 445}}&lt;/string&gt;
+						&lt;/dict&gt;
+						&lt;key&gt;PBXTopSmartGroupGIDs&lt;/key&gt;
+						&lt;array/&gt;
+						&lt;key&gt;XCIncludePerspectivesSwitch&lt;/key&gt;
+						&lt;true/&gt;
+						&lt;key&gt;XCSharingToken&lt;/key&gt;
+						&lt;string&gt;com.apple.Xcode.GFSharingToken&lt;/string&gt;
+					&lt;/dict&gt;
+					&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+					&lt;dict&gt;
+						&lt;key&gt;Frame&lt;/key&gt;
+						&lt;string&gt;{{0, 0}, {203, 463}}&lt;/string&gt;
+						&lt;key&gt;GroupTreeTableConfiguration&lt;/key&gt;
+						&lt;array&gt;
+							&lt;string&gt;MainColumn&lt;/string&gt;
+							&lt;real&gt;186&lt;/real&gt;
+						&lt;/array&gt;
+						&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+						&lt;string&gt;151 141 788 504 0 0 1280 778 &lt;/string&gt;
+					&lt;/dict&gt;
+					&lt;key&gt;Module&lt;/key&gt;
+					&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;203pt&lt;/string&gt;
+				&lt;/dict&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;ContentConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+								&lt;string&gt;1CE0B20306471E060097A5F4&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+								&lt;string&gt;Actions.cpp&lt;/string&gt;
+								&lt;key&gt;PBXSplitModuleInNavigatorKey&lt;/key&gt;
+								&lt;dict&gt;
+									&lt;key&gt;Split0&lt;/key&gt;
+									&lt;dict&gt;
+										&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+										&lt;string&gt;1CE0B20406471E060097A5F4&lt;/string&gt;
+										&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+										&lt;string&gt;Actions.cpp&lt;/string&gt;
+										&lt;key&gt;_historyCapacity&lt;/key&gt;
+										&lt;integer&gt;0&lt;/integer&gt;
+										&lt;key&gt;bookmark&lt;/key&gt;
+										&lt;string&gt;C3AD271E0ED34BDF0044B2BB&lt;/string&gt;
+										&lt;key&gt;history&lt;/key&gt;
+										&lt;array&gt;
+											&lt;string&gt;C3AD271B0ED34BDF0044B2BB&lt;/string&gt;
+											&lt;string&gt;C3AD271C0ED34BDF0044B2BB&lt;/string&gt;
+										&lt;/array&gt;
+										&lt;key&gt;prevStack&lt;/key&gt;
+										&lt;array&gt;
+											&lt;string&gt;C3AD271D0ED34BDF0044B2BB&lt;/string&gt;
+										&lt;/array&gt;
+									&lt;/dict&gt;
+									&lt;key&gt;SplitCount&lt;/key&gt;
+									&lt;string&gt;1&lt;/string&gt;
+								&lt;/dict&gt;
+								&lt;key&gt;StatusBarVisibility&lt;/key&gt;
+								&lt;true/&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{{0, 0}, {580, 285}}&lt;/string&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;151 141 788 504 0 0 1280 778 &lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;285pt&lt;/string&gt;
+						&lt;/dict&gt;
+						&lt;dict&gt;
+							&lt;key&gt;BecomeActive&lt;/key&gt;
+							&lt;true/&gt;
+							&lt;key&gt;ContentConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+								&lt;string&gt;1CE0B20506471E060097A5F4&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+								&lt;string&gt;Detail&lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{{0, 290}, {580, 173}}&lt;/string&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;151 141 788 504 0 0 1280 778 &lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;XCDetailModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;173pt&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;580pt&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Project&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;XCModuleDock&lt;/string&gt;
+				&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
+				&lt;string&gt;XCModuleDock&lt;/string&gt;
+				&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
+				&lt;string&gt;XCDetailModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;TableOfContents&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;C3AD271F0ED34BDF0044B2BB&lt;/string&gt;
+				&lt;string&gt;1CE0B1FE06471DED0097A5F4&lt;/string&gt;
+				&lt;string&gt;C3AD27200ED34BDF0044B2BB&lt;/string&gt;
+				&lt;string&gt;1CE0B20306471E060097A5F4&lt;/string&gt;
+				&lt;string&gt;1CE0B20506471E060097A5F4&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
+			&lt;string&gt;xcode.toolbar.config.defaultV3&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;ControllerClassBaseName&lt;/key&gt;
+			&lt;string&gt;&lt;/string&gt;
+			&lt;key&gt;IconName&lt;/key&gt;
+			&lt;string&gt;WindowOfProject&lt;/string&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;perspective.morph&lt;/string&gt;
+			&lt;key&gt;IsVertical&lt;/key&gt;
+			&lt;integer&gt;0&lt;/integer&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;BecomeActive&lt;/key&gt;
+					&lt;integer&gt;1&lt;/integer&gt;
+					&lt;key&gt;ContentConfiguration&lt;/key&gt;
+					&lt;dict&gt;
+						&lt;key&gt;PBXBottomSmartGroupGIDs&lt;/key&gt;
+						&lt;array&gt;
+							&lt;string&gt;1C37FBAC04509CD000000102&lt;/string&gt;
+							&lt;string&gt;1C37FAAC04509CD000000102&lt;/string&gt;
+							&lt;string&gt;1C08E77C0454961000C914BD&lt;/string&gt;
+							&lt;string&gt;1C37FABC05509CD000000102&lt;/string&gt;
+							&lt;string&gt;1C37FABC05539CD112110102&lt;/string&gt;
+							&lt;string&gt;E2644B35053B69B200211256&lt;/string&gt;
+							&lt;string&gt;1C37FABC04509CD000100104&lt;/string&gt;
+							&lt;string&gt;1CC0EA4004350EF90044410B&lt;/string&gt;
+							&lt;string&gt;1CC0EA4004350EF90041110B&lt;/string&gt;
+						&lt;/array&gt;
+						&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+						&lt;string&gt;11E0B1FE06471DED0097A5F4&lt;/string&gt;
+						&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+						&lt;string&gt;Files&lt;/string&gt;
+						&lt;key&gt;PBXProjectStructureProvided&lt;/key&gt;
+						&lt;string&gt;yes&lt;/string&gt;
+						&lt;key&gt;PBXSmartGroupTreeModuleColumnData&lt;/key&gt;
+						&lt;dict&gt;
+							&lt;key&gt;PBXSmartGroupTreeModuleColumnWidthsKey&lt;/key&gt;
+							&lt;array&gt;
+								&lt;real&gt;186&lt;/real&gt;
+							&lt;/array&gt;
+							&lt;key&gt;PBXSmartGroupTreeModuleColumnsKey_v4&lt;/key&gt;
+							&lt;array&gt;
+								&lt;string&gt;MainColumn&lt;/string&gt;
+							&lt;/array&gt;
+						&lt;/dict&gt;
+						&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateKey_v7&lt;/key&gt;
+						&lt;dict&gt;
+							&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateExpansionKey&lt;/key&gt;
+							&lt;array&gt;
+								&lt;string&gt;29B97314FDCFA39411CA2CEA&lt;/string&gt;
+								&lt;string&gt;1C37FABC05509CD000000102&lt;/string&gt;
+							&lt;/array&gt;
+							&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateSelectionKey&lt;/key&gt;
+							&lt;array&gt;
+								&lt;array&gt;
+									&lt;integer&gt;0&lt;/integer&gt;
+								&lt;/array&gt;
+							&lt;/array&gt;
+							&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateVisibleRectKey&lt;/key&gt;
+							&lt;string&gt;{{0, 0}, {186, 337}}&lt;/string&gt;
+						&lt;/dict&gt;
+						&lt;key&gt;PBXTopSmartGroupGIDs&lt;/key&gt;
+						&lt;array/&gt;
+						&lt;key&gt;XCIncludePerspectivesSwitch&lt;/key&gt;
+						&lt;integer&gt;1&lt;/integer&gt;
+						&lt;key&gt;XCSharingToken&lt;/key&gt;
+						&lt;string&gt;com.apple.Xcode.GFSharingToken&lt;/string&gt;
+					&lt;/dict&gt;
+					&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+					&lt;dict&gt;
+						&lt;key&gt;Frame&lt;/key&gt;
+						&lt;string&gt;{{0, 0}, {203, 355}}&lt;/string&gt;
+						&lt;key&gt;GroupTreeTableConfiguration&lt;/key&gt;
+						&lt;array&gt;
+							&lt;string&gt;MainColumn&lt;/string&gt;
+							&lt;real&gt;186&lt;/real&gt;
+						&lt;/array&gt;
+						&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+						&lt;string&gt;373 269 690 397 0 0 1440 878 &lt;/string&gt;
+					&lt;/dict&gt;
+					&lt;key&gt;Module&lt;/key&gt;
+					&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;100%&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Morph&lt;/string&gt;
+			&lt;key&gt;PreferredWidth&lt;/key&gt;
+			&lt;integer&gt;300&lt;/integer&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;XCModuleDock&lt;/string&gt;
+				&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;TableOfContents&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;11E0B1FE06471DED0097A5F4&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
+			&lt;string&gt;xcode.toolbar.config.default.shortV3&lt;/string&gt;
+		&lt;/dict&gt;
+	&lt;/array&gt;
+	&lt;key&gt;PerspectivesBarVisible&lt;/key&gt;
+	&lt;false/&gt;
+	&lt;key&gt;ShelfIsVisible&lt;/key&gt;
+	&lt;false/&gt;
+	&lt;key&gt;SourceDescription&lt;/key&gt;
+	&lt;string&gt;file at '/Developer/Library/PrivateFrameworks/DevToolsInterface.framework/Resources/XCPerspectivesSpecificationMode1.xcperspec'&lt;/string&gt;
+	&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
+	&lt;true/&gt;
+	&lt;key&gt;TimeStamp&lt;/key&gt;
+	&lt;real&gt;0.0&lt;/real&gt;
+	&lt;key&gt;ToolbarDisplayMode&lt;/key&gt;
+	&lt;integer&gt;1&lt;/integer&gt;
+	&lt;key&gt;ToolbarIsVisible&lt;/key&gt;
+	&lt;true/&gt;
+	&lt;key&gt;ToolbarSizeMode&lt;/key&gt;
+	&lt;integer&gt;1&lt;/integer&gt;
+	&lt;key&gt;Type&lt;/key&gt;
+	&lt;string&gt;Perspectives&lt;/string&gt;
+	&lt;key&gt;UpdateMessage&lt;/key&gt;
+	&lt;string&gt;The Default Workspace in this version of Xcode now includes support to hide and show the detail view (what has been referred to as the &quot;Metro-Morph&quot; feature).  You must discard your current Default Workspace settings and update to the latest Default Workspace in order to gain this feature.  Do you wish to update to the latest Workspace defaults for project '%@'?&lt;/string&gt;
+	&lt;key&gt;WindowJustification&lt;/key&gt;
+	&lt;integer&gt;5&lt;/integer&gt;
+	&lt;key&gt;WindowOrderList&lt;/key&gt;
+	&lt;array&gt;
+		&lt;string&gt;C3AD27220ED34BDF0044B2BB&lt;/string&gt;
+		&lt;string&gt;/Users/tarendai/Documents/Development/trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj&lt;/string&gt;
+	&lt;/array&gt;
+	&lt;key&gt;WindowString&lt;/key&gt;
+	&lt;string&gt;151 141 788 504 0 0 1280 778 &lt;/string&gt;
+	&lt;key&gt;WindowToolsV3&lt;/key&gt;
+	&lt;array&gt;
+		&lt;dict&gt;
+			&lt;key&gt;FirstTimeWindowDisplayed&lt;/key&gt;
+			&lt;false/&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;windowTool.build&lt;/string&gt;
+			&lt;key&gt;IsVertical&lt;/key&gt;
+			&lt;true/&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;ContentConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+								&lt;string&gt;1CD0528F0623707200166675&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+								&lt;string&gt;&lt;/string&gt;
+								&lt;key&gt;StatusBarVisibility&lt;/key&gt;
+								&lt;true/&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{{0, 0}, {500, 218}}&lt;/string&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;172 122 500 500 0 0 1280 778 &lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;218pt&lt;/string&gt;
+						&lt;/dict&gt;
+						&lt;dict&gt;
+							&lt;key&gt;ContentConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+								&lt;string&gt;XCMainBuildResultsModuleGUID&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+								&lt;string&gt;Build&lt;/string&gt;
+								&lt;key&gt;XCBuildResultsTrigger_Collapse&lt;/key&gt;
+								&lt;integer&gt;1021&lt;/integer&gt;
+								&lt;key&gt;XCBuildResultsTrigger_Open&lt;/key&gt;
+								&lt;integer&gt;1011&lt;/integer&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{{0, 223}, {500, 236}}&lt;/string&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;172 122 500 500 0 0 1280 778 &lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;PBXBuildResultsModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;236pt&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;459pt&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Build Results&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;PBXBuildResultsModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
+			&lt;true/&gt;
+			&lt;key&gt;TableOfContents&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;C3AD27220ED34BDF0044B2BB&lt;/string&gt;
+				&lt;string&gt;C3AD27230ED34BDF0044B2BB&lt;/string&gt;
+				&lt;string&gt;1CD0528F0623707200166675&lt;/string&gt;
+				&lt;string&gt;XCMainBuildResultsModuleGUID&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
+			&lt;string&gt;xcode.toolbar.config.buildV3&lt;/string&gt;
+			&lt;key&gt;WindowString&lt;/key&gt;
+			&lt;string&gt;172 122 500 500 0 0 1280 778 &lt;/string&gt;
+			&lt;key&gt;WindowToolGUID&lt;/key&gt;
+			&lt;string&gt;C3AD27220ED34BDF0044B2BB&lt;/string&gt;
+			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
+			&lt;false/&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;windowTool.debugger&lt;/string&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;ContentConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;Debugger&lt;/key&gt;
+								&lt;dict&gt;
+									&lt;key&gt;HorizontalSplitView&lt;/key&gt;
+									&lt;dict&gt;
+										&lt;key&gt;_collapsingFrameDimension&lt;/key&gt;
+										&lt;real&gt;0.0&lt;/real&gt;
+										&lt;key&gt;_indexOfCollapsedView&lt;/key&gt;
+										&lt;integer&gt;0&lt;/integer&gt;
+										&lt;key&gt;_percentageOfCollapsedView&lt;/key&gt;
+										&lt;real&gt;0.0&lt;/real&gt;
+										&lt;key&gt;isCollapsed&lt;/key&gt;
+										&lt;string&gt;yes&lt;/string&gt;
+										&lt;key&gt;sizes&lt;/key&gt;
+										&lt;array&gt;
+											&lt;string&gt;{{0, 0}, {317, 164}}&lt;/string&gt;
+											&lt;string&gt;{{317, 0}, {377, 164}}&lt;/string&gt;
+										&lt;/array&gt;
+									&lt;/dict&gt;
+									&lt;key&gt;VerticalSplitView&lt;/key&gt;
+									&lt;dict&gt;
+										&lt;key&gt;_collapsingFrameDimension&lt;/key&gt;
+										&lt;real&gt;0.0&lt;/real&gt;
+										&lt;key&gt;_indexOfCollapsedView&lt;/key&gt;
+										&lt;integer&gt;0&lt;/integer&gt;
+										&lt;key&gt;_percentageOfCollapsedView&lt;/key&gt;
+										&lt;real&gt;0.0&lt;/real&gt;
+										&lt;key&gt;isCollapsed&lt;/key&gt;
+										&lt;string&gt;yes&lt;/string&gt;
+										&lt;key&gt;sizes&lt;/key&gt;
+										&lt;array&gt;
+											&lt;string&gt;{{0, 0}, {694, 164}}&lt;/string&gt;
+											&lt;string&gt;{{0, 164}, {694, 216}}&lt;/string&gt;
+										&lt;/array&gt;
+									&lt;/dict&gt;
+								&lt;/dict&gt;
+								&lt;key&gt;LauncherConfigVersion&lt;/key&gt;
+								&lt;string&gt;8&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+								&lt;string&gt;1C162984064C10D400B95A72&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+								&lt;string&gt;Debug - GLUTExamples (Underwater)&lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;DebugConsoleDrawerSize&lt;/key&gt;
+								&lt;string&gt;{100, 120}&lt;/string&gt;
+								&lt;key&gt;DebugConsoleVisible&lt;/key&gt;
+								&lt;string&gt;None&lt;/string&gt;
+								&lt;key&gt;DebugConsoleWindowFrame&lt;/key&gt;
+								&lt;string&gt;{{200, 200}, {500, 300}}&lt;/string&gt;
+								&lt;key&gt;DebugSTDIOWindowFrame&lt;/key&gt;
+								&lt;string&gt;{{200, 200}, {500, 300}}&lt;/string&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{{0, 0}, {694, 380}}&lt;/string&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;321 238 694 422 0 0 1440 878 &lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;PBXDebugSessionModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;100%&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;100%&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Debugger&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;PBXDebugSessionModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
+			&lt;integer&gt;1&lt;/integer&gt;
+			&lt;key&gt;TableOfContents&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;1CD10A99069EF8BA00B06720&lt;/string&gt;
+				&lt;string&gt;1C0AD2AB069F1E9B00FABCE6&lt;/string&gt;
+				&lt;string&gt;1C162984064C10D400B95A72&lt;/string&gt;
+				&lt;string&gt;1C0AD2AC069F1E9B00FABCE6&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
+			&lt;string&gt;xcode.toolbar.config.debugV3&lt;/string&gt;
+			&lt;key&gt;WindowString&lt;/key&gt;
+			&lt;string&gt;321 238 694 422 0 0 1440 878 &lt;/string&gt;
+			&lt;key&gt;WindowToolGUID&lt;/key&gt;
+			&lt;string&gt;1CD10A99069EF8BA00B06720&lt;/string&gt;
+			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
+			&lt;integer&gt;0&lt;/integer&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;windowTool.find&lt;/string&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;Dock&lt;/key&gt;
+							&lt;array&gt;
+								&lt;dict&gt;
+									&lt;key&gt;ContentConfiguration&lt;/key&gt;
+									&lt;dict&gt;
+										&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+										&lt;string&gt;1CDD528C0622207200134675&lt;/string&gt;
+										&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+										&lt;string&gt;&lt;No Editor&gt;&lt;/string&gt;
+										&lt;key&gt;PBXSplitModuleInNavigatorKey&lt;/key&gt;
+										&lt;dict&gt;
+											&lt;key&gt;Split0&lt;/key&gt;
+											&lt;dict&gt;
+												&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+												&lt;string&gt;1CD0528D0623707200166675&lt;/string&gt;
+											&lt;/dict&gt;
+											&lt;key&gt;SplitCount&lt;/key&gt;
+											&lt;string&gt;1&lt;/string&gt;
+										&lt;/dict&gt;
+										&lt;key&gt;StatusBarVisibility&lt;/key&gt;
+										&lt;integer&gt;1&lt;/integer&gt;
+									&lt;/dict&gt;
+									&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+									&lt;dict&gt;
+										&lt;key&gt;Frame&lt;/key&gt;
+										&lt;string&gt;{{0, 0}, {781, 167}}&lt;/string&gt;
+										&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+										&lt;string&gt;62 385 781 470 0 0 1440 878 &lt;/string&gt;
+									&lt;/dict&gt;
+									&lt;key&gt;Module&lt;/key&gt;
+									&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
+									&lt;key&gt;Proportion&lt;/key&gt;
+									&lt;string&gt;781pt&lt;/string&gt;
+								&lt;/dict&gt;
+							&lt;/array&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;50%&lt;/string&gt;
+						&lt;/dict&gt;
+						&lt;dict&gt;
+							&lt;key&gt;BecomeActive&lt;/key&gt;
+							&lt;integer&gt;1&lt;/integer&gt;
+							&lt;key&gt;ContentConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+								&lt;string&gt;1CD0528E0623707200166675&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+								&lt;string&gt;Project Find&lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{{8, 0}, {773, 254}}&lt;/string&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;62 385 781 470 0 0 1440 878 &lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;PBXProjectFindModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;50%&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;428pt&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Project Find&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;PBXProjectFindModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
+			&lt;integer&gt;1&lt;/integer&gt;
+			&lt;key&gt;TableOfContents&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;1C530D57069F1CE1000CFCEE&lt;/string&gt;
+				&lt;string&gt;1C530D58069F1CE1000CFCEE&lt;/string&gt;
+				&lt;string&gt;1C530D59069F1CE1000CFCEE&lt;/string&gt;
+				&lt;string&gt;1CDD528C0622207200134675&lt;/string&gt;
+				&lt;string&gt;1C530D5A069F1CE1000CFCEE&lt;/string&gt;
+				&lt;string&gt;1CE0B1FE06471DED0097A5F4&lt;/string&gt;
+				&lt;string&gt;1CD0528E0623707200166675&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;WindowString&lt;/key&gt;
+			&lt;string&gt;62 385 781 470 0 0 1440 878 &lt;/string&gt;
+			&lt;key&gt;WindowToolGUID&lt;/key&gt;
+			&lt;string&gt;1C530D57069F1CE1000CFCEE&lt;/string&gt;
+			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
+			&lt;integer&gt;0&lt;/integer&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;MENUSEPARATOR&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;windowTool.debuggerConsole&lt;/string&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;BecomeActive&lt;/key&gt;
+							&lt;integer&gt;1&lt;/integer&gt;
+							&lt;key&gt;ContentConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+								&lt;string&gt;1C78EAAC065D492600B07095&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+								&lt;string&gt;Debugger Console&lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{{0, 0}, {650, 250}}&lt;/string&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;516 632 650 250 0 0 1680 1027 &lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;PBXDebugCLIModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;209pt&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;209pt&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Debugger Console&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;PBXDebugCLIModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
+			&lt;integer&gt;1&lt;/integer&gt;
+			&lt;key&gt;TableOfContents&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;1C78EAAD065D492600B07095&lt;/string&gt;
+				&lt;string&gt;1C78EAAE065D492600B07095&lt;/string&gt;
+				&lt;string&gt;1C78EAAC065D492600B07095&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
+			&lt;string&gt;xcode.toolbar.config.consoleV3&lt;/string&gt;
+			&lt;key&gt;WindowString&lt;/key&gt;
+			&lt;string&gt;650 41 650 250 0 0 1280 1002 &lt;/string&gt;
+			&lt;key&gt;WindowToolGUID&lt;/key&gt;
+			&lt;string&gt;1C78EAAD065D492600B07095&lt;/string&gt;
+			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
+			&lt;integer&gt;0&lt;/integer&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;windowTool.snapshots&lt;/string&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;XCSnapshotModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;100%&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;100%&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Snapshots&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;XCSnapshotModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
+			&lt;string&gt;Yes&lt;/string&gt;
+			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
+			&lt;string&gt;xcode.toolbar.config.snapshots&lt;/string&gt;
+			&lt;key&gt;WindowString&lt;/key&gt;
+			&lt;string&gt;315 824 300 550 0 0 1440 878 &lt;/string&gt;
+			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
+			&lt;string&gt;Yes&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;windowTool.scm&lt;/string&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;ContentConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+								&lt;string&gt;1C78EAB2065D492600B07095&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+								&lt;string&gt;&lt;No Editor&gt;&lt;/string&gt;
+								&lt;key&gt;PBXSplitModuleInNavigatorKey&lt;/key&gt;
+								&lt;dict&gt;
+									&lt;key&gt;Split0&lt;/key&gt;
+									&lt;dict&gt;
+										&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+										&lt;string&gt;1C78EAB3065D492600B07095&lt;/string&gt;
+									&lt;/dict&gt;
+									&lt;key&gt;SplitCount&lt;/key&gt;
+									&lt;string&gt;1&lt;/string&gt;
+								&lt;/dict&gt;
+								&lt;key&gt;StatusBarVisibility&lt;/key&gt;
+								&lt;integer&gt;1&lt;/integer&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{{0, 0}, {452, 0}}&lt;/string&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;743 379 452 308 0 0 1280 1002 &lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;0pt&lt;/string&gt;
+						&lt;/dict&gt;
+						&lt;dict&gt;
+							&lt;key&gt;BecomeActive&lt;/key&gt;
+							&lt;integer&gt;1&lt;/integer&gt;
+							&lt;key&gt;ContentConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+								&lt;string&gt;1CD052920623707200166675&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+								&lt;string&gt;SCM&lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;ConsoleFrame&lt;/key&gt;
+								&lt;string&gt;{{0, 259}, {452, 0}}&lt;/string&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{{0, 7}, {452, 259}}&lt;/string&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;743 379 452 308 0 0 1280 1002 &lt;/string&gt;
+								&lt;key&gt;TableConfiguration&lt;/key&gt;
+								&lt;array&gt;
+									&lt;string&gt;Status&lt;/string&gt;
+									&lt;real&gt;30&lt;/real&gt;
+									&lt;string&gt;FileName&lt;/string&gt;
+									&lt;real&gt;199&lt;/real&gt;
+									&lt;string&gt;Path&lt;/string&gt;
+									&lt;real&gt;197.0950012207031&lt;/real&gt;
+								&lt;/array&gt;
+								&lt;key&gt;TableFrame&lt;/key&gt;
+								&lt;string&gt;{{0, 0}, {452, 250}}&lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;PBXCVSModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;262pt&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;266pt&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;SCM&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;PBXCVSModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
+			&lt;integer&gt;1&lt;/integer&gt;
+			&lt;key&gt;TableOfContents&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;1C78EAB4065D492600B07095&lt;/string&gt;
+				&lt;string&gt;1C78EAB5065D492600B07095&lt;/string&gt;
+				&lt;string&gt;1C78EAB2065D492600B07095&lt;/string&gt;
+				&lt;string&gt;1CD052920623707200166675&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
+			&lt;string&gt;xcode.toolbar.config.scm&lt;/string&gt;
+			&lt;key&gt;WindowString&lt;/key&gt;
+			&lt;string&gt;743 379 452 308 0 0 1280 1002 &lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;windowTool.breakpoints&lt;/string&gt;
+			&lt;key&gt;IsVertical&lt;/key&gt;
+			&lt;integer&gt;0&lt;/integer&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;BecomeActive&lt;/key&gt;
+							&lt;integer&gt;1&lt;/integer&gt;
+							&lt;key&gt;ContentConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;PBXBottomSmartGroupGIDs&lt;/key&gt;
+								&lt;array&gt;
+									&lt;string&gt;1C77FABC04509CD000000102&lt;/string&gt;
+								&lt;/array&gt;
+								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+								&lt;string&gt;1CE0B1FE06471DED0097A5F4&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+								&lt;string&gt;Files&lt;/string&gt;
+								&lt;key&gt;PBXProjectStructureProvided&lt;/key&gt;
+								&lt;string&gt;no&lt;/string&gt;
+								&lt;key&gt;PBXSmartGroupTreeModuleColumnData&lt;/key&gt;
+								&lt;dict&gt;
+									&lt;key&gt;PBXSmartGroupTreeModuleColumnWidthsKey&lt;/key&gt;
+									&lt;array&gt;
+										&lt;real&gt;168&lt;/real&gt;
+									&lt;/array&gt;
+									&lt;key&gt;PBXSmartGroupTreeModuleColumnsKey_v4&lt;/key&gt;
+									&lt;array&gt;
+										&lt;string&gt;MainColumn&lt;/string&gt;
+									&lt;/array&gt;
+								&lt;/dict&gt;
+								&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateKey_v7&lt;/key&gt;
+								&lt;dict&gt;
+									&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateExpansionKey&lt;/key&gt;
+									&lt;array&gt;
+										&lt;string&gt;1C77FABC04509CD000000102&lt;/string&gt;
+									&lt;/array&gt;
+									&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateSelectionKey&lt;/key&gt;
+									&lt;array&gt;
+										&lt;array&gt;
+											&lt;integer&gt;0&lt;/integer&gt;
+										&lt;/array&gt;
+									&lt;/array&gt;
+									&lt;key&gt;PBXSmartGroupTreeModuleOutlineStateVisibleRectKey&lt;/key&gt;
+									&lt;string&gt;{{0, 0}, {168, 350}}&lt;/string&gt;
+								&lt;/dict&gt;
+								&lt;key&gt;PBXTopSmartGroupGIDs&lt;/key&gt;
+								&lt;array/&gt;
+								&lt;key&gt;XCIncludePerspectivesSwitch&lt;/key&gt;
+								&lt;integer&gt;0&lt;/integer&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{{0, 0}, {185, 368}}&lt;/string&gt;
+								&lt;key&gt;GroupTreeTableConfiguration&lt;/key&gt;
+								&lt;array&gt;
+									&lt;string&gt;MainColumn&lt;/string&gt;
+									&lt;real&gt;168&lt;/real&gt;
+								&lt;/array&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;315 424 744 409 0 0 1440 878 &lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;185pt&lt;/string&gt;
+						&lt;/dict&gt;
+						&lt;dict&gt;
+							&lt;key&gt;ContentConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+								&lt;string&gt;1CA1AED706398EBD00589147&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+								&lt;string&gt;Detail&lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{{190, 0}, {554, 368}}&lt;/string&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;315 424 744 409 0 0 1440 878 &lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;XCDetailModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;554pt&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;368pt&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;MajorVersion&lt;/key&gt;
+			&lt;integer&gt;3&lt;/integer&gt;
+			&lt;key&gt;MinorVersion&lt;/key&gt;
+			&lt;integer&gt;0&lt;/integer&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Breakpoints&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;PBXSmartGroupTreeModule&lt;/string&gt;
+				&lt;string&gt;XCDetailModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
+			&lt;integer&gt;1&lt;/integer&gt;
+			&lt;key&gt;TableOfContents&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;1CDDB66807F98D9800BB5817&lt;/string&gt;
+				&lt;string&gt;1CDDB66907F98D9800BB5817&lt;/string&gt;
+				&lt;string&gt;1CE0B1FE06471DED0097A5F4&lt;/string&gt;
+				&lt;string&gt;1CA1AED706398EBD00589147&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
+			&lt;string&gt;xcode.toolbar.config.breakpointsV3&lt;/string&gt;
+			&lt;key&gt;WindowString&lt;/key&gt;
+			&lt;string&gt;315 424 744 409 0 0 1440 878 &lt;/string&gt;
+			&lt;key&gt;WindowToolGUID&lt;/key&gt;
+			&lt;string&gt;1CDDB66807F98D9800BB5817&lt;/string&gt;
+			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
+			&lt;integer&gt;1&lt;/integer&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;windowTool.debugAnimator&lt;/string&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;100%&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;100%&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Debug Visualizer&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;PBXNavigatorGroup&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
+			&lt;integer&gt;1&lt;/integer&gt;
+			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
+			&lt;string&gt;xcode.toolbar.config.debugAnimatorV3&lt;/string&gt;
+			&lt;key&gt;WindowString&lt;/key&gt;
+			&lt;string&gt;100 100 700 500 0 0 1280 1002 &lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;windowTool.bookmarks&lt;/string&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;PBXBookmarksModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;100%&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;100%&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Bookmarks&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;PBXBookmarksModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
+			&lt;integer&gt;0&lt;/integer&gt;
+			&lt;key&gt;WindowString&lt;/key&gt;
+			&lt;string&gt;538 42 401 187 0 0 1280 1002 &lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;windowTool.projectFormatConflicts&lt;/string&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;XCProjectFormatConflictsModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;100%&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;100%&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Project Format Conflicts&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;XCProjectFormatConflictsModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
+			&lt;integer&gt;0&lt;/integer&gt;
+			&lt;key&gt;WindowContentMinSize&lt;/key&gt;
+			&lt;string&gt;450 300&lt;/string&gt;
+			&lt;key&gt;WindowString&lt;/key&gt;
+			&lt;string&gt;50 850 472 307 0 0 1440 877&lt;/string&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;windowTool.classBrowser&lt;/string&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;BecomeActive&lt;/key&gt;
+							&lt;integer&gt;1&lt;/integer&gt;
+							&lt;key&gt;ContentConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;OptionsSetName&lt;/key&gt;
+								&lt;string&gt;Hierarchy, all classes&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleGUID&lt;/key&gt;
+								&lt;string&gt;1CA6456E063B45B4001379D8&lt;/string&gt;
+								&lt;key&gt;PBXProjectModuleLabel&lt;/key&gt;
+								&lt;string&gt;Class Browser - NSObject&lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;ClassesFrame&lt;/key&gt;
+								&lt;string&gt;{{0, 0}, {374, 96}}&lt;/string&gt;
+								&lt;key&gt;ClassesTreeTableConfiguration&lt;/key&gt;
+								&lt;array&gt;
+									&lt;string&gt;PBXClassNameColumnIdentifier&lt;/string&gt;
+									&lt;real&gt;208&lt;/real&gt;
+									&lt;string&gt;PBXClassBookColumnIdentifier&lt;/string&gt;
+									&lt;real&gt;22&lt;/real&gt;
+								&lt;/array&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{{0, 0}, {630, 331}}&lt;/string&gt;
+								&lt;key&gt;MembersFrame&lt;/key&gt;
+								&lt;string&gt;{{0, 105}, {374, 395}}&lt;/string&gt;
+								&lt;key&gt;MembersTreeTableConfiguration&lt;/key&gt;
+								&lt;array&gt;
+									&lt;string&gt;PBXMemberTypeIconColumnIdentifier&lt;/string&gt;
+									&lt;real&gt;22&lt;/real&gt;
+									&lt;string&gt;PBXMemberNameColumnIdentifier&lt;/string&gt;
+									&lt;real&gt;216&lt;/real&gt;
+									&lt;string&gt;PBXMemberTypeColumnIdentifier&lt;/string&gt;
+									&lt;real&gt;97&lt;/real&gt;
+									&lt;string&gt;PBXMemberBookColumnIdentifier&lt;/string&gt;
+									&lt;real&gt;22&lt;/real&gt;
+								&lt;/array&gt;
+								&lt;key&gt;PBXModuleWindowStatusBarHidden2&lt;/key&gt;
+								&lt;integer&gt;1&lt;/integer&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;385 179 630 352 0 0 1440 878 &lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;PBXClassBrowserModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;332pt&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;332pt&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Class Browser&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;PBXClassBrowserModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;StatusbarIsVisible&lt;/key&gt;
+			&lt;integer&gt;0&lt;/integer&gt;
+			&lt;key&gt;TableOfContents&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;1C0AD2AF069F1E9B00FABCE6&lt;/string&gt;
+				&lt;string&gt;1C0AD2B0069F1E9B00FABCE6&lt;/string&gt;
+				&lt;string&gt;1CA6456E063B45B4001379D8&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;ToolbarConfiguration&lt;/key&gt;
+			&lt;string&gt;xcode.toolbar.config.classbrowser&lt;/string&gt;
+			&lt;key&gt;WindowString&lt;/key&gt;
+			&lt;string&gt;385 179 630 352 0 0 1440 878 &lt;/string&gt;
+			&lt;key&gt;WindowToolGUID&lt;/key&gt;
+			&lt;string&gt;1C0AD2AF069F1E9B00FABCE6&lt;/string&gt;
+			&lt;key&gt;WindowToolIsVisible&lt;/key&gt;
+			&lt;integer&gt;0&lt;/integer&gt;
+		&lt;/dict&gt;
+		&lt;dict&gt;
+			&lt;key&gt;Identifier&lt;/key&gt;
+			&lt;string&gt;windowTool.refactoring&lt;/string&gt;
+			&lt;key&gt;IncludeInToolsMenu&lt;/key&gt;
+			&lt;integer&gt;0&lt;/integer&gt;
+			&lt;key&gt;Layout&lt;/key&gt;
+			&lt;array&gt;
+				&lt;dict&gt;
+					&lt;key&gt;Dock&lt;/key&gt;
+					&lt;array&gt;
+						&lt;dict&gt;
+							&lt;key&gt;BecomeActive&lt;/key&gt;
+							&lt;integer&gt;1&lt;/integer&gt;
+							&lt;key&gt;GeometryConfiguration&lt;/key&gt;
+							&lt;dict&gt;
+								&lt;key&gt;Frame&lt;/key&gt;
+								&lt;string&gt;{0, 0}, {500, 335}&lt;/string&gt;
+								&lt;key&gt;RubberWindowFrame&lt;/key&gt;
+								&lt;string&gt;{0, 0}, {500, 335}&lt;/string&gt;
+							&lt;/dict&gt;
+							&lt;key&gt;Module&lt;/key&gt;
+							&lt;string&gt;XCRefactoringModule&lt;/string&gt;
+							&lt;key&gt;Proportion&lt;/key&gt;
+							&lt;string&gt;100%&lt;/string&gt;
+						&lt;/dict&gt;
+					&lt;/array&gt;
+					&lt;key&gt;Proportion&lt;/key&gt;
+					&lt;string&gt;100%&lt;/string&gt;
+				&lt;/dict&gt;
+			&lt;/array&gt;
+			&lt;key&gt;Name&lt;/key&gt;
+			&lt;string&gt;Refactoring&lt;/string&gt;
+			&lt;key&gt;ServiceClasses&lt;/key&gt;
+			&lt;array&gt;
+				&lt;string&gt;XCRefactoringModule&lt;/string&gt;
+			&lt;/array&gt;
+			&lt;key&gt;WindowString&lt;/key&gt;
+			&lt;string&gt;200 200 500 356 0 0 1920 1200 &lt;/string&gt;
+		&lt;/dict&gt;
+	&lt;/array&gt;
+&lt;/dict&gt;
+&lt;/plist&gt;

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.pbxuser
===================================================================
--- trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.pbxuser	2008-11-23 23:14:26 UTC (rev 7096)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.pbxuser	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,129 +0,0 @@
-// !$*UTF8*$!
-{
-	0867D690FE84028FC02AAC07 /* Project object */ = {
-		activeBuildConfigurationName = Debug;
-		activeTarget = D2AAC09C05546B4700DB518D /* ntai-xcode */;
-		addToTargets = (
-			D2AAC09C05546B4700DB518D /* ntai-xcode */,
-		);
-		codeSenseManager = C3AD264D0ED34B890044B2BB /* Code sense */;
-		perUserDictionary = {
-			PBXConfiguration.PBXFileTableDataSource3.PBXFileTableDataSource = {
-				PBXFileTableDataSourceColumnSortingDirectionKey = &quot;-1&quot;;
-				PBXFileTableDataSourceColumnSortingKey = PBXFileDataSource_Filename_ColumnID;
-				PBXFileTableDataSourceColumnWidthsKey = (
-					20,
-					341,
-					20,
-					48.16259765625,
-					43,
-					43,
-					20,
-				);
-				PBXFileTableDataSourceColumnsKey = (
-					PBXFileDataSource_FiletypeID,
-					PBXFileDataSource_Filename_ColumnID,
-					PBXFileDataSource_Built_ColumnID,
-					PBXFileDataSource_ObjectSize_ColumnID,
-					PBXFileDataSource_Errors_ColumnID,
-					PBXFileDataSource_Warnings_ColumnID,
-					PBXFileDataSource_Target_ColumnID,
-				);
-			};
-			PBXPerProjectTemplateStateSaveDate = 248728437;
-			PBXWorkspaceStateSaveDate = 248728437;
-		};
-		perUserProjectItems = {
-			C3AD271B0ED34BDF0044B2BB /* PBXTextBookmark */ = C3AD271B0ED34BDF0044B2BB /* PBXTextBookmark */;
-			C3AD271C0ED34BDF0044B2BB /* PBXBookmark */ = C3AD271C0ED34BDF0044B2BB /* PBXBookmark */;
-			C3AD271D0ED34BDF0044B2BB /* PBXTextBookmark */ = C3AD271D0ED34BDF0044B2BB /* PBXTextBookmark */;
-			C3AD271E0ED34BDF0044B2BB /* PBXTextBookmark */ = C3AD271E0ED34BDF0044B2BB /* PBXTextBookmark */;
-		};
-		sourceControlManager = C3AD264C0ED34B890044B2BB /* Source Control */;
-		userBuildSettings = {
-		};
-	};
-	C3AD264C0ED34B890044B2BB /* Source Control */ = {
-		isa = PBXSourceControlManager;
-		fallbackIsa = XCSourceControlManager;
-		isSCMEnabled = 0;
-		scmConfiguration = {
-		};
-	};
-	C3AD264D0ED34B890044B2BB /* Code sense */ = {
-		isa = PBXCodeSenseManager;
-		indexTemplatePath = &quot;&quot;;
-	};
-	C3AD266D0ED34BA80044B2BB /* CConfigData.cpp */ = {
-		uiCtxt = {
-			sepNavIntBoundsRect = &quot;{{0, 0}, {924, 742}}&quot;;
-			sepNavSelRange = &quot;{175, 0}&quot;;
-			sepNavVisRange = &quot;{449, 1390}&quot;;
-		};
-	};
-	C3AD267D0ED34BA80044B2BB /* TdfParser.cpp */ = {
-		uiCtxt = {
-			sepNavIntBoundsRect = &quot;{{0, 0}, {762, 5726}}&quot;;
-			sepNavSelRange = &quot;{3009, 0}&quot;;
-			sepNavVisRange = &quot;{2766, 878}&quot;;
-		};
-	};
-	C3AD267E0ED34BA80044B2BB /* TdfParser.h */ = {
-		uiCtxt = {
-			sepNavIntBoundsRect = &quot;{{0, 0}, {708, 1624}}&quot;;
-			sepNavSelRange = &quot;{861, 0}&quot;;
-			sepNavVisRange = &quot;{367, 1216}&quot;;
-		};
-	};
-	C3AD268F0ED34BA80044B2BB /* Actions.cpp */ = {
-		uiCtxt = {
-			sepNavIntBoundsRect = &quot;{{0, 0}, {519, 16002}}&quot;;
-			sepNavSelRange = &quot;{0, 0}&quot;;
-			sepNavVisRange = &quot;{0, 336}&quot;;
-		};
-	};
-	C3AD26900ED34BA80044B2BB /* Actions.h */ = {
-		uiCtxt = {
-			sepNavIntBoundsRect = &quot;{{0, 0}, {672, 1218}}&quot;;
-			sepNavSelRange = &quot;{0, 0}&quot;;
-			sepNavVisRange = &quot;{0, 490}&quot;;
-		};
-	};
-	C3AD271B0ED34BDF0044B2BB /* PBXTextBookmark */ = {
-		isa = PBXTextBookmark;
-		fRef = C3AD26900ED34BA80044B2BB /* Actions.h */;
-		name = &quot;Actions.h: 1&quot;;
-		rLen = 0;
-		rLoc = 0;
-		rType = 0;
-		vrLen = 490;
-		vrLoc = 0;
-	};
-	C3AD271C0ED34BDF0044B2BB /* PBXBookmark */ = {
-		isa = PBXBookmark;
-		fRef = C3AD268F0ED34BA80044B2BB /* Actions.cpp */;
-	};
-	C3AD271D0ED34BDF0044B2BB /* PBXTextBookmark */ = {
-		isa = PBXTextBookmark;
-		fRef = C3AD26900ED34BA80044B2BB /* Actions.h */;
-		name = &quot;Actions.h: 1&quot;;
-		rLen = 0;
-		rLoc = 0;
-		rType = 0;
-		vrLen = 490;
-		vrLoc = 0;
-	};
-	C3AD271E0ED34BDF0044B2BB /* PBXTextBookmark */ = {
-		isa = PBXTextBookmark;
-		fRef = C3AD268F0ED34BA80044B2BB /* Actions.cpp */;
-		name = &quot;Actions.cpp: 1&quot;;
-		rLen = 0;
-		rLoc = 0;
-		rType = 0;
-		vrLen = 336;
-		vrLoc = 0;
-	};
-	D2AAC09C05546B4700DB518D /* ntai-xcode */ = {
-		activeExec = 0;
-	};
-}

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.pbxuser (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.pbxuser)
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.pbxuser	                        (rev 0)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcode.xcodeproj/tarendai.pbxuser	2008-11-25 23:26:49 UTC (rev 7099)
@@ -0,0 +1,129 @@
+// !$*UTF8*$!
+{
+	0867D690FE84028FC02AAC07 /* Project object */ = {
+		activeBuildConfigurationName = Debug;
+		activeTarget = D2AAC09C05546B4700DB518D /* ntai-xcode */;
+		addToTargets = (
+			D2AAC09C05546B4700DB518D /* ntai-xcode */,
+		);
+		codeSenseManager = C3AD264D0ED34B890044B2BB /* Code sense */;
+		perUserDictionary = {
+			PBXConfiguration.PBXFileTableDataSource3.PBXFileTableDataSource = {
+				PBXFileTableDataSourceColumnSortingDirectionKey = &quot;-1&quot;;
+				PBXFileTableDataSourceColumnSortingKey = PBXFileDataSource_Filename_ColumnID;
+				PBXFileTableDataSourceColumnWidthsKey = (
+					20,
+					341,
+					20,
+					48.16259765625,
+					43,
+					43,
+					20,
+				);
+				PBXFileTableDataSourceColumnsKey = (
+					PBXFileDataSource_FiletypeID,
+					PBXFileDataSource_Filename_ColumnID,
+					PBXFileDataSource_Built_ColumnID,
+					PBXFileDataSource_ObjectSize_ColumnID,
+					PBXFileDataSource_Errors_ColumnID,
+					PBXFileDataSource_Warnings_ColumnID,
+					PBXFileDataSource_Target_ColumnID,
+				);
+			};
+			PBXPerProjectTemplateStateSaveDate = 248728437;
+			PBXWorkspaceStateSaveDate = 248728437;
+		};
+		perUserProjectItems = {
+			C3AD271B0ED34BDF0044B2BB /* PBXTextBookmark */ = C3AD271B0ED34BDF0044B2BB /* PBXTextBookmark */;
+			C3AD271C0ED34BDF0044B2BB /* PBXBookmark */ = C3AD271C0ED34BDF0044B2BB /* PBXBookmark */;
+			C3AD271D0ED34BDF0044B2BB /* PBXTextBookmark */ = C3AD271D0ED34BDF0044B2BB /* PBXTextBookmark */;
+			C3AD271E0ED34BDF0044B2BB /* PBXTextBookmark */ = C3AD271E0ED34BDF0044B2BB /* PBXTextBookmark */;
+		};
+		sourceControlManager = C3AD264C0ED34B890044B2BB /* Source Control */;
+		userBuildSettings = {
+		};
+	};
+	C3AD264C0ED34B890044B2BB /* Source Control */ = {
+		isa = PBXSourceControlManager;
+		fallbackIsa = XCSourceControlManager;
+		isSCMEnabled = 0;
+		scmConfiguration = {
+		};
+	};
+	C3AD264D0ED34B890044B2BB /* Code sense */ = {
+		isa = PBXCodeSenseManager;
+		indexTemplatePath = &quot;&quot;;
+	};
+	C3AD266D0ED34BA80044B2BB /* CConfigData.cpp */ = {
+		uiCtxt = {
+			sepNavIntBoundsRect = &quot;{{0, 0}, {924, 742}}&quot;;
+			sepNavSelRange = &quot;{175, 0}&quot;;
+			sepNavVisRange = &quot;{449, 1390}&quot;;
+		};
+	};
+	C3AD267D0ED34BA80044B2BB /* TdfParser.cpp */ = {
+		uiCtxt = {
+			sepNavIntBoundsRect = &quot;{{0, 0}, {762, 5726}}&quot;;
+			sepNavSelRange = &quot;{3009, 0}&quot;;
+			sepNavVisRange = &quot;{2766, 878}&quot;;
+		};
+	};
+	C3AD267E0ED34BA80044B2BB /* TdfParser.h */ = {
+		uiCtxt = {
+			sepNavIntBoundsRect = &quot;{{0, 0}, {708, 1624}}&quot;;
+			sepNavSelRange = &quot;{861, 0}&quot;;
+			sepNavVisRange = &quot;{367, 1216}&quot;;
+		};
+	};
+	C3AD268F0ED34BA80044B2BB /* Actions.cpp */ = {
+		uiCtxt = {
+			sepNavIntBoundsRect = &quot;{{0, 0}, {519, 16002}}&quot;;
+			sepNavSelRange = &quot;{0, 0}&quot;;
+			sepNavVisRange = &quot;{0, 336}&quot;;
+		};
+	};
+	C3AD26900ED34BA80044B2BB /* Actions.h */ = {
+		uiCtxt = {
+			sepNavIntBoundsRect = &quot;{{0, 0}, {672, 1218}}&quot;;
+			sepNavSelRange = &quot;{0, 0}&quot;;
+			sepNavVisRange = &quot;{0, 490}&quot;;
+		};
+	};
+	C3AD271B0ED34BDF0044B2BB /* PBXTextBookmark */ = {
+		isa = PBXTextBookmark;
+		fRef = C3AD26900ED34BA80044B2BB /* Actions.h */;
+		name = &quot;Actions.h: 1&quot;;
+		rLen = 0;
+		rLoc = 0;
+		rType = 0;
+		vrLen = 490;
+		vrLoc = 0;
+	};
+	C3AD271C0ED34BDF0044B2BB /* PBXBookmark */ = {
+		isa = PBXBookmark;
+		fRef = C3AD268F0ED34BA80044B2BB /* Actions.cpp */;
+	};
+	C3AD271D0ED34BDF0044B2BB /* PBXTextBookmark */ = {
+		isa = PBXTextBookmark;
+		fRef = C3AD26900ED34BA80044B2BB /* Actions.h */;
+		name = &quot;Actions.h: 1&quot;;
+		rLen = 0;
+		rLoc = 0;
+		rType = 0;
+		vrLen = 490;
+		vrLoc = 0;
+	};
+	C3AD271E0ED34BDF0044B2BB /* PBXTextBookmark */ = {
+		isa = PBXTextBookmark;
+		fRef = C3AD268F0ED34BA80044B2BB /* Actions.cpp */;
+		name = &quot;Actions.cpp: 1&quot;;
+		rLen = 0;
+		rLoc = 0;
+		rType = 0;
+		vrLen = 336;
+		vrLoc = 0;
+	};
+	D2AAC09C05546B4700DB518D /* ntai-xcode */ = {
+		activeExec = 0;
+	};
+}

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeProj.xcconfig
===================================================================
--- trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcodeProj.xcconfig	2008-11-23 23:14:26 UTC (rev 7096)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeProj.xcconfig	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,6 +0,0 @@
-	PREBINDING = NO;
-	GCC_WARN_ABOUT_RETURN_TYPE = YES;
-	GCC_WARN_UNUSED_VARIABLE = YES;
-	GCC_MODEL_TUNING = G5;
-	GCC_INCREASE_PRECOMPILED_HEADER_SHARING = YES;
-	GCC_GENERATE_DEBUGGING_SYMBOLS = YES;

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeProj.xcconfig (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcodeProj.xcconfig)
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeProj.xcconfig	                        (rev 0)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeProj.xcconfig	2008-11-25 23:26:49 UTC (rev 7099)
@@ -0,0 +1,6 @@
+	PREBINDING = NO;
+	GCC_WARN_ABOUT_RETURN_TYPE = YES;
+	GCC_WARN_UNUSED_VARIABLE = YES;
+	GCC_MODEL_TUNING = G5;
+	GCC_INCREASE_PRECOMPILED_HEADER_SHARING = YES;
+	GCC_GENERATE_DEBUGGING_SYMBOLS = YES;

Deleted: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeTarget.xcconfig
===================================================================
--- trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcodeTarget.xcconfig	2008-11-23 23:14:26 UTC (rev 7096)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeTarget.xcconfig	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,11 +0,0 @@
-	PRODUCT_NAME = 	libntai-xcode;
-	INSTALL_PATH = /usr/local/lib;
-	MACH_O_TYPE = mh_dylib;
-	DYLIB_COMPATIBILITY_VERSION = 1;
-	DYLIB_CURRENT_VERSION = 1;
-	GCC_PRECOMPILE_PREFIX_HEADER = YES;
-	GCC_PREFIX_HEADER = ntai-xcode_Prefix.pch;
-	GCC_ENABLE_CPP_EXCEPTIONS = YES;
-	GCC_ENABLE_CPP_RTTI = YES;
-	STANDARD_C_PLUS_PLUS_LIBRARY_TYPE = Dynamic;
-	GCC_SYMBOLS_PRIVATE_EXTERN = NO;

Copied: branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeTarget.xcconfig (from rev 7096, trunk/AI/Global/NTai/AI/ntai-xcode/ntai-xcodeTarget.xcconfig)
===================================================================
--- branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeTarget.xcconfig	                        (rev 0)
+++ branches/caiinterface/AI/Skirmish/NTai/AI/ntai-xcode/ntai-xcodeTarget.xcconfig	2008-11-25 23:26:49 UTC (rev 7099)
@@ -0,0 +1,11 @@
+	PRODUCT_NAME = 	libntai-xcode;
+	INSTALL_PATH = /usr/local/lib;
+	MACH_O_TYPE = mh_dylib;
+	DYLIB_COMPATIBILITY_VERSION = 1;
+	DYLIB_CURRENT_VERSION = 1;
+	GCC_PRECOMPILE_PREFIX_HEADER = YES;
+	GCC_PREFIX_HEADER = ntai-xcode_Prefix.pch;
+	GCC_ENABLE_CPP_EXCEPTIONS = YES;
+	GCC_ENABLE_CPP_RTTI = YES;
+	STANDARD_C_PLUS_PLUS_LIBRARY_TYPE = Dynamic;
+	GCC_SYMBOLS_PRIVATE_EXTERN = NO;

Modified: branches/caiinterface/AI/Skirmish/RAI/DLLExportRAI.cpp
===================================================================
--- branches/caiinterface/AI/Skirmish/RAI/DLLExportRAI.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Skirmish/RAI/DLLExportRAI.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -6,24 +6,24 @@
 
 std::set&lt;IGlobalAI*&gt; ais;
 
-DLL_EXPORT int GetGlobalAiVersion()
+SHARED_EXPORT int GetGlobalAiVersion()
 {
 	return GLOBAL_AI_INTERFACE_VERSION;
 }
 
-DLL_EXPORT void GetAiName(char* name)
+SHARED_EXPORT void GetAiName(char* name)
 {
 	strcpy(name,AI_NAME);
 }
 
-DLL_EXPORT IGlobalAI* GetNewAI()
+SHARED_EXPORT IGlobalAI* GetNewAI()
 {
 	cRAI* ai=new cRAI;
 	ais.insert(ai);
 	return ai;
 }
 
-DLL_EXPORT void ReleaseAI(IGlobalAI* i)
+SHARED_EXPORT void ReleaseAI(IGlobalAI* i)
 {
 	delete (cRAI*)i;
 	ais.erase(i);

Modified: branches/caiinterface/AI/Wrappers/LegacyCpp/AIAICallback.cpp
===================================================================
--- branches/caiinterface/AI/Wrappers/LegacyCpp/AIAICallback.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Wrappers/LegacyCpp/AIAICallback.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -65,7 +65,7 @@
 static inline int getResourceIndex_Energy(SAICallback* sAICallback, int teamId) {
 
 	if (resIndEnergy == -1) {
-		resIndMetal = sAICallback-&gt;Clb_0MULTI1FETCH3ResourceByName0Resource(teamId, &quot;Energy&quot;);
+		resIndEnergy = sAICallback-&gt;Clb_0MULTI1FETCH3ResourceByName0Resource(teamId, &quot;Energy&quot;);
 	}
 
 	return resIndEnergy;

Modified: branches/caiinterface/AI/Wrappers/LegacyCpp/AIAICheats.cpp
===================================================================
--- branches/caiinterface/AI/Wrappers/LegacyCpp/AIAICheats.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/AI/Wrappers/LegacyCpp/AIAICheats.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -34,7 +34,7 @@
 static inline int getResourceIndex_Energy(SAICallback* sAICallback, int teamId) {
 
 	if (resIndEnergy == -1) {
-		resIndMetal = sAICallback-&gt;Clb_0MULTI1FETCH3ResourceByName0Resource(teamId, &quot;Energy&quot;);
+		resIndEnergy = sAICallback-&gt;Clb_0MULTI1FETCH3ResourceByName0Resource(teamId, &quot;Energy&quot;);
 	}
 
 	return resIndEnergy;

Modified: branches/caiinterface/CMakeLists.txt
===================================================================
--- branches/caiinterface/CMakeLists.txt	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/CMakeLists.txt	2008-11-25 23:26:49 UTC (rev 7099)
@@ -25,14 +25,18 @@
 	ADD_DEFINITIONS(-DDIRECT_CONTROL_ALLOWED)
 endif (DIRECT_CONTROL)
 
-IF (UNIX)
-	ADD_DEFINITIONS(-DNO_AVI)
-ELSEIF (UNIX)
+IF (WIN32)
 	SET(NO_AVI FALSE CACHE BOOL &quot;Disable in-game video recording&quot;)
 	if (NO_AVI)
 		ADD_DEFINITIONS(-DNO_AVI)
 	endif (NO_AVI)
-ENDIF(UNIX)
+	SET(WINDOWS_CONSOLE FALSE CACHE BOOL &quot;Show a visible cmd.exe with stdout when spring runs&quot;)
+	IF (NOT WINDOWS_CONSOLE)
+		SET(CMAKE_CXX_FLAGS &quot;${CMAKE_CXX_FLAGS} -mwindows&quot;)
+	ENDIF (NOT WINDOWS_CONSOLE)
+ELSE (WIN32)
+	ADD_DEFINITIONS(-DNO_AVI)
+ENDIF(WIN32)
 
 SET(SPRING_DATADIR ${CMAKE_INSTALL_PREFIX}/${DATADIR} CACHE STRING &quot;Path to game content (in addition to /etc/spring/datadir)&quot;)
 if (SPRING_DATADIR)

Modified: branches/caiinterface/SConstruct
===================================================================
--- branches/caiinterface/SConstruct	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/SConstruct	2008-11-25 23:26:49 UTC (rev 7099)
@@ -63,8 +63,11 @@
 	spring_files += env.RES(env['builddir'] + '/rts/build/scons/icon.rc', CPPPATH=[])
 
 # calculate datadir locations
-datadir = ['SPRING_DATADIR=&quot;\\&quot;'+os.path.join(env['prefix'], env['datadir'])+'\\&quot;&quot;',
-           'SPRING_DATADIR_2=&quot;\\&quot;'+os.path.join(env['prefix'], env['libdir'])+'\\&quot;&quot;']
+if env['platform'] == 'windows':
+	datadir = []
+else:
+	datadir = ['SPRING_DATADIR=&quot;\\&quot;'+os.path.join(env['prefix'], env['datadir'])+'\\&quot;&quot;',
+		   'SPRING_DATADIR_2=&quot;\\&quot;'+os.path.join(env['prefix'], env['libdir'])+'\\&quot;&quot;']
 
 # Build DataDirLocater.cpp separately from the other sources.  This is to prevent recompilation of
 # the entire source if one wants to change just the install installprefix (and hence the datadir).
@@ -117,7 +120,7 @@
 	'rts/Rendering/Textures/Bitmap.cpp',
 	'rts/Rendering/Textures/nv_dds.cpp',
 	'rts/Sim/Misc/SideParser.cpp',
-	'rts/System/Platform/ConfigHandler.cpp',
+	'rts/System/ConfigHandler.cpp',
 	'rts/System/LogOutput.cpp',
 ]
 for f in unitsync_fs_files:       unitsync_files += f
@@ -132,15 +135,13 @@
 	# during linking
 	if os.name != 'nt':
 		unitsync_files.append('rts/lib/minizip/iowin32.c')
-	for f in ['rts/System/FileSystem/DataDirLocater.cpp', 'rts/System/Platform/Win/RegHandler.cpp']:
+	for f in ['rts/System/FileSystem/DataDirLocater.cpp']:
 		unitsync_files += [os.path.join(uenv['builddir'], f)]
 	# Need the -Wl,--kill-at --add-stdcall-alias because TASClient expects undecorated stdcall functions.
 	unitsync = uenv.SharedLibrary('game/unitsync', unitsync_files, LINKFLAGS=env['LINKFLAGS'] + ['-Wl,--kill-at', '--add-stdcall-alias'])
 else:
 	ddlcpp = uenv.SharedObject(os.path.join(uenv['builddir'], 'rts/System/FileSystem/DataDirLocater.cpp'), CPPDEFINES = uenv['CPPDEFINES']+datadir)
-	unitsync_files += [ ddlcpp,
-		os.path.join(uenv['builddir'], 'rts/System/Platform/Linux/DotfileHandler.cpp'),
-	]
+	unitsync_files += [ ddlcpp ]
 	unitsync = uenv.SharedLibrary('game/unitsync', unitsync_files)
 
 Alias('unitsync', unitsync)

Modified: branches/caiinterface/game/LuaUI/Widgets/unit_immobile_buider.lua
===================================================================
--- branches/caiinterface/game/LuaUI/Widgets/unit_immobile_buider.lua	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/game/LuaUI/Widgets/unit_immobile_buider.lua	2008-11-25 23:26:49 UTC (rev 7099)
@@ -54,7 +54,8 @@
 --------------------------------------------------------------------------------
 
 local function IsImmobileBuilder(ud)
-  return (ud and ud.builder and not ud.canMove)
+  return(ud and ud.builder and not ud.canMove
+         and not ud.isFactory)
 end
 
 
@@ -63,7 +64,6 @@
   -- and give them a PATROL order (does not matter where, afaict)
   local x, y, z = spGetUnitPosition(unitID)
   if (x) then
-    spGiveOrderToUnit(unitID, CMD_STOP, {}, {})
     spGiveOrderToUnit(unitID, CMD_MOVE_STATE, { 2 }, {})
     spGiveOrderToUnit(unitID, CMD_PATROL, { x + 25, y, z - 25 }, {})
   end

Modified: branches/caiinterface/game/LuaUI/layout.lua
===================================================================
--- branches/caiinterface/game/LuaUI/layout.lua	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/game/LuaUI/layout.lua	2008-11-25 23:26:49 UTC (rev 7099)
@@ -39,7 +39,7 @@
 
 -- for DefaultHandler
 local FrameTex   = &quot;bitmaps/icons/frame_slate_128x96.png&quot;
-local FrameScale = &quot;&amp;0.099x0.132&amp;&quot;
+local FrameScale = &quot;&amp;0.1x0.1&amp;&quot;
 local PageNumTex = &quot;bitmaps/circularthingy.tga&quot;
 
 

Modified: branches/caiinterface/installer/make_test_installer.sh
===================================================================
--- branches/caiinterface/installer/make_test_installer.sh	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/installer/make_test_installer.sh	2008-11-25 23:26:49 UTC (rev 7099)
@@ -31,7 +31,7 @@
 # and build the correct full and updating installers.
 # The grep regex matches the ones used in buildbot.
 
-if grep -o -E '0\.[0-9]{2,2}[b.][0-9]\+(svn[0-9]+)?' rts/Game/GameVersion.cpp &gt;/dev/null; then
+if grep -o -E 'const char\* const.*\+' rts/Game/GameVersion.cpp &gt;/dev/null; then
 	echo &quot;Creating test installer&quot;
 	makensis -V3 -DTEST_BUILD -DREVISION=$REVISION installer/spring.nsi
 

Modified: branches/caiinterface/rts/ExternalAI/AICallback.cpp
===================================================================
--- branches/caiinterface/rts/ExternalAI/AICallback.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/ExternalAI/AICallback.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -17,7 +17,7 @@
 #include &quot;Map/MetalMap.h&quot;
 #include &quot;Map/ReadMap.h&quot;
 #include &quot;NetProtocol.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Platform/errorhandler.h&quot;
 #include &quot;FileSystem/FileSystem.h&quot;
 #include &quot;Rendering/InMapDraw.h&quot;

Modified: branches/caiinterface/rts/ExternalAI/AIInterfaceLibrary.cpp
===================================================================
--- branches/caiinterface/rts/ExternalAI/AIInterfaceLibrary.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/ExternalAI/AIInterfaceLibrary.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -46,7 +46,7 @@
 				&quot;AI Interface Error&quot;, MBF_OK | MBF_EXCL);
 	}
 	libFilePath = FindLibFile();
-	
+
 	sharedLib = SharedLib::Instantiate(libFilePath);
 	if (sharedLib == NULL) {
 		const int MAX_MSG_LENGTH = 511;
@@ -56,20 +56,20 @@
 				libFilePath.c_str());
 		handleerror(NULL, s_msg, &quot;AI Interface Error&quot;, MBF_OK | MBF_EXCL);
 	}
-	
+
 	InitializeFromLib(libFilePath);
-	
+
 	InitStatic();
 }
 
 CAIInterfaceLibrary::~CAIInterfaceLibrary() {
-	
+
 	ReleaseStatic();
 	delete sharedLib;
 }
 
 void CAIInterfaceLibrary::InitStatic() {
-	
+
 	if (sAIInterfaceLibrary.initStatic != NULL) {
 		staticGlobalData = createStaticGlobalData();
 		int ret = sAIInterfaceLibrary.initStatic(staticGlobalData);
@@ -88,7 +88,7 @@
 	}
 }
 void CAIInterfaceLibrary::ReleaseStatic() {
-	
+
 	if (sAIInterfaceLibrary.releaseStatic != NULL) {
 		int ret = sAIInterfaceLibrary.releaseStatic();
 		if (ret != 0) {
@@ -113,7 +113,7 @@
 
 LevelOfSupport CAIInterfaceLibrary::GetLevelOfSupportFor(
 			const std::string&amp; engineVersionString, int engineVersionNumber) const {
-	
+
 	if (sAIInterfaceLibrary.getLevelOfSupportFor != NULL) {
 		return sAIInterfaceLibrary.getLevelOfSupportFor(engineVersionString.c_str(), engineVersionNumber);
 	} else {
@@ -122,9 +122,9 @@
 }
 
 std::map&lt;std::string, InfoItem&gt; CAIInterfaceLibrary::GetInfo() const {
-	
+
 	std::map&lt;std::string, InfoItem&gt; info;
-	
+
 	if (sAIInterfaceLibrary.getInfo != NULL) {
 		InfoItem infs[MAX_INFOS];
 		int num = sAIInterfaceLibrary.getInfo(infs, MAX_INFOS);
@@ -140,19 +140,19 @@
 }
 
 int CAIInterfaceLibrary::GetLoadCount() const {
-	
+
 	int totalSkirmishAILibraryLoadCount = 0;
 	std::map&lt;const SSAISpecifier, int&gt;::const_iterator salc;
 	for (salc=skirmishAILoadCount.begin();  salc != skirmishAILoadCount.end(); salc++) {
 		totalSkirmishAILibraryLoadCount += salc-&gt;second;
 	}
-	
+
 	int totalGroupAILibraryLoadCount = 0;
 	std::map&lt;const SGAISpecifier, int&gt;::const_iterator galc;
 	for (galc=groupAILoadCount.begin();  galc != groupAILoadCount.end(); galc++) {
 		totalGroupAILibraryLoadCount += galc-&gt;second;
 	}
-	
+
 	return totalSkirmishAILibraryLoadCount + totalGroupAILibraryLoadCount;
 }
 
@@ -160,29 +160,29 @@
 // Skirmish AI methods
 /*
 std::vector&lt;SSAISpecifier&gt; CAIInterfaceLibrary::GetSkirmishAILibrarySpecifiers() const {
-	
+
 	std::vector&lt;SSAISpecifier&gt; specs;
-	
+
 	int max = 128;
 	SSAISpecifier specifiers[max];
 	int num = sAIInterfaceLibrary.getSkirmishAISpecifiers(specifiers, max);
-    for (int i=0; i &lt; num; ++i) {
-        specs.push_back(specifiers[i]);
-    }
-	
+	for (int i=0; i &lt; num; ++i) {
+		specs.push_back(specifiers[i]);
+	}
+
 	return specs;
 }
 */
 //const ISkirmishAILibrary* CAIInterfaceLibrary::FetchSkirmishAILibrary(const SSAISpecifier&amp; sAISpecifier) {
 //const ISkirmishAILibrary* CAIInterfaceLibrary::FetchSkirmishAILibrary(const InfoItem* info, unsigned int numInfo) {
 const ISkirmishAILibrary* CAIInterfaceLibrary::FetchSkirmishAILibrary(const CSkirmishAILibraryInfo* aiInfo) {
-	
+
 	ISkirmishAILibrary* ai = NULL;
-	
+
 	const unsigned int MAX_INFOS = 128;
 	InfoItem info[MAX_INFOS];
 	unsigned int numInfoItems = aiInfo-&gt;GetInfoCReference(info, MAX_INFOS);
-	
+
 	SSAISpecifier sAISpecifier = aiInfo-&gt;GetSpecifier();
 	if (skirmishAILoadCount[sAISpecifier] == 0) {
 		//const SSAILibrary* sLib = sAIInterfaceLibrary.loadSkirmishAILibrary(&amp;sAISpecifier);
@@ -193,35 +193,35 @@
 	} else {
 		ai = loadedSkirmishAILibraries[sAISpecifier];
 	}
-	
+
 	skirmishAILoadCount[sAISpecifier]++;
-	
+
 	return ai;
 }
 int CAIInterfaceLibrary::ReleaseSkirmishAILibrary(const SSAISpecifier&amp; sAISpecifier) {
-	
+
 	if (skirmishAILoadCount[sAISpecifier] == 0) {
 		return 0;
 	}
-	
+
 	skirmishAILoadCount[sAISpecifier]--;
-	
+
 	if (skirmishAILoadCount[sAISpecifier] == 0) {
 		loadedSkirmishAILibraries.erase(sAISpecifier);
 		sAIInterfaceLibrary.unloadSkirmishAILibrary(&amp;sAISpecifier);
 	}
-	
+
 	return skirmishAILoadCount[sAISpecifier];
 }
 int CAIInterfaceLibrary::GetSkirmishAILibraryLoadCount(const SSAISpecifier&amp; sAISpecifier) const {
 	return skirmishAILoadCount.at(sAISpecifier);
 }
 int CAIInterfaceLibrary::ReleaseAllSkirmishAILibraries() {
-	
+
 	int releasedAIs = sAIInterfaceLibrary.unloadAllSkirmishAILibraries();
 	loadedSkirmishAILibraries.clear();
 	skirmishAILoadCount.clear();
-	
+
 	return releasedAIs;
 }
 
@@ -230,16 +230,16 @@
 // Group AI methods
 /*
 std::vector&lt;SGAISpecifier&gt; CAIInterfaceLibrary::GetGroupAILibrarySpecifiers() const {
-	
+
 	std::vector&lt;SGAISpecifier&gt; specs;
-	
+
 	int max = 128;
 	SGAISpecifier specifiers[max];
 	int num = sAIInterfaceLibrary.getGroupAISpecifiers(specifiers, max);
 	for (int i=0; i &lt; num; ++i) {
 		specs.push_back(specifiers[i]);
 	}
-	
+
 	return specs;
 }
 */
@@ -247,11 +247,11 @@
 const IGroupAILibrary* CAIInterfaceLibrary::FetchGroupAILibrary(const CGroupAILibraryInfo* aiInfo) {
 
 	IGroupAILibrary* ai = NULL;
-	
+
 	const unsigned int MAX_INFOS = 128;
 	InfoItem info[MAX_INFOS];
 	unsigned int num = aiInfo-&gt;GetInfoCReference(info, MAX_INFOS);
-	
+
 	SGAISpecifier gAISpecifier = aiInfo-&gt;GetSpecifier();
 	if (groupAILoadCount[gAISpecifier] == 0) {
 		const SGAILibrary* gLib = sAIInterfaceLibrary.loadGroupAILibrary(info, num);
@@ -260,42 +260,42 @@
 	} else {
 		ai = loadedGroupAILibraries[gAISpecifier];
 	}
-	
+
 	groupAILoadCount[gAISpecifier]++;
-	
+
 	return ai;
 }
 int CAIInterfaceLibrary::ReleaseGroupAILibrary(const SGAISpecifier&amp; gAISpecifier) {
-	
+
 	if (groupAILoadCount[gAISpecifier] == 0) {
 		return 0;
 	}
-	
+
 	groupAILoadCount[gAISpecifier]--;
-	
+
 	if (groupAILoadCount[gAISpecifier] == 0) {
 		loadedGroupAILibraries.erase(gAISpecifier);
 		sAIInterfaceLibrary.unloadGroupAILibrary(&amp;gAISpecifier);
 	}
-	
+
 	return groupAILoadCount[gAISpecifier];
 }
 int CAIInterfaceLibrary::GetGroupAILibraryLoadCount(const SGAISpecifier&amp; gAISpecifier) const {
 	return groupAILoadCount.at(gAISpecifier);
 }
 int CAIInterfaceLibrary::ReleaseAllGroupAILibraries() {
-	
+
 	int releasedAIs = sAIInterfaceLibrary.unloadAllGroupAILibraries();
 	loadedGroupAILibraries.clear();
 	groupAILoadCount.clear();
-	
+
 	return releasedAIs;
 }
-	
-	
 
+
+
 void CAIInterfaceLibrary::reportInterfaceFunctionError(const std::string* libFileName, const std::string* functionName) {
-	
+
 	const int MAX_MSG_LENGTH = 511;
 	char s_msg[MAX_MSG_LENGTH + 1];
 	SNPRINTF(s_msg, MAX_MSG_LENGTH,
@@ -304,19 +304,19 @@
 	handleerror(NULL, s_msg, &quot;AI Interface Error&quot;, MBF_OK | MBF_EXCL);
 }
 int CAIInterfaceLibrary::InitializeFromLib(const std::string&amp; libFilePath) {
-	
-    // TODO: version checking
-	
+
+	// TODO: version checking
+
 	std::string funcName;
-	
+
 	funcName = &quot;initStatic&quot;;
-    sAIInterfaceLibrary.initStatic = (int (CALLING_CONV_FUNC_POINTER *)(const SStaticGlobalData* staticGlobalData)) sharedLib-&gt;FindAddress(funcName.c_str());
-    if (sAIInterfaceLibrary.initStatic == NULL) {
+	sAIInterfaceLibrary.initStatic = (int (CALLING_CONV_FUNC_POINTER *)(const SStaticGlobalData* staticGlobalData)) sharedLib-&gt;FindAddress(funcName.c_str());
+	if (sAIInterfaceLibrary.initStatic == NULL) {
 		// do nothing: it is permitted that an AI does not export this function
 		//reportInterfaceFunctionError(&amp;libFilePath, &amp;funcName);
-        //return -1;
-    }
-	
+		//return -1;
+	}
+
 	funcName = &quot;releaseStatic&quot;;
 	sAIInterfaceLibrary.releaseStatic = (int (CALLING_CONV_FUNC_POINTER *)()) sharedLib-&gt;FindAddress(funcName.c_str());
 	if (sAIInterfaceLibrary.releaseStatic == NULL) {
@@ -324,7 +324,7 @@
 		//reportInterfaceFunctionError(&amp;libFilePath, &amp;funcName);
 		//return -1;
 	}
-	
+
 	funcName = &quot;getLevelOfSupportFor&quot;;
 	sAIInterfaceLibrary.getLevelOfSupportFor = (LevelOfSupport (CALLING_CONV_FUNC_POINTER *)(const char*, int)) sharedLib-&gt;FindAddress(funcName.c_str());
 	if (sAIInterfaceLibrary.getLevelOfSupportFor == NULL) {
@@ -332,7 +332,7 @@
 		//reportInterfaceFunctionError(&amp;libFilePath, &amp;funcName);
 		//return -2;
 	}
-	
+
 	funcName = &quot;getInfo&quot;;
 	sAIInterfaceLibrary.getInfo = (unsigned int (CALLING_CONV_FUNC_POINTER *)(InfoItem[], unsigned int)) sharedLib-&gt;FindAddress(funcName.c_str());
 	if (sAIInterfaceLibrary.getInfo == NULL) {
@@ -340,67 +340,67 @@
 		//reportInterfaceFunctionError(&amp;libFilePath, &amp;funcName);
 		//return -1;
 	}
-	
+
 /*
 	funcName = &quot;getSkirmishAISpecifiers&quot;;
-    sAIInterfaceLibrary.getSkirmishAISpecifiers = (int (CALLING_CONV_FUNC_POINTER *)(SSAISpecifier*, int max)) sharedLib-&gt;FindAddress(funcName.c_str());
-    if (sAIInterfaceLibrary.getSkirmishAISpecifiers == NULL) {
+	sAIInterfaceLibrary.getSkirmishAISpecifiers = (int (CALLING_CONV_FUNC_POINTER *)(SSAISpecifier*, int max)) sharedLib-&gt;FindAddress(funcName.c_str());
+	if (sAIInterfaceLibrary.getSkirmishAISpecifiers == NULL) {
 		reportInterfaceFunctionError(&amp;libFilePath, &amp;funcName);
-        return -3;
-    }
+		return -3;
+	}
 */
-	
+
 	funcName = &quot;loadSkirmishAILibrary&quot;;
-    sAIInterfaceLibrary.loadSkirmishAILibrary = (const SSAILibrary* (CALLING_CONV_FUNC_POINTER *)(const struct InfoItem info[], unsigned int numInfoItems)) sharedLib-&gt;FindAddress(funcName.c_str());
-    if (sAIInterfaceLibrary.loadSkirmishAILibrary == NULL) {
+	sAIInterfaceLibrary.loadSkirmishAILibrary = (const SSAILibrary* (CALLING_CONV_FUNC_POINTER *)(const struct InfoItem info[], unsigned int numInfoItems)) sharedLib-&gt;FindAddress(funcName.c_str());
+	if (sAIInterfaceLibrary.loadSkirmishAILibrary == NULL) {
 		reportInterfaceFunctionError(&amp;libFilePath, &amp;funcName);
-        return -4;
-    }
-	
+		return -4;
+	}
+
 	funcName = &quot;unloadSkirmishAILibrary&quot;;
-    sAIInterfaceLibrary.unloadSkirmishAILibrary = (int (CALLING_CONV_FUNC_POINTER *)(const SSAISpecifier* const)) sharedLib-&gt;FindAddress(funcName.c_str());
-    if (sAIInterfaceLibrary.unloadSkirmishAILibrary == NULL) {
+	sAIInterfaceLibrary.unloadSkirmishAILibrary = (int (CALLING_CONV_FUNC_POINTER *)(const SSAISpecifier* const)) sharedLib-&gt;FindAddress(funcName.c_str());
+	if (sAIInterfaceLibrary.unloadSkirmishAILibrary == NULL) {
 		reportInterfaceFunctionError(&amp;libFilePath, &amp;funcName);
-        return -5;
-    }
-	
+		return -5;
+	}
+
 	funcName = &quot;unloadAllSkirmishAILibraries&quot;;
-    sAIInterfaceLibrary.unloadAllSkirmishAILibraries = (int (CALLING_CONV_FUNC_POINTER *)()) sharedLib-&gt;FindAddress(funcName.c_str());
-    if (sAIInterfaceLibrary.unloadAllSkirmishAILibraries == NULL) {
+	sAIInterfaceLibrary.unloadAllSkirmishAILibraries = (int (CALLING_CONV_FUNC_POINTER *)()) sharedLib-&gt;FindAddress(funcName.c_str());
+	if (sAIInterfaceLibrary.unloadAllSkirmishAILibraries == NULL) {
 		reportInterfaceFunctionError(&amp;libFilePath, &amp;funcName);
-        return -6;
-    }
-	
+		return -6;
+	}
+
 /*
 	funcName = &quot;getGroupAISpecifiers&quot;;
-    sAIInterfaceLibrary.getGroupAISpecifiers = (int (CALLING_CONV_FUNC_POINTER *)(SGAISpecifier*, int max)) sharedLib-&gt;FindAddress(funcName.c_str());
-    if (sAIInterfaceLibrary.getGroupAISpecifiers == NULL) {
+	sAIInterfaceLibrary.getGroupAISpecifiers = (int (CALLING_CONV_FUNC_POINTER *)(SGAISpecifier*, int max)) sharedLib-&gt;FindAddress(funcName.c_str());
+	if (sAIInterfaceLibrary.getGroupAISpecifiers == NULL) {
 		reportInterfaceFunctionError(&amp;libFilePath, &amp;funcName);
-        return -7;
-    }
+		return -7;
+	}
 */
-	
+
 	funcName = &quot;loadGroupAILibrary&quot;;
-    sAIInterfaceLibrary.loadGroupAILibrary = (const SGAILibrary* (CALLING_CONV_FUNC_POINTER *)(const struct InfoItem info[], unsigned int numInfoItems)) sharedLib-&gt;FindAddress(funcName.c_str());
-    if (sAIInterfaceLibrary.loadGroupAILibrary == NULL) {
+	sAIInterfaceLibrary.loadGroupAILibrary = (const SGAILibrary* (CALLING_CONV_FUNC_POINTER *)(const struct InfoItem info[], unsigned int numInfoItems)) sharedLib-&gt;FindAddress(funcName.c_str());
+	if (sAIInterfaceLibrary.loadGroupAILibrary == NULL) {
 		reportInterfaceFunctionError(&amp;libFilePath, &amp;funcName);
-        return -8;
-    }
-	
+		return -8;
+	}
+
 	funcName = &quot;unloadGroupAILibrary&quot;;
-    sAIInterfaceLibrary.unloadGroupAILibrary = (int (CALLING_CONV_FUNC_POINTER *)(const SGAISpecifier* const)) sharedLib-&gt;FindAddress(funcName.c_str());
-    if (sAIInterfaceLibrary.unloadGroupAILibrary == NULL) {
+	sAIInterfaceLibrary.unloadGroupAILibrary = (int (CALLING_CONV_FUNC_POINTER *)(const SGAISpecifier* const)) sharedLib-&gt;FindAddress(funcName.c_str());
+	if (sAIInterfaceLibrary.unloadGroupAILibrary == NULL) {
 		reportInterfaceFunctionError(&amp;libFilePath, &amp;funcName);
-        return -9;
-    }
-	
+		return -9;
+	}
+
 	funcName = &quot;unloadAllGroupAILibraries&quot;;
-    sAIInterfaceLibrary.unloadAllGroupAILibraries = (int (CALLING_CONV_FUNC_POINTER *)()) sharedLib-&gt;FindAddress(funcName.c_str());
-    if (sAIInterfaceLibrary.unloadAllGroupAILibraries == NULL) {
+	sAIInterfaceLibrary.unloadAllGroupAILibraries = (int (CALLING_CONV_FUNC_POINTER *)()) sharedLib-&gt;FindAddress(funcName.c_str());
+	if (sAIInterfaceLibrary.unloadAllGroupAILibraries == NULL) {
 		reportInterfaceFunctionError(&amp;libFilePath, &amp;funcName);
-        return -10;
-    }
-	
+		return -10;
+	}
+
 	return 0;
 }
 
@@ -408,22 +408,22 @@
 //std::string CAIInterfaceLibrary::FindLibFile(
 //		const std::string&amp; fileNameMainPart) {
 std::string CAIInterfaceLibrary::FindLibFile() {
-	
+
 	const std::string&amp; dataDir = info-&gt;GetDataDir();
 	const std::string&amp; fileName = info-&gt;GetFileName();
-	
+
 	std::string libFileName(fileName); // eg. C-0.1
 	#ifndef _WIN32
 		libFileName = &quot;lib&quot; + libFileName; // eg. libC-0.1
 	#endif
-	
+
 	// eg. libC-0.1.so
 	libFileName = libFileName + &quot;.&quot; + SharedLib::GetLibExtension();
-	
+
 /*
 	std::vector&lt;std::string&gt; libFile =
 			CFileHandler::FindFiles(dataDir, libFileName);
-	
+
 	return libFile.size() &gt;= 1 ? libFile[0] : &quot;&quot;;
 */
 	return dataDir + PS + libFileName;

Modified: branches/caiinterface/rts/ExternalAI/EngineOutHandler.cpp
===================================================================
--- branches/caiinterface/rts/ExternalAI/EngineOutHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/ExternalAI/EngineOutHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -26,7 +26,7 @@
 #include &quot;Game/PlayerHandler.h&quot;
 #include &quot;Sim/Units/Unit.h&quot;
 #include &quot;Sim/Misc/TeamHandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;Util.h&quot;
 #include &quot;TimeProfiler.h&quot;
@@ -48,7 +48,7 @@
 	static bool isCatchExceptions;
 
 	if (!init) {
-		isCatchExceptions = configHandler.GetInt(&quot;CatchAIExceptions&quot;, 1) != 0;
+		isCatchExceptions = configHandler.Get(&quot;CatchAIExceptions&quot;, 1) != 0;
 		init = true;
 	}
 

Modified: branches/caiinterface/rts/ExternalAI/SAICallback.cpp
===================================================================
--- branches/caiinterface/rts/ExternalAI/SAICallback.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/ExternalAI/SAICallback.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -154,15 +154,15 @@
 }
 
 static int wrapper_HandleCommand(IAICallback* clb, IAICheats* clbCheat, int cmdId, void* cmdData) {
-	
+
 	int ret;
-	
+
 	if (clbCheat != NULL) {
 		ret = clbCheat-&gt;HandleCommand(cmdId, cmdData);
 	} else {
 		ret = clb-&gt;HandleCommand(cmdId, cmdData);
 	}
-	
+
 	return ret;
 }
 
@@ -173,9 +173,9 @@
 	IAICallback* clb = team_callback[teamId];
 	IAICheats* clbCheat = team_cheatCallback[teamId]; // if this is != NULL, cheating is enabled
 
-		
+
 	switch (commandTopic) {
-			
+
 		case COMMAND_CHEATS_SET_MY_HANDICAP:
 		{
 			SSetMyHandicapCheatCommand* cmd = (SSetMyHandicapCheatCommand*) commandData;
@@ -220,8 +220,8 @@
 			}
 			break;
 		}
-	
-	
+
+
 		case COMMAND_SEND_START_POS:
 		{
 			SSendStartPosCommand* cmd = (SSendStartPosCommand*) commandData;
@@ -250,8 +250,8 @@
 			wrapper_HandleCommand(clb, clbCheat, AIHCAddMapLineId, &amp;data);
 			break;
 		}
-		
-		
+
+
 		case COMMAND_SEND_TEXT_MESSAGE:
 		{
 			SSendTextMessageCommand* cmd = (SSendTextMessageCommand*) commandData;
@@ -455,9 +455,9 @@
 				ret = -1;
 			}
 		}
-		
+
 	}
-	
+
 	return ret;
 }
 
@@ -475,7 +475,7 @@
 
 EXPORT(bool) _Clb_Cheats_setEnabled(int teamId, bool enabled) {
 //	bool isEnabled = _Cheats_isEnabled(teamId);
-//	
+//
 //	if (enabled != isEnabled) {
 //		if (enable) {
 //			team_cheatCallback[teamId] = team_globalCallback[teamId]-&gt;GetCheatInterface();
@@ -485,10 +485,10 @@
 //	} else {
 //		return true;
 //	}
-//	
+//
 //	isEnabled = _Cheats_isEnabled(teamId);
 //	return enabled != isEnabled;
-	
+
 	team_cheatingEnabled[teamId] = enabled;
 	return enabled == _Clb_Cheats_isEnabled(teamId);
 }
@@ -926,15 +926,15 @@
 	return size;
 }
 EXPORT(int) _Clb_0MULTI1FETCH3UnitDefByName0UnitDef(int teamId, const char* unitName) {
-	
+
 	int unitDefId = -1;
-	
+
 	IAICallback* clb = team_callback[teamId];
 	const UnitDef* ud = clb-&gt;GetUnitDef(unitName);
 	if (ud != NULL) {
 		unitDefId = ud-&gt;id;
 	}
-	
+
 	return unitDefId;
 }
 
@@ -1285,19 +1285,19 @@
 	return team_callback[teamId]-&gt;GetUnitCommands(unitId)-&gt;at(commandIndex).params.size();
 }
 EXPORT(int) _Clb_Unit_SupportedCommand_0ARRAY1VALS0getParams(int teamId, int unitId, int commandIndex, const char** params, int params_max) {
-	
+
 	const std::vector&lt;std::string&gt; ps
 			= team_callback[teamId]-&gt;GetUnitCommands(unitId)-&gt;at(commandIndex).params;
 	int size = ps.size();
 	if (params_max &lt; size) {
 		size = params_max;
 	}
-	
+
 	int p;
 	for (p=0; p &lt; size; p++) {
 		params[p] = ps.at(p).c_str();
 	}
-	
+
 	return size;
 }
 
@@ -1371,7 +1371,7 @@
 	}
 }
 EXPORT(int) _Clb_Unit_CurrentCommand_getId(int teamId, int unitId, int commandIndex) {
-	
+
 	if (_Clb_Cheats_isEnabled(teamId)) {
 		return team_cheatCallback[teamId]-&gt;GetCurrentUnitCommands(unitId)-&gt;at(commandIndex).id;
 	} else {
@@ -1395,7 +1395,7 @@
 	}
 }
 EXPORT(int) _Clb_Unit_CurrentCommand_getTimeOut(int teamId, int unitId, int commandIndex) {
-	
+
 	if (_Clb_Cheats_isEnabled(teamId)) {
 		return team_cheatCallback[teamId]-&gt;GetCurrentUnitCommands(unitId)-&gt;at(commandIndex).timeOut;
 	} else {
@@ -1403,7 +1403,7 @@
 	}
 }
 EXPORT(int) _Clb_Unit_CurrentCommand_0ARRAY1SIZE0getParams(int teamId, int unitId, int commandIndex) {
-	
+
 	if (_Clb_Cheats_isEnabled(teamId)) {
 		return team_cheatCallback[teamId]-&gt;GetCurrentUnitCommands(unitId)-&gt;at(commandIndex).params.size();
 	} else {
@@ -1478,10 +1478,10 @@
 	return _Clb_0MULTI1SIZE0Resource(teamId);
 }
 EXPORT(float) _Clb_Unit_ResourceInfo_getUse(int teamId, int unitId, int resourceIndex) {
-	
+
 	int res = -1.0F;
 	UnitResourceInfo resourceInfo;
-	
+
 	bool fetchOk;
 	if (_Clb_Cheats_isEnabled(teamId)) {
 		fetchOk = team_cheatCallback[teamId]-&gt;GetUnitResourceInfo(unitId, &amp;resourceInfo);
@@ -1495,14 +1495,14 @@
 			res = resourceInfo.energyUse;
 		}
 	}
-	
+
 	return res;
 }
 EXPORT(float) _Clb_Unit_ResourceInfo_getMake(int teamId, int unitId, int resourceIndex) {
-	
+
 	int res = -1.0F;
 	UnitResourceInfo resourceInfo;
-	
+
 	bool fetchOk;
 	if (_Clb_Cheats_isEnabled(teamId)) {
 		fetchOk = team_cheatCallback[teamId]-&gt;GetUnitResourceInfo(unitId, &amp;resourceInfo);
@@ -1516,7 +1516,7 @@
 			res = resourceInfo.energyMake;
 		}
 	}
-	
+
 	return res;
 }
 EXPORT(bool) _Clb_Unit_isActivated(int teamId, int unitId) {
@@ -1570,7 +1570,7 @@
 EXPORT(int) _Clb_Unit_getLastUserOrderFrame(int teamId, int unitId) {
 
 	if (!isControlledByLocalPlayer(teamId)) return -1;
-	
+
 	return uh-&gt;units[unitId]-&gt;commandAI-&gt;lastUserCommand;
 }
 //########### END Unit
@@ -1771,15 +1771,15 @@
 
 //########### BEGINN WeaponDef
 EXPORT(int) _Clb_0MULTI1FETCH3WeaponDefByName0WeaponDef(int teamId, const char* weaponDefName) {
-	
+
 	int weaponDefId = -1;
-	
+
 	IAICallback* clb = team_callback[teamId];
 	const WeaponDef* wd = clb-&gt;GetWeapon(weaponDefName);
 	if (wd != NULL) {
 		weaponDefId = wd-&gt;id;
 	}
-	
+
 	return weaponDefId;
 }
 
@@ -1828,11 +1828,11 @@
 
 	const WeaponDef* weaponDef = getWeaponDefById(teamId, weaponDefId);
 	int types_size = min(weaponDef-&gt;damages.GetNumTypes(), types_max);
-	
+
 	for (int i=0; i &lt; types_size; ++i) {
 		types[i] = weaponDef-&gt;damages[i];
 	}
-	
+
 	return types_size;
 }
 EXPORT(float) _Clb_WeaponDef_getAreaOfEffect(int teamId, int weaponDefId) {return getWeaponDefById(teamId, weaponDefId)-&gt;areaOfEffect;}
@@ -1993,19 +1993,19 @@
 	return team_callback[teamId]-&gt;GetGroupCommands(groupId)-&gt;at(commandIndex).params.size();
 }
 EXPORT(int) _Clb_Group_SupportedCommand_0ARRAY1VALS0getParams(int teamId, int groupId, int commandIndex, const char** params, int params_max) {
-	
+
 	const std::vector&lt;std::string&gt; ps
 			= team_callback[teamId]-&gt;GetGroupCommands(groupId)-&gt;at(commandIndex).params;
 	int size = ps.size();
 	if (params_max &lt; size) {
 		size = params_max;
 	}
-	
+
 	int p;
 	for (p=0; p &lt; size; p++) {
 		params[p] = ps.at(p).c_str();
 	}
-	
+
 	return size;
 }
 
@@ -2079,9 +2079,8 @@
 
 
 SAICallback* initSAICallback(int teamId, IGlobalAICallback* aiGlobalCallback) {
-	
+
 	SAICallback* sAICallback = new SAICallback();
-
 	sAICallback-&gt;Clb_handleCommand = _Clb_handleCommand;
 	sAICallback-&gt;Clb_Game_getCurrentFrame = _Clb_Game_getCurrentFrame;
 	sAICallback-&gt;Clb_Game_getAiInterfaceVersion = _Clb_Game_getAiInterfaceVersion;
@@ -2105,6 +2104,9 @@
 	sAICallback-&gt;Clb_Cheats_setEventsEnabled = _Clb_Cheats_setEventsEnabled;
 	sAICallback-&gt;Clb_Cheats_isOnlyPassive = _Clb_Cheats_isOnlyPassive;
 	sAICallback-&gt;Clb_0MULTI1SIZE0Resource = _Clb_0MULTI1SIZE0Resource;
+	sAICallback-&gt;Clb_0MULTI1FETCH3ResourceByName0Resource = _Clb_0MULTI1FETCH3ResourceByName0Resource;
+	sAICallback-&gt;Clb_Resource_getName = _Clb_Resource_getName;
+	sAICallback-&gt;Clb_Resource_isGoodToHave = _Clb_Resource_isGoodToHave;
 	sAICallback-&gt;Clb_Resource_getCurrent = _Clb_Resource_getCurrent;
 	sAICallback-&gt;Clb_Resource_getIncome = _Clb_Resource_getIncome;
 	sAICallback-&gt;Clb_Resource_getUsage = _Clb_Resource_getUsage;
@@ -2633,10 +2635,10 @@
 	sAICallback-&gt;Clb_WeaponDef_0MAP1SIZE0getCustomParams = _Clb_WeaponDef_0MAP1SIZE0getCustomParams;
 	sAICallback-&gt;Clb_WeaponDef_0MAP1KEYS0getCustomParams = _Clb_WeaponDef_0MAP1KEYS0getCustomParams;
 	sAICallback-&gt;Clb_WeaponDef_0MAP1VALS0getCustomParams = _Clb_WeaponDef_0MAP1VALS0getCustomParams;
-	
+
 	team_globalCallback[teamId] = aiGlobalCallback;
 //	team_callback[teamId] = aiCallback;
 	team_callback[teamId] = aiGlobalCallback-&gt;GetAICallback();
-	
+
 	return sAICallback;
 }

Modified: branches/caiinterface/rts/ExternalAI/aibase.h
===================================================================
--- branches/caiinterface/rts/ExternalAI/aibase.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/ExternalAI/aibase.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -6,7 +6,16 @@
 #ifndef AIBASE_H
 #define AIBASE_H
 
-#include &quot;exportdefines.h&quot;
+// Shared library support
+#ifdef _WIN32
+	#define SPRING_API
+#elif __GNUC__ &gt;= 4
+	// Support for '-fvisibility=hidden'.
+	#define SPRING_API __attribute__ ((visibility(&quot;default&quot;)))
+#else
+	// Older versions of gcc have everything visible; no need for fancy stuff.
+	#define SPRING_API
+#endif
 
 // Virtual destructor support (across DLL/SO interface)
 #if defined(_WIN32) || defined(__APPLE__)
@@ -26,6 +35,8 @@
 	#define IMPLEMENT_PURE_VIRTUAL(proto) proto{}
 #endif
 
+#include &quot;exportdefines.h&quot;
+
 #include &quot;Sim/Units/CommandAI/Command.h&quot;
 #include &quot;Sim/Units/UnitDef.h&quot;
 #include &quot;Sim/Weapons/WeaponDefHandler.h&quot;

Modified: branches/caiinterface/rts/Game/Camera/CameraController.cpp
===================================================================
--- branches/caiinterface/rts/Game/Camera/CameraController.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/Camera/CameraController.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3,12 +3,12 @@
 
 #include &quot;CameraController.h&quot;
 
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 
 
 CCameraController::CCameraController() : pos(2000, 70, 1800)
 {
-	mouseScale = configHandler.GetFloat(&quot;FPSMouseScale&quot;, 0.01f);
+	mouseScale = configHandler.Get(&quot;FPSMouseScale&quot;, 0.01f);
 	scrollSpeed = 1;
 	fov = 45.0f;
 	enabled = true;

Modified: branches/caiinterface/rts/Game/Camera/FPSController.cpp
===================================================================
--- branches/caiinterface/rts/Game/Camera/FPSController.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/Camera/FPSController.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3,7 +3,7 @@
 
 #include &quot;FPSController.h&quot;
 
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Game/Camera.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;Map/Ground.h&quot;
@@ -15,9 +15,9 @@
 CFPSController::CFPSController()
 	: oldHeight(300)
 {
-	scrollSpeed = configHandler.GetInt(&quot;FPSScrollSpeed&quot;, 10) * 0.1f;
-	enabled = !!configHandler.GetInt(&quot;FPSEnabled&quot;, 1);
-	fov = configHandler.GetFloat(&quot;FPSFOV&quot;, 45.0f);
+	scrollSpeed = configHandler.Get(&quot;FPSScrollSpeed&quot;, 10) * 0.1f;
+	enabled = !!configHandler.Get(&quot;FPSEnabled&quot;, 1);
+	fov = configHandler.Get(&quot;FPSFOV&quot;, 45.0f);
 }
 
 

Modified: branches/caiinterface/rts/Game/Camera/FreeController.cpp
===================================================================
--- branches/caiinterface/rts/Game/Camera/FreeController.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/Camera/FreeController.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -6,7 +6,7 @@
 
 #include &quot;FreeController.h&quot;
 
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Game/Camera.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;Map/Ground.h&quot;
@@ -44,21 +44,21 @@
 	}
 	pos -= (dir * 1000.0f);
 
-	enabled     = !!configHandler.GetInt(&quot;CamFreeEnabled&quot;,   0);
-	invertAlt   = !!configHandler.GetInt(&quot;CamFreeInvertAlt&quot;, 0);
-	goForward   = !!configHandler.GetInt(&quot;CamFreeGoForward&quot;, 0);
-	fov         = configHandler.GetFloat(&quot;CamFreeFOV&quot;,           45.0f);
-	scrollSpeed = configHandler.GetFloat(&quot;CamFreeScrollSpeed&quot;,  500.0f);
-	gravity     = configHandler.GetFloat(&quot;CamFreeGravity&quot;,     -500.0f);
-	slide       = configHandler.GetFloat(&quot;CamFreeSlide&quot;,          0.5f);
-	gndOffset   = configHandler.GetFloat(&quot;CamFreeGroundOffset&quot;,  16.0f);
-	tiltSpeed   = configHandler.GetFloat(&quot;CamFreeTiltSpeed&quot;,    150.0f);
+	enabled     = !!configHandler.Get(&quot;CamFreeEnabled&quot;,   0);
+	invertAlt   = !!configHandler.Get(&quot;CamFreeInvertAlt&quot;, 0);
+	goForward   = !!configHandler.Get(&quot;CamFreeGoForward&quot;, 0);
+	fov         = configHandler.Get(&quot;CamFreeFOV&quot;,           45.0f);
+	scrollSpeed = configHandler.Get(&quot;CamFreeScrollSpeed&quot;,  500.0f);
+	gravity     = configHandler.Get(&quot;CamFreeGravity&quot;,     -500.0f);
+	slide       = configHandler.Get(&quot;CamFreeSlide&quot;,          0.5f);
+	gndOffset   = configHandler.Get(&quot;CamFreeGroundOffset&quot;,  16.0f);
+	tiltSpeed   = configHandler.Get(&quot;CamFreeTiltSpeed&quot;,    150.0f);
 	tiltSpeed   = tiltSpeed * (PI / 180.0);
-	autoTilt    = configHandler.GetFloat(&quot;CamFreeAutoTilt&quot;,     150.0f);
+	autoTilt    = configHandler.Get(&quot;CamFreeAutoTilt&quot;,     150.0f);
 	autoTilt    = autoTilt * (PI / 180.0);
-	velTime     = configHandler.GetFloat(&quot;CamFreeVelTime&quot;,        1.5f);
+	velTime     = configHandler.Get(&quot;CamFreeVelTime&quot;,        1.5f);
 	velTime     = max(0.1f, velTime);
-	avelTime    = configHandler.GetFloat(&quot;CamFreeAngVelTime&quot;,     1.0f);
+	avelTime    = configHandler.Get(&quot;CamFreeAngVelTime&quot;,     1.0f);
 	avelTime    = max(0.1f, avelTime);
 }
 

Modified: branches/caiinterface/rts/Game/Camera/OrbitController.cpp
===================================================================
--- branches/caiinterface/rts/Game/Camera/OrbitController.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/Camera/OrbitController.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -8,7 +8,7 @@
 #include &quot;Game/UI/MouseHandler.h&quot;
 #include &quot;Map/Ground.h&quot;
 #include &quot;LogOutput.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 
 extern Uint8* keys;
 
@@ -25,11 +25,11 @@
 	rotation(0.0f), cRotation(0.0f),
 	elevation(0.0f), cElevation(0.0f)
 {
-	enabled = !!configHandler.GetInt(&quot;OrbitControllerEnabled&quot;, 1);
+	enabled = !!configHandler.Get(&quot;OrbitControllerEnabled&quot;, 1);
 
-	orbitSpeedFact = configHandler.GetFloat(&quot;OrbitControllerOrbitSpeed&quot;, 0.25f);
-	panSpeedFact   = configHandler.GetFloat(&quot;OrbitControllerPanSpeed&quot;,   2.00f);
-	zoomSpeedFact  = configHandler.GetFloat(&quot;OrbitControllerZoomSpeed&quot;,  5.00f);
+	orbitSpeedFact = configHandler.Get(&quot;OrbitControllerOrbitSpeed&quot;, 0.25f);
+	panSpeedFact   = configHandler.Get(&quot;OrbitControllerPanSpeed&quot;,   2.00f);
+	zoomSpeedFact  = configHandler.Get(&quot;OrbitControllerZoomSpeed&quot;,  5.00f);
 
 	orbitSpeedFact = std::max(0.1f, std::min(10.0f, orbitSpeedFact));
 	panSpeedFact   = std::max(0.1f, std::min(10.0f, panSpeedFact));

Modified: branches/caiinterface/rts/Game/Camera/OverheadController.cpp
===================================================================
--- branches/caiinterface/rts/Game/Camera/OverheadController.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/Camera/OverheadController.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -6,7 +6,7 @@
 
 #include &quot;OverheadController.h&quot;
 
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Game/Camera.h&quot;
 #include &quot;Game/CameraHandler.h&quot;
 #include &quot;Game/UI/MouseHandler.h&quot;
@@ -25,10 +25,10 @@
 	changeAltHeight(true),
 	flipped(false)
 {
-	scrollSpeed = configHandler.GetInt(&quot;OverheadScrollSpeed&quot;,10)*0.1f;
-	tiltSpeed = configHandler.GetFloat(&quot;OverheadTiltSpeed&quot;,1.0f);
-	enabled = !!configHandler.GetInt(&quot;OverheadEnabled&quot;,1);
-	fov = configHandler.GetFloat(&quot;OverheadFOV&quot;, 45.0f);
+	scrollSpeed = configHandler.Get(&quot;OverheadScrollSpeed&quot;,10)*0.1f;
+	tiltSpeed = configHandler.Get(&quot;OverheadTiltSpeed&quot;,1.0f);
+	enabled = !!configHandler.Get(&quot;OverheadEnabled&quot;,1);
+	fov = configHandler.Get(&quot;OverheadFOV&quot;, 45.0f);
 }
 
 void COverheadController::KeyMove(float3 move)

Modified: branches/caiinterface/rts/Game/Camera/RotOverheadController.cpp
===================================================================
--- branches/caiinterface/rts/Game/Camera/RotOverheadController.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/Camera/RotOverheadController.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3,7 +3,7 @@
 
 #include &quot;RotOverheadController.h&quot;
 
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Game/Camera.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;Map/Ground.h&quot;
@@ -12,10 +12,10 @@
 CRotOverheadController::CRotOverheadController()
 	: oldHeight(500)
 {
-	mouseScale = configHandler.GetFloat(&quot;RotOverheadMouseScale&quot;, 0.01f);
-	scrollSpeed = configHandler.GetInt(&quot;RotOverheadScrollSpeed&quot;,10)*0.1f;
-	enabled=!!configHandler.GetInt(&quot;RotOverheadEnabled&quot;,1);
-	fov = configHandler.GetFloat(&quot;RotOverheadFOV&quot;, 45.0f);
+	mouseScale = configHandler.Get(&quot;RotOverheadMouseScale&quot;, 0.01f);
+	scrollSpeed = configHandler.Get(&quot;RotOverheadScrollSpeed&quot;,10)*0.1f;
+	enabled=!!configHandler.Get(&quot;RotOverheadEnabled&quot;,1);
+	fov = configHandler.Get(&quot;RotOverheadFOV&quot;, 45.0f);
 }
 
 

Modified: branches/caiinterface/rts/Game/Camera/SmoothController.cpp
===================================================================
--- branches/caiinterface/rts/Game/Camera/SmoothController.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/Camera/SmoothController.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -8,7 +8,7 @@
 
 #include &quot;SmoothController.h&quot;
 
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Game/Camera.h&quot;
 #include &quot;Game/CameraHandler.h&quot;
 #include &quot;Game/UI/MouseHandler.h&quot;
@@ -29,10 +29,10 @@
 	maxHeight(10000),
 	speedFactor(1)
 {
-	scrollSpeed = configHandler.GetInt(&quot;SmoothScrollSpeed&quot;,10)*0.1f;
-	tiltSpeed = configHandler.GetFloat(&quot;SmoothTiltSpeed&quot;,1.0f);
-	enabled = !!configHandler.GetInt(&quot;SmoothEnabled&quot;,1);
-	fov = configHandler.GetFloat(&quot;SmoothFOV&quot;, 45.0f);
+	scrollSpeed = configHandler.Get(&quot;SmoothScrollSpeed&quot;,10)*0.1f;
+	tiltSpeed = configHandler.Get(&quot;SmoothTiltSpeed&quot;,1.0f);
+	enabled = !!configHandler.Get(&quot;SmoothEnabled&quot;,1);
+	fov = configHandler.Get(&quot;SmoothFOV&quot;, 45.0f);
 	lastSource = Noone;
 }
 

Modified: branches/caiinterface/rts/Game/Camera/TWController.cpp
===================================================================
--- branches/caiinterface/rts/Game/Camera/TWController.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/Camera/TWController.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -7,7 +7,7 @@
 
 #include &quot;TWController.h&quot;
 
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Game/Camera.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;Map/Ground.h&quot;
@@ -19,9 +19,9 @@
 
 CTWController::CTWController()
 {
-	scrollSpeed = configHandler.GetInt(&quot;TWScrollSpeed&quot;,10) * 0.1f;
-	enabled = !!configHandler.GetInt(&quot;TWEnabled&quot;,1);
-	fov = configHandler.GetFloat(&quot;TWFOV&quot;, 45.0f);
+	scrollSpeed = configHandler.Get(&quot;TWScrollSpeed&quot;,10) * 0.1f;
+	enabled = !!configHandler.Get(&quot;TWEnabled&quot;,1);
+	fov = configHandler.Get(&quot;TWFOV&quot;, 45.0f);
 }
 
 

Modified: branches/caiinterface/rts/Game/CameraHandler.cpp
===================================================================
--- branches/caiinterface/rts/Game/CameraHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/CameraHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -16,7 +16,7 @@
 #include &quot;Camera/OverviewController.h&quot;
 #include &quot;Camera/TWController.h&quot;
 #include &quot;Camera/OrbitController.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;GlobalUnsynced.h&quot;
 
@@ -49,7 +49,7 @@
 	if (!modeName.empty()) {
 		modeIndex = GetModeIndex(modeName);
 	} else {
-		modeIndex = configHandler.GetInt(&quot;CamMode&quot;, 1);
+		modeIndex = configHandler.Get(&quot;CamMode&quot;, 1);
 	}
 	const unsigned int mode =
 		(unsigned int)std::max(0, std::min(modeIndex, (int)camCtrls.size() - 1));

Modified: branches/caiinterface/rts/Game/Game.cpp
===================================================================
--- branches/caiinterface/rts/Game/Game.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/Game.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -68,7 +68,7 @@
 #include &quot;Map/ReadMap.h&quot;
 #include &quot;NetProtocol.h&quot;
 #include &quot;DemoRecorder.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;FileSystem/FileSystem.h&quot;
 #include &quot;Rendering/Env/BaseSky.h&quot;
 #include &quot;Rendering/Env/BaseTreeDrawer.h&quot;
@@ -265,16 +265,16 @@
 	drawMapMarks = true;
 	hideInterface = false;
 
-	windowedEdgeMove   = !!configHandler.GetInt(&quot;WindowedEdgeMove&quot;,   1);
-	fullscreenEdgeMove = !!configHandler.GetInt(&quot;FullscreenEdgeMove&quot;, 1);
+	windowedEdgeMove   = !!configHandler.Get(&quot;WindowedEdgeMove&quot;,   1);
+	fullscreenEdgeMove = !!configHandler.Get(&quot;FullscreenEdgeMove&quot;, 1);
 
-	showFPS   = !!configHandler.GetInt(&quot;ShowFPS&quot;,   0);
-	showClock = !!configHandler.GetInt(&quot;ShowClock&quot;, 1);
+	showFPS   = !!configHandler.Get(&quot;ShowFPS&quot;,   0);
+	showClock = !!configHandler.Get(&quot;ShowClock&quot;, 1);
 
-	crossSize = configHandler.GetFloat(&quot;CrossSize&quot;, 10.0f);
+	crossSize = configHandler.Get(&quot;CrossSize&quot;, 10.0f);
 
 	playerRoster.SetSortTypeByCode(
-	  (PlayerRoster::SortType)configHandler.GetInt(&quot;ShowPlayerInfo&quot;, 1));
+	  (PlayerRoster::SortType)configHandler.Get(&quot;ShowPlayerInfo&quot;, 1));
 
 	const string inputTextGeo = configHandler.GetString(&quot;InputTextGeo&quot;, &quot;&quot;);
 	ParseInputTextGeometry(&quot;default&quot;);
@@ -287,7 +287,7 @@
 	writingPos = 0;
 	userPrompt = &quot;&quot;;
 
-	CLuaHandle::SetModUICtrl(!!configHandler.GetInt(&quot;LuaModUICtrl&quot;, 1));
+	CLuaHandle::SetModUICtrl(!!configHandler.Get(&quot;LuaModUICtrl&quot;, 1));
 
 	consoleHistory = SAFE_NEW CConsoleHistory;
 	wordCompletion = SAFE_NEW CWordCompletion;
@@ -303,13 +303,13 @@
 
 	ENTER_UNSYNCED;
 	sound = CSound::GetSoundSystem();
-	gameSoundVolume = configHandler.GetInt(&quot;SoundVolume&quot;, 60) * 0.01f;
-	unitReplyVolume = configHandler.GetInt(&quot;UnitReplyVolume&quot;, configHandler.GetInt(&quot;UnitReplySoundVolume&quot;, 80) ) * 0.01f;
+	gameSoundVolume = configHandler.Get(&quot;SoundVolume&quot;, 60) * 0.01f;
+	unitReplyVolume = configHandler.Get(&quot;UnitReplyVolume&quot;, configHandler.Get(&quot;UnitReplySoundVolume&quot;, 80) ) * 0.01f;
 	soundEnabled = true;
 	sound-&gt;SetVolume(gameSoundVolume);
 	sound-&gt;SetUnitReplyVolume(unitReplyVolume);
 
-	moveWarnings = !!configHandler.GetInt(&quot;MoveWarnings&quot;, 1);
+	moveWarnings = !!configHandler.Get(&quot;MoveWarnings&quot;, 1);
 
 	camera = SAFE_NEW CCamera();
 	cam2 = SAFE_NEW CCamera();
@@ -458,7 +458,7 @@
 		PrintLoadMsg(&quot;Loading LuaGaia&quot;);
 		CLuaGaia::LoadHandler();
 	}
-	if (!!configHandler.GetInt(&quot;LuaUI&quot;, 1)) {
+	if (!!configHandler.Get(&quot;LuaUI&quot;, 1)) {
 		PrintLoadMsg(&quot;Loading LuaUI&quot;);
 		CLuaUI::LoadHandler();
 	}
@@ -532,7 +532,7 @@
 CGame::~CGame()
 {
 	if (treeDrawer) {
-		configHandler.SetInt(&quot;TreeRadius&quot;,
+		configHandler.Set(&quot;TreeRadius&quot;,
 		                     (unsigned int)(treeDrawer-&gt;baseTreeDistance * 256));
 	}
 
@@ -912,7 +912,7 @@
 		selectedUnits.ClearSelected();
 	}
 	else if (cmd == &quot;shadows&quot;) {
-		const int current = configHandler.GetInt(&quot;Shadows&quot;, 0);
+		const int current = configHandler.Get(&quot;Shadows&quot;, 0);
 		if (current &lt; 0) {
 			logOutput.Print(&quot;Shadows have been disabled with %i&quot;, current);
 			logOutput.Print(&quot;Change your configuration and restart to use them&quot;);
@@ -930,12 +930,12 @@
 			const char* args = action.extra.c_str();
 			const int argcount = sscanf(args, &quot;%i %i&quot;, &amp;next, &amp;mapsize);
 			if (argcount &gt; 1) {
-				configHandler.SetInt(&quot;ShadowMapSize&quot;, mapsize);
+				configHandler.Set(&quot;ShadowMapSize&quot;, mapsize);
 			}
 		} else {
 			next = (current == 0) ? 1 : 0;
 		}
-		configHandler.SetInt(&quot;Shadows&quot;, next);
+		configHandler.Set(&quot;Shadows&quot;, next);
 		logOutput.Print(&quot;Set Shadows to %i&quot;, next);
 		shadowHandler = SAFE_NEW CShadowHandler();
 	}
@@ -946,10 +946,10 @@
 		if (!action.extra.empty()) {
 			next = std::max(0, atoi(action.extra.c_str()) % 5);
 		} else {
-			const int current = configHandler.GetInt(&quot;ReflectiveWater&quot;, 1);
+			const int current = configHandler.Get(&quot;ReflectiveWater&quot;, 1);
 			next = (std::max(0, current) + 1) % 5;
 		}
-		configHandler.SetInt(&quot;ReflectiveWater&quot;, next);
+		configHandler.Set(&quot;ReflectiveWater&quot;, next);
 		logOutput.Print(&quot;Set water rendering mode to %i (%s)&quot;, next, rmodes[next]);
 		water = CBaseWater::GetWater(water);
 	}
@@ -986,14 +986,14 @@
 		const std::string::size_type pos = action.extra.find_first_of(&quot; &quot;);
 		if (pos != std::string::npos) {
 			const std::string varName = action.extra.substr(0, pos);
-			configHandler.SetFloat(varName, atof(action.extra.substr(pos+1).c_str()));
+			configHandler.Set(varName, atof(action.extra.substr(pos+1).c_str()));
 		}
 	}
 	else if (cmd == &quot;seti&quot;) {
 		const std::string::size_type pos = action.extra.find_first_of(&quot; &quot;);
 		if (pos != std::string::npos) {
 			const std::string varName = action.extra.substr(0, pos);
-			configHandler.SetInt(varName, atoi(action.extra.substr(pos+1).c_str()));
+			configHandler.Set(varName, atoi(action.extra.substr(pos+1).c_str()));
 		}
 	}
 	else if (cmd == &quot;sets&quot;) {
@@ -1237,7 +1237,7 @@
 		if (endPtr != startPtr) {
 			gameSoundVolume = std::max(0.0f, std::min(1.0f, volume));
 			sound-&gt;SetVolume(gameSoundVolume);
-			configHandler.SetInt(&quot;SoundVolume&quot;, (int)(gameSoundVolume * 100.0f));
+			configHandler.Set(&quot;SoundVolume&quot;, (int)(gameSoundVolume * 100.0f));
 		}
 	}
 	else if (cmd == &quot;unitreplyvolume&quot;) {
@@ -1247,7 +1247,7 @@
 		if (endPtr != startPtr) {
 			unitReplyVolume = std::max(0.0f, std::min(1.0f, volume));
 			sound-&gt;SetUnitReplyVolume(unitReplyVolume);
-			configHandler.SetInt(&quot;UnitReplyVolume&quot;,(int)(unitReplyVolume * 100.0f));
+			configHandler.Set(&quot;UnitReplyVolume&quot;,(int)(unitReplyVolume * 100.0f));
 		}
 	}
 	else if (cmd == &quot;savegame&quot;){
@@ -1407,7 +1407,7 @@
 			mouse-&gt;hardwareCursor = !!atoi(action.extra.c_str());
 		}
 		mouse-&gt;UpdateHwCursor();
-		configHandler.SetInt(&quot;HardwareCursor&quot;, (int)mouse-&gt;hardwareCursor);
+		configHandler.Set(&quot;HardwareCursor&quot;, (int)mouse-&gt;hardwareCursor);
 	}
 	else if (cmd == &quot;increaseviewradius&quot;) {
 		gd-&gt;IncreaseDetail();
@@ -1622,7 +1622,7 @@
 		} else {
 			showClock = !!atoi(action.extra.c_str());
 		}
-		configHandler.SetInt(&quot;ShowClock&quot;, showClock ? 1 : 0);
+		configHandler.Set(&quot;ShowClock&quot;, showClock ? 1 : 0);
 	}
 	else if (cmd == &quot;cross&quot;) {
 		if (action.extra.empty()) {
@@ -1634,7 +1634,7 @@
 		} else {
 			crossSize = atof(action.extra.c_str());
 		}
-		configHandler.SetFloat(&quot;CrossSize&quot;, crossSize);
+		configHandler.Set(&quot;CrossSize&quot;, crossSize);
 	}
 	else if (cmd == &quot;fps&quot;) {
 		if (action.extra.empty()) {
@@ -1642,7 +1642,7 @@
 		} else {
 			showFPS = !!atoi(action.extra.c_str());
 		}
-		configHandler.SetInt(&quot;ShowFPS&quot;, showFPS ? 1 : 0);
+		configHandler.Set(&quot;ShowFPS&quot;, showFPS ? 1 : 0);
 	}
 	else if (cmd == &quot;info&quot;) {
 		if (action.extra.empty()) {
@@ -1657,7 +1657,7 @@
 		if (playerRoster.GetSortType() != PlayerRoster::Disabled) {
 			logOutput.Print(&quot;Sorting roster by %s&quot;, playerRoster.GetSortName());
 		}
-		configHandler.SetInt(&quot;ShowPlayerInfo&quot;, (int)playerRoster.GetSortType());
+		configHandler.Set(&quot;ShowPlayerInfo&quot;, (int)playerRoster.GetSortType());
 	}
 	else if (cmd == &quot;techlevels&quot;) {
 		unitDefHandler-&gt;SaveTechLevels(&quot;&quot;, modInfo.filename); // stdout
@@ -1776,7 +1776,7 @@
 		} else {
 			moveWarnings = !!atoi(action.extra.c_str());
 		}
-		configHandler.SetInt(&quot;MoveWarnings&quot;, moveWarnings ? 1 : 0);
+		configHandler.Set(&quot;MoveWarnings&quot;, moveWarnings ? 1 : 0);
 		logOutput.Print(string(&quot;movewarnings &quot;) +
 		                (moveWarnings ? &quot;enabled&quot; : &quot;disabled&quot;));
 	}
@@ -1809,7 +1809,7 @@
 			modUICtrl = !!atoi(action.extra.c_str());
 		}
 		CLuaHandle::SetModUICtrl(modUICtrl);
-		configHandler.SetInt(&quot;LuaModUICtrl&quot;, modUICtrl ? 1 : 0);
+		configHandler.Set(&quot;LuaModUICtrl&quot;, modUICtrl ? 1 : 0);
 	}
 	else if (cmd == &quot;minimap&quot;) {
 		if (minimap != NULL) {
@@ -1871,7 +1871,7 @@
 		if (!action.extra.empty()) {
 			const int iconDist = atoi(action.extra.c_str());
 			unitDrawer-&gt;SetUnitIconDist((float)iconDist);
-			configHandler.SetInt(&quot;UnitIconDist&quot;, iconDist);
+			configHandler.Set(&quot;UnitIconDist&quot;, iconDist);
 			logOutput.Print(&quot;Set UnitIconDist to %i&quot;, iconDist);
 		}
 	}
@@ -1879,7 +1879,7 @@
 		if (!action.extra.empty()) {
 			const int drawDist = atoi(action.extra.c_str());
 			unitDrawer-&gt;SetUnitDrawDist((float)drawDist);
-			configHandler.SetInt(&quot;UnitLodDist&quot;, drawDist);
+			configHandler.Set(&quot;UnitLodDist&quot;, drawDist);
 			logOutput.Print(&quot;Set UnitLodDist to %i&quot;, drawDist);
 		}
 	}
@@ -3134,6 +3134,8 @@
 #else
 void CGame::SimFrame() {
 #endif
+	ScopedTimer cputimer(&quot;CPU load&quot;); // SimFrame
+
 	good_fpu_control_registers(&quot;CGame::SimFrame&quot;);
 	lastFrameTime = SDL_GetTicks();
 	ASSERT_SYNCED_MODE;
@@ -3307,7 +3309,7 @@
 {
 	if (gu-&gt;gameTime - lastCpuUsageTime &gt;= 1) {
 		lastCpuUsageTime = gu-&gt;gameTime;
-		net-&gt;Send(CBaseNetProtocol::Get().SendCPUUsage(profiler.profile[&quot;Sim time&quot;].percent));
+		net-&gt;Send(CBaseNetProtocol::Get().SendCPUUsage(profiler.GetPercent(&quot;CPU load&quot;)));
 	}
 
 	PUSH_CODE_MODE;
@@ -3358,7 +3360,7 @@
 #endif
 		// make sure ClientReadNet returns at least every 15 game frames
 		// so CGame can process keyboard input, and render etc.
-		timeLeft = 15.0f;
+		timeLeft = (float)MAX_CONSECUTIVE_SIMFRAMES;
 	}
 
 	// really process the messages
@@ -3808,7 +3810,7 @@
 				if (frame != gs-&gt;frameNum) {
 					logOutput.Print(&quot;Sync request for wrong frame (%i instead of %i)&quot;, frame, gs-&gt;frameNum);
 				}
-				net-&gt;Send(CBaseNetProtocol::Get().SendCPUUsage(profiler.profile[&quot;Sim time&quot;].percent));
+				net-&gt;Send(CBaseNetProtocol::Get().SendCPUUsage(profiler.GetPercent(&quot;CPU load&quot;)));
 				ENTER_SYNCED;
 				AddTraffic(-1, packetCode, dataLength);
 				break;

Modified: branches/caiinterface/rts/Game/Game.h
===================================================================
--- branches/caiinterface/rts/Game/Game.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/Game.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -25,6 +25,7 @@
 class Action;
 class ChatMessage;
 
+const int MAX_CONSECUTIVE_SIMFRAMES = 15;
 
 class CGame : public CGameController
 {

Modified: branches/caiinterface/rts/Game/GameServer.cpp
===================================================================
--- branches/caiinterface/rts/Game/GameServer.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/GameServer.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -41,7 +41,7 @@
 #include &quot;AutohostInterface.h&quot;
 #include &quot;Util.h&quot;
 #include &quot;GlobalUnsynced.h&quot; // for syncdebug
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;FileSystem/CRC.h&quot;
 #include &quot;Player.h&quot;
 // This undef is needed, as somewhere there is a type interface specifyed,
@@ -78,11 +78,11 @@
 
 using boost::format;
 
-GameParticipant::GameParticipant(bool local)
-: readyToStart(false)
+GameParticipant::GameParticipant()
+: myState(UNCONNECTED)
 , cpuUsage (0.0f)
 , ping (0)
-, isLocal(local)
+, isLocal(false)
 {
 }
 namespace {
@@ -133,6 +133,10 @@
 	cheating = false;
 	sentGameOverMsg = false;
 
+	medianCpu=0.0f;
+	medianPing=0;
+	enforceSpeed=configHandler.Get(&quot;EnforceGameSpeed&quot;, 1);
+
 	if (!onlyLocal)
 		UDPNet.reset(new netcode::UDPListener(settings-&gt;hostport));
 
@@ -146,6 +150,11 @@
 
 	maxUserSpeed = setup-&gt;maxSpeed;
 	minUserSpeed = setup-&gt;minSpeed;
+	// enforce gamespeed if not configured
+	if(enforceSpeed &amp;&amp; minUserSpeed &lt;= 0.3f)
+		minUserSpeed = 1.0f;
+	if(enforceSpeed &amp;&amp; maxUserSpeed &gt;= 3.0f)
+		maxUserSpeed = 1.0f;
 	noHelperAIs = (bool)setup-&gt;noHelperAIs;
 
 	gameData.reset(newGameData);
@@ -155,6 +164,9 @@
 		demoReader.reset(new CDemoReader(setup-&gt;demoName, modGameTime+0.1f));
 	}
 
+	players.resize(setup-&gt;playerStartingData.size());
+	std::copy(setup-&gt;playerStartingData.begin(), setup-&gt;playerStartingData.end(), players.begin());
+
 	RestrictedAction(&quot;kick&quot;);			RestrictedAction(&quot;kickbynum&quot;);
 	RestrictedAction(&quot;setminspeed&quot;);	RestrictedAction(&quot;setmaxspeed&quot;);
 	RestrictedAction(&quot;nopause&quot;);
@@ -251,7 +263,7 @@
 	for (; p != indices.end(); ++p) {
 		if (!playerstring.empty())
 			playerstring += &quot;, &quot;;
-		playerstring += players[*p]-&gt;name;
+		playerstring += players[*p].name;
 	}
 	return playerstring;
 }
@@ -295,10 +307,10 @@
 
 void CGameServer::Broadcast(boost::shared_ptr&lt;const netcode::RawPacket&gt; packet)
 {
-	for (int p = 0; p &lt; MAX_PLAYERS; ++p)
+	for (unsigned p = 0; p &lt; players.size(); ++p)
 	{
-		if (players[p])
-			players[p]-&gt;link-&gt;SendData(packet);
+		if (players[p].link)
+			players[p].link-&gt;SendData(packet);
 	}
 }
 
@@ -329,11 +341,11 @@
 		bool bComplete = true;
 		bool bGotCorrectChecksum = false;
 		unsigned correctChecksum = 0;
-		for (int a = 0; a &lt; MAX_PLAYERS; ++a) {
-			if (!players[a])
+		for (unsigned a = 0; a &lt; players.size(); ++a) {
+			if (!players[a].link)
 				continue;
-			std::map&lt;int, unsigned&gt;::iterator it = players[a]-&gt;syncResponse.find(*f);
-			if (it == players[a]-&gt;syncResponse.end()) {
+			std::map&lt;int, unsigned&gt;::iterator it = players[a].syncResponse.find(*f);
+			if (it == players[a].syncResponse.end()) {
 				if (*f &gt;= serverframenum - SYNCCHECK_TIMEOUT)
 					bComplete = false;
 				else
@@ -387,9 +399,9 @@
 		if (bComplete) {
 // 			if (*f &gt;= serverframenum - SYNCCHECK_TIMEOUT)
 // 				logOutput.Print(&quot;Succesfully purged outstanding sync frame %d from the deque&quot;, *f);
-			for (int a = 0; a &lt; MAX_PLAYERS; ++a) {
-				if (players[a])
-					players[a]-&gt;syncResponse.erase(*f);
+			for (unsigned a = 0; a &lt; players.size(); ++a) {
+				if (players[a].myState &gt;= GameParticipant::DISCONNECTED)
+					players[a].syncResponse.erase(*f);
 			}
 			f = outstandingSyncFrames.erase(f);
 		} else
@@ -417,23 +429,45 @@
 
 		if (serverframenum &gt; 0) {
 			//send info about the players
-			float maxCpu = 0.0f;
-			for (int a = 0; a &lt; MAX_PLAYERS; ++a) {
-				if (players[a]) {
-					Broadcast(CBaseNetProtocol::Get().SendPlayerInfo(a, players[a]-&gt;cpuUsage, players[a]-&gt;ping));
-					if (players[a]-&gt;cpuUsage &gt; maxCpu) {
-						maxCpu = players[a]-&gt;cpuUsage;
-					}
+			int curpos=0;
+			int ping[MAX_PLAYERS] = { 0 };
+			float cpu[MAX_PLAYERS] = { 0.0f };
+			float refCpu=0.0f;
+			for (unsigned a = 0; a &lt; players.size(); ++a) {
+				if (players[a].myState &gt;= GameParticipant::INGAME) {
+					Broadcast(CBaseNetProtocol::Get().SendPlayerInfo(a, players[a].cpuUsage, players[a].ping));
+					if (players[a].cpuUsage &gt; refCpu)
+						refCpu = players[a].cpuUsage;
+					cpu[curpos]=players[a].cpuUsage;
+					ping[curpos]=players[a].ping;
+					++curpos;
 				}
 			}
 
-			if (maxCpu &gt; 0.0f) {
-				float wantedCpu=0.5f+(1-internalSpeed/userSpeedFactor)*0.5f;
-				//float speedMod=1+wantedCpu-maxCpu;
-				float newSpeed=internalSpeed*wantedCpu/maxCpu;
-				//logOutput.Print(&quot;Speed %f %f %f %f&quot;,maxCpu,wantedCpu,speedMod,newSpeed);
+			medianCpu=0.0f;
+			medianPing=0;
+			if(enforceSpeed &amp;&amp; curpos&gt;0) {
+				std::sort(cpu,cpu+curpos);
+				std::sort(ping,ping+curpos);
+
+				int midpos=curpos/2;
+				medianCpu=cpu[midpos];
+				medianPing=ping[midpos];
+				if(midpos*2==curpos) {
+					medianCpu=(medianCpu+cpu[midpos-1])/2.0f;
+					medianPing=(medianPing+ping[midpos-1])/2;
+				}
+				refCpu=medianCpu;
+			}
+
+			if (refCpu &gt; 0.0f) {
+				// aim for 60% cpu usage if median is used as reference and 75% cpu usage if max is the reference
+				float wantedCpu=enforceSpeed ? 0.6f+(1-internalSpeed/userSpeedFactor)*0.5f : 0.75f+(1-internalSpeed/userSpeedFactor)*0.5f;
+				float newSpeed=internalSpeed*wantedCpu/refCpu;
+//				float speedMod=1+wantedCpu-refCpu;
+//				logOutput.Print(&quot;Speed REF %f MED %f WANT %f SPEEDM %f NSPEED %f&quot;,refCpu,medianCpu,wantedCpu,speedMod,newSpeed);
 				newSpeed = (newSpeed+internalSpeed)*0.5f;
-				newSpeed = std::max(newSpeed, userSpeedFactor*0.5f);
+				newSpeed = std::max(newSpeed, enforceSpeed ? userSpeedFactor*0.8f : userSpeedFactor*0.5f);
 				if(newSpeed&gt;userSpeedFactor)
 					newSpeed=userSpeedFactor;
 				if(newSpeed&lt;0.1f)
@@ -477,12 +511,12 @@
 		}
 	}
 
-	if ((SDL_GetTicks() - serverStartTime) &gt; serverTimeout)
+	if (SDL_GetTicks() &gt; serverTimeout + serverStartTime || gameStartTime)
 	{
 		bool hasPlayers = false;
-		for (int i = 0; i &lt; MAX_PLAYERS; ++i)
+		for (unsigned i = 0; i &lt; players.size(); ++i)
 		{
-			if (players[i])
+			if (players[i].link)
 				hasPlayers = true;
 		}
 
@@ -501,7 +535,7 @@
 
 	switch (inbuf[0]){
 		case NETMSG_KEYFRAME:
-			players[a]-&gt;ping = serverframenum-*(int*)&amp;inbuf[1];
+			players[a].ping = serverframenum-*(int*)&amp;inbuf[1];
 			break;
 
 		case NETMSG_PAUSE:
@@ -510,8 +544,12 @@
 			} else {
 				if (!inbuf[2])  // reset sync checker
 					syncErrorFrame = 0;
-				if(gamePausable || players[a]-&gt;isLocal) // allow host to pause even if nopause is set
+				if(gamePausable || players[a].isLocal) // allow host to pause even if nopause is set
 				{
+					if(enforceSpeed &amp;&amp; (players[a].cpuUsage - medianCpu &gt; 0.25f || players[a].ping - medianPing &gt; internalSpeed*GAME_SPEED/2)) {
+						GotChatMessage(ChatMessage(a, a, &quot;Pausing rejected (cpu load or ping is too high)&quot;));
+						break; // disallow pausing by players who cannot keep up gamespeed
+					}
 					timeLeft=0;
 					if (isPaused != !!inbuf[2]) {
 						isPaused = !isPaused;
@@ -528,13 +566,14 @@
 		} break;
 
 		case NETMSG_CPU_USAGE:
-			players[a]-&gt;cpuUsage = *((float*)&amp;inbuf[1]);
+			players[a].cpuUsage = *((float*)&amp;inbuf[1]);
 			break;
 
 		case NETMSG_QUIT: {
-			Message(str(format(PlayerLeft) %players[a]-&gt;name %&quot; normal quit&quot;));
+			Message(str(format(PlayerLeft) %players[a].name %&quot; normal quit&quot;));
 			Broadcast(CBaseNetProtocol::Get().SendPlayerLeft(a, 1));
-			players[a].reset();
+			players[a].myState = GameParticipant::DISCONNECTED;
+			players[a].link.reset();
 			if (hostif)
 			{
 				hostif-&gt;SendPlayerLeft(a, 1);
@@ -547,13 +586,13 @@
 			if(playerNum!=a){
 				Warning(str(format(WrongPlayer) %(unsigned)inbuf[0] %a %playerNum));
 			} else {
-				players[playerNum]-&gt;name = (std::string)((char*)inbuf+3);
-				players[playerNum]-&gt;readyToStart = true;
-				Message(str(format(PlayerJoined) %players[playerNum]-&gt;name));
-				Broadcast(CBaseNetProtocol::Get().SendPlayerName(playerNum, players[playerNum]-&gt;name));
+				players[playerNum].name = (std::string)((char*)inbuf+3);
+				players[playerNum].myState = GameParticipant::INGAME;
+				Message(str(format(PlayerJoined) %players[playerNum].name));
+				Broadcast(CBaseNetProtocol::Get().SendPlayerName(playerNum, players[playerNum].name));
 				if (hostif)
 				{
-					hostif-&gt;SendPlayerJoined(playerNum, players[playerNum]-&gt;name);
+					hostif-&gt;SendPlayerJoined(playerNum, players[playerNum].name);
 				}
 			}
 			break;
@@ -586,7 +625,8 @@
 				if (teams[team])
 				{
 					teams[team]-&gt;startpos = SFloat3(*((float*)&amp;inbuf[4]), *((float*)&amp;inbuf[8]), *((float*)&amp;inbuf[12]));
-					teams[team]-&gt;readyToStart = static_cast&lt;bool&gt;(inbuf[3]);
+					if (inbuf[3] == 1)
+						teams[team]-&gt;readyToStart = static_cast&lt;bool&gt;(inbuf[3]);
 				}
 				Broadcast(CBaseNetProtocol::Get().SendStartPos(inbuf[1],team, inbuf[3], *((float*)&amp;inbuf[4]), *((float*)&amp;inbuf[8]), *((float*)&amp;inbuf[12]))); //forward data
 				if (hostif)
@@ -623,7 +663,7 @@
 				Warning(str(format(WrongPlayer) %(unsigned) inbuf[0]  %a  %(unsigned) inbuf[3]));
 			}
 			else if (noHelperAIs) {
-				Warning(str(format(NoHelperAI) %players[a]-&gt;name %a));
+				Warning(str(format(NoHelperAI) %players[a].name %a));
 			}
 			else if (!demoReader) {
 				Broadcast(packet); //forward data
@@ -635,7 +675,7 @@
 				Warning(str(format(WrongPlayer) %(unsigned) inbuf[0]  %a  %(unsigned) inbuf[3]));
 			}
 			else if (noHelperAIs) {
-				Warning(str(format(NoHelperAI) %players[a]-&gt;name %a));
+				Warning(str(format(NoHelperAI) %players[a].name %a));
 			}
 			else if (!demoReader) {
 				Broadcast(packet); //forward data
@@ -646,7 +686,7 @@
 			if (inbuf[3] != a) {
 				Warning(str(format(WrongPlayer) %(unsigned) inbuf[0]  %a  %(unsigned) inbuf[3]));
 			} else if (noHelperAIs) {
-				Warning(str(format(NoHelperAI) %players[a]-&gt;name %a));
+				Warning(str(format(NoHelperAI) %players[a].name %a));
 			} else if (!demoReader) {
 				Broadcast(packet); //forward data
 			}
@@ -668,13 +708,13 @@
 			} else {
 				int frameNum = *(int*)&amp;inbuf[2];
 				if (outstandingSyncFrames.empty() || frameNum &gt;= outstandingSyncFrames.front())
-					players[a]-&gt;syncResponse[frameNum] = *(unsigned*)&amp;inbuf[6];
+					players[a].syncResponse[frameNum] = *(unsigned*)&amp;inbuf[6];
 				else if (serverframenum - delayedSyncResponseFrame &gt; SYNCCHECK_MSG_TIMEOUT) {
 					delayedSyncResponseFrame = serverframenum;
-					Warning(str(format(DelayedSyncResponse) %players[a]-&gt;name %frameNum %serverframenum));
+					Warning(str(format(DelayedSyncResponse) %players[a].name %frameNum %serverframenum));
 				}
-							// update players' ping (if !defined(SYNCCHECK) this is done in NETMSG_KEYFRAME)
-				players[a]-&gt;ping = serverframenum - frameNum;
+				// update players' ping (if !defined(SYNCCHECK) this is done in NETMSG_KEYFRAME)
+				players[a].ping = serverframenum - frameNum;
 			}
 #endif
 			break;
@@ -731,13 +771,13 @@
 
 		case NETMSG_STARTPLAYING:
 		{
-			if (players[a]-&gt;isLocal &amp;&amp; !gameStartTime)
+			if (players[a].isLocal &amp;&amp; !gameStartTime)
 				CheckForGameStart(true);
 			break;
 		}
 		case NETMSG_TEAM:
 		{
-						//TODO update players[] and teams[] and send to hostif
+						//TODO update players[] and teams[] and send all to hostif
 			const unsigned player = (unsigned)inbuf[1];
 			if (player != a)
 			{
@@ -746,10 +786,10 @@
 			else
 			{
 				const unsigned action = inbuf[2];
-				const unsigned fromTeam = players[player]-&gt;team;
+				const unsigned fromTeam = players[player].team;
 				unsigned numPlayersInTeam = 0;
-				for (int a = 0; a &lt; MAX_PLAYERS; ++a)
-					if (players[a] &amp;&amp; players[a]-&gt;team == fromTeam)
+				for (unsigned a = 0; a &lt; players.size(); ++a)
+					if (players[a].team == fromTeam)
 						++numPlayersInTeam;
 
 				switch (action)
@@ -761,14 +801,16 @@
 						{
 							teams[fromTeam].reset();
 						}
-						players[player]-&gt;team = 0;
-						players[player]-&gt;spectator = true;
+						players[player].team = 0;
+						players[player].spectator = true;
+						if (hostif) hostif-&gt;SendPlayerDefeated(player);
 						break;
 					}
 					case TEAMMSG_RESIGN: {
 						Broadcast(CBaseNetProtocol::Get().SendResign(player));
-						players[player]-&gt;team = 0;
-						players[player]-&gt;spectator = true;
+						players[player].team = 0;
+						players[player].spectator = true;
+						if (hostif) hostif-&gt;SendPlayerDefeated(player);
 						break;
 					}
 					case TEAMMSG_JOIN_TEAM: {
@@ -776,31 +818,32 @@
 						if (cheating)
 						{
 							Broadcast(CBaseNetProtocol::Get().SendJoinTeam(player, newTeam));
-							players[player]-&gt;team = newTeam;
+							players[player].team = newTeam;
 							if (!teams[newTeam])
 								teams[newTeam].reset(new GameTeam);
 						}
 						else
 						{
-							Warning(str(format(NoTeamChange) %players[player]-&gt;name %player));
+							Warning(str(format(NoTeamChange) %players[player].name %player));
 						}
 						break;
 					}
 					case TEAMMSG_TEAM_DIED: { // don't send to clients, they don't need it
 						unsigned char team = inbuf[3];
 #ifndef DEDICATED
-						if (teams[team] &amp;&amp; players[player]-&gt;isLocal) // currently only host is allowed
+						if (teams[team] &amp;&amp; players[player].isLocal) // currently only host is allowed
 #else
 						if (teams[team])
 #endif
 						{
 							teams[team].reset();
-							for (int i = 0; i &lt; MAX_PLAYERS; ++i)
+							for (unsigned i = 0; i &lt; players.size(); ++i)
 							{
-								if (players[i] &amp;&amp; players[i]-&gt;team == team)
+								if (players[i].team == team)
 								{
-									players[i]-&gt;team = 0;
-									players[i]-&gt;spectator = true;
+									players[i].team = 0;
+									players[i].spectator = true;
+									if (hostif) hostif-&gt;SendPlayerDefeated(i);
 								}
 							}
 						}
@@ -830,7 +873,7 @@
 			CommandMessage msg(packet);
 			if (msg.player == a)
 			{
-				if ((commandBlacklist.find(msg.action.command) != commandBlacklist.end()) &amp;&amp; players[a]-&gt;isLocal)
+				if ((commandBlacklist.find(msg.action.command) != commandBlacklist.end()) &amp;&amp; players[a].isLocal)
 				{
 								// command is restricted to server but player is allowed to execute it
 					PushAction(msg.action);
@@ -906,27 +949,27 @@
 		}
 	}
 
-	for(unsigned a=0; (int)a &lt; MAX_PLAYERS; a++)
+	for(unsigned a=0; (int)a &lt; players.size(); a++)
 	{
-		if (players[a])
+		if (!players[a].link)
+			continue; // player not connected
+		if (players[a].link-&gt;CheckTimeout())
 		{
-			if (players[a]-&gt;link-&gt;CheckTimeout())
+			Message(str(format(PlayerLeft) %players[a].name %&quot; timeout&quot;)); //this must happen BEFORE the reset!
+			players[a].myState = GameParticipant::DISCONNECTED;
+			players[a].link.reset();
+			Broadcast(CBaseNetProtocol::Get().SendPlayerLeft(a, 0));
+			if (hostif)
 			{
-				Message(str(format(PlayerLeft) %players[a]-&gt;name %&quot; timeout&quot;)); //this must happen BEFORE the reset!
-				players[a].reset();
-				Broadcast(CBaseNetProtocol::Get().SendPlayerLeft(a, 0));
-				if (hostif)
-				{
-					hostif-&gt;SendPlayerLeft(a, 0);
-				}
-				continue;
+				hostif-&gt;SendPlayerLeft(a, 0);
 			}
+			continue;
+		}
 
-			boost::shared_ptr&lt;const RawPacket&gt; packet;
-			while (players[a] &amp;&amp; (packet = players[a]-&gt;link-&gt;GetData()))
-			{
-				ProcessPacket(a, packet);
-			}
+		boost::shared_ptr&lt;const RawPacket&gt; packet;
+		while (players[a].link &amp;&amp; (packet = players[a].link-&gt;GetData()))
+		{
+			ProcessPacket(a, packet);
 		}
 	}
 
@@ -971,15 +1014,15 @@
 	// Lobby-protocol doesn't support creating games without players inside
 	// so in dedicated mode there will always be the host-player in the script
 	// which doesn't exist and will never join, so skip it in this case
-	for (int a = std::max(setup-&gt;numDemoPlayers,1); a &lt; setup-&gt;numPlayers; a++)
+	for (int a = std::max(setup-&gt;numDemoPlayers,1); a &lt; players.size(); a++)
 #else
-	for (int a = setup-&gt;numDemoPlayers; a &lt; setup-&gt;numPlayers; a++)
+	for (int a = setup-&gt;numDemoPlayers; a &lt; players.size(); a++)
 #endif
 	{
-		if (!players[a] || !players[a]-&gt;readyToStart) {
+		if (players[a].myState &lt; GameParticipant::INGAME) {
 			allReady = false;
 			break;
-		} else if (teams[players[a]-&gt;team] &amp;&amp; !teams[players[a]-&gt;team]-&gt;readyToStart &amp;&amp; !demoReader)
+		} else if (teams[players[a].team] &amp;&amp; !teams[players[a].team]-&gt;readyToStart &amp;&amp; !demoReader)
 		{
 			allReady = false;
 			break;
@@ -1007,11 +1050,6 @@
 	if (UDPNet)
 		UDPNet-&gt;Listen(false); // don't accept new connections
 
-	for(int a=0; a &lt; MAX_PLAYERS; ++a) {
-		if(players[a])
-			Broadcast(CBaseNetProtocol::Get().SendPlayerName(a, players[a]-&gt;name));
-	}
-
 	// make sure initial game speed is within allowed range and sent a new speed if not
 	UserSpeedChange(userSpeedFactor, SERVER_PLAYER);
 
@@ -1064,15 +1102,13 @@
 		{
 			std::string name = action.extra;
 			StringToLowerInPlace(name);
-			for (int a=1; a &lt; MAX_PLAYERS;++a)
+			for (unsigned a=0; a &lt; players.size();++a)
 			{
-				if (players[a])
-				{
-					std::string playerLower = StringToLower(players[a]-&gt;name);
-					if (playerLower.find(name)==0)
-					{	//can kick on substrings of name
+				std::string playerLower = StringToLower(players[a].name);
+				if (playerLower.find(name)==0)
+				{	//can kick on substrings of name
+					if (!players[a].isLocal) // don't kick host
 						KickPlayer(a);
-					}
 				}
 			}
 		}
@@ -1170,10 +1206,10 @@
 	}
 
 	int numActiveAllyTeams = 0;
+	int numActiveTeams[MAX_TEAMS]; // active teams per ally team
+	memset(numActiveTeams, 0, sizeof(numActiveTeams));
 
 #ifndef DEDICATED
-	int numActiveTeams[MAX_TEAMS]; // active teams per ally team
-	memset(numActiveTeams, 0, sizeof(numActiveTeams));
 	for (int a = 0; a &lt; teamHandler-&gt;ActiveTeams(); ++a)
 	{
 		bool hasPlayer = false;
@@ -1193,23 +1229,27 @@
 		if (numActiveTeams[a] != 0)
 			++numActiveAllyTeams;
 #else
-	int firstAllyTeam = -1;
-	for (int i = 0; i &lt; MAX_PLAYERS; ++i)
+	for (int a = 0; a &lt; setup-&gt;numTeams; ++a)
 	{
-		if (players[i] &amp;&amp; !players[i]-&gt;spectator)
-		{
-			if (firstAllyTeam &lt; 0)
-			{
-				firstAllyTeam = teams[players[i]-&gt;team]-&gt;allyTeam;
-				numActiveAllyTeams = 1;
+		bool hasPlayer = false;
+		for (unsigned b = 0; b &lt; players.size(); ++b) {
+			if (!players[b].spectator &amp;&amp; players[b].team == a) {
+				hasPlayer = true;
 			}
-			else if (firstAllyTeam != teams[players[i]-&gt;team]-&gt;allyTeam)
-			{
-				numActiveAllyTeams = 2;
-				break;
-			}
 		}
+		if (!setup-&gt;teamStartingData[a].skirmishAIShortName.empty())
+		{
+			++numActiveTeams[setup-&gt;teamStartingData[a].teamAllyteam];
+			continue;
+		}
+
+		if (teams[a] &amp;&amp; hasPlayer)
+			++numActiveTeams[teams[a]-&gt;allyTeam];
 	}
+
+	for (int a = 0; a &lt; MAX_TEAMS; ++a)
+		if (numActiveTeams[a] != 0)
+			++numActiveAllyTeams;
 #endif
 	if (numActiveAllyTeams &lt;= 1)
 	{
@@ -1323,16 +1363,20 @@
 
 void CGameServer::KickPlayer(const int playerNum)
 {
-	if (players[playerNum]) {
+	if (players[playerNum].link) // only kick connected players
+	{
 		Message(str(format(PlayerLeft) %playerNum %&quot;kicked&quot;));
 		Broadcast(CBaseNetProtocol::Get().SendPlayerLeft(playerNum, 2));
-		players[playerNum]-&gt;link-&gt;SendData(CBaseNetProtocol::Get().SendQuit());
+		players[playerNum].link-&gt;SendData(CBaseNetProtocol::Get().SendQuit());
+		players[playerNum].link.reset();
+		players[playerNum].myState = GameParticipant::DISCONNECTED;
 		if (hostif)
 		{
 			hostif-&gt;SendPlayerLeft(playerNum, 2);
 		}
-		players[playerNum].reset();
 	}
+	else
+		Message(str( format(&quot;Attempt to kick player $d who is not connected&quot;) %playerNum ));
 }
 
 unsigned CGameServer::BindConnection(const std::string&amp; name, const std::string&amp; version, bool isLocal, boost::shared_ptr&lt;netcode::CConnection&gt; link)
@@ -1340,49 +1384,57 @@
 	unsigned hisNewNumber = 0;
 	bool found = false;
 
-	for (unsigned i = setup-&gt;numDemoPlayers; i &lt; setup-&gt;numPlayers; ++i)
-	{
-		if (name == setup-&gt;playerStartingData[i].name)
-		{
-			hisNewNumber = i;
-			found = true;
-			break;
-		}
-	}
+	unsigned startnum;
+	if (demoReader)
+		 startnum = (unsigned)demoReader-&gt;GetFileHeader().maxPlayerNum+1;
+	else
+		startnum = 0;
 
-	if (demoReader) {
-		hisNewNumber = std::max(hisNewNumber, (unsigned)demoReader-&gt;GetFileHeader().maxPlayerNum+1);
-	}
-	if (players[hisNewNumber])
+	for (unsigned i = startnum; i &lt; players.size(); ++i)
 	{
-		for (int p = 0; p &lt; MAX_PLAYERS; ++p)
+		if (name == players[i].name)
 		{
-			if (!players[p])
+			if (players[i].myState == GameParticipant::UNCONNECTED || players[i].myState == GameParticipant::DISCONNECTED)
 			{
-				hisNewNumber = p;
+				hisNewNumber = i;
+				found = true;
 				break;
 			}
+			else
+			{
+				Message(str(format(&quot;Player %s is already ingame&quot;) %name));
+			}
 		}
 	}
 
-	if ((hisNewNumber &gt;= static_cast&lt;unsigned&gt;(setup-&gt;numPlayers) || !found) &amp;&amp; !demoReader)
+	if (hisNewNumber &gt;= players.size())
 	{
-		// player not found
-		Message(str(format(&quot;Player %s not found, rejecting connection attempt&quot;) %name));
-		return 0;
+		if (demoReader)
+		{
+			GameParticipant buf;
+			buf.isFromDemo = false;
+			buf.name = name;
+			buf.spectator = true;
+			buf.team = 0;
+			players.push_back(buf);
+		}
+		else
+		{
+			// player not found
+			Message(str(format(&quot;Player %s not found, rejecting connection attempt&quot;) %name));
+			return 0;
+		}
 	}
 
-	players[hisNewNumber].reset(new GameParticipant(isLocal)); // give him rights to change speed, kick players etc
-	players[hisNewNumber]-&gt;link = link;
-	if (hisNewNumber &lt; setup-&gt;playerStartingData.size()) {
-		*static_cast&lt;PlayerBase*&gt;(players[hisNewNumber].get()) = setup-&gt;playerStartingData[hisNewNumber];
-	}
+	players[hisNewNumber].link = link;
+	players[hisNewNumber].isLocal = isLocal;
+
 	link-&gt;SendData(boost::shared_ptr&lt;const RawPacket&gt;(gameData-&gt;Pack()));
 	link-&gt;SendData(CBaseNetProtocol::Get().SendSetPlayerNum((unsigned char)hisNewNumber));
 
-	for (int a = 0; a &lt; MAX_PLAYERS; ++a) {
-		if(players[a] &amp;&amp; players[a]-&gt;readyToStart)
-			Broadcast(CBaseNetProtocol::Get().SendPlayerName(a, players[a]-&gt;name));
+	for (unsigned a = 0; a &lt; players.size(); ++a) {
+		if(players[a].myState &gt;= GameParticipant::INGAME)
+			Broadcast(CBaseNetProtocol::Get().SendPlayerName(a, players[a].name));
 	}
 
 	if (!demoReader || setup-&gt;demoName.empty()) // gamesetup from demo?
@@ -1395,7 +1447,7 @@
 			teams[hisTeam]-&gt;readyToStart = (setup-&gt;startPosType != CGameSetup::StartPos_ChooseInGame);
 			teams[hisTeam]-&gt;allyTeam = setup-&gt;teamStartingData[hisTeam].teamAllyteam;
 		}
-		players[hisNewNumber]-&gt;team = hisTeam;
+		players[hisNewNumber].team = hisTeam;
 		if (!setup-&gt;playerStartingData[hisNewNumber].spectator)
 			Broadcast(CBaseNetProtocol::Get().SendJoinTeam(hisNewNumber, hisTeam));
 		for (int a = 0; a &lt; MAX_TEAMS; ++a)
@@ -1430,6 +1482,11 @@
 
 void CGameServer::UserSpeedChange(float newSpeed, int player)
 {
+	if(enforceSpeed &amp;&amp; player!=SERVER_PLAYER &amp;&amp; (players[player].cpuUsage - medianCpu &gt; 0.25f || players[player].ping - medianPing &gt; internalSpeed*GAME_SPEED/2)) {
+		GotChatMessage(ChatMessage(player, player, &quot;Speed change rejected (cpu load or ping is too high)&quot;));
+		return; // disallow speed change by players who cannot keep up gamespeed
+	}
+
 	newSpeed = std::min(maxUserSpeed, std::max(newSpeed, minUserSpeed));
 
 	if (userSpeedFactor != newSpeed)

Modified: branches/caiinterface/rts/Game/GameServer.h
===================================================================
--- branches/caiinterface/rts/Game/GameServer.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/GameServer.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -35,9 +35,19 @@
 class GameParticipant : public PlayerBase
 {
 public:
-	GameParticipant(bool willHaveRights);
+	GameParticipant();
+	
+	void operator=(const PlayerBase&amp; base) { PlayerBase::operator=(base); };
 
-	bool readyToStart;
+	enum State
+	{
+		UNCONNECTED,
+		CONNECTED,
+		INGAME,
+		DISCONNECTED
+	};
+	State myState;
+	
 	float cpuUsage;
 	int ping;
 
@@ -157,9 +167,12 @@
 	float internalSpeed;
 	bool cheating;
 
-	boost::scoped_ptr&lt;GameParticipant&gt; players[MAX_PLAYERS];
+	std::vector&lt;GameParticipant&gt; players;
 	boost::scoped_ptr&lt;GameTeam&gt; teams[MAX_TEAMS];
 
+	float medianCpu;
+	int medianPing;
+	int enforceSpeed;
 	/////////////////// game settings ///////////////////
 	boost::scoped_ptr&lt;const CGameSetup&gt; setup;
 	boost::scoped_ptr&lt;const GameData&gt; gameData;

Modified: branches/caiinterface/rts/Game/GameVersion.cpp
===================================================================
--- branches/caiinterface/rts/Game/GameVersion.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/GameVersion.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -6,6 +6,8 @@
 #include &quot;StdAfx.h&quot;
 #include &quot;GameVersion.h&quot;
 
+#include &lt;cstring&gt;
+
 // IMPORTANT NOTE: external systems sed -i this file so DO NOT CHANGE without
 // major thought in advance, and deliberation with bibim and tvo/Tobi!
 
@@ -27,7 +29,8 @@
 
 std::string GetFull()
 {
-	return Get() + &quot;.&quot; + Patchset + &quot; (&quot; + Additional + &quot;)&quot;;
+	static const std::string full(Get() + &quot;.&quot; + Patchset + ((std::strlen(Additional) &gt;0) ? (std::string(&quot; (&quot;) + Additional + &quot;)&quot;) : &quot;&quot;));
+	return full;
 }
 
 }

Modified: branches/caiinterface/rts/Game/Player.h
===================================================================
--- branches/caiinterface/rts/Game/Player.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/Player.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -48,6 +48,8 @@
 
 	void StartSpectating();
 
+	void operator=(const PlayerBase&amp; base) { PlayerBase::operator=(base); };
+
 	bool active;
 
 	int playerNum;

Modified: branches/caiinterface/rts/Game/PlayerHandler.cpp
===================================================================
--- branches/caiinterface/rts/Game/PlayerHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/PlayerHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -40,9 +40,7 @@
 
 	for (int i = 0; i &lt; activePlayers; ++i)
 	{
-		// TODO: refactor
-		// NOTE: this seems slightly better already then the static_cast
-		Player(i)-&gt;PlayerBase::operator=(setup-&gt;playerStartingData[i]);
+		*Player(i) = setup-&gt;playerStartingData[i];
 	}
 }
 

Modified: branches/caiinterface/rts/Game/PreGame.cpp
===================================================================
--- branches/caiinterface/rts/Game/PreGame.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/PreGame.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -31,7 +31,7 @@
 #include &quot;Lua/LuaRules.h&quot;
 #include &quot;Lua/LuaParser.h&quot;
 #include &quot;Map/MapParser.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;FileSystem/FileSystem.h&quot;
 #include &quot;Rendering/glFont.h&quot;
 #include &quot;Rendering/Textures/TAPalette.h&quot;

Modified: branches/caiinterface/rts/Game/SelectMenu.cpp
===================================================================
--- branches/caiinterface/rts/Game/SelectMenu.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/SelectMenu.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -19,7 +19,7 @@
 #include &quot;FileSystem/FileHandler.h&quot;
 #include &quot;FileSystem/VFSHandler.h&quot;
 #include &quot;FileSystem/FileSystem.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;StartScripts/ScriptHandler.h&quot;
 
 using std::string;
@@ -38,7 +38,7 @@
 	game-&gt;AddPair(&quot;IsHost&quot;, 1);
 	game-&gt;add_name_value(&quot;MyPlayerName&quot;, playername);
 	
-	game-&gt;AddPair(&quot;NoHelperAIs&quot;, configHandler.GetInt(&quot;NoHelperAIs&quot;, 0));
+	game-&gt;AddPair(&quot;NoHelperAIs&quot;, configHandler.Get(&quot;NoHelperAIs&quot;, 0));
 	
 	TdfParser::TdfSection* player0 = game-&gt;construct_subsection(&quot;PLAYER0&quot;);
 	player0-&gt;add_name_value(&quot;Name&quot;, playername);

Modified: branches/caiinterface/rts/Game/SelectedUnits.cpp
===================================================================
--- branches/caiinterface/rts/Game/SelectedUnits.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/SelectedUnits.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -34,7 +34,7 @@
 #include &quot;Sim/Units/CommandAI/LineDrawer.h&quot;
 #include &quot;Sim/Units/UnitTypes/TransportUnit.h&quot;
 #include &quot;EventHandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;PlayerHandler.h&quot;
 #include &quot;Camera.h&quot;
 #include &quot;Sound.h&quot;
@@ -65,7 +65,7 @@
 
 void CSelectedUnits::Init()
 {
-	buildIconsFirst = !!configHandler.GetInt(&quot;BuildIconsFirst&quot;, 0);
+	buildIconsFirst = !!configHandler.Get(&quot;BuildIconsFirst&quot;, 0);
 }
 
 

Modified: branches/caiinterface/rts/Game/StartScripts/AirScript.cpp
===================================================================
--- branches/caiinterface/rts/Game/StartScripts/AirScript.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/StartScripts/AirScript.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -10,7 +10,7 @@
 #include &quot;Sim/Units/UnitDefHandler.h&quot;
 #include &quot;Game/Camera.h&quot;
 #include &quot;Sim/MoveTypes/AirMoveType.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;Map/Ground.h&quot;
 #include &quot;GlobalUnsynced.h&quot;
@@ -53,7 +53,7 @@
 
 void CAirScript::GameStart()
 {
-	doRoll=!configHandler.GetInt(&quot;ReflectiveWater&quot;,1);
+	doRoll=!configHandler.Get(&quot;ReflectiveWater&quot;,1);
 
 	ENTER_MIXED;
 	tcp=camera-&gt;pos;

Modified: branches/caiinterface/rts/Game/UI/GameSetupDrawer.cpp
===================================================================
--- branches/caiinterface/rts/Game/UI/GameSetupDrawer.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/UI/GameSetupDrawer.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -11,7 +11,7 @@
 #include &quot;GameSetupDrawer.h&quot;
 
 #include &quot;NetProtocol.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Game/CameraHandler.h&quot;
 #include &quot;Game/PlayerHandler.h&quot;
 #include &quot;Game/GameSetup.h&quot;
@@ -54,7 +54,7 @@
 		if (!modeName.empty()) {
 			camHandler-&gt;SetCameraMode(modeName);
 		} else {
-			const int modeIndex = configHandler.GetInt(&quot;CamMode&quot;, 1);
+			const int modeIndex = configHandler.Get(&quot;CamMode&quot;, 1);
 			camHandler-&gt;SetCameraMode(modeIndex);
 		}
 	}

Modified: branches/caiinterface/rts/Game/UI/GuiHandler.cpp
===================================================================
--- branches/caiinterface/rts/Game/UI/GuiHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/UI/GuiHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -53,7 +53,7 @@
 #include &quot;EventHandler.h&quot;
 #include &quot;FileSystem/SimpleParser.h&quot;
 #include &quot;LogOutput.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Util.h&quot;
 #include &quot;myMath.h&quot;
 
@@ -89,13 +89,13 @@
 
 	LoadConfig(&quot;ctrlpanel.txt&quot;);
 
-	miniMapMarker = !!configHandler.GetInt(&quot;MiniMapMarker&quot;, 1);
-	invertQueueKey = !!configHandler.GetInt(&quot;InvertQueueKey&quot;, 0);
+	miniMapMarker = !!configHandler.Get(&quot;MiniMapMarker&quot;, 1);
+	invertQueueKey = !!configHandler.Get(&quot;InvertQueueKey&quot;, 0);
 
 	autoShowMetal = mapInfo-&gt;gui.autoShowMetal;
 
 	useStencil = false;
-	if (GLEW_NV_depth_clamp &amp;&amp; !!configHandler.GetInt(&quot;StencilBufferBits&quot;, 1)) {
+	if (GLEW_NV_depth_clamp &amp;&amp; !!configHandler.Get(&quot;StencilBufferBits&quot;, 1)) {
 		GLint stencilBits;
 		glGetIntegerv(GL_STENCIL_BITS, &amp;stencilBits);
 		useStencil = (stencilBits &gt;= 1);
@@ -1642,7 +1642,7 @@
 			invertQueueKey = !!atoi(action.extra.c_str());
 		}
 		needShift = false;
-		configHandler.SetInt(&quot;InvertQueueKey&quot;, invertQueueKey ? 1 : 0);
+		configHandler.Set(&quot;InvertQueueKey&quot;, invertQueueKey ? 1 : 0);
 		return true;
 	}
 

Modified: branches/caiinterface/rts/Game/UI/InfoConsole.cpp
===================================================================
--- branches/caiinterface/rts/Game/UI/InfoConsole.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/UI/InfoConsole.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -16,7 +16,7 @@
 #endif
 
 #include &quot;Sync/SyncTracer.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;InputReceiver.h&quot;
 
 
@@ -34,8 +34,8 @@
 	data.clear();
 
 	lastTime=0;
-	lifetime     = configHandler.GetInt(&quot;InfoMessageTime&quot;, 400);
-	verboseLevel = configHandler.GetInt(&quot;VerboseLevel&quot;, 0);
+	lifetime     = configHandler.Get(&quot;InfoMessageTime&quot;, 400);
+	verboseLevel = configHandler.Get(&quot;VerboseLevel&quot;, 0);
 
 	const std::string geo = configHandler.GetString(&quot;InfoConsoleGeometry&quot;,
                                                   &quot;0.26 0.96 0.41 0.205&quot;);

Modified: branches/caiinterface/rts/Game/UI/LuaUI.cpp
===================================================================
--- branches/caiinterface/rts/Game/UI/LuaUI.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/UI/LuaUI.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -72,7 +72,7 @@
 #include &quot;SpringApp.h&quot;
 #include &quot;FileSystem/FileHandler.h&quot;
 #include &quot;FileSystem/VFSHandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;FileSystem/FileSystem.h&quot;
 #include &quot;Util.h&quot;
 

Modified: branches/caiinterface/rts/Game/UI/MiniMap.cpp
===================================================================
--- branches/caiinterface/rts/Game/UI/MiniMap.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/UI/MiniMap.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -28,7 +28,7 @@
 #include &quot;Map/ReadMap.h&quot;
 #include &quot;MiniMap.h&quot;
 #include &quot;MouseHandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Rendering/GL/glExtra.h&quot;
 #include &quot;Rendering/GL/myGL.h&quot;
 #include &quot;Rendering/GL/VertexArray.h&quot;
@@ -100,9 +100,9 @@
 		ParseGeometry(geo);
 	}
 
-	fullProxy = !!configHandler.GetInt(&quot;MiniMapFullProxy&quot;, 1);
+	fullProxy = !!configHandler.Get(&quot;MiniMapFullProxy&quot;, 1);
 
-	buttonSize = configHandler.GetInt(&quot;MiniMapButtonSize&quot;, 16);
+	buttonSize = configHandler.Get(&quot;MiniMapButtonSize&quot;, 16);
 
 	unitBaseSize =
 		atof(configHandler.GetString(&quot;MiniMapUnitSize&quot;, &quot;2.5&quot;).c_str());
@@ -114,13 +114,13 @@
 	cursorScale =
 		atof(configHandler.GetString(&quot;MiniMapCursorScale&quot;, &quot;-0.5&quot;).c_str());
 
-	useIcons = !!configHandler.GetInt(&quot;MiniMapIcons&quot;, 1);
+	useIcons = !!configHandler.Get(&quot;MiniMapIcons&quot;, 1);
 
-	drawCommands = std::max(0, configHandler.GetInt(&quot;MiniMapDrawCommands&quot;, 1));
+	drawCommands = std::max(0, configHandler.Get(&quot;MiniMapDrawCommands&quot;, 1));
 
-	drawProjectiles = !!configHandler.GetInt(&quot;MiniMapDrawProjectiles&quot;, 1);
+	drawProjectiles = !!configHandler.Get(&quot;MiniMapDrawProjectiles&quot;, 1);
 
-	simpleColors = !!configHandler.GetInt(&quot;SimpleMiniMapColors&quot;, 0);
+	simpleColors = !!configHandler.Get(&quot;SimpleMiniMapColors&quot;, 0);
 
 	myColor[0]    = (unsigned char)(0.2f * 255);
 	myColor[1]    = (unsigned char)(0.9f * 255);

Modified: branches/caiinterface/rts/Game/UI/MouseHandler.cpp
===================================================================
--- branches/caiinterface/rts/Game/UI/MouseHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/UI/MouseHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -24,7 +24,7 @@
 #include &quot;Map/Ground.h&quot;
 #include &quot;Map/MapDamage.h&quot;
 #include &quot;Lua/LuaInputReceiver.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Platform/errorhandler.h&quot;
 #include &quot;Rendering/glFont.h&quot;
 #include &quot;Rendering/GL/myGL.h&quot;
@@ -84,17 +84,17 @@
 	SDL_ShowCursor(SDL_DISABLE);
 
 #ifndef __APPLE__
-	hardwareCursor = !!configHandler.GetInt(&quot;HardwareCursor&quot;, 0);
+	hardwareCursor = !!configHandler.Get(&quot;HardwareCursor&quot;, 0);
 #else
 	hardwareCursor = false;
 #endif
 
 	soundMultiselID = sound-&gt;GetWaveId(&quot;sounds/button9.wav&quot;);
 
-	invertMouse = !!configHandler.GetInt(&quot;InvertMouse&quot;,1);
-	doubleClickTime = (float)configHandler.GetInt(&quot;DoubleClickTime&quot;, 200) / 1000.0f;
+	invertMouse = !!configHandler.Get(&quot;InvertMouse&quot;,1);
+	doubleClickTime = (float)configHandler.Get(&quot;DoubleClickTime&quot;, 200) / 1000.0f;
 
-	scrollWheelSpeed = (float)configHandler.GetInt(&quot;ScrollWheelSpeed&quot;, 25);
+	scrollWheelSpeed = (float)configHandler.Get(&quot;ScrollWheelSpeed&quot;, 25);
 	scrollWheelSpeed = std::max(-255.0f, std::min(255.0f, scrollWheelSpeed));
 }
 

Modified: branches/caiinterface/rts/Game/UI/ProfileDrawer.cpp
===================================================================
--- branches/caiinterface/rts/Game/UI/ProfileDrawer.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/UI/ProfileDrawer.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -28,6 +28,8 @@
 
 void ProfileDrawer::Draw()
 {
+	GML_STDMUTEX_LOCK(time); // Draw
+
 	glPushMatrix();
 	glDisable(GL_TEXTURE_2D);
 	glColor4f(0,0,0.5f,0.5f);
@@ -91,6 +93,8 @@
 
 bool ProfileDrawer::MousePress(int x, int y, int button)
 {
+	GML_STDMUTEX_LOCK(time); // MousePress
+
 	float mx=MouseX(x);
 	float my=MouseY(y);
 
@@ -110,6 +114,8 @@
 
 bool ProfileDrawer::IsAbove(int x, int y)
 {
+	GML_STDMUTEX_LOCK(time); // IsAbove
+
 	const float mx=MouseX(x);
 	const float my=MouseY(y);
 

Modified: branches/caiinterface/rts/Game/UI/TooltipConsole.cpp
===================================================================
--- branches/caiinterface/rts/Game/UI/TooltipConsole.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Game/UI/TooltipConsole.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -19,7 +19,7 @@
 #include &quot;Sim/Units/Unit.h&quot;
 #include &quot;Sim/Units/UnitHandler.h&quot;
 #include &quot;EventHandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Util.h&quot;
 
 CTooltipConsole* tooltip = 0;
@@ -37,7 +37,7 @@
 		h = 0.10f;
 	}
 
-	outFont = !!configHandler.GetInt(&quot;TooltipOutlineFont&quot;, 0);
+	outFont = !!configHandler.Get(&quot;TooltipOutlineFont&quot;, 0);
 }
 
 

Modified: branches/caiinterface/rts/Lua/LuaHandle.cpp
===================================================================
--- branches/caiinterface/rts/Lua/LuaHandle.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Lua/LuaHandle.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1041,7 +1041,7 @@
 bool CLuaHandle::RecvLuaMsg(const string&amp; msg, int playerID)
 {
 	LUA_CALL_IN_CHECK(L);
-	//lua_checkstack(L, 8);
+	lua_checkstack(L, 8);
 	static const LuaHashString cmdStr(&quot;RecvLuaMsg&quot;);
 	if (!cmdStr.GetGlobalFunc(L)) {
 		return false;

Modified: branches/caiinterface/rts/Lua/LuaOpenGL.cpp
===================================================================
--- branches/caiinterface/rts/Lua/LuaOpenGL.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Lua/LuaOpenGL.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -63,7 +63,7 @@
 #include &quot;Sim/Units/CommandAI/LineDrawer.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;Matrix44f.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 
 using std::max;
 using std::string;
@@ -114,7 +114,7 @@
 
 	haveGL20 = !!GLEW_VERSION_2_0;
 
-	if (haveGL20 &amp;&amp; !!configHandler.GetInt(&quot;LuaShaders&quot;, 1)) {
+	if (haveGL20 &amp;&amp; !!configHandler.Get(&quot;LuaShaders&quot;, 1)) {
 		canUseShaders = true;
 	}
 }

Modified: branches/caiinterface/rts/Lua/LuaUnsyncedCtrl.cpp
===================================================================
--- branches/caiinterface/rts/Lua/LuaUnsyncedCtrl.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Lua/LuaUnsyncedCtrl.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -59,7 +59,7 @@
 
 #include &quot;FileSystem/FileHandler.h&quot;
 #include &quot;FileSystem/FileSystem.h&quot;
-#include &quot;System/Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 
 using namespace std;
 
@@ -1369,7 +1369,7 @@
 	}
 	const string name = luaL_checkstring(L, 1);
 	const int def     = luaL_optint(L, 2, 0);
-	const int value = configHandler.GetInt(name, def);
+	const int value = configHandler.Get(name, def);
 	lua_pushnumber(L, value);
 	return 1;
 }
@@ -1382,7 +1382,7 @@
 	}
 	const string name = luaL_checkstring(L, 1);
 	const int value   = luaL_checkint(L, 2);
-	configHandler.SetInt(name, value);
+	configHandler.Set(name, value);
 	return 0;
 }
 

Modified: branches/caiinterface/rts/Map/BaseGroundDrawer.cpp
===================================================================
--- branches/caiinterface/rts/Map/BaseGroundDrawer.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Map/BaseGroundDrawer.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -18,16 +18,16 @@
 #include &quot;Sim/Units/UnitDef.h&quot;
 #include &quot;Sim/Units/UnitDefHandler.h&quot;
 #include &quot;Sim/Units/UnitHandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;FastMath.h&quot;
 
 CBaseGroundDrawer::CBaseGroundDrawer(void)
 {
 	updateFov = true;
 
-	LODScaleReflection = configHandler.GetFloat(&quot;GroundLODScaleReflection&quot;, 1.0f);
-	LODScaleRefraction = configHandler.GetFloat(&quot;GroundLODScaleRefraction&quot;, 1.0f);
-	LODScaleUnitReflection = configHandler.GetFloat(&quot;GroundLODScaleUnitReflection&quot;, 1.0f);
+	LODScaleReflection = configHandler.Get(&quot;GroundLODScaleReflection&quot;, 1.0f);
+	LODScaleRefraction = configHandler.Get(&quot;GroundLODScaleRefraction&quot;, 1.0f);
+	LODScaleUnitReflection = configHandler.Get(&quot;GroundLODScaleUnitReflection&quot;, 1.0f);
 
 	infoTexAlpha = 0.25f;
 	infoTex = 0;
@@ -48,8 +48,8 @@
 
 	highResInfoTexWanted = false;
 
-	highResLosTex = !!configHandler.GetInt(&quot;HighResLos&quot;, 0);
-// 	smoothLosTex = !!configHandler.GetInt(&quot;SmoothLos&quot;, 1);
+	highResLosTex = !!configHandler.Get(&quot;HighResLos&quot;, 0);
+// 	smoothLosTex = !!configHandler.Get(&quot;SmoothLos&quot;, 1);
 
 	jamColor[0] = (int)(losColorScale * 0.25f);
 	jamColor[1] = (int)(losColorScale * 0.0f);

Modified: branches/caiinterface/rts/Map/HeightLinePalette.cpp
===================================================================
--- branches/caiinterface/rts/Map/HeightLinePalette.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Map/HeightLinePalette.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,6 +1,6 @@
 #include &quot;HeightLinePalette.h&quot;
 
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 
 
 /** @brief Generates the height line palette.
@@ -9,7 +9,7 @@
 
 CHeightLinePalette::CHeightLinePalette()
 {
-	if(configHandler.GetInt(&quot;ColorElev&quot;,1)){
+	if(configHandler.Get(&quot;ColorElev&quot;,1)){
 		for(int a=0;a&lt;86;++a){
 			heightLinePal[a*3+0]=255-a*3;
 			heightLinePal[a*3+1]=a*3;

Modified: branches/caiinterface/rts/Map/HeightMapTexture.cpp
===================================================================
--- branches/caiinterface/rts/Map/HeightMapTexture.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Map/HeightMapTexture.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -8,7 +8,7 @@
 
 #include &quot;ReadMap.h&quot;
 #include &quot;Rendering/GL/myGL.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 
 /******************************************************************************/
 /******************************************************************************/
@@ -40,7 +40,7 @@
 	}
 	init = true;
 
-	if (!configHandler.GetInt(&quot;HeightMapTexture&quot;, 1)) {
+	if (!configHandler.Get(&quot;HeightMapTexture&quot;, 1)) {
 		return;
 	}
 

Modified: branches/caiinterface/rts/Map/MetalMap.cpp
===================================================================
--- branches/caiinterface/rts/Map/MetalMap.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Map/MetalMap.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3,7 +3,7 @@
 
 #include &quot;MetalMap.h&quot;
 #include &quot;ReadMap.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 
 CR_BIND(CMetalMap,(NULL, 0, 0, 0.0f));
 
@@ -30,7 +30,7 @@
 //		extractionMap[i] = 0.0f;
 //	}
 
-	int whichPalette = configHandler.GetInt(&quot;MetalMapPalette&quot;, 0);
+	int whichPalette = configHandler.Get(&quot;MetalMapPalette&quot;, 0);
 
 	if (whichPalette == 1){
 		/* Swap the green and blue channels. making metal go

Modified: branches/caiinterface/rts/Map/ReadMap.cpp
===================================================================
--- branches/caiinterface/rts/Map/ReadMap.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Map/ReadMap.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -11,7 +11,7 @@
 #include &quot;ReadMap.h&quot;
 #include &quot;Rendering/Textures/Bitmap.h&quot;
 #include &quot;Ground.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;MapDamage.h&quot;
 #include &quot;MapInfo.h&quot;
 #include &quot;MetalMap.h&quot;

Modified: branches/caiinterface/rts/Map/SM3/Sm3GroundDrawer.cpp
===================================================================
--- branches/caiinterface/rts/Map/SM3/Sm3GroundDrawer.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Map/SM3/Sm3GroundDrawer.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -11,7 +11,7 @@
 #include &quot;Rendering/GL/myGL.h&quot;
 #include &quot;Map/MapInfo.h&quot;
 #include &quot;GlobalUnsynced.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 
 #include &lt;SDL_keysym.h&gt;
 extern unsigned char *keys;
@@ -23,7 +23,7 @@
 	tr = map-&gt;renderer;
 	rc = tr-&gt;AddRenderContext (&amp;cam, true);
 
-	tr-&gt;config.detailMod = configHandler.GetInt(&quot;SM3TerrainDetail&quot;, 200) / 100.0f;
+	tr-&gt;config.detailMod = configHandler.Get(&quot;SM3TerrainDetail&quot;, 200) / 100.0f;
 
 	if (shadowHandler-&gt;drawShadows) {
 		shadowrc = tr-&gt;AddRenderContext (&amp;shadowCam,false);
@@ -40,7 +40,7 @@
 CSm3GroundDrawer::~CSm3GroundDrawer()
 {
 	glSafeDeleteProgram( groundShadowVP );
-	configHandler.SetInt(&quot;SM3TerrainDetail&quot;, int(tr-&gt;config.detailMod * 100));
+	configHandler.Set(&quot;SM3TerrainDetail&quot;, int(tr-&gt;config.detailMod * 100));
 }
 
 static void SpringCamToTerrainCam(CCamera &amp;sc, terrain::Camera&amp; tc)

Modified: branches/caiinterface/rts/Map/SM3/Sm3Map.cpp
===================================================================
--- branches/caiinterface/rts/Map/SM3/Sm3Map.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Map/SM3/Sm3Map.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -10,7 +10,7 @@
 #include &quot;Map/MapInfo.h&quot;
 #include &quot;Map/MapParser.h&quot;
 #include &quot;Rendering/ShadowHandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Platform/errorhandler.h&quot;
 #include &quot;Platform/byteorder.h&quot;
 #include &quot;FileSystem/FileHandler.h&quot;
@@ -75,7 +75,7 @@
 
 		renderer-&gt;config.cacheTextures=false;
 
-		renderer-&gt;config.forceFallbackTexturing = !!configHandler.GetInt(&quot;SM3ForceFallbackTex&quot;, 0);
+		renderer-&gt;config.forceFallbackTexturing = !!configHandler.Get(&quot;SM3ForceFallbackTex&quot;, 0);
 
 		if (!renderer-&gt;config.forceFallbackTexturing &amp;&amp; GLEW_ARB_fragment_shader &amp;&amp; GLEW_ARB_shading_language_100) {
 			renderer-&gt;config.useBumpMaps = true;
@@ -97,7 +97,7 @@
 		}
 
 /*		int numStages=atoi(mapDefParser.SGetValueDef(&quot;0&quot;, &quot;map\\terrain\\numtexturestages&quot;).c_str());
-		int maxStages=configHandler.GetInt(&quot;SM3MaxTextureStages&quot;, 10);
+		int maxStages=configHandler.Get(&quot;SM3MaxTextureStages&quot;, 10);
 		if (numStages &gt; maxStages) {
 			renderer-&gt;config.cacheTextures = true;
 			renderer-&gt;config.cacheTextureSize = 256;

Modified: branches/caiinterface/rts/Map/SMF/BFGroundDrawer.cpp
===================================================================
--- branches/caiinterface/rts/Map/SMF/BFGroundDrawer.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Map/SMF/BFGroundDrawer.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -11,7 +11,7 @@
 #include &quot;SmfReadMap.h&quot;
 #include &quot;Rendering/ShadowHandler.h&quot;
 #include &quot;Rendering/GroundDecalHandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;FastMath.h&quot;
 #include &quot;GlobalUnsynced.h&quot;
 #include &quot;mmgr.h&quot;
@@ -49,7 +49,7 @@
 
 	textures = SAFE_NEW CBFGroundTextures(map);
 
-	viewRadius = configHandler.GetInt(&quot;GroundDetail&quot;, 40);
+	viewRadius = configHandler.Get(&quot;GroundDetail&quot;, 40);
 	viewRadius += (viewRadius &amp; 1);
 
 	waterDrawn = false;
@@ -70,8 +70,8 @@
 	}
 
 #ifdef USE_GML
-	multiThreadDrawGround=configHandler.GetInt(&quot;MultiThreadDrawGround&quot;, 1);
-	multiThreadDrawGroundShadow=configHandler.GetInt(&quot;MultiThreadDrawGroundShadow&quot;, 0);
+	multiThreadDrawGround=configHandler.Get(&quot;MultiThreadDrawGround&quot;, 1);
+	multiThreadDrawGroundShadow=configHandler.Get(&quot;MultiThreadDrawGroundShadow&quot;, 0);
 #endif
 }
 
@@ -88,7 +88,7 @@
 		}
 	}
 
-	configHandler.SetInt(&quot;GroundDetail&quot;, viewRadius);
+	configHandler.Set(&quot;GroundDetail&quot;, viewRadius);
 
 	if (waterPlaneCamInDispList) {
 		glDeleteLists(waterPlaneCamInDispList,1);
@@ -96,8 +96,8 @@
 	}
 
 #ifdef USE_GML
-	configHandler.SetInt(&quot;MultiThreadDrawGround&quot;, multiThreadDrawGround);
-	configHandler.SetInt(&quot;MultiThreadDrawGroundShadow&quot;, multiThreadDrawGroundShadow);
+	configHandler.Set(&quot;MultiThreadDrawGround&quot;, multiThreadDrawGround);
+	configHandler.Set(&quot;MultiThreadDrawGroundShadow&quot;, multiThreadDrawGroundShadow);
 #endif
 }
 

Modified: branches/caiinterface/rts/Map/SMF/SmfReadMap.cpp
===================================================================
--- branches/caiinterface/rts/Map/SMF/SmfReadMap.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Map/SMF/SmfReadMap.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -4,7 +4,7 @@
 #include &quot;Map/MapInfo.h&quot;
 #include &quot;Rendering/GL/myGL.h&quot;
 #include &quot;FileSystem/FileHandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;BFGroundTextures.h&quot;
 #include &quot;BFGroundDrawer.h&quot;
 #include &quot;LogOutput.h&quot;
@@ -37,7 +37,7 @@
 	PrintLoadMsg(&quot;Opening map file&quot;);
 
 	ConfigureAnisotropy();
-	usePBO = !!configHandler.GetInt(&quot;UsePBO&quot;, 1);
+	usePBO = !!configHandler.Get(&quot;UsePBO&quot;, 1);
 
 	for(int a=0;a&lt;1024;++a){
 		for(int b=0;b&lt;3;++b){

Modified: branches/caiinterface/rts/Rendering/Env/AdvSky.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/Env/AdvSky.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/Env/AdvSky.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -15,7 +15,7 @@
 #include &quot;Rendering/GL/VertexArray.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;TimeProfiler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Matrix44f.h&quot;
 #include &quot;GlobalUnsynced.h&quot;
 
@@ -70,7 +70,7 @@
 	lastCloudUpdate=-30;
 	dynamicSky=true;
 	CreateClouds();
-	dynamicSky=!!configHandler.GetInt(&quot;DynamicSky&quot;,0);
+	dynamicSky=!!configHandler.Get(&quot;DynamicSky&quot;,0);
 
 	InitSun();
 	oldCoverBaseX=-5;

Modified: branches/caiinterface/rts/Rendering/Env/BaseSky.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/Env/BaseSky.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/Env/BaseSky.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -5,7 +5,7 @@
 #include &quot;BasicSky.h&quot;
 #include &quot;AdvSky.h&quot;
 #include &quot;Rendering/GL/myGL.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;SkyBox.h&quot;
 #include &quot;Map/MapInfo.h&quot;
 #include &quot;Map/ReadMap.h&quot;
@@ -25,7 +25,7 @@
 {
 	if(!mapInfo-&gt;atmosphere.skyBox.empty())
 		return SAFE_NEW CSkyBox(&quot;maps/&quot; + mapInfo-&gt;atmosphere.skyBox);
-	else if(GLEW_ARB_fragment_program &amp;&amp; configHandler.GetInt(&quot;AdvSky&quot;,1) &amp;&amp; ProgramStringIsNative(GL_FRAGMENT_PROGRAM_ARB,&quot;clouds.fp&quot;))
+	else if(GLEW_ARB_fragment_program &amp;&amp; configHandler.Get(&quot;AdvSky&quot;,1) &amp;&amp; ProgramStringIsNative(GL_FRAGMENT_PROGRAM_ARB,&quot;clouds.fp&quot;))
 		return SAFE_NEW CAdvSky();
 	else
 		return SAFE_NEW CBasicSky();

Modified: branches/caiinterface/rts/Rendering/Env/BaseTreeDrawer.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/Env/BaseTreeDrawer.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/Env/BaseTreeDrawer.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -5,7 +5,7 @@
 #include &quot;BasicTreeDrawer.h&quot;
 #include &quot;AdvTreeDrawer.h&quot;
 #include &quot;Rendering/GL/myGL.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Game/Camera.h&quot;
 #include &quot;Sim/Misc/GlobalConstants.h&quot;
 
@@ -14,7 +14,7 @@
 CBaseTreeDrawer::CBaseTreeDrawer(void)
 {
 	drawTrees=true;
-	baseTreeDistance=configHandler.GetInt(&quot;TreeRadius&quot;,(unsigned int) (5.5f*256))/256.0f;
+	baseTreeDistance=configHandler.Get(&quot;TreeRadius&quot;,(unsigned int) (5.5f*256))/256.0f;
 }
 
 CBaseTreeDrawer::~CBaseTreeDrawer(void)
@@ -23,7 +23,7 @@
 CBaseTreeDrawer* CBaseTreeDrawer::GetTreeDrawer(void)
 {
 	CBaseTreeDrawer* td;
-	if(GLEW_ARB_vertex_program &amp;&amp; configHandler.GetInt(&quot;3DTrees&quot;,1)){
+	if(GLEW_ARB_vertex_program &amp;&amp; configHandler.Get(&quot;3DTrees&quot;,1)){
 		GLint maxTexel;
 		glGetIntegerv(GL_MAX_TEXTURE_UNITS_ARB,&amp;maxTexel);
 		if(maxTexel&gt;=4){

Modified: branches/caiinterface/rts/Rendering/Env/BaseWater.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/Env/BaseWater.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/Env/BaseWater.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -6,7 +6,7 @@
 #include &quot;AdvWater.h&quot;
 #include &quot;BumpWater.h&quot;
 #include &quot;Rendering/GL/myGL.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;DynWater.h&quot;
 #include &quot;RefractWater.h&quot;
@@ -39,7 +39,7 @@
 CBaseWater* CBaseWater::GetWater(CBaseWater* old)
 {
 	CBaseWater* water = NULL;
-	const int configValue = configHandler.GetInt(&quot;ReflectiveWater&quot;,1);
+	const int configValue = configHandler.Get(&quot;ReflectiveWater&quot;,1);
 	
 	if(water==NULL &amp;&amp; configValue==2 &amp;&amp; GLEW_ARB_fragment_program &amp;&amp; GLEW_ARB_texture_float &amp;&amp;
 	   ProgramStringIsNative(GL_FRAGMENT_PROGRAM_ARB,&quot;waterDyn.fp&quot;)) {

Modified: branches/caiinterface/rts/Rendering/Env/BasicSky.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/Env/BasicSky.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/Env/BasicSky.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -17,7 +17,7 @@
 #include &quot;Map/ReadMap.h&quot;
 #include &quot;Rendering/Textures/Bitmap.h&quot;
 #include &quot;TimeProfiler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;GlobalUnsynced.h&quot;
 #include &quot;Matrix44f.h&quot;
 #include &quot;LogOutput.h&quot;
@@ -73,7 +73,7 @@
 	lastCloudUpdate=-30;
 	dynamicSky=true;
 	CreateClouds();
-	dynamicSky=!!configHandler.GetInt(&quot;DynamicSky&quot;,0);
+	dynamicSky=!!configHandler.Get(&quot;DynamicSky&quot;,0);
 
 	InitSun();
 	oldCoverBaseX=-5;

Modified: branches/caiinterface/rts/Rendering/Env/BumpWater.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/Env/BumpWater.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/Env/BumpWater.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -29,7 +29,7 @@
 #include &quot;FileSystem/FileHandler.h&quot;
 #include &quot;FastMath.h&quot;
 #include &quot;EventHandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;TimeProfiler.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;GlobalUnsynced.h&quot;
@@ -224,16 +224,16 @@
 CBumpWater::CBumpWater()
 {
 	/** LOAD USER CONFIGS **/
-	reflTexSize  = next_power_of_2(configHandler.GetInt(&quot;BumpWaterTexSizeReflection&quot;, 512));
-	reflection   = !!configHandler.GetInt(&quot;BumpWaterReflection&quot;, 1);
-	refraction   = configHandler.GetInt(&quot;BumpWaterRefraction&quot;, 1);  /// 0:=off, 1:=screencopy, 2:=own rendering cycle
+	reflTexSize  = next_power_of_2(configHandler.Get(&quot;BumpWaterTexSizeReflection&quot;, 512));
+	reflection   = !!configHandler.Get(&quot;BumpWaterReflection&quot;, 1);
+	refraction   = configHandler.Get(&quot;BumpWaterRefraction&quot;, 1);  /// 0:=off, 1:=screencopy, 2:=own rendering cycle
 	anisotropy   = atof(configHandler.GetString(&quot;BumpWaterAnisotropy&quot;, &quot;0.0&quot;).c_str());
-	depthCopy    = !!configHandler.GetInt(&quot;BumpWaterUseDepthTexture&quot;, 1);
-	depthBits    = configHandler.GetInt(&quot;BumpWaterDepthBits&quot;, (gu-&gt;atiHacks)?16:24);
-	blurRefl     = !!configHandler.GetInt(&quot;BumpWaterBlurReflection&quot;, 0);
-	shoreWaves   = (!!configHandler.GetInt(&quot;BumpWaterShoreWaves&quot;, 1)) &amp;&amp; mapInfo-&gt;water.shoreWaves;
-	endlessOcean = (!!configHandler.GetInt(&quot;BumpWaterEndlessOcean&quot;, 1)) &amp;&amp; mapInfo-&gt;hasWaterPlane;
-	dynWaves     = (!!configHandler.GetInt(&quot;BumpWaterDynamicWaves&quot;, 1)) &amp;&amp; (mapInfo-&gt;water.numTiles&gt;1);
+	depthCopy    = !!configHandler.Get(&quot;BumpWaterUseDepthTexture&quot;, 1);
+	depthBits    = configHandler.Get(&quot;BumpWaterDepthBits&quot;, (gu-&gt;atiHacks)?16:24);
+	blurRefl     = !!configHandler.Get(&quot;BumpWaterBlurReflection&quot;, 0);
+	shoreWaves   = (!!configHandler.Get(&quot;BumpWaterShoreWaves&quot;, 1)) &amp;&amp; mapInfo-&gt;water.shoreWaves;
+	endlessOcean = (!!configHandler.Get(&quot;BumpWaterEndlessOcean&quot;, 1)) &amp;&amp; mapInfo-&gt;hasWaterPlane;
+	dynWaves     = (!!configHandler.Get(&quot;BumpWaterDynamicWaves&quot;, 1)) &amp;&amp; (mapInfo-&gt;water.numTiles&gt;1);
 
 	if (refraction&gt;1)
 		drawSolid = true;

Modified: branches/caiinterface/rts/Rendering/Env/GrassDrawer.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/Env/GrassDrawer.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/Env/GrassDrawer.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -13,7 +13,7 @@
 #include &quot;Rendering/Textures/Bitmap.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;myMath.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;FileSystem/FileHandler.h&quot;
 #include &quot;Map/MapInfo.h&quot;
 #include &quot;Map/ReadMap.h&quot;
@@ -39,7 +39,7 @@
 
 CGrassDrawer::CGrassDrawer()
 {
-	int detail=configHandler.GetInt(&quot;GrassDetail&quot;,3);
+	int detail=configHandler.Get(&quot;GrassDetail&quot;,3);
 
 	if(detail==0){
 		grassOff=true;

Modified: branches/caiinterface/rts/Rendering/GL/glList.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/GL/glList.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/GL/glList.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -11,7 +11,7 @@
 #include &quot;myGL.h&quot;
 #include &quot;Game/UI/MouseHandler.h&quot;
 #include &quot;Rendering/glFont.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Util.h&quot;
 
 const float itemFontScale = 1.5f;
@@ -167,8 +167,8 @@
 	* *
 	****************************************
 	// Get screen res, so that the selected item is always within the middle 60% of screen
-	int iResX = configHandler.GetInt(&quot;XResolution&quot;, 1024);
-	int iResY = configHandler.GetInt(&quot;YResolution&quot;, 768);
+	int iResX = configHandler.Get(&quot;XResolution&quot;, 1024);
+	int iResY = configHandler.Get(&quot;YResolution&quot;, 768);
 
 	// Keep tabs on the last place. change this ONLY AFTER a scroll
 	static int siOldPlace = place;

Modified: branches/caiinterface/rts/Rendering/GL/myGL.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/GL/myGL.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/GL/myGL.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -12,7 +12,7 @@
 #include &quot;Game/GameVersion.h&quot;
 #include &quot;Rendering/Textures/Bitmap.h&quot;
 #include &quot;Platform/errorhandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;FPUCheck.h&quot;
 #include &quot;GlobalUnsynced.h&quot;

Modified: branches/caiinterface/rts/Rendering/GroundDecalHandler.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/GroundDecalHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/GroundDecalHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -10,7 +10,7 @@
 #include &quot;Map/Ground.h&quot;
 #include &quot;Map/MapInfo.h&quot;
 #include &quot;Map/ReadMap.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;ShadowHandler.h&quot;
 #include &quot;GL/myGL.h&quot;
 #include &quot;GL/VertexArray.h&quot;
@@ -33,8 +33,8 @@
 CGroundDecalHandler::CGroundDecalHandler(void)
 {
 	drawDecals = false;
-	decalLevel = std::max(0, std::min(5, configHandler.GetInt(&quot;GroundDecals&quot;, 1)));
-	groundScarAlphaFade = configHandler.GetInt(&quot;GroundScarAlphaFade&quot;, 0);
+	decalLevel = std::max(0, configHandler.Get(&quot;GroundDecals&quot;, 1));
+	groundScarAlphaFade = configHandler.Get(&quot;GroundScarAlphaFade&quot;, 0);
 
 	if (decalLevel == 0) {
 		return;

Modified: branches/caiinterface/rts/Rendering/ShadowHandler.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/ShadowHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/ShadowHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -2,7 +2,7 @@
 #include &quot;mmgr.h&quot;
 
 #include &quot;ShadowHandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Game/Camera.h&quot;
 #include &quot;UnitModels/UnitDrawer.h&quot;
 #include &quot;Map/BaseGroundDrawer.h&quot;
@@ -48,14 +48,14 @@
 		GLEW_ARB_shadow &amp;&amp;
 		GLEW_ARB_depth_texture &amp;&amp;
 		GLEW_ARB_texture_env_combine;
-	const int configValue = configHandler.GetInt(&quot;Shadows&quot;, 0);
+	const int configValue = configHandler.Get(&quot;Shadows&quot;, 0);
 
 	if (configValue &lt; 0 || !haveShadowExts) {
 		logOutput.Print(&quot;shadows disabled or required OpenGL extension missing&quot;);
 		return;
 	}
 
-	shadowMapSize = configHandler.GetInt(&quot;ShadowMapSize&quot;, DEFAULT_SHADOWMAPSIZE);
+	shadowMapSize = configHandler.Get(&quot;ShadowMapSize&quot;, DEFAULT_SHADOWMAPSIZE);
 
 	if (tmpFirstInstance) {
 		// this already checks for GLEW_ARB_fragment_program

Modified: branches/caiinterface/rts/Rendering/Textures/TextureHandler.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/Textures/TextureHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/Textures/TextureHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -16,7 +16,7 @@
 #include &quot;Sim/Misc/GlobalSynced.h&quot;
 #include &quot;Sim/Misc/TeamHandler.h&quot;
 #include &quot;LogOutput.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Platform/errorhandler.h&quot;
 #include &quot;Rendering/GL/myGL.h&quot;
 #include &quot;Rendering/ShadowHandler.h&quot;

Modified: branches/caiinterface/rts/Rendering/UnitModels/UnitDrawer.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/UnitModels/UnitDrawer.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/UnitModels/UnitDrawer.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -16,7 +16,7 @@
 #include &quot;Map/Ground.h&quot;
 #include &quot;Map/MapInfo.h&quot;
 #include &quot;Map/ReadMap.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Rendering/Env/BaseSky.h&quot;
 #include &quot;Rendering/Env/BaseWater.h&quot;
 #include &quot;Rendering/FartextureHandler.h&quot;
@@ -76,11 +76,11 @@
 		texturehandler = SAFE_NEW CTextureHandler;
 	}
 
-	SetUnitDrawDist((float)configHandler.GetInt(&quot;UnitLodDist&quot;,  200));
-	SetUnitIconDist((float)configHandler.GetInt(&quot;UnitIconDist&quot;, 200));
+	SetUnitDrawDist((float)configHandler.Get(&quot;UnitLodDist&quot;,  200));
+	SetUnitIconDist((float)configHandler.Get(&quot;UnitIconDist&quot;, 200));
 
-	specTexSize = configHandler.GetInt(&quot;CubeTexSizeSpecular&quot;, 128);
-	reflTexSize = configHandler.GetInt(&quot;CubeTexSizeReflection&quot;, 128);
+	specTexSize = configHandler.Get(&quot;CubeTexSizeSpecular&quot;, 128);
+	reflTexSize = configHandler.Get(&quot;CubeTexSizeReflection&quot;, 128);
 
 	LODScale           = GetLODFloat(&quot;LODScale&quot;,           1.0f);
 	LODScaleShadow     = GetLODFloat(&quot;LODScaleShadow&quot;,     1.0f);
@@ -100,7 +100,7 @@
 	unitShadowDensity = mapInfo-&gt;light.unitShadowDensity;
 
 	float3 specularSunColor = mapInfo-&gt;light.specularSunColor;
-	advShading = !!configHandler.GetInt(&quot;AdvUnitShading&quot;, GLEW_ARB_fragment_program ? 1: 0);
+	advShading = !!configHandler.Get(&quot;AdvUnitShading&quot;, GLEW_ARB_fragment_program ? 1: 0);
 
 	if (advShading &amp;&amp; !GLEW_ARB_fragment_program) {
 		logOutput.Print(&quot;You are missing an OpenGL extension needed to use advanced unit shading (GL_ARB_fragment_program)&quot;);
@@ -152,8 +152,8 @@
 		CreateSpecularFace(GL_TEXTURE_CUBE_MAP_NEGATIVE_Z_ARB,specTexSize,float3( 1, 1,-1),float3(-2, 0, 0),float3(0,-2, 0),mapInfo-&gt;light.sunDir,100,specularSunColor);
 	}
 #ifdef USE_GML
-	multiThreadDrawUnit=configHandler.GetInt(&quot;MultiThreadDrawUnit&quot;, 1);
-	multiThreadDrawUnitShadow=configHandler.GetInt(&quot;MultiThreadDrawUnitShadow&quot;, 1);
+	multiThreadDrawUnit=configHandler.Get(&quot;MultiThreadDrawUnit&quot;, 1);
+	multiThreadDrawUnitShadow=configHandler.Get(&quot;MultiThreadDrawUnitShadow&quot;, 1);
 #endif
 }
 
@@ -194,8 +194,8 @@
 		gbi = ghostBuildingsS3O.erase(gbi);
 	}
 #ifdef USE_GML
-	configHandler.SetInt(&quot;MultiThreadDrawUnit&quot;, multiThreadDrawUnit);
-	configHandler.SetInt(&quot;MultiThreadDrawUnitShadow&quot;, multiThreadDrawUnitShadow);
+	configHandler.Set(&quot;MultiThreadDrawUnit&quot;, multiThreadDrawUnit);
+	configHandler.Set(&quot;MultiThreadDrawUnitShadow&quot;, multiThreadDrawUnitShadow);
 #endif
 }
 

Modified: branches/caiinterface/rts/Rendering/VerticalSync.cpp
===================================================================
--- branches/caiinterface/rts/Rendering/VerticalSync.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Rendering/VerticalSync.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -13,7 +13,7 @@
 #include &quot;VerticalSync.h&quot;
 #include &quot;GL/myGL.h&quot;
 #include &quot;LogOutput.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 
 
 CVerticalSync VSync;
@@ -36,13 +36,13 @@
 
 void CVerticalSync::Init()
 {
-	SetFrames(configHandler.GetInt(&quot;VSync&quot;, -1));
+	SetFrames(configHandler.Get(&quot;VSync&quot;, -1));
 }
 
 
 void CVerticalSync::SetFrames(int f)
 {
-	configHandler.SetInt(&quot;VSync&quot;, f);
+	configHandler.Set(&quot;VSync&quot;, f);
 	
 	frames = f;
 

Modified: branches/caiinterface/rts/Sim/Features/FeatureHandler.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Features/FeatureHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Sim/Features/FeatureHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -28,7 +28,7 @@
 #include &quot;GlobalUnsynced.h&quot;
 #include &quot;EventHandler.h&quot;
 #include &quot;TimeProfiler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;creg/STL_List.h&quot;
 #include &quot;creg/STL_Set.h&quot;
 #include &quot;Exceptions.h&quot;

Modified: branches/caiinterface/rts/Sim/Misc/ModInfo.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Misc/ModInfo.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Sim/Misc/ModInfo.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -10,7 +10,7 @@
 #include &quot;Sim/Units/Unit.h&quot;
 #include &quot;Sim/Units/UnitTypes/Builder.h&quot;
 #include &quot;LogOutput.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;FileSystem/ArchiveScanner.h&quot;
 #include &quot;Exceptions.h&quot;
 
@@ -50,7 +50,7 @@
 	allowTeamColors = nanosprayTbl.GetBool(&quot;allow_team_colors&quot;, true);
 	if (allowTeamColors) {
 		// Load the users preference for team coloured nanospray
-		gu-&gt;teamNanospray = !!configHandler.GetInt(&quot;TeamNanoSpray&quot;, 0);
+		gu-&gt;teamNanospray = !!configHandler.Get(&quot;TeamNanoSpray&quot;, 0);
 	}
 
 	// constructions

Modified: branches/caiinterface/rts/Sim/MoveTypes/MoveInfo.cpp
===================================================================
--- branches/caiinterface/rts/Sim/MoveTypes/MoveInfo.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Sim/MoveTypes/MoveInfo.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -87,6 +87,7 @@
 		md-&gt;pathType = (num - 1);
 		md-&gt;maxSlope = 1.0f;
 		md-&gt;depth = 0.0f;
+		md-&gt;depthMod = 0.0f;
 		md-&gt;crushStrength = moveTable.GetFloat(&quot;crushStrength&quot;, 10.0f);
 
 		const float minWaterDepth = moveTable.GetFloat(&quot;minWaterDepth&quot;, 10.0f);
@@ -151,9 +152,11 @@
 		// TA has only half our resolution, multiply size by 2
 		md-&gt;size = max(2, min(8, moveTable.GetInt(&quot;footprintX&quot;, 1) * 2));
 
-		moveInfoChecksum += md-&gt;size;
-		moveInfoChecksum ^= *(unsigned int*) &amp;md-&gt;slopeMod;
-		moveInfoChecksum += *(unsigned int*) &amp;md-&gt;depth;
+		moveInfoChecksum += (md-&gt;size &lt;&lt; 4) + (md-&gt;followGround&lt;&lt;3) + (b2&lt;&lt;2) + (b1&lt;&lt;1) + (b0&lt;&lt;0);
+		moveInfoChecksum = moveInfoChecksum * 3 + *(unsigned int*) &amp;md-&gt;maxSlope;
+		moveInfoChecksum = moveInfoChecksum * 3 + *(unsigned int*) &amp;md-&gt;slopeMod;
+		moveInfoChecksum = moveInfoChecksum * 3 + *(unsigned int*) &amp;md-&gt;depth;
+		moveInfoChecksum = moveInfoChecksum * 3 + *(unsigned int*) &amp;md-&gt;depthMod;
 
 		moveData.push_back(md);
 		name2moveData[name] = md-&gt;pathType;

Modified: branches/caiinterface/rts/Sim/MoveTypes/TAAirMoveType.cpp
===================================================================
--- branches/caiinterface/rts/Sim/MoveTypes/TAAirMoveType.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Sim/MoveTypes/TAAirMoveType.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -371,7 +371,7 @@
 				bool trans = dynamic_cast&lt;CTransportUnit*&gt;(owner);
 				bool noland = dontLand || !autoLand;
 				// should CMD_LOAD_ONTO be here?
-				bool hasLoadCmds = trans
+				bool hasLoadCmds = trans &amp;&amp; !owner-&gt;commandAI-&gt;commandQue.empty()
 						&amp;&amp; (owner-&gt;commandAI-&gt;commandQue.front().id == CMD_LOAD_ONTO
 							|| owner-&gt;commandAI-&gt;commandQue.front().id == CMD_LOAD_UNITS);
 				if (noland || (trans &amp;&amp; ++waitCounter &lt; 55 &amp;&amp; hasLoadCmds)) {

Modified: branches/caiinterface/rts/Sim/Path/PathEstimator.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Path/PathEstimator.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Sim/Path/PathEstimator.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -10,7 +10,7 @@
 #include &quot;LogOutput.h&quot;
 #include &quot;Rendering/GL/myGL.h&quot;
 #include &quot;FileSystem/FileHandler.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 
 #include &quot;Map/Ground.h&quot;
 #include &quot;Game/SelectedUnits.h&quot;
@@ -39,7 +39,7 @@
 const unsigned int PATHOPT_SEARCHRELATED = (PATHOPT_OPEN | PATHOPT_CLOSED | PATHOPT_FORBIDDEN | PATHOPT_BLOCKED);
 const unsigned int PATHOPT_OBSOLETE = 128;
 
-const unsigned int PATHESTIMATOR_VERSION = 38;
+const unsigned int PATHESTIMATOR_VERSION = 39;
 const float PATHCOST_INFINITY = 10000000;
 const int SQUARES_TO_UPDATE = 600;
 
@@ -176,7 +176,7 @@
 }
 
 void CPathEstimator::InitEstimator(const std::string&amp; name) {
-	int numThreads = configHandler.GetInt(&quot;HardwareThreadCount&quot;, 0);
+	int numThreads = configHandler.Get(&quot;HardwareThreadCount&quot;, 0);
 
 #if 0	// FIXME mantis #1033
 #if (BOOST_VERSION &gt;= 103500)

Modified: branches/caiinterface/rts/Sim/Projectiles/ExplosionGenerator.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Projectiles/ExplosionGenerator.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Sim/Projectiles/ExplosionGenerator.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -10,7 +10,7 @@
 #include &quot;Game/Camera.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;Map/Ground.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Rendering/GL/myGL.h&quot;
 #include &quot;Rendering/GroundFlash.h&quot;
 #include &quot;Rendering/Textures/ColorMap.h&quot;

Modified: branches/caiinterface/rts/Sim/Projectiles/ProjectileHandler.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Projectiles/ProjectileHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Sim/Projectiles/ProjectileHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -13,7 +13,7 @@
 #include &quot;Lua/LuaParser.h&quot;
 #include &quot;Map/Ground.h&quot;
 #include &quot;Map/MapInfo.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Rendering/GroundFlash.h&quot;
 #include &quot;Rendering/ShadowHandler.h&quot;
 #include &quot;Rendering/GL/IFramebuffer.h&quot;
@@ -66,7 +66,7 @@
 {
 	PrintLoadMsg(&quot;Creating projectile texture&quot;);
 
-	maxParticles = configHandler.GetInt(&quot;MaxParticles&quot;,4000);
+	maxParticles = configHandler.Get(&quot;MaxParticles&quot;,4000);
 
 	currentParticles = 0;
 	particleSaturation = 0;

Modified: branches/caiinterface/rts/Sim/Projectiles/Unsynced/SimpleParticleSystem.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Projectiles/Unsynced/SimpleParticleSystem.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Sim/Projectiles/Unsynced/SimpleParticleSystem.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -184,7 +184,7 @@
 {
 }
 
-void CSphereParticleSpawner::Init(const float3&amp; explosionPos, CUnit *owner)
+void CSphereParticleSpawner::Init(const float3&amp; explosionPos, CUnit *owner GML_PARG_C)
 {
 	float3 up = emitVector;
 	float3 right = up.cross(float3(up.y,up.z,-up.x));

Modified: branches/caiinterface/rts/Sim/Projectiles/Unsynced/SimpleParticleSystem.h
===================================================================
--- branches/caiinterface/rts/Sim/Projectiles/Unsynced/SimpleParticleSystem.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Sim/Projectiles/Unsynced/SimpleParticleSystem.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -70,7 +70,7 @@
 	void Draw(){};
 	void Update(){};
 
-	virtual void Init(const float3&amp; explosionPos, CUnit *owner);
+	virtual void Init(const float3&amp; explosionPos, CUnit *owner GML_PARG_H);
 
 };
 

Modified: branches/caiinterface/rts/Sim/Units/UnitDefHandler.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Units/UnitDefHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Sim/Units/UnitDefHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -17,7 +17,7 @@
 #include &quot;Lua/LuaParser.h&quot;
 #include &quot;Map/MapInfo.h&quot;
 #include &quot;Map/ReadMap.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Rendering/GroundDecalHandler.h&quot;
 #include &quot;Rendering/IconHandler.h&quot;
 #include &quot;Rendering/Textures/Bitmap.h&quot;

Modified: branches/caiinterface/rts/Sim/Units/UnitHandler.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Units/UnitHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Sim/Units/UnitHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -33,7 +33,7 @@
 #include &quot;LogOutput.h&quot;
 #include &quot;TimeProfiler.h&quot;
 #include &quot;myMath.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Sync/SyncTracer.h&quot;
 #include &quot;creg/STL_Deque.h&quot;
 #include &quot;creg/STL_List.h&quot;

Modified: branches/caiinterface/rts/Sim/Units/UnitTracker.cpp
===================================================================
--- branches/caiinterface/rts/Sim/Units/UnitTracker.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/Sim/Units/UnitTracker.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -9,7 +9,7 @@
 #include &quot;Game/Camera.h&quot;
 #include &quot;Game/SelectedUnits.h&quot;
 #include &quot;Map/Ground.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;GlobalUnsynced.h&quot;
 #include &quot;LogOutput.h&quot;
 
@@ -234,7 +234,7 @@
 {
 	if(firstUpdate){
 		firstUpdate=false;
-		doRoll=!configHandler.GetInt(&quot;ReflectiveWater&quot;,1);
+		doRoll=!configHandler.Get(&quot;ReflectiveWater&quot;,1);
 	}
 
 	CUnit* u = GetTrackUnit();

Modified: branches/caiinterface/rts/System/AutohostInterface.cpp
===================================================================
--- branches/caiinterface/rts/System/AutohostInterface.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/AutohostInterface.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -125,7 +125,7 @@
 
 void AutohostInterface::SendPlayerDefeated(uchar playerNum) const
 {
-	uchar msg[2] = {PLAYER_READY, playerNum};
+	uchar msg[2] = {PLAYER_DEFEATED, playerNum};
 	autohost-&gt;Send(msg, 2);
 }
 
@@ -153,7 +153,7 @@
 {
 	uchar buffer[4096];
 	unsigned length = autohost-&gt;Recv(buffer, 4096);
-	buffer[length] = '\0';
+	buffer[std::min(length, (unsigned)250)] = '\0';
 	
 	std::string msg((char*)buffer);
 	return msg;

Copied: branches/caiinterface/rts/System/ConfigHandler.cpp (from rev 7096, trunk/rts/System/ConfigHandler.cpp)
===================================================================
--- branches/caiinterface/rts/System/ConfigHandler.cpp	                        (rev 0)
+++ branches/caiinterface/rts/System/ConfigHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -0,0 +1,275 @@
+/**
+ * @file ConfigHandler.cpp
+ * @brief config implementation
+ * @author Christopher Han &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">xiphux at gmail.com</A>&gt;
+ *
+ * Implementation of config structure class
+ * Copyright (C) 2005.  Licensed under the terms of the
+ * GNU GPL, v2 or later.
+ */
+#include &quot;StdAfx.h&quot;
+#include &quot;ConfigHandler.h&quot;
+
+#include &lt;fcntl.h&gt;
+#include &lt;stdlib.h&gt;
+#include &lt;string.h&gt;
+#include &lt;stdexcept&gt;
+#ifndef WIN32
+#include &lt;unistd.h&gt;
+#endif
+
+#ifdef WIN32
+	#include &lt;io.h&gt;
+	#include &lt;direct.h&gt;
+	#include &lt;windows.h&gt;
+	#include &lt;shlobj.h&gt;
+	#include &lt;shlwapi.h&gt;
+	#ifndef SHGFP_TYPE_CURRENT
+		#define SHGFP_TYPE_CURRENT 0
+	#endif
+#endif
+
+#include &quot;Game/GameVersion.h&quot;
+
+using std::string;
+
+ConfigHandler* _configHandler;
+
+/**
+ * @brief POSIX file locking class
+ */
+class ScopedFileLock
+{
+public:
+	ScopedFileLock(int fd, bool write);
+	~ScopedFileLock();
+private:
+	int filedes;
+};
+
+/**
+ * @brief lock fd
+ *
+ * Lock file descriptor fd for reading (write == false) or writing
+ * (write == true).
+ */
+ScopedFileLock::ScopedFileLock(int fd, bool write) : filedes(fd)
+{
+#ifndef _WIN32
+	struct flock lock;
+	lock.l_type = write ? F_WRLCK : F_RDLCK;
+	lock.l_whence = SEEK_SET;
+	lock.l_start = 0;
+	lock.l_len = 0;
+	if (fcntl(filedes, F_SETLKW, &amp;lock)) {
+		// not a fatal error
+		//handleerror(0, &quot;Could not lock config file&quot;, &quot;DotfileHandler&quot;, 0);
+	}
+#endif
+}
+
+/**
+ * @brief unlock fd
+ */
+ScopedFileLock::~ScopedFileLock()
+{
+#ifndef _WIN32
+	struct flock lock;
+	lock.l_type = F_UNLCK;
+	lock.l_whence = SEEK_SET;
+	lock.l_start = 0;
+	lock.l_len = 0;
+	if (fcntl(filedes, F_SETLKW, &amp;lock)) {
+		// not a fatal error
+		//handleerror(0, &quot;Could not unlock config file&quot;, &quot;DotfileHandler&quot;, 0);
+	}
+#endif
+}
+
+
+/**
+ * Instantiates a copy of the current platform's config class.
+ * Re-instantiates if the configHandler already existed.
+ */
+std::string ConfigHandler::Instantiate(std::string configSource)
+{
+	Deallocate();
+
+	if (configSource.empty()) {
+		configSource = GetDefaultConfig();
+	}
+	_configHandler = new ConfigHandler(configSource);
+	return configSource;
+}
+
+
+/**
+ * Destroys existing ConfigHandler instance.
+ */
+void ConfigHandler::Deallocate()
+{
+	// can not use SafeDelete because ~ConfigHandler is protected
+	delete _configHandler;
+	_configHandler = NULL;
+}
+
+ConfigHandler::ConfigHandler(const std::string&amp; configFile)
+{
+	filename = configFile;
+	FILE* file;
+
+	if ((file = fopen(filename.c_str(), &quot;r&quot;))) {
+		ScopedFileLock scoped_lock(fileno(file), false);
+		Read(file);
+	} else {
+		if (!(file = fopen(filename.c_str(), &quot;a&quot;)))
+			throw std::runtime_error(&quot;DotfileHandler: Could not write to config file&quot;);
+	}
+	fclose(file);
+}
+
+ConfigHandler::~ConfigHandler()
+{
+}
+
+
+/**
+ * @brief Gets string value from config
+ *
+ * If string value isn't set, it returns def AND it sets data[name] = def,
+ * so the defaults end up in the config file.
+ */
+string ConfigHandler::GetString(const string name, const string def)
+{
+	std::map&lt;string,string&gt;::iterator pos = data.find(name);
+	if (pos == data.end()) {
+		SetString(name, def);
+		return def;
+	}
+	return pos-&gt;second;
+}
+
+
+/**
+ * @brief Sets a config string
+ *
+ * This does:
+ * 1) Lock file.
+ * 2) Read file (in case another program modified something)
+ * 3) Set data[name] = value.
+ * 4) Write file (so we keep the settings in the event of a crash or error)
+ * 5) Unlock file.
+ *
+ * Pretty hackish, but Windows registry changes
+ * save immediately, while with DotfileHandler the
+ * data is stored in an internal data structure for
+ * fast access.  So we want to keep the settings in
+ * the event of a crash, but at the same time we don't
+ * want conflicts when multiple instances are running
+ * at the same time (which would cause data loss)
+ * (e.g. unitsync and spring).
+ */
+void ConfigHandler::SetString(const string name, const string value)
+{
+	FILE* file = fopen(filename.c_str(), &quot;r+&quot;);
+
+	if (file) {
+		ScopedFileLock scoped_lock(fileno(file), true);
+		Read(file);
+		data[name] = value;
+		Write(file);
+	} else
+		data[name] = value;
+
+	// must be outside above 'if (file)' block because of the lock.
+		if (file)
+			fclose(file);
+}
+
+/**
+ * @brief Get the name of the default configuration file
+ */
+string ConfigHandler::GetDefaultConfig()
+{
+	string cfg;
+#ifndef _WIN32
+	const string base = &quot;.springrc&quot;;
+	const string home = getenv(&quot;HOME&quot;);
+
+	const string defCfg = home + &quot;/&quot; + base;
+	const string verCfg = defCfg + &quot;-&quot; + SpringVersion::Get();
+
+
+	struct stat st;
+	if (stat(verCfg.c_str(), &amp;st) == 0) {
+		cfg = verCfg; // use the versionned config file
+	} else {
+		cfg = defCfg; // use the default config file
+	}
+#else
+	// appdata
+	TCHAR strPath[MAX_PATH];
+	SHGetFolderPath( NULL, CSIDL_LOCAL_APPDATA, NULL, SHGFP_TYPE_CURRENT, strPath);
+	cfg = strPath;
+	cfg += &quot;\\springsettings.cfg&quot;; // e.g. F:\Dokumente und Einstellungen\MyUser\Anwendungsdaten
+#endif
+	
+	return cfg;
+}
+
+/**
+ * @brief strip whitespace
+ *
+ * Strips whitespace off the string [begin, end] by setting the first
+ * non-whitespace character from the end to 0 and returning a pointer
+ * to the first non-whitespace character from the begin.
+ *
+ * Precondition: end must point to the last character of the string,
+ * ie. the one before the terminating null.
+ */
+char* ConfigHandler::Strip(char* begin, char* end) {
+	while (isspace(*begin)) ++begin;
+	while (end &gt;= begin &amp;&amp; isspace(*end)) --end;
+	*(end + 1) = 0;
+	return begin;
+}
+
+/**
+ * @brief process one line read from file
+ *
+ * Parses the 'key=value' assignment in buf and sets data[key] to value.
+ */
+void ConfigHandler::AppendLine(char* buf) {
+	char* eq = strchr(buf, '=');
+	if (eq) {
+		char* key = Strip(buf, eq - 1);
+		char* value = Strip(eq + 1, strchr(eq + 1, 0) - 1);
+		data[key] = value;
+	}
+}
+
+/**
+ * @brief Rewind file and re-read it.
+ */
+void ConfigHandler::Read(FILE* file)
+{
+	char buf[500];
+	rewind(file);
+	while (fgets(buf, sizeof(buf), file))
+		AppendLine(buf);
+}
+
+/**
+ * @brief Truncate file and write data to it.
+ */
+void ConfigHandler::Write(FILE* file)
+{
+	rewind(file);
+#ifdef WIN32
+	_chsize(fileno(file), 0);
+#else
+	ftruncate(fileno(file), 0);
+#endif
+	for(std::map&lt;string,string&gt;::iterator iter = data.begin(); iter != data.end(); ++iter)
+		fprintf(file, &quot;%s=%s\n&quot;, iter-&gt;first.c_str(), iter-&gt;second.c_str());
+}

Copied: branches/caiinterface/rts/System/ConfigHandler.h (from rev 7096, trunk/rts/System/ConfigHandler.h)
===================================================================
--- branches/caiinterface/rts/System/ConfigHandler.h	                        (rev 0)
+++ branches/caiinterface/rts/System/ConfigHandler.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -0,0 +1,119 @@
+/**
+ * @file ConfigHandler.h
+ * @brief config base
+ * @author Christopher Han &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">xiphux at gmail.com</A>&gt;
+ *
+ * Definition of config structure class
+ * Copyright (C) 2005.  Licensed under the terms of the
+ * GNU GPL, v2 or later.
+ */
+#ifndef CONFIGHANDLER_H
+#define CONFIGHANDLER_H
+
+#include &lt;string&gt;
+#include &lt;sstream&gt;
+#include &lt;map&gt;
+#include &lt;stdio.h&gt;
+
+#ifdef __FreeBSD__
+#include &lt;sys/stat.h&gt;
+#endif
+
+/**
+ * @brief config handler base
+ *
+ * This is the abstract configuration handler class used
+ * for polymorphic configuration.  Platform-specifics should derive
+ * from this.
+ */
+class ConfigHandler
+{
+public:
+	/**
+	* @brief set string
+	* @param name name of key to set
+	* @param value string value to set
+	 */
+	void SetString(std::string name, std::string value);
+
+	/**
+	 * @brief get string
+	 * @param name name of key to get
+	 * @param def default string value to use if key is not found
+	 * @return string value
+	 */
+	std::string GetString(std::string name, std::string def);
+	
+	template&lt;typename T&gt;
+	void Set(const std::string&amp; name, const T&amp; value)
+	{
+		
+		std::ostringstream buffer;
+		buffer &lt;&lt; value;
+		SetString(name, buffer.str());
+	}
+	
+	template&lt;typename T&gt;
+	T Get(const std::string&amp; name, const T&amp; def)
+	{
+		std::map&lt;std::string, std::string&gt;::iterator pos = data.find(name);
+		if (pos == data.end()) {
+			Set(name, def);
+			return def;
+		}
+		std::istringstream buf(pos-&gt;second);
+		T temp;
+		buf &gt;&gt; temp;
+		return temp;
+	}
+
+	/**
+	 * @brief instantiate global configHandler
+	 * @return name of the configfile used
+	 */
+	static std::string Instantiate(std::string configSource);
+
+	std::string GetConfigFile() const
+	{
+		return filename;
+	}
+	/**
+	 * @brief deallocate
+	 */
+	static void Deallocate();
+
+private:
+	ConfigHandler(const std::string&amp; configFile);
+	~ConfigHandler();
+	
+	/**
+	 * @brief config file name
+	 */
+	std::string filename;
+
+	/**
+	 * @brief data map
+	 *
+	 * Map used to internally cache data
+	 * instead of constantly rereading from the file
+	 */
+	std::map&lt;std::string, std::string&gt; data;
+
+	/**
+	 * @brief Get the name of the default configuration file
+	 */
+	static std::string GetDefaultConfig();
+	
+	// helper functions
+	void Read(FILE* file);
+	void Write(FILE* file);
+	char* Strip(char* begin, char* end);
+	void AppendLine(char* buf);
+};
+
+extern ConfigHandler* _configHandler;
+
+// quick hack so I don't have to change . to -&gt; in the entire project
+#define configHandler (*_configHandler)
+
+#endif /* CONFIGHANDLER_H */

Modified: branches/caiinterface/rts/System/FileSystem/DataDirLocater.cpp
===================================================================
--- branches/caiinterface/rts/System/FileSystem/DataDirLocater.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/FileSystem/DataDirLocater.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -24,7 +24,7 @@
 #include &lt;string.h&gt;
 #include &quot;FileSystem/VFSHandler.h&quot;
 #include &quot;LogOutput.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;FileSystem.h&quot;
 #include &quot;mmgr.h&quot;
 #include &quot;Exceptions.h&quot;

Modified: branches/caiinterface/rts/System/FileSystem/FileSystem.cpp
===================================================================
--- branches/caiinterface/rts/System/FileSystem/FileSystem.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/FileSystem/FileSystem.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -10,18 +10,31 @@
  */
 
 #include &quot;StdAfx.h&quot;
+#include &quot;FileSystem.h&quot;
+
 #include &lt;assert.h&gt;
 #include &lt;limits.h&gt;
 #include &lt;boost/regex.hpp&gt;
 #include &lt;fstream&gt;
 #include &lt;sys/stat.h&gt;
 #include &lt;sys/types.h&gt;
-#include &quot;FileSystem.h&quot;
+#ifndef _WIN32
+	#include &lt;dirent.h&gt;
+	#include &lt;sstream&gt;
+	#include &lt;unistd.h&gt;
+#else
+	#include &lt;windows.h&gt; 
+	#include &lt;io.h&gt;
+	#include &lt;direct.h&gt;
+	// winapi redifines this which breaks things
+	#if defined(CreateDirectory)
+		#undef CreateDirectory
+	#endif
+#endif
 
-#include &quot;UnixFileSystemHandler.h&quot;
-
 #include &quot;FileSystem/ArchiveScanner.h&quot;
 #include &quot;FileSystem/VFSHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;Util.h&quot;
 #include &quot;mmgr.h&quot;
@@ -56,10 +69,10 @@
 void FileSystemHandler::Initialize(bool verbose)
 {
 	if (!instance) {
-		// FIXME this leaks memory
-		instance = new UnixFileSystemHandler(verbose);
+		instance = new FileSystemHandler();
 		try {
-			instance-&gt;Initialize();
+			instance-&gt;locater.LocateDataDirs();
+			instance-&gt;InitVFS();
 		}
 		catch (...) {
 			SafeDelete(instance);
@@ -77,9 +90,15 @@
 {
 	SafeDelete(archiveScanner);
 	SafeDelete(vfsHandler);
+	configHandler.Deallocate();
 }
 
-FileSystemHandler::FileSystemHandler(int native_path_sep): native_path_separator(native_path_sep)
+FileSystemHandler::FileSystemHandler() :
+#ifndef _WIN32
+	native_path_separator('/')
+#else
+	native_path_separator('\\')
+#endif
 {
 	// NOTE TO SELF: NEVER EVAR DO THIS AGAIN THIS WAY
 
@@ -90,11 +109,265 @@
 	//  but global variable instance would still point to it....)
 
 //	// need to set this here already or we get stuck in an infinite loop
-//	// because WinFileSystemHandler/UnixFileSystemHandler ctor initializes the
+//	// because WinFileSystemHandler/FileSystemHandler ctor initializes the
 //	// ArchiveScanner (which uses FileSystemHandler::GetInstance again...).
 //	instance = this;
 }
 
+/**
+ * @brief returns the highest priority writable directory, aka the writedir
+ */
+std::string FileSystemHandler::GetWriteDir() const
+{
+	const DataDir* writedir = locater.GetWriteDir();
+	assert(writedir &amp;&amp; writedir-&gt;writable); // duh
+	return writedir-&gt;path;
+}
+
+/**
+ * @brief find files
+ * @param dir path in which to start looking (tried relative to each data directory)
+ * @param pattern pattern to search for
+ * @param recurse whether or not to recursively search
+ * @param include_dirs whether or not to include directory names in the result
+ * @return vector of std::strings containing absolute paths to the files
+ *
+ * Will search for a file given a particular pattern.
+ * Starts from dirpath, descending down if recurse is true.
+ */
+std::vector&lt;std::string&gt; FileSystemHandler::FindFiles(const std::string&amp; dir, const std::string&amp; pattern, int flags) const
+{
+	std::vector&lt;std::string&gt; matches;
+
+	// if it's an absolute path, don't look for it in the data directories
+	if ((dir[0] == '/') || ((dir.length() &gt; 1) &amp;&amp; (dir[1] == ':'))) {
+		FindFilesSingleDir(matches, dir, pattern, flags);
+		return matches;
+	}
+
+	const std::vector&lt;DataDir&gt;&amp; datadirs = locater.GetDataDirs();
+	for (std::vector&lt;DataDir&gt;::const_reverse_iterator d = datadirs.rbegin(); d != datadirs.rend(); ++d) {
+		FindFilesSingleDir(matches, d-&gt;path + dir, pattern, flags);
+	}
+	return matches;
+}
+
+
+std::string FileSystemHandler::LocateFile(const std::string&amp; file) const
+{
+	// if it's an absolute path, don't look for it in the data directories
+#ifdef WIN32
+	if ((file.length() &gt; 1) &amp;&amp; (file[1] == ':')) {
+		return file;
+	}
+
+	const std::vector&lt;DataDir&gt;&amp; datadirs = locater.GetDataDirs();
+	for (std::vector&lt;DataDir&gt;::const_iterator d = datadirs.begin(); d != datadirs.end(); ++d) {
+		std::string fn(d-&gt;path + file);
+		if (_access(fn.c_str(), 4) == 0) {
+			return fn;
+		}
+	}
+	return file;
+#else
+	if (file[0] == '/') {
+		return file;
+	}
+
+	const std::vector&lt;DataDir&gt;&amp; datadirs = locater.GetDataDirs();
+	for (std::vector&lt;DataDir&gt;::const_iterator d = datadirs.begin(); d != datadirs.end(); ++d) {
+		std::string fn(d-&gt;path + file);
+		if (access(fn.c_str(), R_OK | F_OK) == 0) {
+			return fn;
+		}
+	}
+	return file;
+#endif
+}
+
+
+std::vector&lt;std::string&gt; FileSystemHandler::GetDataDirectories() const
+{
+	std::vector&lt;std::string&gt; f;
+
+	const std::vector&lt;DataDir&gt;&amp; datadirs = locater.GetDataDirs();
+	for (std::vector&lt;DataDir&gt;::const_iterator d = datadirs.begin(); d != datadirs.end(); ++d) {
+		f.push_back(d-&gt;path);
+	}
+	return f;
+}
+
+
+/**
+ * @brief creates a rwxr-xr-x dir in the writedir
+ *
+ * Returns true if the postcondition of this function is that dir exists in
+ * the write directory.
+ *
+ * Note that this function does not check access to the dir, ie. if you've
+ * created it manually with 0000 permissions then this function may return
+ * true, subsequent operation on files inside the directory may still fail.
+ *
+ * As a rule of thumb, set identical permissions on identical items in the
+ * data directory, ie. all subdirectories the same perms, all files the same
+ * perms.
+ */
+bool FileSystemHandler::mkdir(const std::string&amp; dir) const
+{
+#ifdef _WIN32
+	struct _stat info;
+
+	// First check if directory exists. We'll return success if it does.
+	if (_stat(dir.c_str(), &amp;info) == 0 &amp;&amp; (info.st_mode&amp;_S_IFDIR))
+		return true;
+#else
+	struct stat info;
+
+	// First check if directory exists. We'll return success if it does.
+	if (stat(dir.c_str(), &amp;info) == 0 &amp;&amp; S_ISDIR(info.st_mode))
+		return true;
+#endif
+	// If it doesn't exist we try to mkdir it and return success if that succeeds.
+#ifndef _WIN32
+	if (::mkdir(dir.c_str(), S_IRWXU | S_IRGRP | S_IXGRP | S_IROTH | S_IXOTH) == 0)
+#else
+		if (::_mkdir(dir.c_str()) == 0)
+#endif
+			return true;
+
+	// Otherwise we return false.
+	return false;
+}
+
+
+static void FindFiles(std::vector&lt;std::string&gt;&amp; matches, const std::string&amp; dir, const boost::regex &amp;regexpattern, int flags)
+{
+#ifdef _WIN32
+	WIN32_FIND_DATA wfd;
+	HANDLE hFind = FindFirstFile((dir+&quot;\\*&quot;).c_str(), &amp;wfd);
+
+	if (hFind != INVALID_HANDLE_VALUE) {
+		do {
+			if(strcmp(wfd.cFileName,&quot;.&quot;) &amp;&amp; strcmp(wfd.cFileName ,&quot;..&quot;)) {
+				if(!(wfd.dwFileAttributes&amp;FILE_ATTRIBUTE_DIRECTORY)) {
+					if ((flags &amp; FileSystem::ONLY_DIRS) == 0) {
+						if (boost::regex_match(wfd.cFileName, regexpattern)) {
+							matches.push_back(dir + wfd.cFileName);
+						}
+					}
+				}
+				else {
+					if (flags &amp; FileSystem::INCLUDE_DIRS) {
+						if (boost::regex_match(wfd.cFileName, regexpattern)) {
+							matches.push_back(dir + wfd.cFileName + &quot;\\&quot;);
+						}
+					}
+					if (flags &amp; FileSystem::RECURSE) {
+						FindFiles(matches, dir + wfd.cFileName + &quot;\\&quot;, regexpattern, flags);
+					}
+				}
+			}
+		} while (FindNextFile(hFind, &amp;wfd));
+		FindClose(hFind);
+	}
+#else
+	DIR* dp;
+	struct dirent* ep;
+
+	if (!(dp = opendir(dir.c_str())))
+		return;
+
+	while ((ep = readdir(dp))) {
+		// exclude hidden files
+		if (ep-&gt;d_name[0] != '.') {
+			// is it a file? (we just treat sockets / pipes / fifos / character&amp;block devices as files...)
+			// (need to stat because d_type is DT_UNKNOWN on linux :-/)
+			struct stat info;
+			if (stat((dir + ep-&gt;d_name).c_str(), &amp;info) == 0) {
+				if (!S_ISDIR(info.st_mode)) {
+					if ((flags &amp; FileSystem::ONLY_DIRS) == 0) {
+						if (boost::regex_match(ep-&gt;d_name, regexpattern)) {
+							matches.push_back(dir + ep-&gt;d_name);
+						}
+					}
+				}
+				else {
+					// or a directory?
+					if (flags &amp; FileSystem::INCLUDE_DIRS) {
+						if (boost::regex_match(ep-&gt;d_name, regexpattern)) {
+							matches.push_back(dir + ep-&gt;d_name + &quot;/&quot;);
+						}
+					}
+					if (flags &amp; FileSystem::RECURSE) {
+						FindFiles(matches, dir + ep-&gt;d_name + &quot;/&quot;, regexpattern, flags);
+					}
+				}
+			}
+		}
+	}
+	closedir(dp);
+#endif
+}
+
+
+/**
+ * @brief internal find-files-in-a-single-datadir-function
+ * @param dir path in which to start looking
+ * @param pattern pattern to search for
+ * @param recurse whether or not to recursively search
+ * @param include_dirs whether or not to include directory names in the result
+ * @return vector of std::strings
+ *
+ * Will search for a file given a particular pattern.
+ * Starts from dirpath, descending down if recurse is true.
+ */
+void FileSystemHandler::FindFilesSingleDir(std::vector&lt;std::string&gt;&amp; matches, const std::string&amp; dir, const std::string &amp;pattern, int flags) const
+{
+	assert(!dir.empty() &amp;&amp; dir[dir.length() - 1] == native_path_separator);
+
+	boost::regex regexpattern(filesystem.glob_to_regex(pattern));
+
+	::FindFiles(matches, dir, regexpattern, flags);
+}
+
+/**
+ * @brief Creates the archive scanner and vfs handler
+ *
+ * For the archiveScanner, it keeps cache data (&quot;archivecache.txt&quot;) in the
+ * writedir. Cache data in other directories is ignored.
+ * It scans maps, base and mods subdirectories of all readable datadirs
+ * for archives. Archives in higher priority datadirs override archives
+ * in lower priority datadirs.
+ *
+ * Note that the archive namespace is global, ie. each archive basename may
+ * only occur once in all data directories. If a name is found more then once,
+ * then higher priority datadirs override lower priority datadirs and per
+ * datadir the 'mods' subdir overrides 'base' which overrides 'maps'.
+ */
+void FileSystemHandler::InitVFS() const
+{
+	const DataDir* writedir = locater.GetWriteDir();
+	const std::vector&lt;DataDir&gt;&amp; datadirs = locater.GetDataDirs();
+
+	archiveScanner = new CArchiveScanner();
+
+	archiveScanner-&gt;ReadCacheData(writedir-&gt;path + archiveScanner-&gt;GetFilename());
+
+	std::vector&lt;std::string&gt; scanDirs;
+	for (std::vector&lt;DataDir&gt;::const_reverse_iterator d = datadirs.rbegin(); d != datadirs.rend(); ++d) {
+		scanDirs.push_back(d-&gt;path + &quot;maps&quot;);
+		scanDirs.push_back(d-&gt;path + &quot;base&quot;);
+		scanDirs.push_back(d-&gt;path + &quot;mods&quot;);
+	}
+	archiveScanner-&gt;ScanDirs(scanDirs, true);
+
+	archiveScanner-&gt;WriteCacheData(writedir-&gt;path + archiveScanner-&gt;GetFilename());
+
+	vfsHandler = new CVFSHandler();
+}
+
+
+
 ////////////////////////////////////////
 ////////// FileSystem
 

Modified: branches/caiinterface/rts/System/FileSystem/FileSystem.h
===================================================================
--- branches/caiinterface/rts/System/FileSystem/FileSystem.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/FileSystem/FileSystem.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -13,9 +13,11 @@
 #include &lt;vector&gt;
 #include &lt;string&gt;
 
+#include &quot;DataDirLocater.h&quot;
+
 // winapi redifines this which breaks things
 #if defined(CreateDirectory)
-# undef CreateDirectory
+	#undef CreateDirectory
 #endif
 
 /**
@@ -23,32 +25,35 @@
  */
 class FileSystemHandler
 {
-	public:
+public:
 
-		static FileSystemHandler&amp; GetInstance();
-		static void Initialize(bool verbose);
-		static void Cleanup();
+	static FileSystemHandler&amp; GetInstance();
+	static void Initialize(bool verbose);
+	static void Cleanup();
 
-		virtual ~FileSystemHandler();
-		FileSystemHandler(int native_path_sep = '/');
-		virtual void Initialize() = 0;
+	~FileSystemHandler();
+	FileSystemHandler();
+	void Initialize();
 
-		// almost direct wrappers to system calls
-		virtual bool mkdir(const std::string&amp; dir) const = 0;
+	// almost direct wrappers to system calls
+	bool mkdir(const std::string&amp; dir) const;
 
-		// custom functions
-		virtual std::vector&lt;std::string&gt; FindFiles(const std::string&amp; dir, const std::string&amp; pattern, int flags) const = 0;
-		virtual std::string LocateFile(const std::string&amp; file) const = 0;
-		virtual std::string GetWriteDir() const = 0;
-		virtual std::vector&lt;std::string&gt; GetDataDirectories() const = 0;
+	// custom functions
+	std::vector&lt;std::string&gt; FindFiles(const std::string&amp; dir, const std::string&amp; pattern, int flags) const;
+	std::string LocateFile(const std::string&amp; file) const;
+	std::string GetWriteDir() const;
+	std::vector&lt;std::string&gt; GetDataDirectories() const;
 
-		int GetNativePathSeparator() const { return native_path_separator; }
+	int GetNativePathSeparator() const { return native_path_separator; }
 
-	protected:
+protected:
+	void InitVFS() const;
+	void FindFilesSingleDir(std::vector&lt;std::string&gt;&amp; matches, const std::string&amp; dir, const std::string &amp;pattern, int flags) const;
 
-		static FileSystemHandler* instance;
+	DataDirLocater locater;
+	static FileSystemHandler* instance;
 
-		const int native_path_separator;
+	const int native_path_separator;
 };
 
 /**

Deleted: branches/caiinterface/rts/System/FileSystem/UnixFileSystemHandler.cpp
===================================================================
--- branches/caiinterface/rts/System/FileSystem/UnixFileSystemHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/FileSystem/UnixFileSystemHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,312 +0,0 @@
-/**
- * @file UnixFileSystemHandler.cpp
- * @brief Abstracts locating of content on different platforms
- * @author Tobi Vollebregt
- *
- * Linux and Windows implementation, supporting multiple data directories / search paths.
- *
- * Copyright (C) 2006-2008 Tobi Vollebregt.
- * Licensed under the terms of the GNU GPL, v2 or later
- */
-
-#include &quot;UnixFileSystemHandler.h&quot;
-#include &lt;limits.h&gt;
-#include &lt;boost/regex.hpp&gt;
-#include &lt;sys/stat.h&gt;
-#include &lt;sys/types.h&gt;
-#ifndef _WIN32
-#include &lt;dirent.h&gt;
-#include &lt;sstream&gt;
-#include &lt;unistd.h&gt;
-#else
-#include &lt;windows.h&gt;
-#include &lt;io.h&gt;
-#include &lt;direct.h&gt;
-#endif
-#include &quot;ArchiveScanner.h&quot;
-#include &quot;VFSHandler.h&quot;
-#include &quot;LogOutput.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
-#include &quot;mmgr.h&quot;
-
-/**
- * @brief Creates the archive scanner and vfs handler
- *
- * For the archiveScanner, it keeps cache data (&quot;archivecache.txt&quot;) in the
- * writedir. Cache data in other directories is ignored.
- * It scans maps, base and mods subdirectories of all readable datadirs
- * for archives. Archives in higher priority datadirs override archives
- * in lower priority datadirs.
- *
- * Note that the archive namespace is global, ie. each archive basename may
- * only occur once in all data directories. If a name is found more then once,
- * then higher priority datadirs override lower priority datadirs and per
- * datadir the 'mods' subdir overrides 'base' which overrides 'maps'.
- */
-void UnixFileSystemHandler::InitVFS() const
-{
-	const DataDir* writedir = locater.GetWriteDir();
-	const std::vector&lt;DataDir&gt;&amp; datadirs = locater.GetDataDirs();
-
-	archiveScanner = new CArchiveScanner();
-
-	archiveScanner-&gt;ReadCacheData(writedir-&gt;path + archiveScanner-&gt;GetFilename());
-
-	std::vector&lt;std::string&gt; scanDirs;
-	for (std::vector&lt;DataDir&gt;::const_reverse_iterator d = datadirs.rbegin(); d != datadirs.rend(); ++d) {
-		scanDirs.push_back(d-&gt;path + &quot;maps&quot;);
-		scanDirs.push_back(d-&gt;path + &quot;base&quot;);
-		scanDirs.push_back(d-&gt;path + &quot;mods&quot;);
-	}
-	archiveScanner-&gt;ScanDirs(scanDirs, true);
-
-	archiveScanner-&gt;WriteCacheData(writedir-&gt;path + archiveScanner-&gt;GetFilename());
-
-	vfsHandler = new CVFSHandler();
-}
-
-
-/**
- * @brief Creates the archive scanner and vfs handler
- *
- * Locates data directories and initializes the VFS.
- */
-UnixFileSystemHandler::UnixFileSystemHandler(bool verbose) :
-#ifndef _WIN32
-		FileSystemHandler('/')
-#else
-		FileSystemHandler('\\')
-#endif
-{
-}
-
-
-void UnixFileSystemHandler::Initialize()
-{
-	locater.LocateDataDirs();
-	InitVFS();
-}
-
-
-UnixFileSystemHandler::~UnixFileSystemHandler()
-{
-	configHandler.Deallocate();
-}
-
-
-/**
- * @brief returns the highest priority writable directory, aka the writedir
- */
-std::string UnixFileSystemHandler::GetWriteDir() const
-{
-	const DataDir* writedir = locater.GetWriteDir();
-	assert(writedir &amp;&amp; writedir-&gt;writable); // duh
-	return writedir-&gt;path;
-}
-
-
-/**
- * @brief find files
- * @param dir path in which to start looking (tried relative to each data directory)
- * @param pattern pattern to search for
- * @param recurse whether or not to recursively search
- * @param include_dirs whether or not to include directory names in the result
- * @return vector of std::strings containing absolute paths to the files
- *
- * Will search for a file given a particular pattern.
- * Starts from dirpath, descending down if recurse is true.
- */
-std::vector&lt;std::string&gt; UnixFileSystemHandler::FindFiles(const std::string&amp; dir, const std::string&amp; pattern, int flags) const
-{
-	std::vector&lt;std::string&gt; matches;
-
-	// if it's an absolute path, don't look for it in the data directories
-	if ((dir[0] == '/') || ((dir.length() &gt; 1) &amp;&amp; (dir[1] == ':'))) {
-		FindFilesSingleDir(matches, dir, pattern, flags);
-		return matches;
-	}
-
-	const std::vector&lt;DataDir&gt;&amp; datadirs = locater.GetDataDirs();
-	for (std::vector&lt;DataDir&gt;::const_reverse_iterator d = datadirs.rbegin(); d != datadirs.rend(); ++d) {
-		FindFilesSingleDir(matches, d-&gt;path + dir, pattern, flags);
-	}
-	return matches;
-}
-
-
-std::string UnixFileSystemHandler::LocateFile(const std::string&amp; file) const
-{
-	// if it's an absolute path, don't look for it in the data directories
-#ifdef WIN32
-	if ((file.length() &gt; 1) &amp;&amp; (file[1] == ':')) {
-		return file;
-	}
-
-	const std::vector&lt;DataDir&gt;&amp; datadirs = locater.GetDataDirs();
-	for (std::vector&lt;DataDir&gt;::const_iterator d = datadirs.begin(); d != datadirs.end(); ++d) {
-		std::string fn(d-&gt;path + file);
-		if (_access(fn.c_str(), 4) == 0) {
-			return fn;
-		}
-	}
-	return file;
-#else
-	if (file[0] == '/') {
-		return file;
-	}
-
-	const std::vector&lt;DataDir&gt;&amp; datadirs = locater.GetDataDirs();
-	for (std::vector&lt;DataDir&gt;::const_iterator d = datadirs.begin(); d != datadirs.end(); ++d) {
-		std::string fn(d-&gt;path + file);
-		if (access(fn.c_str(), R_OK | F_OK) == 0) {
-			return fn;
-		}
-	}
-	return file;
-#endif
-}
-
-
-std::vector&lt;std::string&gt; UnixFileSystemHandler::GetDataDirectories() const
-{
-	std::vector&lt;std::string&gt; f;
-
-	const std::vector&lt;DataDir&gt;&amp; datadirs = locater.GetDataDirs();
-	for (std::vector&lt;DataDir&gt;::const_iterator d = datadirs.begin(); d != datadirs.end(); ++d) {
-		f.push_back(d-&gt;path);
-	}
-	return f;
-}
-
-
-/**
- * @brief creates a rwxr-xr-x dir in the writedir
- *
- * Returns true if the postcondition of this function is that dir exists in
- * the write directory.
- *
- * Note that this function does not check access to the dir, ie. if you've
- * created it manually with 0000 permissions then this function may return
- * true, subsequent operation on files inside the directory may still fail.
- *
- * As a rule of thumb, set identical permissions on identical items in the
- * data directory, ie. all subdirectories the same perms, all files the same
- * perms.
- */
-bool UnixFileSystemHandler::mkdir(const std::string&amp; dir) const
-{
-#ifdef _WIN32
-	struct _stat info;
-
-	// First check if directory exists. We'll return success if it does.
-	if (_stat(dir.c_str(), &amp;info) == 0 &amp;&amp; (info.st_mode&amp;_S_IFDIR))
-		return true;
-#else
-	struct stat info;
-
-	// First check if directory exists. We'll return success if it does.
-	if (stat(dir.c_str(), &amp;info) == 0 &amp;&amp; S_ISDIR(info.st_mode))
-		return true;
-#endif
-	// If it doesn't exist we try to mkdir it and return success if that succeeds.
-#ifndef _WIN32
-	if (::mkdir(dir.c_str(), S_IRWXU | S_IRGRP | S_IXGRP | S_IROTH | S_IXOTH) == 0)
-#else
-	if (::_mkdir(dir.c_str()) == 0)
-#endif
-		return true;
-
-	// Otherwise we return false.
-	return false;
-}
-
-
-static void FindFiles(std::vector&lt;std::string&gt;&amp; matches, const std::string&amp; dir, const boost::regex &amp;regexpattern, int flags)
-{
-#ifdef _WIN32
-	WIN32_FIND_DATA wfd;
-  HANDLE hFind = FindFirstFile((dir+&quot;\\*&quot;).c_str(), &amp;wfd);
-
-	if (hFind != INVALID_HANDLE_VALUE) {
-		do {
-			if(strcmp(wfd.cFileName,&quot;.&quot;) &amp;&amp; strcmp(wfd.cFileName ,&quot;..&quot;)) {
-				if(!(wfd.dwFileAttributes&amp;FILE_ATTRIBUTE_DIRECTORY)) {
-					if ((flags &amp; FileSystem::ONLY_DIRS) == 0) {
-						if (boost::regex_match(wfd.cFileName, regexpattern)) {
-							matches.push_back(dir + wfd.cFileName);
-						}
-					}
-				}
-				else {
-					if (flags &amp; FileSystem::INCLUDE_DIRS) {
-						if (boost::regex_match(wfd.cFileName, regexpattern)) {
-							matches.push_back(dir + wfd.cFileName + &quot;\\&quot;);
-						}
-					}
-					if (flags &amp; FileSystem::RECURSE) {
-						FindFiles(matches, dir + wfd.cFileName + &quot;\\&quot;, regexpattern, flags);
-					}
-				}
-			}
-		} while (FindNextFile(hFind, &amp;wfd));
-		FindClose(hFind);
-	}
-#else
-	DIR* dp;
-	struct dirent* ep;
-
-	if (!(dp = opendir(dir.c_str())))
-		return;
-
-	while ((ep = readdir(dp))) {
-		// exclude hidden files
-		if (ep-&gt;d_name[0] != '.') {
-			// is it a file? (we just treat sockets / pipes / fifos / character&amp;block devices as files...)
-			// (need to stat because d_type is DT_UNKNOWN on linux :-/)
-			struct stat info;
-			if (stat((dir + ep-&gt;d_name).c_str(), &amp;info) == 0) {
-				if (!S_ISDIR(info.st_mode)) {
-					if ((flags &amp; FileSystem::ONLY_DIRS) == 0) {
-						if (boost::regex_match(ep-&gt;d_name, regexpattern)) {
-							matches.push_back(dir + ep-&gt;d_name);
-						}
-					}
-				}
-				else {
-					// or a directory?
-					if (flags &amp; FileSystem::INCLUDE_DIRS) {
-						if (boost::regex_match(ep-&gt;d_name, regexpattern)) {
-							matches.push_back(dir + ep-&gt;d_name + &quot;/&quot;);
-						}
-					}
-					if (flags &amp; FileSystem::RECURSE) {
-						FindFiles(matches, dir + ep-&gt;d_name + &quot;/&quot;, regexpattern, flags);
-					}
-				}
-			}
-		}
-	}
-	closedir(dp);
-#endif
-}
-
-
-/**
- * @brief internal find-files-in-a-single-datadir-function
- * @param dir path in which to start looking
- * @param pattern pattern to search for
- * @param recurse whether or not to recursively search
- * @param include_dirs whether or not to include directory names in the result
- * @return vector of std::strings
- *
- * Will search for a file given a particular pattern.
- * Starts from dirpath, descending down if recurse is true.
- */
-void UnixFileSystemHandler::FindFilesSingleDir(std::vector&lt;std::string&gt;&amp; matches, const std::string&amp; dir, const std::string &amp;pattern, int flags) const
-{
-	assert(!dir.empty() &amp;&amp; dir[dir.length() - 1] == native_path_separator);
-
-	boost::regex regexpattern(filesystem.glob_to_regex(pattern));
-
-	::FindFiles(matches, dir, regexpattern, flags);
-}

Deleted: branches/caiinterface/rts/System/FileSystem/UnixFileSystemHandler.h
===================================================================
--- branches/caiinterface/rts/System/FileSystem/UnixFileSystemHandler.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/FileSystem/UnixFileSystemHandler.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,46 +0,0 @@
-/**
- * @file UnixFileSystemHandler.h
- * @brief Abstracts locating of content on different platforms
- * @author Tobi Vollebregt
- *
- * Unix implementation
- *
- * Copyright (C) 2006.  Licensed under the terms of the
- * GNU GPL, v2 or later
- */
-
-#ifndef UNIXFILESYSTEMHANDLER_H
-#define UNIXFILESYSTEMHANDLER_H
-
-#include &lt;string&gt;
-#include &lt;vector&gt;
-#include &quot;DataDirLocater.h&quot;
-#include &quot;FileSystem.h&quot;
-
-/**
- * @brief Unix file system / data directory handler
- */
-class UnixFileSystemHandler : public FileSystemHandler
-{
-	public:
-
-		virtual ~UnixFileSystemHandler();
-		UnixFileSystemHandler(bool verbose);
-		virtual void Initialize();
-
-		virtual bool mkdir(const std::string&amp; dir) const;
-
-		virtual std::string GetWriteDir() const;
-		virtual std::vector&lt;std::string&gt; FindFiles(const std::string&amp; dir, const std::string&amp; pattern, int flags) const;
-		virtual std::string LocateFile(const std::string&amp; file) const;
-		virtual std::vector&lt;std::string&gt; GetDataDirectories() const;
-
-	protected:
-
-		void InitVFS() const;
-		void FindFilesSingleDir(std::vector&lt;std::string&gt;&amp; matches, const std::string&amp; dir, const std::string &amp;pattern, int flags) const;
-
-		DataDirLocater locater;
-};
-
-#endif // !UNIXFILESYSTEMHANDLER_H

Modified: branches/caiinterface/rts/System/LogOutput.cpp
===================================================================
--- branches/caiinterface/rts/System/LogOutput.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/LogOutput.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -17,7 +17,7 @@
 //#if !defined DEDICATED &amp;&amp; !defined BUILDING_AI &amp;&amp; !defined BUILDING_AI_INTERFACE
 #include &quot;Sim/Misc/GlobalSynced.h&quot;
 //#endif	// !defined DEDICATED &amp;&amp; !defined BUILDING_AI &amp;&amp; !defined BUILDING_AI_INTERFACE
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;mmgr.h&quot;
 
 using std::string;
@@ -188,12 +188,23 @@
 
 	// enabled subsystems is superset of the ones specified in environment
 	// and the ones specified in the configuration file.
+	// configHandler cannot be accessed here in unitsync since it may not exist.
+#ifndef UNITSYNC
 	string subsystems = &quot;,&quot; + StringToLower(configHandler.GetString(&quot;LogSubsystems&quot;, &quot;&quot;)) + &quot;,&quot;;
+#else
+#  ifdef DEBUG
+	// unitsync logging in debug mode always on
+	string subsystems = &quot;,unitsync,&quot;;
+#  else
+	string subsystems = &quot;,&quot;;
+#  endif
+#endif
 
 	const char* const env = getenv(&quot;SPRING_LOG_SUBSYSTEMS&quot;);
 	if (env)
 		subsystems += StringToLower(env) + &quot;,&quot;;
 
+
 	(*this) &lt;&lt; &quot;Enabled log subsystems: &quot;;
 	for (CLogSubsystem* sys = CLogSubsystem::GetList(); sys; sys = sys-&gt;next) {
 		if (sys-&gt;name &amp;&amp; *sys-&gt;name) {

Modified: branches/caiinterface/rts/System/NetProtocol.cpp
===================================================================
--- branches/caiinterface/rts/System/NetProtocol.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/NetProtocol.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -15,7 +15,7 @@
 #include &quot;Game/GameSetup.h&quot;
 #include &quot;LogOutput.h&quot;
 #include &quot;DemoRecorder.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Net/UDPConnection.h&quot;
 #include &quot;Net/LocalConnection.h&quot;
 #include &quot;Net/UDPSocket.h&quot;
@@ -36,7 +36,7 @@
 	boost::shared_ptr&lt;netcode::UDPSocket&gt; sock(new netcode::UDPSocket(sourceport));
 	sock-&gt;SetBlocking(false);
 	netcode::UDPConnection* conn = new netcode::UDPConnection(sock, server_addr, portnum);
-	conn-&gt;SetMTU(configHandler.GetInt(&quot;MaximumTransmissionUnit&quot;, 0));
+	conn-&gt;SetMTU(configHandler.Get(&quot;MaximumTransmissionUnit&quot;, 0));
 	server.reset(conn);
 	server-&gt;SendData(CBaseNetProtocol::Get().SendAttemptConnect(myName, myVersion));
 	server-&gt;Flush(true);

Deleted: branches/caiinterface/rts/System/Platform/ConfigHandler.cpp
===================================================================
--- branches/caiinterface/rts/System/Platform/ConfigHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Platform/ConfigHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,93 +0,0 @@
-/**
- * @file ConfigHandler.cpp
- * @brief config implementation
- * @author Christopher Han &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">xiphux at gmail.com</A>&gt;
- *
- * Implementation of config structure class
- * Copyright (C) 2005.  Licensed under the terms of the
- * GNU GPL, v2 or later.
- */
-#include &quot;StdAfx.h&quot;
-#include &quot;ConfigHandler.h&quot;
-#ifdef _WIN32
-#include &quot;Win/RegHandler.h&quot;
-#elif defined(__APPLE__)
-extern &quot;C&quot; void PreInitMac();
-#include &quot;Mac/UserDefsHandler.h&quot;
-#else
-#include &quot;Linux/DotfileHandler.h&quot;
-#endif
-#include &lt;sstream&gt;
-#include &quot;Game/GameVersion.h&quot;
-
-
-ConfigHandler* _configHandler;
-
-
-/**
- * Instantiates a copy of the current platform's config class.
- * Re-instantiates if the configHandler already existed.
- */
-void ConfigHandler::Instantiate(std::string configSource)
-{
-	Deallocate();
-
-	if (configSource.empty()) {
-#ifdef _WIN32
-		configSource = &quot;Software\\SJ\\Spring&quot;;
-		const std::string version = SpringVersion::Get();
-		if (version.size()&gt;0 &amp;&amp; version[version.size()-1] == '+')
-			configSource += &quot; SVN&quot;;
-#elif defined(__APPLE__)
-		configSource = &quot;this string is not currently used&quot;;
-#else
-		configSource = DotfileHandler::GetDefaultConfig();
-#endif
-	}
-
-#ifdef _WIN32
-	_configHandler = SAFE_NEW RegHandler(configSource);
-#elif defined(__APPLE__)
-	PreInitMac();
-	_configHandler = SAFE_NEW UserDefsHandler(); // Config path is based on bundle id
-#else
-	_configHandler = SAFE_NEW DotfileHandler(configSource);
-#endif
-}
-
-
-/**
- * Destroys existing ConfigHandler instance.
- */
-void ConfigHandler::Deallocate()
-{
-	// can not use SafeDelete because ~ConfigHandler is protected
-	delete _configHandler;
-	_configHandler = NULL;
-}
-
-
-ConfigHandler::~ConfigHandler()
-{
-}
-
-
-float ConfigHandler::GetFloat(const std::string&amp; name, const float def)
-{
-	std::ostringstream buf1;
-	buf1 &lt;&lt; def;
-
-	std::istringstream buffer(GetString(name, buf1.str()));
-	float val;
-	buffer &gt;&gt; val;
-	return val;
-}
-
-
-void ConfigHandler::SetFloat(const std::string&amp; name, float value)
-{
-	std::ostringstream buffer;
-	buffer &lt;&lt; value;
-
-	SetString(name, buffer.str());
-}

Deleted: branches/caiinterface/rts/System/Platform/ConfigHandler.h
===================================================================
--- branches/caiinterface/rts/System/Platform/ConfigHandler.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Platform/ConfigHandler.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,84 +0,0 @@
-/**
- * @file ConfigHandler.h
- * @brief config base
- * @author Christopher Han &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">xiphux at gmail.com</A>&gt;
- *
- * Definition of config structure class
- * Copyright (C) 2005.  Licensed under the terms of the
- * GNU GPL, v2 or later.
- */
-#ifndef CONFIGHANDLER_H
-#define CONFIGHANDLER_H
-
-#include &lt;string&gt;
-
-/**
- * @brief config handler base
- *
- * This is the abstract configuration handler class used
- * for polymorphic configuration.  Platform-specifics should derive
- * from this.
- */
-class ConfigHandler
-{
-public:
-	/**
-	 * @brief set integer
-	 * @param name name of key to set
-	 * @param value integer value to set
-	 */
-	virtual void SetInt(std::string name, int value) = 0;
-
-	/**
-	 * @brief set string
-	 * @param name name of key to set
-	 * @param value string value to set
-	 */
-	virtual void SetString(std::string name, std::string value) = 0;
-
-	/**
-	 * @brief get string
-	 * @param name name of key to get
-	 * @param def default string value to use if key is not found
-	 * @return string value
-	 */
-	virtual std::string GetString(std::string name, std::string def) = 0;
-
-	/**
-	 * @brief get integer
-	 * @param name name of key to get
-	 * @param def default integer value to use if key is not found
-	 * @return integer value
-	 */
-	virtual int GetInt(std::string name, int def) = 0;
-
-	/**
-	@brief get float value
-	*/
-	virtual float GetFloat(const std::string&amp; name, const float def);
-
-	/**
-	@brief set float value
-	*/
-	virtual void SetFloat(const std::string&amp; name, float value);
-
-	/**
-	 * @brief instantiate global configHandler
-	 */
-	static void Instantiate(std::string configSource);
-
-	/**
-	 * @brief deallocate
-	 */
-	static void Deallocate();
-
-protected:
-	virtual ~ConfigHandler();
-};
-
-extern ConfigHandler* _configHandler;
-
-// quick hack so I don't have to change . to -&gt; in the entire project
-#define configHandler (*_configHandler)
-
-#endif /* CONFIGHANDLER_H */

Deleted: branches/caiinterface/rts/System/Platform/Linux/DotfileHandler.cpp
===================================================================
--- branches/caiinterface/rts/System/Platform/Linux/DotfileHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Platform/Linux/DotfileHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,244 +0,0 @@
-/**
- * @file DotfileHandler.cpp
- * @brief Linux dotfile config implementation
- * @author Christopher Han &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">xiphux at gmail.com</A>&gt;
- * @author Tobi Vollebregt &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">tobivollebregt at gmail.com</A>&gt;
- *
- * DotfileHandler configuration class implementation
- * Copyright (C) 2005.  Licensed under the terms of the
- * GNU GPL, v2 or later.
- */
-
-#include &quot;StdAfx.h&quot;
-#include &quot;DotfileHandler.h&quot;
-#include &lt;sstream&gt;
-#include &lt;fcntl.h&gt;
-#include &lt;stdlib.h&gt;
-#include &lt;string.h&gt;
-#include &quot;Game/GameVersion.h&quot;
-#include &quot;Exceptions.h&quot;
-
-
-/**
- * @brief POSIX file locking class
- */
-class ScopedFileLock
-{
-	public:
-		ScopedFileLock(int fd, bool write);
-		~ScopedFileLock();
-	private:
-		int filedes;
-};
-
-/**
- * @brief lock fd
- *
- * Lock file descriptor fd for reading (write == false) or writing
- * (write == true).
- */
-ScopedFileLock::ScopedFileLock(int fd, bool write) : filedes(fd)
-{
-	struct flock lock;
-	lock.l_type = write ? F_WRLCK : F_RDLCK;
-	lock.l_whence = SEEK_SET;
-	lock.l_start = 0;
-	lock.l_len = 0;
-	if (fcntl(filedes, F_SETLKW, &amp;lock)) {
-		// not a fatal error
-		//handleerror(0, &quot;Could not lock config file&quot;, &quot;DotfileHandler&quot;, 0);
-	}
-}
-
-/**
- * @brief unlock fd
- */
-ScopedFileLock::~ScopedFileLock()
-{
-	struct flock lock;
-	lock.l_type = F_UNLCK;
-	lock.l_whence = SEEK_SET;
-	lock.l_start = 0;
-	lock.l_len = 0;
-	if (fcntl(filedes, F_SETLKW, &amp;lock)) {
-		// not a fatal error
-		//handleerror(0, &quot;Could not unlock config file&quot;, &quot;DotfileHandler&quot;, 0);
-	}
-}
-
-/**
- * @brief strip whitespace
- *
- * Strips whitespace off the string [begin, end] by setting the first
- * non-whitespace character from the end to 0 and returning a pointer
- * to the first non-whitespace character from the begin.
- *
- * Precondition: end must point to the last character of the string,
- * ie. the one before the terminating null.
- */
-char* DotfileHandler::Strip(char* begin, char* end) {
-	while (isspace(*begin)) ++begin;
-	while (end &gt;= begin &amp;&amp; isspace(*end)) --end;
-	*(end + 1) = 0;
-	return begin;
-}
-
-/**
- * @brief process one line read from file
- *
- * Parses the 'key=value' assignment in buf and sets data[key] to value.
- */
-void DotfileHandler::AppendLine(char* buf) {
-	char* eq = strchr(buf, '=');
-	if (eq) {
-		char* key = Strip(buf, eq - 1);
-		char* value = Strip(eq + 1, strchr(eq + 1, 0) - 1);
-		data[key] = value;
-	}
-}
-
-/**
- * @brief Open file
- *
- * Attempts to open an existing config file.
- * If none exists, create one.
- */
-DotfileHandler::DotfileHandler(const std::string&amp; fname) : filename(fname)
-{
-	FILE* file;
-
-	if ((file = fopen(fname.c_str(), &quot;r&quot;))) {
-		ScopedFileLock scoped_lock(fileno(file), false);
-		Read(file);
-	} else {
-		if (!(file = fopen(fname.c_str(), &quot;a&quot;)))
-			throw std::runtime_error(&quot;DotfileHandler: Could not write to config file&quot;);
-	}
-	fclose(file);
-}
-
-DotfileHandler::~DotfileHandler()
-{
-}
-
-/**
- * @brief Gets integer value from config
- */
-int DotfileHandler::GetInt(const string name, const int def)
-{
-	std::map&lt;string,string&gt;::iterator pos = data.find(name);
-	if (pos == data.end()) {
-		SetInt(name, def);
-		return def;
-	}
-	return atoi(pos-&gt;second.c_str());
-}
-
-/**
- * @brief Gets string value from config
- *
- * If string value isn't set, it returns def AND it sets data[name] = def,
- * so the defaults end up in the config file.
- */
-string DotfileHandler::GetString(const string name, const string def)
-{
-	std::map&lt;string,string&gt;::iterator pos = data.find(name);
-	if (pos == data.end()) {
-		SetString(name, def);
-		return def;
-	}
-	return pos-&gt;second;
-}
-
-/**
- * @brief Rewind file and re-read it.
- */
-void DotfileHandler::Read(FILE* file)
-{
-	char buf[500];
-	rewind(file);
-	while (fgets(buf, sizeof(buf), file))
-		AppendLine(buf);
-}
-
-/**
- * @brief Truncate file and write data to it.
- */
-void DotfileHandler::Write(FILE* file)
-{
-	rewind(file);
-	ftruncate(fileno(file), 0);
-	for(std::map&lt;string,string&gt;::iterator iter = data.begin(); iter != data.end(); ++iter)
-		fprintf(file, &quot;%s=%s\n&quot;, iter-&gt;first.c_str(), iter-&gt;second.c_str());
-}
-
-/**
- * @brief Sets a config string
- *
- * This does:
- * 1) Lock file.
- * 2) Read file (in case another program modified something)
- * 3) Set data[name] = value.
- * 4) Write file (so we keep the settings in the event of a crash or error)
- * 5) Unlock file.
- *
- * Pretty hackish, but Windows registry changes
- * save immediately, while with DotfileHandler the
- * data is stored in an internal data structure for
- * fast access.  So we want to keep the settings in
- * the event of a crash, but at the same time we don't
- * want conflicts when multiple instances are running
- * at the same time (which would cause data loss)
- * (e.g. unitsync and spring).
- */
-void DotfileHandler::SetString(const string name, const string value)
-{
-	FILE* file = fopen(filename.c_str(), &quot;r+&quot;);
-
-	if (file) {
-		ScopedFileLock scoped_lock(fileno(file), true);
-		Read(file);
-		data[name] = value;
-		Write(file);
-	} else
-		data[name] = value;
-
-	// must be outside above 'if (file)' block because of the lock.
-	if (file)
-		fclose(file);
-}
-
-/**
- * @brief Sets a config integer
- */
-void DotfileHandler::SetInt(const string name, const int value)
-{
-	std::stringstream ss;
-	ss &lt;&lt; value;
-	SetString(name, ss.str());
-}
-
-
-/**
- * @brief Get the name of the default configuration file
- */
-string DotfileHandler::GetDefaultConfig()
-{
-	const string base = &quot;.springrc&quot;;
-	const string home = getenv(&quot;HOME&quot;);
-
-	const string defCfg = home + &quot;/&quot; + base;
-	const string verCfg = defCfg + &quot;-&quot; + SpringVersion::Get();
-
-	string cfg;
-
-	struct stat st;
-	if (stat(verCfg.c_str(), &amp;st) == 0) {
-		cfg = verCfg; // use the versionned config file
-	} else {
-		cfg = defCfg; // use the default config file
-	}
-
-	return cfg;
-}
-

Deleted: branches/caiinterface/rts/System/Platform/Linux/DotfileHandler.h
===================================================================
--- branches/caiinterface/rts/System/Platform/Linux/DotfileHandler.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Platform/Linux/DotfileHandler.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,105 +0,0 @@
-/**
- * @file DotfileHandler.h
- * @brief linux dotfile config base
- * @author Christopher Han &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">xiphux at gmail.com</A>&gt;
- * @author Tobi Vollebregt &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">tobivollebregt at gmail.com</A>&gt;
- *
- * DotfileHandler configuration class definition
- * Copyright (C) 2005.  Licensed under the terms of the
- * GNU GPL, v2 or later.
- */
-
-#ifndef _DOTFILEHANDLER_H
-#define _DOTFILEHANDLER_H
-
-#include &quot;Platform/ConfigHandler.h&quot;
-
-#ifdef __FreeBSD__
-#include &lt;sys/stat.h&gt;
-#endif
-
-#include &lt;stdio.h&gt;
-#include &lt;string&gt;
-#include &lt;map&gt;
-
-using std::string;
-
-/**
- * @brief DotfileHandler
- *
- * Linux dotfile handler config class, derived
- * from the abstract ConfigHandler.
- */
-class DotfileHandler: public ConfigHandler
-{
-public:
-
-	/**
-	 * @brief Constructor
-	 * @param fname path to config file
-	 */
-	DotfileHandler(const std::string&amp; fname);
-
-	/**
-	 * @brief Get the name of the default configuration file
-	 */
-	static string GetDefaultConfig();
-
-	/**
-	 * @brief Destructor
-	 */
-	virtual ~DotfileHandler();
-
-	/**
-	 * @brief set integer
-	 * @param name name of key to set
-	 * @param value integer value to set
-	 */
-	virtual void SetInt(std::string name, int value);
-
-	/**
-	 * @brief set string
-	 * @param name name of key to set
-	 * @param value string value to set
-	 */
-	virtual void SetString(std::string name, std::string value);
-
-	/**
-	 * @brief get string
-	 * @param name name of key to get
-	 * @param def default string value to use if key is not found
-	 * @return string value
-	 */
-	virtual std::string GetString(std::string name, std::string def);
-
-	/**
-	 * @brief get integer
-	 * @param name name of key to get
-	 * @param def default integer value to use if key is not found
-	 * @return integer value
-	 */
-	virtual int GetInt(std::string name, int def);
-
-private:
-
-	/**
-	 * @brief config file name
-	 */
-	std::string filename;
-
-	/**
-	 * @brief data map
-	 *
-	 * Map used to internally cache data
-	 * instead of constantly rereading from the file
-	 */
-	std::map&lt;string,string&gt; data;
-
-	// helper functions
-	void Read(FILE* file);
-	void Write(FILE* file);
-	char* Strip(char* begin, char* end);
-	void AppendLine(char* buf);
-};
-
-#endif /* _DOTFILEHANDLER_H */

Modified: branches/caiinterface/rts/System/Platform/Linux/OpenALSound.cpp
===================================================================
--- branches/caiinterface/rts/System/Platform/Linux/OpenALSound.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Platform/Linux/OpenALSound.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -8,7 +8,7 @@
 #include &lt;AL/alc.h&gt;
 
 #include &quot;LogOutput.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Game/Camera.h&quot;
 #include &quot;Sim/Objects/WorldObject.h&quot;
 #include &quot;FileSystem/FileHandler.h&quot;
@@ -28,7 +28,7 @@
 {
 	Sources = NULL;
 
-	maxSounds = configHandler.GetInt(&quot;MaxSounds&quot;, 16);
+	maxSounds = configHandler.Get(&quot;MaxSounds&quot;, 16);
 	if (maxSounds &lt;= 0) {
 		throw content_error(&quot;Internal error, (maxSounds &lt;= 0) in COpenALSound&quot;);
 	}

Deleted: branches/caiinterface/rts/System/Platform/Mac/UserDefsHandler.h
===================================================================
--- branches/caiinterface/rts/System/Platform/Mac/UserDefsHandler.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Platform/Mac/UserDefsHandler.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,26 +0,0 @@
-/*
- * ConfigHandler.cpp
- * Definition of PListHandler class
- * Copyright (C) 2006 Lorenz Pretterhofer
- */
-
-#ifndef USERDEFSHANDLER_H
-#define USERDEFSHANDLER_H
-
-#include &quot;Platform/ConfigHandler.h&quot;
-
-#import &quot;Foundation/NSDictionary.h&quot;
-
-class UserDefsHandler: public ConfigHandler
-{
-public:
-	virtual ~UserDefsHandler();
-	virtual void SetInt(std::string name, int value);
-	virtual void SetString(std::string name, std::string value);
-	virtual std::string GetString(std::string name, std::string def);
-	virtual int GetInt(std::string name, int def);
-	virtual float GetFloat(const std::string&amp; name, const float def);
-private:
-};
-
-#endif // USERDEFSHANDLER_H

Deleted: branches/caiinterface/rts/System/Platform/Mac/UserDefsHandler.mm
===================================================================
--- branches/caiinterface/rts/System/Platform/Mac/UserDefsHandler.mm	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Platform/Mac/UserDefsHandler.mm	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,83 +0,0 @@
-/*
- * PListHandler.cpp
- * PlistHandler configuration class implementation
- * Copyright 2006 Lorenz Pretterhofer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">krysole at internode.on.net</A>&gt;
- */
-
-#include &quot;UserDefsHandler.h&quot;
-
-#import &quot;Foundation/Foundation.h&quot;
-
-UserDefsHandler::~UserDefsHandler()
-{
-	[[NSUserDefaults standardUserDefaults] synchronize];
-}
-
-void UserDefsHandler::SetInt(std::string name, int value)
-{
-	NSNumber *number;
-	NSString *key;
-	
-	key = [NSString stringWithCString:name.c_str() encoding:NSASCIIStringEncoding];
-	number = [NSNumber numberWithInt:value];
-	
-	[[NSUserDefaults standardUserDefaults] setObject:number forKey:key];
-}
-
-void UserDefsHandler::SetString(std::string name, std::string value)
-{
-	NSString *key, *val;
-	
-	key = [NSString stringWithCString:name.c_str() encoding:NSASCIIStringEncoding];
-	val = [NSString stringWithCString:value.c_str() encoding:NSASCIIStringEncoding];
-	
-	[[NSUserDefaults standardUserDefaults] setObject:val forKey:key];
-}
-
-std::string UserDefsHandler::GetString(std::string name, std::string def)
-{
-	NSString *key, *value;
-	
-	key = [NSString stringWithCString:name.c_str() encoding:NSASCIIStringEncoding];
-	
-	value = [[NSUserDefaults standardUserDefaults] objectForKey:key];
-	
-	if (value == nil) {
-		return def;
-	}
-	
-	// Won't throw with plain old c-strings
-	return [value cStringUsingEncoding:NSASCIIStringEncoding];
-}
-
-int UserDefsHandler::GetInt(std::string name, int def)
-{
-	NSString *key;
-	NSNumber *number;
-	
-	key = [NSString stringWithCString:name.c_str() encoding:NSASCIIStringEncoding];
-	
-	number = [[NSUserDefaults standardUserDefaults] objectForKey:key];
-	
-	if (number == nil) {
-		return def;
-	}
-	
-	return [number intValue];
-}
-
-float UserDefsHandler::GetFloat(const std::string&amp; name, const float def)
-{
-	NSString *key;
-	NSNumber *number;
-	
-	key = [NSString stringWithCString:name.c_str() encoding:NSASCIIStringEncoding];
-	
-	number = [[NSUserDefaults standardUserDefaults] objectForKey:key];
-	
-	if (number == nil) {
-		return def;
-	}
-	
-	return [number floatValue];
-}

Modified: branches/caiinterface/rts/System/Platform/Win/CrashHandler.cpp
===================================================================
--- branches/caiinterface/rts/System/Platform/Win/CrashHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Platform/Win/CrashHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -112,11 +112,19 @@
 }
 
 /** Callback for SymEnumerateModules */
+#if _MSC_VER &gt;= 1500
+static BOOL CALLBACK EnumModules(PCSTR moduleName, ULONG baseOfDll, PVOID userContext)
+{
+	PRINT(&quot;0x%08x\t%s\n&quot;, baseOfDll, moduleName);
+	return TRUE;
+}
+#else
 static BOOL CALLBACK EnumModules(LPSTR moduleName, DWORD baseOfDll, PVOID userContext)
 {
 	PRINT(&quot;0x%08x\t%s\n&quot;, baseOfDll, moduleName);
 	return TRUE;
 }
+#endif
 
 /** Called by windows if an exception happens. */
 static LONG CALLBACK ExceptionHandler(LPEXCEPTION_POINTERS e)

Modified: branches/caiinterface/rts/System/Platform/Win/DxSound.cpp
===================================================================
--- branches/caiinterface/rts/System/Platform/Win/DxSound.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Platform/Win/DxSound.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -9,7 +9,7 @@
 #endif
 
 #include &quot;LogOutput.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Game/Camera.h&quot;
 #include &quot;Sim/Objects/WorldObject.h&quot;
 #include &quot;DxSound.h&quot;
@@ -30,7 +30,7 @@
 
 CDxSound::CDxSound()
 {
-	maxSounds = configHandler.GetInt(&quot;MaxSounds&quot;, 16);
+	maxSounds = configHandler.Get(&quot;MaxSounds&quot;, 16);
 	if (maxSounds &lt;= 0) {
 		throw content_error(&quot;Internal error, (maxSounds &lt;= 0) in CDxSound&quot;);
 	}

Deleted: branches/caiinterface/rts/System/Platform/Win/RegHandler.cpp
===================================================================
--- branches/caiinterface/rts/System/Platform/Win/RegHandler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Platform/Win/RegHandler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,65 +0,0 @@
-// RegHandler.cpp: implementation of the RegHandler class.
-//
-//////////////////////////////////////////////////////////////////////
-
-#include &quot;StdAfx.h&quot;
-#include &quot;RegHandler.h&quot;
-#include &lt;SDL_types.h&gt;
-#include &quot;mmgr.h&quot;
-
-using std::string;
-
-//////////////////////////////////////////////////////////////////////
-// Construction/Destruction
-//////////////////////////////////////////////////////////////////////
-
-RegHandler::RegHandler(string keyname, HKEY key)
-{
-	if (RegCreateKey(key, keyname.c_str(), &amp;regkey) != ERROR_SUCCESS)
-		MessageBox(0, &quot;Failed to create registry key&quot;, &quot;Registry error&quot;, 0);
-}
-
-RegHandler::~RegHandler()
-{
-	RegCloseKey(regkey);
-}
-
-
-int RegHandler::GetInt(string name, int def)
-{
-	unsigned char regbuf[100]={'\0'};
-	DWORD regLength=sizeof(regbuf); // this is windows specific stuff, so no need to use sdl types
-	DWORD regType=REG_DWORD;
-
-	if(RegQueryValueEx(regkey,name.c_str(),0,&amp;regType,regbuf,&amp;regLength)==ERROR_SUCCESS)
-		return *((int*)regbuf);
-	else
-		SetInt(name, def);
-		
-	return def;
-}
-
-string RegHandler::GetString(string name, string def)
-{
-	unsigned char regbuf[100]={'\0'};
-	DWORD regLength=sizeof(regbuf);
-	DWORD regType=REG_SZ;
-
-	if(RegQueryValueEx(regkey,name.c_str(),0,&amp;regType,regbuf,&amp;regLength)==ERROR_SUCCESS) {
-		return string((char*)regbuf);
-	}
-	else
-		SetString(name, def);
-		
-	return def;
-}
-
-void RegHandler::SetString(string name, string value)
-{
-	RegSetValueEx(regkey,name.c_str(),0,REG_SZ,(unsigned char*)value.c_str(),value.size()+1);
-}
-
-void RegHandler::SetInt(string name, int value)
-{
-	RegSetValueEx(regkey,name.c_str(),0,REG_DWORD,(unsigned char*)&amp;value,sizeof(int));
-}

Deleted: branches/caiinterface/rts/System/Platform/Win/RegHandler.h
===================================================================
--- branches/caiinterface/rts/System/Platform/Win/RegHandler.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Platform/Win/RegHandler.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -1,28 +0,0 @@
-// RegHandler.h: interface for the RegHandler class.
-//
-//////////////////////////////////////////////////////////////////////
-
-#ifndef REGHANDLER_H
-#define REGHANDLER_H
-
-#include &quot;Platform/ConfigHandler.h&quot;
-
-#include &lt;string&gt;
-#include &quot;win32.h&quot;
-#include &lt;winreg.h&gt;
-
-class RegHandler: public ConfigHandler 
-{
-public:
-	RegHandler(std::string keyname,HKEY key=HKEY_CURRENT_USER);
-	virtual ~RegHandler();
-	virtual void SetInt(std::string name, int value);
-	virtual void SetString(std::string name, std::string value);
-	virtual std::string GetString(std::string name, std::string def);
-	virtual int GetInt(std::string name, int def);
-protected:
-	HKEY regkey;
-};
-
-#endif // REGHANDLER_H
-

Modified: branches/caiinterface/rts/System/Sound.cpp
===================================================================
--- branches/caiinterface/rts/System/Sound.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Sound.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3,7 +3,7 @@
 #include &quot;Sound.h&quot;
 #include &quot;Sim/Units/Unit.h&quot;
 #include &quot;LogOutput.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Exceptions.h&quot;
 
 #ifdef _WIN32
@@ -21,7 +21,7 @@
 {
 	CSound* sound = NULL;
 
-	const int maxSounds = configHandler.GetInt(&quot;MaxSounds&quot;, 16);
+	const int maxSounds = configHandler.Get(&quot;MaxSounds&quot;, 16);
 	if (maxSounds &lt;= 0) {
 		logOutput.Print(&quot;Sound disabled with \&quot;MaxSounds=%i\&quot;&quot;, maxSounds);
 		return SAFE_NEW CNullSound;

Modified: branches/caiinterface/rts/System/SpringApp.cpp
===================================================================
--- branches/caiinterface/rts/System/SpringApp.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/SpringApp.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -25,7 +25,7 @@
 #include &quot;Game/UI/KeyBindings.h&quot;
 #include &quot;Lua/LuaOpenGL.h&quot;
 #include &quot;Platform/BaseCmd.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;Platform/errorhandler.h&quot;
 #include &quot;FileSystem/FileSystem.h&quot;
 #include &quot;FileSystem/FileHandler.h&quot;
@@ -44,6 +44,7 @@
 #include &quot;GlobalUnsynced.h&quot;
 #include &quot;Util.h&quot;
 #include &quot;Exceptions.h&quot;
+#include &quot;System/TimeProfiler.h&quot;
 
 #include &quot;mmgr.h&quot;
 
@@ -103,6 +104,7 @@
 	cmdline = 0;
 	screenWidth = screenHeight = 0;
 	FSAA = false;
+	lastRequiredDraw=0;
 
 	signal(SIGABRT, SigAbrtHandler);
 }
@@ -207,7 +209,7 @@
 
 	ParseCmdLine();
 
-	logOutput.SetMirrorToStdout(!!configHandler.GetInt(&quot;StdoutDebug&quot;,0));
+	logOutput.SetMirrorToStdout(!!configHandler.Get(&quot;StdoutDebug&quot;,0));
 
 	// log OS version
 	// TODO: improve version logging of non-Windows OSes
@@ -279,11 +281,11 @@
 	if (GLEW_ARB_texture_compression) {
 		// we don't even need to check it, 'cos groundtextures must have that extension
 		// default to off because it reduces quality (smallest mipmap level is bigger)
-		gu-&gt;compressTextures = !!configHandler.GetInt(&quot;CompressTextures&quot;, 0);
+		gu-&gt;compressTextures = !!configHandler.Get(&quot;CompressTextures&quot;, 0);
 	}
 
 	// use some ATI bugfixes?
-	gu-&gt;atiHacks = !!configHandler.GetInt(&quot;AtiHacks&quot;, (GLEW_ATI_envmap_bumpmap)?1:0 );
+	gu-&gt;atiHacks = !!configHandler.Get(&quot;AtiHacks&quot;, (GLEW_ATI_envmap_bumpmap)?1:0 );
 
 	// Initialize named texture handler
 	CNamedTextures::Init();
@@ -308,11 +310,11 @@
 {
 	if (!GL_ARB_multisample)
 		return false;
-	GLuint fsaa = configHandler.GetInt(&quot;FSAA&quot;,0);
+	GLuint fsaa = configHandler.Get(&quot;FSAA&quot;,0);
 	if (!fsaa)
 		return false;
 	SDL_GL_SetAttribute(SDL_GL_MULTISAMPLEBUFFERS,1);
-	GLuint fsaalevel = std::max(std::min(configHandler.GetInt(&quot;FSAALevel&quot;, 2), 8), 0);
+	GLuint fsaalevel = std::max(std::min(configHandler.Get(&quot;FSAALevel&quot;, 2), 8), 0);
 
 	make_even_number(fsaalevel);
 
@@ -378,7 +380,7 @@
 	//conditionally_set_flag(sdlflags, SDL_FULLSCREEN, fullscreen);
 	sdlflags |= fullscreen ? SDL_FULLSCREEN : 0;
 
-	int bitsPerPixel = configHandler.GetInt(&quot;BitsPerPixel&quot;, 0);
+	int bitsPerPixel = configHandler.Get(&quot;BitsPerPixel&quot;, 0);
 
 	if (bitsPerPixel == 32)
 	{
@@ -403,10 +405,10 @@
 #else
 	const int defaultDepthSize = 16;
 #endif
-	depthBufferBits = configHandler.GetInt(&quot;DepthBufferBits&quot;, defaultDepthSize);
+	depthBufferBits = configHandler.Get(&quot;DepthBufferBits&quot;, defaultDepthSize);
 
 	SDL_GL_SetAttribute(SDL_GL_DEPTH_SIZE, depthBufferBits);
-	SDL_GL_SetAttribute(SDL_GL_STENCIL_SIZE, configHandler.GetInt(&quot;StencilBufferBits&quot;, 1));
+	SDL_GL_SetAttribute(SDL_GL_STENCIL_SIZE, configHandler.Get(&quot;StencilBufferBits&quot;, 1));
 
 	SDL_GL_SetAttribute(SDL_GL_DOUBLEBUFFER, 1);
 
@@ -432,7 +434,7 @@
 
 	// setup GL smoothing
 	const int defaultSmooth = 0; // FSAA ? 0 : 3;  // until a few things get fixed
-	const int lineSmoothing = configHandler.GetInt(&quot;SmoothLines&quot;, defaultSmooth);
+	const int lineSmoothing = configHandler.Get(&quot;SmoothLines&quot;, defaultSmooth);
 	if (lineSmoothing &gt; 0) {
 		GLenum hint = GL_FASTEST;
 		if (lineSmoothing &gt;= 3) {
@@ -443,7 +445,7 @@
 		glEnable(GL_LINE_SMOOTH);
 		glHint(GL_LINE_SMOOTH_HINT, hint);
 	}
-	const int pointSmoothing = configHandler.GetInt(&quot;SmoothPoints&quot;, defaultSmooth);
+	const int pointSmoothing = configHandler.Get(&quot;SmoothPoints&quot;, defaultSmooth);
 	if (pointSmoothing &gt; 0) {
 		GLenum hint = GL_FASTEST;
 		if (pointSmoothing &gt;= 3) {
@@ -456,13 +458,13 @@
 	}
 
 	// setup LOD bias factor
-	const float lodBias = std::max(std::min( configHandler.GetFloat(&quot;TextureLODBias&quot;, 0.0f) , 4.0f), -4.0f);
+	const float lodBias = std::max(std::min( configHandler.Get(&quot;TextureLODBias&quot;, 0.0f) , 4.0f), -4.0f);
 	if (fabs(lodBias)&gt;0.01f) {
 		glTexEnvf(GL_TEXTURE_FILTER_CONTROL,GL_TEXTURE_LOD_BIAS, lodBias );
 	}
 
 	// there must be a way to see if this is necessary, compare old/new context pointers?
-	if (!!configHandler.GetInt(&quot;FixAltTab&quot;, 0)) {
+	if (!!configHandler.Get(&quot;FixAltTab&quot;, 0)) {
 		// free GL resources
 		GLContext::Free();
 
@@ -552,10 +554,10 @@
 		gu-&gt;winPosY = 0;
 	}
 
-	gu-&gt;dualScreenMode = !!configHandler.GetInt(&quot;DualScreenMode&quot;, 0);
+	gu-&gt;dualScreenMode = !!configHandler.Get(&quot;DualScreenMode&quot;, 0);
 	if (gu-&gt;dualScreenMode) {
 		gu-&gt;dualScreenMiniMapOnLeft =
-			!!configHandler.GetInt(&quot;DualScreenMiniMapOnLeft&quot;, 0);
+			!!configHandler.Get(&quot;DualScreenMiniMapOnLeft&quot;, 0);
 	} else {
 		gu-&gt;dualScreenMiniMapOnLeft = false;
 	}
@@ -609,8 +611,8 @@
 void SpringApp::LoadFonts()
 {
 	// Initialize font
-	const int charFirst = configHandler.GetInt(&quot;FontCharFirst&quot;, 32);
-	const int charLast  = configHandler.GetInt(&quot;FontCharLast&quot;, 255);
+	const int charFirst = configHandler.Get(&quot;FontCharFirst&quot;, 32);
+	const int charLast  = configHandler.Get(&quot;FontCharLast&quot;, 255);
 	std::string fontFile = configHandler.GetString(&quot;FontFile&quot;, &quot;fonts/Luxi.ttf&quot;);
 
 	const float fontSize = 0.027f;      // ~20 pixels at 1024x768
@@ -661,14 +663,12 @@
 	string configSource;
 	cmdline-&gt;result(&quot;config&quot;, configSource);
 	// it is not allowed to use configHandler before this line runs.
-	ConfigHandler::Instantiate(configSource);
+	logOutput.Print(&quot;using configuration source \&quot;&quot; + ConfigHandler::Instantiate(configSource) + &quot;\&quot;&quot;);
 
-	logOutput.Print(&quot;using configuration source \&quot;&quot; + configSource + &quot;\&quot;&quot;);
-
 #ifdef _DEBUG
 	fullscreen = false;
 #else
-	fullscreen = configHandler.GetInt(&quot;Fullscreen&quot;, 1) != 0;
+	fullscreen = configHandler.Get(&quot;Fullscreen&quot;, 1) != 0;
 #endif
 
 	// mutually exclusive options that cause spring to quit immediately
@@ -710,22 +710,22 @@
 
 
 	if (!cmdline-&gt;result(&quot;xresolution&quot;, screenWidth)) {
-		screenWidth = configHandler.GetInt(&quot;XResolution&quot;, XRES_DEFAULT);
+		screenWidth = configHandler.Get(&quot;XResolution&quot;, XRES_DEFAULT);
 	} else {
 		screenWidth = std::max(screenWidth, 1);
 	}
 
 	if (!cmdline-&gt;result(&quot;yresolution&quot;, screenHeight)) {
-		screenHeight = configHandler.GetInt(&quot;YResolution&quot;, YRES_DEFAULT);
+		screenHeight = configHandler.Get(&quot;YResolution&quot;, YRES_DEFAULT);
 	} else {
 		screenHeight = std::max(screenHeight, 1);
 	}
 
 #ifdef USE_GML
-	gmlThreadCountOverride = configHandler.GetInt(&quot;HardwareThreadCount&quot;, 0);
+	gmlThreadCountOverride = configHandler.Get(&quot;HardwareThreadCount&quot;, 0);
 #if GML_ENABLE_SIMLOOP
 	extern volatile int multiThreadSim;
-	multiThreadSim=configHandler.GetInt(&quot;MultiThreadSim&quot;, 1);
+	multiThreadSim=configHandler.Get(&quot;MultiThreadSim&quot;, 1);
 #endif
 #endif
 }
@@ -956,8 +956,21 @@
 				if (gu-&gt;drawFrame == 0) {
 					gu-&gt;drawFrame++;
 				}
-				ret = activeController-&gt;Draw();
+				if(
 #if defined(USE_GML) &amp;&amp; GML_ENABLE_SIMLOOP
+					!multiThreadSim &amp;&amp;
+#endif
+					gs-&gt;frameNum-lastRequiredDraw &gt;= MAX_CONSECUTIVE_SIMFRAMES) {
+
+					ScopedTimer cputimer(&quot;CPU load&quot;); // Update
+
+					ret = activeController-&gt;Draw();
+					lastRequiredDraw=gs-&gt;frameNum;
+				}
+				else {
+					ret = activeController-&gt;Draw();
+				}
+#if defined(USE_GML) &amp;&amp; GML_ENABLE_SIMLOOP
 				gmlProcessor.PumpAux();
 #endif
 #if !defined(USE_GML) || !GML_ENABLE_SIMLOOP

Modified: branches/caiinterface/rts/System/SpringApp.h
===================================================================
--- branches/caiinterface/rts/System/SpringApp.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/SpringApp.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -98,6 +98,13 @@
 	 */
 	bool depthBufferBits;
 
+	/**
+	 * @brief last required draw
+	 *
+	 * sim frame after which the last required draw was conducted
+	 */
+	int lastRequiredDraw;
+
 private:
 	static void SigAbrtHandler(int unused);
 };

Modified: branches/caiinterface/rts/System/Sync/SyncDebugger.cpp
===================================================================
--- branches/caiinterface/rts/System/Sync/SyncDebugger.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/Sync/SyncDebugger.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -9,6 +9,7 @@
 #include &quot;LogOutput.h&quot;
 #include &quot;GlobalUnsynced.h&quot;
 #include &quot;Sim/Misc/GlobalSynced.h&quot;
+#include &quot;Game/PlayerHandler.h&quot;
 #include &quot;BaseNetProtocol.h&quot;
 #include &quot;NetProtocol.h&quot;
 #include &quot;SyncDebugger.h&quot;

Modified: branches/caiinterface/rts/System/TimeProfiler.cpp
===================================================================
--- branches/caiinterface/rts/System/TimeProfiler.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/TimeProfiler.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3,6 +3,7 @@
 //////////////////////////////////////////////////////////////////////
 #include &quot;TimeProfiler.h&quot;
 
+#include &quot;Rendering/GL/myGL.h&quot;
 #include &lt;SDL_timer.h&gt;
 #include &lt;cstring&gt;
 
@@ -39,6 +40,8 @@
 
 void CTimeProfiler::Update()
 {
+	GML_STDMUTEX_LOCK(time); // Update
+
 	++currentPosition;
 	currentPosition &amp;= 127;
 	std::map&lt;std::string,TimeRecord&gt;::iterator pi;
@@ -61,8 +64,16 @@
 	}
 }
 
+float CTimeProfiler::GetPercent(const char *name) {
+	GML_STDMUTEX_LOCK(time); // GetTimePercent
+
+	return profile[name].percent;
+}
+
 void CTimeProfiler::AddTime(const std::string&amp; name, unsigned time)
 {
+	GML_STDMUTEX_LOCK(time); // AddTime
+
 	std::map&lt;std::string, TimeRecord&gt;::iterator pi;
 	if ( (pi = profile.find(name)) != profile.end() )
 	{

Modified: branches/caiinterface/rts/System/TimeProfiler.h
===================================================================
--- branches/caiinterface/rts/System/TimeProfiler.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/TimeProfiler.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -53,6 +53,7 @@
 	CTimeProfiler();
 	~CTimeProfiler();
 
+	float GetPercent(const char *name);
 	void AddTime(const std::string&amp; name, unsigned time);
 	void Update();
 	

Modified: branches/caiinterface/rts/System/exportdefines.h
===================================================================
--- branches/caiinterface/rts/System/exportdefines.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/System/exportdefines.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -16,15 +16,12 @@
 */
 
 #ifndef _EXPORTDEFINES_H
-#define	_EXPORTDEFINES_H
+#define _EXPORTDEFINES_H
 
 #ifdef __cplusplus
 extern &quot;C&quot; {
 #endif // __cplusplus
 
-#define SPRING_CALLING_CONVENTION stdcall
-#define SPRING_CALLING_CONVENTION_2 __stdcall
-
 // extern declaration that will work across
 // different platforms and compilers
 #ifndef SHARED_EXPORT
@@ -47,18 +44,27 @@
 	#endif // __cplusplus
 #endif // SHARED_EXPORT
 
-#ifndef DLL_EXPORT
-	#define DLL_EXPORT SHARED_EXPORT
-#endif // DLL_EXPORT
+// calling convention declaration that will work across
+// different and compilers
+// for all 64bit platforms, we do not specify a calling convetion,
+// as they all support only a single one anyway
+// for windows 32bit, we use stdcall
+// for non-windows 32bit, we use cdecl
 
+#ifndef SPRING_CALLING_CONVENTION
+	#if defined _WIN32
+		#define SPRING_CALLING_CONVENTION stdcall
+		#define SPRING_CALLING_CONVENTION_2 __stdcall
+	#else // defined _WIN32
+		#define SPRING_CALLING_CONVENTION cdecl
+		#define SPRING_CALLING_CONVENTION_2 __cdecl
+	#endif // defined _WIN32
+#endif // SPRING_CALLING_CONVENTION
 
-// calling convention declaration that will work across
-// different platforms and compilers
-//#ifdef __GNUC__
-//	#define __stdcall
-//#else
 #ifndef CALLING_CONV
-	#ifdef _WIN32
+	#if defined _WIN64 || defined __LP64__ || defined __ppc64__ || defined __ILP64__ || defined __SILP64__ || defined __LLP64__
+		#define CALLING_CONV
+	#elif defined _WIN32
 		#define CALLING_CONV SPRING_CALLING_CONVENTION_2
 	#elif __GNUC__
 		#define CALLING_CONV __attribute__ ((SPRING_CALLING_CONVENTION))
@@ -69,8 +75,9 @@
 	#endif // _WIN32
 #endif // CALLING_CONV
 
-//TODO: check if the following is needed; assumption: no, just a left over
-//from when searching intel compile errors
+// Intel Compiler compatibility fix
+// Is used when assigning function pointers, for example in:
+// ExternalAI/AIInterfaceLibrary.cpp
 #ifndef CALLING_CONV_FUNC_POINTER
 	#ifdef __INTEL_COMPILER
 		#define CALLING_CONV_FUNC_POINTER

Modified: branches/caiinterface/rts/build/vstudio8/rts.vcproj
===================================================================
--- branches/caiinterface/rts/build/vstudio8/rts.vcproj	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/build/vstudio8/rts.vcproj	2008-11-25 23:26:49 UTC (rev 7099)
@@ -3532,6 +3532,14 @@
 				&gt;
 			&lt;/File&gt;
 			&lt;File
+				RelativePath=&quot;..\..\System\ConfigHandler.cpp&quot;
+				&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;..\..\System\ConfigHandler.h&quot;
+				&gt;
+			&lt;/File&gt;
+			&lt;File
 				RelativePath=&quot;..\..\System\Demo.cpp&quot;
 				&gt;
 				&lt;FileConfiguration
@@ -4353,14 +4361,6 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
-					RelativePath=&quot;..\..\System\FileSystem\UnixFileSystemHandler.cpp&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
-					RelativePath=&quot;..\..\System\FileSystem\UnixFileSystemHandler.h&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
 					RelativePath=&quot;..\..\System\FileSystem\VFSHandler.cpp&quot;
 					&gt;
 				&lt;/File&gt;
@@ -5309,14 +5309,6 @@
 					&gt;
 				&lt;/File&gt;
 				&lt;File
-					RelativePath=&quot;..\..\System\Platform\ConfigHandler.cpp&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
-					RelativePath=&quot;..\..\System\Platform\ConfigHandler.h&quot;
-					&gt;
-				&lt;/File&gt;
-				&lt;File
 					RelativePath=&quot;..\..\System\Platform\errorhandler.cpp&quot;
 					&gt;
 				&lt;/File&gt;
@@ -5452,46 +5444,6 @@
 						&gt;
 					&lt;/File&gt;
 					&lt;File
-						RelativePath=&quot;..\..\System\Platform\Win\RegHandler.cpp&quot;
-						&gt;
-						&lt;FileConfiguration
-							Name=&quot;No debug|Win32&quot;
-							&gt;
-							&lt;Tool
-								Name=&quot;VCCLCompilerTool&quot;
-								UsePrecompiledHeader=&quot;0&quot;
-							/&gt;
-						&lt;/FileConfiguration&gt;
-						&lt;FileConfiguration
-							Name=&quot;Release with error catching|Win32&quot;
-							&gt;
-							&lt;Tool
-								Name=&quot;VCCLCompilerTool&quot;
-								UsePrecompiledHeader=&quot;0&quot;
-							/&gt;
-						&lt;/FileConfiguration&gt;
-						&lt;FileConfiguration
-							Name=&quot;Syncdebug|Win32&quot;
-							&gt;
-							&lt;Tool
-								Name=&quot;VCCLCompilerTool&quot;
-								UsePrecompiledHeader=&quot;0&quot;
-							/&gt;
-						&lt;/FileConfiguration&gt;
-						&lt;FileConfiguration
-							Name=&quot;Release+MT with error catching|Win32&quot;
-							&gt;
-							&lt;Tool
-								Name=&quot;VCCLCompilerTool&quot;
-								UsePrecompiledHeader=&quot;0&quot;
-							/&gt;
-						&lt;/FileConfiguration&gt;
-					&lt;/File&gt;
-					&lt;File
-						RelativePath=&quot;..\..\System\Platform\Win\RegHandler.h&quot;
-						&gt;
-					&lt;/File&gt;
-					&lt;File
 						RelativePath=&quot;..\..\System\Platform\Win\seh.cpp&quot;
 						&gt;
 					&lt;/File&gt;

Modified: branches/caiinterface/rts/lib/gml/gml.cpp
===================================================================
--- branches/caiinterface/rts/lib/gml/gml.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/lib/gml/gml.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -204,6 +204,7 @@
 boost::mutex netmutex;
 boost::mutex histmutex;
 boost::mutex logmutex;
+boost::mutex timemutex;
 
 #include &lt;boost/thread/recursive_mutex.hpp&gt;
 boost::recursive_mutex unitmutex;

Modified: branches/caiinterface/rts/lib/gml/gml.h
===================================================================
--- branches/caiinterface/rts/lib/gml/gml.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/lib/gml/gml.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -168,6 +168,7 @@
 extern boost::mutex netmutex;
 extern boost::mutex histmutex;
 extern boost::mutex logmutex;
+extern boost::mutex timemutex;
 
 #include &lt;boost/thread/recursive_mutex.hpp&gt;
 extern boost::recursive_mutex unitmutex;

Modified: branches/caiinterface/rts/lib/gml/gmlsrv.h
===================================================================
--- branches/caiinterface/rts/lib/gml/gmlsrv.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/lib/gml/gmlsrv.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -22,8 +22,10 @@
 	gmlProgramObjectARBServer.GenerateItems();
 	gmlShaderServer_VERTEX.GenerateItems();
 	gmlShaderServer_FRAGMENT.GenerateItems();
+	gmlShaderServer_GEOMETRY_EXT.GenerateItems();
 	gmlShaderObjectARBServer_VERTEX.GenerateItems();
 	gmlShaderObjectARBServer_FRAGMENT.GenerateItems();
+	gmlShaderObjectARBServer_GEOMETRY_EXT.GenerateItems();
 	gmlQuadricServer.GenerateItems();
 
 	gmlTextureServer.GenerateItems();

Modified: branches/caiinterface/rts/lib/lua/include/luaconf.h
===================================================================
--- branches/caiinterface/rts/lib/lua/include/luaconf.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/lib/lua/include/luaconf.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -615,7 +615,7 @@
 ** compiling as C++ code, with _longjmp/_setjmp when asked to use them,
 ** and with longjmp/setjmp otherwise.
 */
-#if defined(__cplusplus)
+#if defined(__cplusplus) &amp;&amp; !(defined(__GNUC__) &amp;&amp; (__GNUC__ == 4)) // FIXME: Some bug in GCC 4.2, 4.3, ... makes try/catch crash
 /* C++ exceptions */
 #define LUAI_THROW(L,c)	throw(c)
 #define LUAI_TRY(L,c,a)	try { a } catch(...) \

Modified: branches/caiinterface/rts/lib/luabind/luabind/detail/has_get_pointer.hpp
===================================================================
--- branches/caiinterface/rts/lib/luabind/luabind/detail/has_get_pointer.hpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/rts/lib/luabind/luabind/detail/has_get_pointer.hpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -88,7 +88,7 @@
       static typename boost::add_reference&lt;T&gt;::type x;
 
       BOOST_STATIC_CONSTANT(bool,
-          value = sizeof(has_get_pointer_::check( (get_pointer(x),0) )) == 1
+          value = sizeof(has_get_pointer_::check((luabind::detail::has_get_pointer_::get_pointer(x),0) )) == 1
       );
 
       typedef boost::mpl::bool_&lt;value&gt; type;

Modified: branches/caiinterface/tools/DedicatedServer/CMakeLists.txt
===================================================================
--- branches/caiinterface/tools/DedicatedServer/CMakeLists.txt	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/tools/DedicatedServer/CMakeLists.txt	2008-11-25 23:26:49 UTC (rev 7099)
@@ -4,21 +4,13 @@
 INCLUDE_DIRECTORIES(../../rts/System/Net/ ../../rts/System/ ../../rts/lib/lua/include)
 INCLUDE_DIRECTORIES(../../rts/ ../../rts/Game ../../rts/lib/7zip ../../rts/System)
 
-IF (UNIX)
-	SET(platformfiles
-		../../rts/System/Platform/Linux/DotfileHandler)
-ELSE (UNIX)
-	SET(platformfiles
-		../../rts/System/Platform/Win/RegHandler)
-ENDIF (UNIX)
-
 AUX_SOURCE_DIRECTORY(../../rts/System/FileSystem/ fsfiles)
 SET(system_files 
 	${fsfiles}
 	${platformfiles}
 	 ${netfiles}
 	../../rts/System/TdfParser
-	../../rts/System/Platform/ConfigHandler
+	../../rts/System/ConfigHandler
 	../../rts/System/LogOutput
 	../../rts/System/BaseNetProtocol
 	../../rts/System/Demo

Modified: branches/caiinterface/tools/DedicatedServer/main.cpp
===================================================================
--- branches/caiinterface/tools/DedicatedServer/main.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/tools/DedicatedServer/main.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -5,6 +5,7 @@
 #include &quot;System/FileSystem/ArchiveScanner.h&quot;
 #include &quot;System/FileSystem/VFSHandler.h&quot;
 #include &quot;System/FileSystem/FileHandler.h&quot;
+#include &quot;System/ConfigHandler.h&quot;
 #include &quot;System/Exceptions.h&quot;
 #include &quot;System/UnsyncedRNG.h&quot;
 
@@ -21,6 +22,7 @@
 	try {
 	std::cout &lt;&lt; &quot;This server is currently under development. If you find any errors&quot;;
 	std::cout &lt;&lt; &quot; report them to mantis or the forums.&quot; &lt;&lt; std::endl &lt;&lt; std::endl;
+	ConfigHandler::Instantiate(&quot;&quot;);
 	FileSystemHandler::Cleanup();
 	FileSystemHandler::Initialize(false);
 	CGameServer* server = 0;
@@ -28,19 +30,11 @@
 
 	if (argc &gt; 1)
 	{
-		std::string script = argv[1];
-		std::cout &lt;&lt; &quot;Loading script: &quot; &lt;&lt; script &lt;&lt; std::endl;
+		const std::string script(argv[0]);
+		std::cout &lt;&lt; &quot;Loading script from file: &quot; &lt;&lt; script &lt;&lt; std::endl;
 
-		gameSetup = new CGameSetup();	// to store the gamedata inside
-		
-		if (!gameSetup-&gt;Init(script))	// read the script provided by cmdline
-		{
-			std::cout &lt;&lt; &quot;Failed to load script&quot; &lt;&lt; std::endl;
-			return 1;
-		}
-		
 		LocalSetup* settings = new LocalSetup();
-		CFileHandler fh(script);
+		CFileHandler fh(argv[1]);
 		if (!fh.FileExists())
 			throw content_error(&quot;Setupscript doesn't exists in given location: &quot;+script);
 		
@@ -49,6 +43,13 @@
 			throw content_error(&quot;Setupscript cannot be read: &quot;+script);
 		settings-&gt;Init(buf);
 		
+		gameSetup = new CGameSetup();	// to store the gamedata inside
+		if (!gameSetup-&gt;Init(buf))	// read the script provided by cmdline
+		{
+			std::cout &lt;&lt; &quot;Failed to load script&quot; &lt;&lt; std::endl;
+			return 1;
+		}
+		
 		std::cout &lt;&lt; &quot;Starting server...&quot; &lt;&lt; std::endl;
 		// Create the server, it will run in a separate thread
 		GameData* data = new GameData();
@@ -88,6 +89,7 @@
 		}
 
 		data-&gt;SetScript(gameSetup-&gt;scriptName);
+		data-&gt;SetSetup(gameSetup-&gt;gameSetupText);
 		server = new CGameServer(settings, false, data, gameSetup);
 
 		while (!server-&gt;HasFinished()) // check if still running

Modified: branches/caiinterface/tools/unitsync/CMakeLists.txt
===================================================================
--- branches/caiinterface/tools/unitsync/CMakeLists.txt	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/tools/unitsync/CMakeLists.txt	2008-11-25 23:26:49 UTC (rev 7099)
@@ -37,15 +37,8 @@
 INCLUDE_DIRECTORIES(../../rts/System/Net/ ../../rts/lib/lua/include)
 INCLUDE_DIRECTORIES(../../rts/ ../../rts/Game ../../rts/lib/7zip ../../rts/System)
 
-IF (UNIX)
-	SET(platformfiles
-		../../rts/System/Platform/Linux/DotfileHandler)
-ELSE (UNIX)
-	SET(platformfiles
-		../../rts/System/Platform/Win/RegHandler)
-ENDIF (UNIX)
 list(APPEND platformfiles
-	../../rts/System/Platform/ConfigHandler)
+	../../rts/System/ConfigHandler)
 
 AUX_SOURCE_DIRECTORY(../../rts/System/FileSystem/ fsfiles)
 set(unitsync_files

Modified: branches/caiinterface/tools/unitsync/Doxyfile
===================================================================
--- branches/caiinterface/tools/unitsync/Doxyfile	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/tools/unitsync/Doxyfile	2008-11-25 23:26:49 UTC (rev 7099)
@@ -196,8 +196,8 @@
 SEARCH_INCLUDES        = YES
 INCLUDE_PATH           = 
 INCLUDE_FILE_PATTERNS  = 
-PREDEFINED             = DLL_EXPORT= \
-                         __stdcall=
+PREDEFINED             = SHARED_EXPORT= \
+                         CALLING_CONV=
 EXPAND_AS_DEFINED      = 
 SKIP_FUNCTION_MACROS   = YES
 #---------------------------------------------------------------------------

Modified: branches/caiinterface/tools/unitsync/LuaParserAPI.cpp
===================================================================
--- branches/caiinterface/tools/unitsync/LuaParserAPI.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/tools/unitsync/LuaParserAPI.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -18,6 +18,7 @@
 #include &quot;System/FileSystem/ArchiveScanner.h&quot;
 #include &quot;System/FileSystem/VFSHandler.h&quot;
 #include &quot;unitsync.h&quot;
+#include &quot;exportdefines.h&quot;
 #include &lt;string&gt;
 #include &lt;vector&gt;
 using std::string;

Modified: branches/caiinterface/tools/unitsync/javabind.cpp
===================================================================
--- branches/caiinterface/tools/unitsync/javabind.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/tools/unitsync/javabind.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -6,9 +6,10 @@
 #include &quot;FileSystem/FileHandler.h&quot;
 #include &quot;FileSystem/VFSHandler.h&quot;
 #include &quot;Map/SMF/mapfile.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;FileSystem/FileSystem.h&quot;
 #include &quot;Rendering/Textures/Bitmap.h&quot;
+#include &quot;exportdefines.h&quot;
 
 #include &lt;string&gt;
 #include &lt;string.h&gt;
@@ -24,6 +25,102 @@
 #pragma GCC visibility push(default)
 #endif
 
+EXPORT(const char* ) GetSpringVersion();
+EXPORT(void        ) Message(const char* p_szMessage);
+EXPORT(void        ) UnInit();
+EXPORT(int         ) ProcessUnits(void);
+EXPORT(int         ) ProcessUnitsNoChecksum(void);
+EXPORT(const char* ) GetCurrentList();
+EXPORT(void        ) AddClient(int id, const char *unitList);
+EXPORT(void        ) RemoveClient(int id);
+EXPORT(const char* ) GetClientDiff(int id);
+EXPORT(void        ) InstallClientDiff(const char *diff);
+EXPORT(int         ) GetUnitCount();
+EXPORT(const char* ) GetUnitName(int unit);
+EXPORT(const char* ) GetFullUnitName(int unit);
+EXPORT(int         ) IsUnitDisabled(int unit);
+EXPORT(int         ) IsUnitDisabledByClient(int unit, int clientId);
+EXPORT(void        ) AddArchive(const char* name);
+EXPORT(void        ) AddAllArchives(const char* root);
+EXPORT(unsigned int) GetArchiveChecksum(const char* arname);
+EXPORT(int         ) GetMapCount();
+EXPORT(const char* ) GetMapName(int index);
+EXPORT(int         ) GetMapInfoEx(const char* name, MapInfo* outInfo, int version);
+EXPORT(int         ) GetMapInfo(const char* name, MapInfo* outInfo);
+EXPORT(void*       ) GetMinimap(const char* filename, int miplevel);
+EXPORT(int         ) GetMapArchiveCount(const char* mapName);
+EXPORT(const char* ) GetMapArchiveName(int index);
+EXPORT(unsigned int) GetMapChecksumFromName(const char* mapName);
+EXPORT(unsigned int) GetMapChecksum(int index);
+EXPORT(int         ) GetPrimaryModCount();
+EXPORT(const char* ) GetPrimaryModName(int index);
+EXPORT(const char* ) GetPrimaryModShortName(int index);
+EXPORT(const char* ) GetPrimaryModGame(int index);
+EXPORT(const char* ) GetPrimaryModShortGame(int index);
+EXPORT(const char* ) GetPrimaryModVersion(int index);
+EXPORT(const char* ) GetPrimaryModMutator(int index);
+EXPORT(const char* ) GetPrimaryModDescription(int index);
+EXPORT(const char* ) GetPrimaryModArchive(int index);
+EXPORT(int         ) GetPrimaryModArchiveCount(int index);
+EXPORT(const char* ) GetPrimaryModArchiveList(int arnr);
+EXPORT(int         ) GetPrimaryModIndex(const char* name);
+EXPORT(unsigned int) GetPrimaryModChecksum(int index);
+EXPORT(unsigned int) GetPrimaryModChecksumFromName(const char* name);
+EXPORT(int         ) GetSideCount();
+EXPORT(const char* ) GetSideName(int side);
+EXPORT(int         ) OpenFileVFS(const char* name);
+EXPORT(void        ) CloseFileVFS(int handle);
+EXPORT(void        ) ReadFileVFS(int handle, void* buf, int length);
+EXPORT(int         ) FileSizeVFS(int handle);
+EXPORT(int         ) InitFindVFS(const char* pattern);
+EXPORT(int         ) FindFilesVFS(int handle, char* nameBuf, int size);
+EXPORT(int         ) OpenArchive(const char* name);
+EXPORT(void        ) CloseArchive(int archive);
+EXPORT(int         ) FindFilesArchive(int archive, int cur, char* nameBuf, int* size);
+EXPORT(int         ) OpenArchiveFile(int archive, const char* name);
+EXPORT(int         ) ReadArchiveFile(int archive, int handle, void* buffer, int numBytes);
+EXPORT(void        ) CloseArchiveFile(int archive, int handle);
+EXPORT(int         ) SizeArchiveFile(int archive, int handle);
+
+// lua custom lobby settings
+EXPORT(int         ) GetMapOptionCount(const char* name);
+EXPORT(int         ) GetModOptionCount();
+
+EXPORT(const char* ) GetOptionKey(int optIndex);
+EXPORT(const char* ) GetOptionName(int optIndex);
+EXPORT(const char* ) GetOptionDesc(int optIndex);
+EXPORT(int         ) GetOptionType(int optIndex);
+
+// Bool Options
+EXPORT(int         ) GetOptionBoolDef(int optIndex);
+
+// Number Options
+EXPORT(float       ) GetOptionNumberDef(int optIndex);
+EXPORT(float       ) GetOptionNumberMin(int optIndex);
+EXPORT(float       ) GetOptionNumberMax(int optIndex);
+EXPORT(float       ) GetOptionNumberStep(int optIndex);
+
+// String Options
+EXPORT(const char* ) GetOptionStringDef(int optIndex);
+EXPORT(int         ) GetOptionStringMaxLen(int optIndex);
+
+// List Options
+EXPORT(int         ) GetOptionListCount(int optIndex);
+EXPORT(const char* ) GetOptionListDef(int optIndex);
+EXPORT(const char* ) GetOptionListItemKey(int optIndex, int itemIndex);
+EXPORT(const char* ) GetOptionListItemName(int optIndex, int itemIndex);
+EXPORT(const char* ) GetOptionListItemDesc(int optIndex, int itemIndex);
+
+// Spring settings callback
+
+EXPORT(const char* ) GetSpringConfigString( const char* name, const char* defvalue );
+EXPORT(int         ) GetSpringConfigInt( const char* name, const int defvalue );
+EXPORT(float       ) GetSpringConfigFloat( const char* name, const float defvalue );
+EXPORT(void        ) SetSpringConfigString( const char* name, const char* value );
+EXPORT(void        ) SetSpringConfigInt( const char* name, const int value );
+EXPORT(void        ) SetSpringConfigFloat( const char* name, const float value );
+
+
 /* DO NOT EDIT THIS FILE - it is machine generated */
 #include &lt;jni.h&gt;
 /* Header for Sun JNI API, which is used for the Java Unitsync API bindings
@@ -73,7 +170,7 @@
 	*/
 	JNIEXPORT jint JNICALL Java_aflobby_CUnitSyncJNIBindings_Init
 		(JNIEnv *env, jclass myobject, jboolean isServer, jint id){
-			return Init(isServer,id);
+			return 1;
 		}
 
 	/*

Modified: branches/caiinterface/tools/unitsync/pybind.cpp
===================================================================
--- branches/caiinterface/tools/unitsync/pybind.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/tools/unitsync/pybind.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -15,10 +15,63 @@
 #include &quot;unitsync.h&quot;
 #include &quot;Rendering/Textures/Bitmap.h&quot;
 #include &quot;FileSystem/FileSystem.h&quot;
+#include &quot;exportdefines.h&quot;
 
 #define NAMEBUF_SIZE 4096
 
 
+
+EXPORT(const char* ) GetSpringVersion();
+EXPORT(void        ) Message(const char* p_szMessage);
+EXPORT(void        ) UnInit();
+EXPORT(int         ) ProcessUnits(void);
+EXPORT(int         ) ProcessUnitsNoChecksum(void);
+EXPORT(const char* ) GetCurrentList();
+EXPORT(void        ) AddClient(int id, const char *unitList);
+EXPORT(void        ) RemoveClient(int id);
+EXPORT(const char* ) GetClientDiff(int id);
+EXPORT(void        ) InstallClientDiff(const char *diff);
+EXPORT(int         ) GetUnitCount();
+EXPORT(const char* ) GetUnitName(int unit);
+EXPORT(const char* ) GetFullUnitName(int unit);
+EXPORT(int         ) IsUnitDisabled(int unit);
+EXPORT(int         ) IsUnitDisabledByClient(int unit, int clientId);
+EXPORT(void        ) AddArchive(const char* name);
+EXPORT(void        ) AddAllArchives(const char* root);
+EXPORT(unsigned int) GetArchiveChecksum(const char* arname);
+EXPORT(int         ) GetMapCount();
+EXPORT(const char* ) GetMapName(int index);
+EXPORT(int         ) GetMapInfoEx(const char* name, MapInfo* outInfo, int version);
+EXPORT(int         ) GetMapInfo(const char* name, MapInfo* outInfo);
+EXPORT(void*       ) GetMinimap(const char* filename, int miplevel);
+EXPORT(int         ) GetMapArchiveCount(const char* mapName);
+EXPORT(const char* ) GetMapArchiveName(int index);
+EXPORT(unsigned int) GetMapChecksum(int index);
+EXPORT(int         ) GetPrimaryModCount();
+EXPORT(const char* ) GetPrimaryModName(int index);
+EXPORT(const char* ) GetPrimaryModArchive(int index);
+EXPORT(int         ) GetPrimaryModArchiveCount(int index);
+EXPORT(const char* ) GetPrimaryModArchiveList(int arnr);
+EXPORT(int         ) GetPrimaryModIndex(const char* name);
+EXPORT(unsigned int) GetPrimaryModChecksum(int index);
+EXPORT(int         ) GetSideCount();
+EXPORT(const char* ) GetSideName(int side);
+EXPORT(int         ) OpenFileVFS(const char* name);
+EXPORT(void        ) CloseFileVFS(int handle);
+EXPORT(void        ) ReadFileVFS(int handle, void* buf, int length);
+EXPORT(int         ) FileSizeVFS(int handle);
+EXPORT(int         ) InitFindVFS(const char* pattern);
+EXPORT(int         ) FindFilesVFS(int handle, char* nameBuf, int size);
+EXPORT(int         ) OpenArchive(const char* name);
+EXPORT(void        ) CloseArchive(int archive);
+EXPORT(int         ) FindFilesArchive(int archive, int cur, char* nameBuf, int* size);
+EXPORT(int         ) OpenArchiveFile(int archive, const char* name);
+EXPORT(int         ) ReadArchiveFile(int archive, int handle, void* buffer, int numBytes);
+EXPORT(void        ) CloseArchiveFile(int archive, int handle);
+EXPORT(int         ) SizeArchiveFile(int archive, int handle);
+
+
+
 static PyObject *unitsync_GetSpringVersion(PyObject *self, PyObject *args)
 {
 	if (!PyArg_ParseTuple(args, &quot;&quot;))
@@ -41,7 +94,7 @@
 	int id;
 	if (!PyArg_ParseTuple(args, &quot;ii&quot;, &amp;isServer, &amp;id))
 		return NULL;
-	return Py_BuildValue(&quot;i&quot;, Init(isServer, id));
+	return Py_BuildValue(&quot;i&quot;, 1);
 }
 
 static PyObject *unitsync_UnInit(PyObject *self, PyObject *args)
@@ -537,7 +590,7 @@
 }
 
 
-// Note to self: sed &quot;s/([^)]*);/ ),/g;s/[ \t]*DLL_EXPORT[^_]\+__stdcall /PY( /g;&quot;
+// Note to self: sed &quot;s/([^)]*);/ ),/g;s/[ \t]*EXPORT\([^\)]\+\) /PY( /g;&quot;
 // TODO   function documentation (last column)
 static PyMethodDef unitsyncMethods[] = {
 #define PY(name)         { # name , unitsync_ ## name , METH_VARARGS , NULL }
@@ -610,7 +663,7 @@
 #undef PY
 };
 
-// PyMODINIT_FUNC already includes the DLL_EXPORT equivalent
+// PyMODINIT_FUNC already includes the SHARED_EXPORT equivalent
 // and the right calling convention for the host platform.
 #ifdef _MSC_VER
 PyMODINIT_FUNC initunitsync(void)

Modified: branches/caiinterface/tools/unitsync/setup.py
===================================================================
--- branches/caiinterface/tools/unitsync/setup.py	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/tools/unitsync/setup.py	2008-11-25 23:26:49 UTC (rev 7099)
@@ -29,7 +29,7 @@
 	'rts/System/FileSystem/ArchiveZip.cpp',
 	'rts/System/FileSystem/FileHandler.cpp',
 	'rts/System/FileSystem/VFSHandler.cpp',
-	'rts/System/Platform/ConfigHandler.cpp',
+	'rts/System/ConfigHandler.cpp',
 	'rts/System/Platform/FileSystem.cpp',
 	'rts/lib/7zip/7zAlloc.c',
 	'rts/lib/7zip/7zBuffer.c',
@@ -52,14 +52,7 @@
 	'rts/lib/minizip/zip.c']
 
 if platform == 'win32':
-	unitsync_files += ['rts/lib/minizip/iowin32.c',
-		'rts/System/Platform/Win/WinFileSystemHandler.cpp',
-		'rts/System/Platform/Win/DataDirLocater.cpp',
-		'rts/System/Platform/Win/RegHandler.cpp']
-else:
-	unitsync_files += ['rts/System/Platform/Linux/DotfileHandler.cpp',
-		'rts/System/Platform/Linux/DataDirLocater.cpp',
-		'rts/System/Platform/Linux/UnixFileSystemHandler.cpp']
+	unitsync_files += ['rts/lib/minizip/iowin32.c']
 
 # Setup the unitsync library.
 unitsync = Extension (

Modified: branches/caiinterface/tools/unitsync/unitsync.cpp
===================================================================
--- branches/caiinterface/tools/unitsync/unitsync.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/tools/unitsync/unitsync.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -16,7 +16,7 @@
 #include &quot;Lua/LuaParser.h&quot;
 #include &quot;Map/MapParser.h&quot;
 #include &quot;Map/SMF/SmfMapFile.h&quot;
-#include &quot;Platform/ConfigHandler.h&quot;
+#include &quot;ConfigHandler.h&quot;
 #include &quot;FileSystem/FileSystem.h&quot;
 #include &quot;Rendering/Textures/Bitmap.h&quot;
 #include &quot;Sim/Misc/SideParser.h&quot;
@@ -25,6 +25,7 @@
 #include &quot;System/Exceptions.h&quot;
 #include &quot;System/LogOutput.h&quot;
 #include &quot;System/Util.h&quot;
+#include &quot;System/exportdefines.h&quot;
 
 // unitsync only:
 #include &quot;LuaParserAPI.h&quot;
@@ -45,7 +46,7 @@
 
 
 #ifdef WIN32
-BOOL __stdcall DllMain(HINSTANCE hInst, DWORD dwReason, LPVOID lpReserved)
+BOOL CALLING_CONV DllMain(HINSTANCE hInst, DWORD dwReason, LPVOID lpReserved)
 {
 	return TRUE;
 }
@@ -59,6 +60,7 @@
 		COneTimeInit()
 		{
 			logOutput.SetFilename(&quot;unitsync.log&quot;);
+			logOutput.Initialize();
 			logOutput.Print(LOG_UNITSYNC, &quot;loaded, %s\n&quot;, SpringVersion::GetFull().c_str());
 		}
 	};
@@ -218,7 +220,7 @@
  */
 EXPORT(const char*) GetSpringVersion()
 {
-	return SpringVersion::Get().c_str();
+	return GetStr(SpringVersion::Get());
 }
 
 
@@ -254,18 +256,19 @@
 		SafeDelete(syncer);
 		logOutput.Print(LOG_UNITSYNC, &quot;deinitialized&quot;);
 	}
-
-	ConfigHandler::Deallocate();
 }
 
 
 /**
  * @brief Uninitialize the unitsync library
+ *
+ * also resets the config handler
  */
 EXPORT(void) UnInit()
 {
 	try {
 		_UnInit();
+		ConfigHandler::Deallocate();
 	}
 	UNITSYNC_CATCH_BLOCKS;
 }
@@ -283,12 +286,16 @@
  * files which are mapped into it.  In other words, after using AddArchive() or
  * AddAllArchives() you have to call Init when you want to remove the archives
  * from the VFS and start with a clean state.
+ *
+ * The config handler won't be reset, it will however be initialised if it wasn't before (with SetSpringConfigFile())
  */
 EXPORT(int) Init(bool isServer, int id)
 {
 	try {
 		_UnInit();
 
+		if (!_configHandler)
+			ConfigHandler::Instantiate(&quot;&quot;);
 		FileSystemHandler::Initialize(false);
 
 		std::vector&lt;string&gt; filesToCheck;
@@ -346,7 +353,7 @@
  * Before any units are available, you'll first need to map a mod's archives
  * into the VFS using AddArchive() or AddAllArchives().
  */
-EXPORT(int) ProcessUnits(void)
+EXPORT(int) ProcessUnits()
 {
 	try {
 		logOutput.Print(LOG_UNITSYNC, &quot;syncer: process units\n&quot;);
@@ -361,7 +368,7 @@
  * @brief Identical to ProcessUnits(), neither generates checksum anymore
  * @see ProcessUnits
  */
-EXPORT(int) ProcessUnitsNoChecksum(void)
+EXPORT(int) ProcessUnitsNoChecksum()
 {
 	return ProcessUnits();
 }
@@ -1852,24 +1859,6 @@
 	return 0;
 }
 
-EXPORT(struct SSAISpecifier) GetSkirmishAISpecifier(int index) {
-	
-	SSAISpecifier spec = {NULL, NULL};
-	
-	int num = GetSkirmishAIInfoCount(index);
-	
-	for (int i=0; i &lt; num; ++i) {
-		string info_key = string(GetInfoKey(i));
-		if (info_key == SKIRMISH_AI_PROPERTY_SHORT_NAME) {
-			spec.shortName = GetInfoValue(i);
-		} else if (info_key == SKIRMISH_AI_PROPERTY_VERSION) {
-			spec.version = GetInfoValue(i);
-		}
-	}
-	
-	return spec;
-}
-
 std::vector&lt;InfoItem&gt; ParseInfos(
 		const std::string&amp; fileName,
 		const std::string&amp; fileModes,
@@ -1936,6 +1925,23 @@
 	return NULL;
 }
 
+EXPORT(struct SSAISpecifier) GetSkirmishAISpecifier(int index) {
+	
+	SSAISpecifier spec = {NULL, NULL};
+	
+	int num = GetSkirmishAIInfoCount(index);
+	
+	for (int i=0; i &lt; num; ++i) {
+		string info_key = string(GetInfoKey(i));
+		if (info_key == SKIRMISH_AI_PROPERTY_SHORT_NAME) {
+			spec.shortName = GetInfoValue(i);
+		} else if (info_key == SKIRMISH_AI_PROPERTY_VERSION) {
+			spec.version = GetInfoValue(i);
+		}
+	}
+	
+	return spec;
+}
 
 EXPORT(int) GetSkirmishAIOptionCount(int index) {
 
@@ -2539,7 +2545,7 @@
  * @return -1 on error; the number of bytes read on success
  * (if this is less than length you reached the end of the file.)
  */
-EXPORT(void) ReadFileVFS(int handle, void* buf, int length)
+EXPORT(int) ReadFileVFS(int handle, void* buf, int length)
 {
 	try {
 		CheckFileHandle(handle);
@@ -2548,9 +2554,10 @@
 
 		logOutput.Print(LOG_UNITSYNC, &quot;readfilevfs: %d\n&quot;, handle);
 		CFileHandler* fh = openFiles[handle];
-		fh-&gt;Read(buf, length);
+		return fh-&gt;Read(buf, length);
 	}
 	UNITSYNC_CATCH_BLOCKS;
+	return -1;
 }
 
 
@@ -2882,6 +2889,23 @@
 //////////////////////////
 //////////////////////////
 
+EXPORT(void) SetSpringConfigFile(const char* filenameAsAbsolutePath)
+{
+	ConfigHandler::Instantiate(filenameAsAbsolutePath);
+}
+
+EXPORT(const char*) GetSpringConfigFile()
+{
+	return GetStr(configHandler.GetConfigFile());
+}
+
+static void CheckConfigHandler()
+{
+	if (!_configHandler)
+		throw std::logic_error(&quot;Unitsync config handler not initialized, check config source.&quot;);
+}
+
+
 /**
  * @brief get string from Spring configuration
  * @param name name of key to get
@@ -2891,6 +2915,7 @@
 EXPORT(const char*) GetSpringConfigString(const char* name, const char* defValue)
 {
 	try {
+		CheckConfigHandler();
 		string res = configHandler.GetString(name, defValue);
 		return GetStr(res);
 	}
@@ -2907,7 +2932,8 @@
 EXPORT(int) GetSpringConfigInt(const char* name, const int defValue)
 {
 	try {
-		return configHandler.GetInt(name, defValue);
+		CheckConfigHandler();
+		return configHandler.Get(name, defValue);
 	}
 	UNITSYNC_CATCH_BLOCKS;
 	return defValue;
@@ -2922,7 +2948,8 @@
 EXPORT(float) GetSpringConfigFloat(const char* name, const float defValue)
 {
 	try {
-		return configHandler.GetFloat(name, defValue);
+		CheckConfigHandler();
+		return configHandler.Get(name, defValue);
 	}
 	UNITSYNC_CATCH_BLOCKS;
 	return defValue;
@@ -2936,6 +2963,7 @@
 EXPORT(void) SetSpringConfigString(const char* name, const char* value)
 {
 	try {
+		CheckConfigHandler();
 		configHandler.SetString( name, value );
 	}
 	UNITSYNC_CATCH_BLOCKS;
@@ -2949,7 +2977,8 @@
 EXPORT(void) SetSpringConfigInt(const char* name, const int value)
 {
 	try {
-		configHandler.SetInt(name, value);
+		CheckConfigHandler();
+		configHandler.Set(name, value);
 	}
 	UNITSYNC_CATCH_BLOCKS;
 }
@@ -2962,7 +2991,8 @@
 EXPORT(void) SetSpringConfigFloat(const char* name, const float value)
 {
 	try {
-		configHandler.SetFloat( name, value );
+		CheckConfigHandler();
+		configHandler.Set(name, value);
 	}
 	UNITSYNC_CATCH_BLOCKS;
 }

Modified: branches/caiinterface/tools/unitsync/unitsync.h
===================================================================
--- branches/caiinterface/tools/unitsync/unitsync.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/tools/unitsync/unitsync.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -2,10 +2,6 @@
 #define UNITSYNC_H
 
 #include &lt;string&gt;
-#include &quot;exportdefines.h&quot;
-#include &quot;ExternalAI/Interface/ELevelOfSupport.h&quot;
-#include &quot;ExternalAI/Interface/SOption.h&quot;
-#include &quot;ExternalAI/Interface/SInfo.h&quot;
 
 #define STRBUF_SIZE 100000
 
@@ -65,16 +61,4 @@
 
 const char *GetStr(std::string str);
 
-
-#ifdef WIN32
-	#include &lt;windows.h&gt;
-#else
-	#include &lt;iostream&gt;
-	#define MB_OK 0
-	static inline void MessageBox(void*, const char* msg, const char* capt, unsigned int)
-	{
-		std::cerr &lt;&lt; &quot;unitsync: &quot; &lt;&lt; capt &lt;&lt; &quot;: &quot; &lt;&lt; msg &lt;&lt; std::endl;
-	}
-#endif	/* WIN32 */
-
 #endif // UNITSYNC_H

Modified: branches/caiinterface/tools/unitsync/unitsync_api.h
===================================================================
--- branches/caiinterface/tools/unitsync/unitsync_api.h	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/tools/unitsync/unitsync_api.h	2008-11-25 23:26:49 UTC (rev 7099)
@@ -6,175 +6,169 @@
 
 // from unitsync.cpp:
 
-EXPORT(const char*) GetNextError();
-EXPORT(const char*) GetSpringVersion();
+EXPORT(const char* ) GetNextError();
+EXPORT(const char* ) GetSpringVersion();
 
-EXPORT(void) Message(const char* p_szMessage);
+EXPORT(void        ) Message(const char* p_szMessage);
 
-EXPORT(int) Init(bool isServer, int id);
-EXPORT(void) UnInit();
+EXPORT(int         ) Init(bool isServer, int id);
+EXPORT(void        ) UnInit();
 
-EXPORT(const char*) GetWritableDataDirectory();
+EXPORT(const char* ) GetWritableDataDirectory();
 
-EXPORT(int) ProcessUnits(void);
-EXPORT(int) ProcessUnitsNoChecksum(void);
-EXPORT(const char*) GetCurrentList();
+EXPORT(int         ) ProcessUnits();
+EXPORT(int         ) ProcessUnitsNoChecksum();
 
-//EXPORT(void) AddClient(int id, const char *unitList);
-//EXPORT(void) RemoveClient(int id);
+EXPORT(int         ) GetUnitCount();
+EXPORT(const char* ) GetUnitName(int unit);
+EXPORT(const char* ) GetFullUnitName(int unit);
 
-//EXPORT(const char*) GetClientDiff(int id);
-//EXPORT(void) InstallClientDiff(const char *diff);
-
-EXPORT(int) GetUnitCount();
-EXPORT(const char*) GetUnitName(int unit);
-EXPORT(const char*) GetFullUnitName(int unit);
-//EXPORT(int) IsUnitDisabled(int unit);
-//EXPORT(int) IsUnitDisabledByClient(int unit, int clientId);
-
-EXPORT(void) AddArchive(const char* name);
-EXPORT(void) AddAllArchives(const char* root);
+EXPORT(void        ) AddArchive(const char* name);
+EXPORT(void        ) AddAllArchives(const char* root);
 EXPORT(unsigned int) GetArchiveChecksum(const char* arname);
-EXPORT(const char*) GetArchivePath(const char* arname);
+EXPORT(const char* ) GetArchivePath(const char* arname);
 
-EXPORT(int) GetMapCount();
-EXPORT(const char*) GetMapName(int index);
-EXPORT(int) GetMapInfoEx(const char* name, MapInfo* outInfo, int version);
-EXPORT(int) GetMapInfo(const char* name, MapInfo* outInfo);
-EXPORT(int) GetMapArchiveCount(const char* mapName);
-EXPORT(const char*) GetMapArchiveName(int index);
+EXPORT(int         ) GetMapCount();
+EXPORT(const char* ) GetMapName(int index);
+EXPORT(int         ) GetMapInfoEx(const char* name, MapInfo* outInfo, int version);
+EXPORT(int         ) GetMapInfo(const char* name, MapInfo* outInfo);
+EXPORT(int         ) GetMapArchiveCount(const char* mapName);
+EXPORT(const char* ) GetMapArchiveName(int index);
 EXPORT(unsigned int) GetMapChecksum(int index);
 EXPORT(unsigned int) GetMapChecksumFromName(const char* mapName);
-EXPORT(void*) GetMinimap(const char* filename, int miplevel);
-EXPORT(int) GetInfoMapSize(const char* filename, const char* name, int* width, int* height);
-EXPORT(int) GetInfoMap(const char* filename, const char* name, void* data, int typeHint);
+EXPORT(void*       ) GetMinimap(const char* filename, int miplevel);
+EXPORT(int         ) GetInfoMapSize(const char* filename, const char* name, int* width, int* height);
+EXPORT(int         ) GetInfoMap(const char* filename, const char* name, void* data, int typeHint);
 
-EXPORT(int) GetSkirmishAICount();
+EXPORT(int         ) GetSkirmishAICount();
 EXPORT(struct SSAISpecifier) GetSkirmishAISpecifier(int index);
-EXPORT(int) GetSkirmishAIInfoCount(int index);
-EXPORT(const char*) GetInfoKey(int index);
-EXPORT(const char*) GetInfoValue(int index);
-EXPORT(const char*) GetInfoDescription(int index);
+EXPORT(int         ) GetSkirmishAIInfoCount(int index);
+EXPORT(const char* ) GetInfoKey(int index);
+EXPORT(const char* ) GetInfoValue(int index);
+EXPORT(const char* ) GetInfoDescription(int index);
 
-EXPORT(int) GetPrimaryModCount();
-EXPORT(const char*) GetPrimaryModName(int index);
-EXPORT(const char*) GetPrimaryModShortName(int index);
-EXPORT(const char*) GetPrimaryModVersion(int index);
-EXPORT(const char*) GetPrimaryModMutator(int index);
-EXPORT(const char*) GetPrimaryModGame(int index);
-EXPORT(const char*) GetPrimaryModShortGame(int index);
-EXPORT(const char*) GetPrimaryModDescription(int index);
-EXPORT(const char*) GetPrimaryModArchive(int index);
-EXPORT(int) GetPrimaryModArchiveCount(int index);
-EXPORT(const char*) GetPrimaryModArchiveList(int arnr);
-EXPORT(int) GetPrimaryModIndex(const char* name);
+EXPORT(int         ) GetPrimaryModCount();
+EXPORT(const char* ) GetPrimaryModName(int index);
+EXPORT(const char* ) GetPrimaryModShortName(int index);
+EXPORT(const char* ) GetPrimaryModVersion(int index);
+EXPORT(const char* ) GetPrimaryModMutator(int index);
+EXPORT(const char* ) GetPrimaryModGame(int index);
+EXPORT(const char* ) GetPrimaryModShortGame(int index);
+EXPORT(const char* ) GetPrimaryModDescription(int index);
+EXPORT(const char* ) GetPrimaryModArchive(int index);
+EXPORT(int         ) GetPrimaryModArchiveCount(int index);
+EXPORT(const char* ) GetPrimaryModArchiveList(int arnr);
+EXPORT(int         ) GetPrimaryModIndex(const char* name);
 EXPORT(unsigned int) GetPrimaryModChecksum(int index);
 EXPORT(unsigned int) GetPrimaryModChecksumFromName(const char* name);
 
-EXPORT(int) GetSideCount();
-EXPORT(const char*) GetSideName(int side);
-EXPORT(const char*) GetSideStartUnit(int side);
+EXPORT(int         ) GetSideCount();
+EXPORT(const char* ) GetSideName(int side);
+EXPORT(const char* ) GetSideStartUnit(int side);
 
-EXPORT(int) GetLuaAICount();
-EXPORT(const char*) GetLuaAIName(int aiIndex);
-EXPORT(const char*) GetLuaAIDesc(int aiIndex);
+EXPORT(int         ) GetLuaAICount();
+EXPORT(const char* ) GetLuaAIName(int aiIndex);
+EXPORT(const char* ) GetLuaAIDesc(int aiIndex);
 
-EXPORT(int) GetMapOptionCount(const char* name);
-EXPORT(int) GetModOptionCount();
-EXPORT(const char*) GetOptionKey(int optIndex);
-EXPORT(const char*) GetOptionName(int optIndex);
-EXPORT(const char*) GetOptionSection(int optIndex);
-EXPORT(const char*) GetOptionStyle(int optIndex);
-EXPORT(const char*) GetOptionDesc(int optIndex);
-EXPORT(int) GetOptionType(int optIndex);
-EXPORT(int) GetOptionBoolDef(int optIndex);
-EXPORT(float) GetOptionNumberDef(int optIndex);
-EXPORT(float) GetOptionNumberMin(int optIndex);
-EXPORT(float) GetOptionNumberMax(int optIndex);
-EXPORT(float) GetOptionNumberStep(int optIndex);
-EXPORT(const char*) GetOptionStringDef(int optIndex);
-EXPORT(int) GetOptionStringMaxLen(int optIndex);
-EXPORT(int) GetOptionListCount(int optIndex);
-EXPORT(const char*) GetOptionListDef(int optIndex);
-EXPORT(const char*) GetOptionListItemKey(int optIndex, int itemIndex);
-EXPORT(const char*) GetOptionListItemName(int optIndex, int itemIndex);
-EXPORT(const char*) GetOptionListItemDesc(int optIndex, int itemIndex);
+EXPORT(int         ) GetMapOptionCount(const char* name);
+EXPORT(int         ) GetModOptionCount();
+EXPORT(const char* ) GetOptionKey(int optIndex);
+EXPORT(const char* ) GetOptionName(int optIndex);
+EXPORT(const char* ) GetOptionSection(int optIndex);
+EXPORT(const char* ) GetOptionStyle(int optIndex);
+EXPORT(const char* ) GetOptionDesc(int optIndex);
+EXPORT(int         ) GetOptionType(int optIndex);
+EXPORT(int         ) GetOptionBoolDef(int optIndex);
+EXPORT(float       ) GetOptionNumberDef(int optIndex);
+EXPORT(float       ) GetOptionNumberMin(int optIndex);
+EXPORT(float       ) GetOptionNumberMax(int optIndex);
+EXPORT(float       ) GetOptionNumberStep(int optIndex);
+EXPORT(const char* ) GetOptionStringDef(int optIndex);
+EXPORT(int         ) GetOptionStringMaxLen(int optIndex);
+EXPORT(int         ) GetOptionListCount(int optIndex);
+EXPORT(const char* ) GetOptionListDef(int optIndex);
+EXPORT(const char* ) GetOptionListItemKey(int optIndex, int itemIndex);
+EXPORT(const char* ) GetOptionListItemName(int optIndex, int itemIndex);
+EXPORT(const char* ) GetOptionListItemDesc(int optIndex, int itemIndex);
 
-EXPORT(int) GetModValidMapCount();
-EXPORT(const char*) GetModValidMap(int index);
+EXPORT(int         ) GetModValidMapCount();
+EXPORT(const char* ) GetModValidMap(int index);
 
-EXPORT(int) OpenFileVFS(const char* name);
-EXPORT(void) CloseFileVFS(int handle);
-EXPORT(void) ReadFileVFS(int handle, void* buf, int length);
-EXPORT(int) FileSizeVFS(int handle);
+EXPORT(int         ) OpenFileVFS(const char* name);
+EXPORT(void        ) CloseFileVFS(int handle);
+EXPORT(void        ) ReadFileVFS(int handle, void* buf, int length);
+EXPORT(int         ) FileSizeVFS(int handle);
 
-EXPORT(int) InitFindVFS(const char* pattern);
-EXPORT(int) InitDirListVFS(const char* path, const char* pattern, const char* modes);
-EXPORT(int) InitSubDirsVFS(const char* path, const char* pattern, const char* modes);
-EXPORT(int) FindFilesVFS(int handle, char* nameBuf, int size);
+EXPORT(int         ) InitFindVFS(const char* pattern);
+EXPORT(int         ) InitDirListVFS(const char* path, const char* pattern, const char* modes);
+EXPORT(int         ) InitSubDirsVFS(const char* path, const char* pattern, const char* modes);
+EXPORT(int         ) FindFilesVFS(int handle, char* nameBuf, int size);
 
-EXPORT(int) OpenArchive(const char* name);
-EXPORT(int) OpenArchiveType(const char* name, const char* type);
-EXPORT(void) CloseArchive(int archive);
-EXPORT(int) FindFilesArchive(int archive, int cur, char* nameBuf, int* size);
-EXPORT(int) OpenArchiveFile(int archive, const char* name);
-EXPORT(int) ReadArchiveFile(int archive, int handle, void* buffer, int numBytes);
-EXPORT(void) CloseArchiveFile(int archive, int handle);
-EXPORT(int) SizeArchiveFile(int archive, int handle);
+EXPORT(int         ) OpenArchive(const char* name);
+EXPORT(int         ) OpenArchiveType(const char* name, const char* type);
+EXPORT(void        ) CloseArchive(int archive);
+EXPORT(int         ) FindFilesArchive(int archive, int cur, char* nameBuf, int* size);
+EXPORT(int         ) OpenArchiveFile(int archive, const char* name);
+EXPORT(int         ) ReadArchiveFile(int archive, int handle, void* buffer, int numBytes);
+EXPORT(void        ) CloseArchiveFile(int archive, int handle);
+EXPORT(int         ) SizeArchiveFile(int archive, int handle);
 
-EXPORT(const char*) GetSpringConfigString(const char* name, const char* defvalue);
-EXPORT(int) GetSpringConfigInt(const char* name, const int defvalue);
-EXPORT(float) GetSpringConfigFloat( const char* name, const float defvalue );
-EXPORT(void) SetSpringConfigString(const char* name, const char* value);
-EXPORT(void) SetSpringConfigInt(const char* name, const int value);
-EXPORT(void) SetSpringConfigFloat(const char* name, const float value);
+EXPORT(void        ) SetSpringConfigFile(const char* filenameAsAbsolutePath);
+EXPORT(const char* ) GetSpringConfigFile();
+EXPORT(const char* ) GetSpringConfigString(const char* name, const char* defvalue);
+EXPORT(int         ) GetSpringConfigInt(const char* name, const int defvalue);
+EXPORT(float       ) GetSpringConfigFloat( const char* name, const float defvalue );
+EXPORT(void        ) SetSpringConfigString(const char* name, const char* value);
+EXPORT(void        ) SetSpringConfigInt(const char* name, const int value);
+EXPORT(void        ) SetSpringConfigFloat(const char* name, const float value);
 
 
 // from LuaParserAPI.cpp:
 
-EXPORT(void) lpClose();
-EXPORT(int) lpOpenFile(const char* filename, const char* fileModes, const char* accessModes);
-EXPORT(int) lpOpenSource(const char* source, const char* accessModes);
-EXPORT(int) lpExecute();
+EXPORT(void       ) lpClose();
+EXPORT(int        ) lpOpenFile(const char* filename, const char* fileModes, const char* accessModes);
+EXPORT(int        ) lpOpenSource(const char* source, const char* accessModes);
+EXPORT(int        ) lpExecute();
 EXPORT(const char*) lpErrorLog();
 
-EXPORT(void) lpAddTableInt(int key, int override);
-EXPORT(void) lpAddTableStr(const char* key, int override);
-EXPORT(void) lpEndTable();
-EXPORT(void) lpAddIntKeyIntVal(int key, int val);
-EXPORT(void) lpAddStrKeyIntVal(const char* key, int val);
-EXPORT(void) lpAddIntKeyBoolVal(int key, int val);
-EXPORT(void) lpAddStrKeyBoolVal(const char* key, int val);
-EXPORT(void) lpAddIntKeyFloatVal(int key, float val);
-EXPORT(void) lpAddStrKeyFloatVal(const char* key, float val);
-EXPORT(void) lpAddIntKeyStrVal(int key, const char* val);
-EXPORT(void) lpAddStrKeyStrVal(const char* key, const char* val);
+EXPORT(void       ) lpAddTableInt(int key, int override);
+EXPORT(void       ) lpAddTableStr(const char* key, int override);
+EXPORT(void       ) lpEndTable();
+EXPORT(void       ) lpAddIntKeyIntVal(int key, int val);
+EXPORT(void       ) lpAddStrKeyIntVal(const char* key, int val);
+EXPORT(void       ) lpAddIntKeyBoolVal(int key, int val);
+EXPORT(void       ) lpAddStrKeyBoolVal(const char* key, int val);
+EXPORT(void       ) lpAddIntKeyFloatVal(int key, float val);
+EXPORT(void       ) lpAddStrKeyFloatVal(const char* key, float val);
+EXPORT(void       ) lpAddIntKeyStrVal(int key, const char* val);
+EXPORT(void       ) lpAddStrKeyStrVal(const char* key, const char* val);
 
-EXPORT(int) lpRootTable();
-EXPORT(int) lpRootTableExpr(const char* expr);
-EXPORT(int) lpSubTableInt(int key);
-EXPORT(int) lpSubTableStr(const char* key);
-EXPORT(int) lpSubTableExpr(const char* expr);
-EXPORT(void) lpPopTable();
+EXPORT(int        ) lpRootTable();
+EXPORT(int        ) lpRootTableExpr(const char* expr);
+EXPORT(int        ) lpSubTableInt(int key);
+EXPORT(int        ) lpSubTableStr(const char* key);
+EXPORT(int        ) lpSubTableExpr(const char* expr);
+EXPORT(void       ) lpPopTable();
 
-EXPORT(int) lpGetKeyExistsInt(int key);
-EXPORT(int) lpGetKeyExistsStr(const char* key);
+EXPORT(int        ) lpGetKeyExistsInt(int key);
+EXPORT(int        ) lpGetKeyExistsStr(const char* key);
 
-EXPORT(int) lpGetIntKeyType(int key);
-EXPORT(int) lpGetStrKeyType(const char* key);
+EXPORT(int        ) lpGetIntKeyType(int key);
+EXPORT(int        ) lpGetStrKeyType(const char* key);
 
-EXPORT(int) lpGetIntKeyListCount();
-EXPORT(int) lpGetIntKeyListEntry(int index);
-EXPORT(int) lpGetStrKeyListCount();
+EXPORT(int        ) lpGetIntKeyListCount();
+EXPORT(int        ) lpGetIntKeyListEntry(int index);
+EXPORT(int        ) lpGetStrKeyListCount();
 EXPORT(const char*) lpGetStrKeyListEntry(int index);
 
-EXPORT(int) lpGetIntKeyIntVal(int key, int defVal);
-EXPORT(int) lpGetStrKeyIntVal(const char* key, int defVal);
-EXPORT(int) lpGetIntKeyBoolVal(int key, int defVal);
-EXPORT(int) lpGetStrKeyBoolVal(const char* key, int defVal);
-EXPORT(float) lpGetIntKeyFloatVal(int key, float defVal);
-EXPORT(float) lpGetStrKeyFloatVal(const char* key, float defVal);
+EXPORT(int        ) lpGetIntKeyIntVal(int key, int defVal);
+EXPORT(int        ) lpGetStrKeyIntVal(const char* key, int defVal);
+EXPORT(int        ) lpGetIntKeyBoolVal(int key, int defVal);
+EXPORT(int        ) lpGetStrKeyBoolVal(const char* key, int defVal);
+EXPORT(float      ) lpGetIntKeyFloatVal(int key, float defVal);
+EXPORT(float      ) lpGetStrKeyFloatVal(const char* key, float defVal);
 EXPORT(const char*) lpGetIntKeyStrVal(int key, const char* defVal);
 EXPORT(const char*) lpGetStrKeyStrVal(const char* key, const char* defVal);
 
+
 #endif // UNITSYNC_API_H

Modified: branches/caiinterface/tools/unitsync_cacher/test.cpp
===================================================================
--- branches/caiinterface/tools/unitsync_cacher/test.cpp	2008-11-25 18:43:39 UTC (rev 7098)
+++ branches/caiinterface/tools/unitsync_cacher/test.cpp	2008-11-25 23:26:49 UTC (rev 7099)
@@ -45,107 +45,108 @@
 /******************************************************************************/
 /******************************************************************************/
 //
-//  Generated using:  'grep DLL_EXPORT unitsync.cpp'
+//  Generated using:  'grep &quot;EXPORT(&quot; unitsync.cpp'
 // Scratch that, copy pasted from javabind.cpp
 //
 
-DLL_EXPORT const char*  __stdcall GetSpringVersion();
-DLL_EXPORT void         __stdcall Message(const char* p_szMessage);
-DLL_EXPORT int          __stdcall Init(bool isServer, int id);
-DLL_EXPORT void         __stdcall UnInit();
-DLL_EXPORT int          __stdcall ProcessUnits(void);
-DLL_EXPORT int          __stdcall ProcessUnitsNoChecksum(void);
-DLL_EXPORT const char*  __stdcall GetCurrentList();
-DLL_EXPORT void         __stdcall AddClient(int id, const char *unitList);
-DLL_EXPORT void         __stdcall RemoveClient(int id);
-DLL_EXPORT const char*  __stdcall GetClientDiff(int id);
-DLL_EXPORT void         __stdcall InstallClientDiff(const char *diff);
-DLL_EXPORT int          __stdcall GetUnitCount();
-DLL_EXPORT const char*  __stdcall GetUnitName(int unit);
-DLL_EXPORT const char*  __stdcall GetFullUnitName(int unit);
-DLL_EXPORT int          __stdcall IsUnitDisabled(int unit);
-DLL_EXPORT int          __stdcall IsUnitDisabledByClient(int unit, int clientId);
-DLL_EXPORT void         __stdcall AddArchive(const char* name);
-DLL_EXPORT void         __stdcall AddAllArchives(const char* root);
-DLL_EXPORT unsigned int __stdcall GetArchiveChecksum(const char* arname);
-DLL_EXPORT int          __stdcall GetMapCount();
-DLL_EXPORT const char*  __stdcall GetMapName(int index);
-DLL_EXPORT int          __stdcall GetMapInfoEx(const char* name, MapInfo* outInfo, int version);
-DLL_EXPORT int          __stdcall GetMapInfo(const char* name, MapInfo* outInfo);
-DLL_EXPORT void*        __stdcall GetMinimap(const char* filename, int miplevel);
-DLL_EXPORT int          __stdcall GetMapArchiveCount(const char* mapName);
-DLL_EXPORT const char*  __stdcall GetMapArchiveName(int index);
-DLL_EXPORT unsigned int __stdcall GetMapChecksumFromName(const char* mapName);
-DLL_EXPORT unsigned int __stdcall GetMapChecksum(int index);
-DLL_EXPORT int          __stdcall GetPrimaryModCount();
-DLL_EXPORT const char*  __stdcall GetPrimaryModName(int index);
-DLL_EXPORT const char*	__stdcall GetPrimaryModShortName(int index);
-DLL_EXPORT const char*	__stdcall GetPrimaryModGame(int index);
-DLL_EXPORT const char*	__stdcall GetPrimaryModShortGame(int index);
-DLL_EXPORT const char*	__stdcall GetPrimaryModVersion(int index);
-DLL_EXPORT const char*	__stdcall GetPrimaryModMutator(int index);
-DLL_EXPORT const char*	__stdcall GetPrimaryModDescription(int index);
-DLL_EXPORT const char*  __stdcall GetPrimaryModArchive(int index);
-DLL_EXPORT int          __stdcall GetPrimaryModArchiveCount(int index);
-DLL_EXPORT const char*  __stdcall GetPrimaryModArchiveList(int arnr);
-DLL_EXPORT int          __stdcall GetPrimaryModIndex(const char* name);
-DLL_EXPORT unsigned int __stdcall GetPrimaryModChecksum(int index);
-DLL_EXPORT unsigned int __stdcall GetPrimaryModChecksumFromName(const char* name);
-DLL_EXPORT int          __stdcall GetSideCount();
-DLL_EXPORT const char*  __stdcall GetSideName(int side);
-DLL_EXPORT int          __stdcall OpenFileVFS(const char* name);
-DLL_EXPORT void         __stdcall CloseFileVFS(int handle);
-DLL_EXPORT void         __stdcall ReadFileVFS(int handle, void* buf, int length);
-DLL_EXPORT int          __stdcall FileSizeVFS(int handle);
-DLL_EXPORT int          __stdcall InitFindVFS(const char* pattern);
-DLL_EXPORT int          __stdcall FindFilesVFS(int handle, char* nameBuf, int size);
-DLL_EXPORT int          __stdcall OpenArchive(const char* name);
-DLL_EXPORT void         __stdcall CloseArchive(int archive);
-DLL_EXPORT int          __stdcall FindFilesArchive(int archive, int cur, char* nameBuf, int* size);
-DLL_EXPORT int          __stdcall OpenArchiveFile(int archive, const char* name);
-DLL_EXPORT int          __stdcall ReadArchiveFile(int archive, int handle, void* buffer, int numBytes);
-DLL_EXPORT void         __stdcall CloseArchiveFile(int archive, int handle);
-DLL_EXPORT int          __stdcall SizeArchiveFile(int archive, int handle);
+EXPORT(const char* ) GetSpringVersion();
+EXPORT(void        ) Message(const char* p_szMessage);
+EXPORT(int         ) Init(bool isServer, int id);
+EXPORT(void        ) UnInit();
+EXPORT(int         ) ProcessUnits(void);
+EXPORT(int         ) ProcessUnitsNoChecksum(void);
+EXPORT(const char* ) GetCurrentList();
+EXPORT(void        ) AddClient(int id, const char *unitList);
+EXPORT(void        ) RemoveClient(int id);
+EXPORT(const char* ) GetClientDiff(int id);
+EXPORT(void        ) InstallClientDiff(const char *diff);
+EXPORT(int         ) GetUnitCount();
+EXPORT(const char* ) GetUnitName(int unit);
+EXPORT(const char* ) GetFullUnitName(int unit);
+EXPORT(int         ) IsUnitDisabled(int unit);
+EXPORT(int         ) IsUnitDisabledByClient(int unit, int clientId);
+EXPORT(void        ) AddArchive(const char* name);
+EXPORT(void        ) AddAllArchives(const char* root);
+EXPORT(unsigned int) GetArchiveChecksum(const char* arname);
+EXPORT(int         ) GetMapCount();
+EXPORT(const char* ) GetMapName(int index);
+EXPORT(int         ) GetMapInfoEx(const char* name, MapInfo* outInfo, int version);
+EXPORT(int         ) GetMapInfo(const char* name, MapInfo* outInfo);
+EXPORT(void*       ) GetMinimap(const char* filename, int miplevel);
+EXPORT(int         ) GetMapArchiveCount(const char* mapName);
+EXPORT(const char* ) GetMapArchiveName(int index);
+EXPORT(unsigned int) GetMapChecksumFromName(const char* mapName);
+EXPORT(unsigned int) GetMapChecksum(int index);
+EXPORT(int         ) GetPrimaryModCount();
+EXPORT(const char* ) GetPrimaryModName(int index);
+EXPORT(const char*) GetPrimaryModShortName(int index);
+EXPORT(const char*) GetPrimaryModGame(int index);
+EXPORT(const char*) GetPrimaryModShortGame(int index);
+EXPORT(const char*) GetPrimaryModVersion(int index);
+EXPORT(const char*) GetPrimaryModMutator(int index);
+EXPORT(const char*) GetPrimaryModDescription(int index);
+EXPORT(const char* ) GetPrimaryModArchive(int index);
+EXPORT(int         ) GetPrimaryModArchiveCount(int index);
+EXPORT(const char* ) GetPrimaryModArchiveList(int arnr);
+EXPORT(int         ) GetPrimaryModIndex(const char* name);
+EXPORT(unsigned int) GetPrimaryModChecksum(int index);
+EXPORT(unsigned int) GetPrimaryModChecksumFromName(const char* name);
+EXPORT(int         ) GetSideCount();
+EXPORT(const char* ) GetSideName(int side);
+EXPORT(int         ) OpenFileVFS(const char* name);
+EXPORT(void        ) CloseFileVFS(int handle);
+EXPORT(void        ) ReadFileVFS(int handle, void* buf, int length);
+EXPORT(int         ) FileSizeVFS(int handle);
+EXPORT(int         ) InitFindVFS(const char* pattern);
+EXPORT(int         ) FindFilesVFS(int handle, char* nameBuf, int size);
+EXPORT(int         ) OpenArchive(const char* name);
+EXPORT(void        ) CloseArchive(int archive);
+EXPORT(int         ) FindFilesArchive(int archive, int cur, char* nameBuf, int* size);
+EXPORT(int         ) OpenArchiveFile(int archive, const char* name);
+EXPORT(int         ) ReadArchiveFile(int archive, int handle, void* buffer, int numBytes);
+EXPORT(void        ) CloseArchiveFile(int archive, int handle);
+EXPORT(int         ) SizeArchiveFile(int archive, int handle);
 
 // lua custom lobby settings
-DLL_EXPORT int          __stdcall GetMapOptionCount(const char* name);
-DLL_EXPORT int          __stdcall GetModOptionCount();
+EXPORT(int         ) GetMapOptionCount(const char* name);
+EXPORT(int         ) GetModOptionCount();
 
-DLL_EXPORT const char*  __stdcall GetOptionKey(int optIndex);
-DLL_EXPORT const char*  __stdcall GetOptionName(int optIndex);
-DLL_EXPORT const char*  __stdcall GetOptionDesc(int optIndex);
-DLL_EXPORT int          __stdcall GetOptionType(int optIndex);
+EXPORT(const char* ) GetOptionKey(int optIndex);
+EXPORT(const char* ) GetOptionName(int optIndex);
+EXPORT(const char* ) GetOptionDesc(int optIndex);
+EXPORT(int         ) GetOptionType(int optIndex);
 
 // Bool Options
-DLL_EXPORT int          __stdcall GetOptionBoolDef(int optIndex);
+EXPORT(int         ) GetOptionBoolDef(int optIndex);
 
 // Number Options
-DLL_EXPORT float        __stdcall GetOptionNumberDef(int optIndex);
-DLL_EXPORT float        __stdcall GetOptionNumberMin(int optIndex);
-DLL_EXPORT float        __stdcall GetOptionNumberMax(int optIndex);
-DLL_EXPORT float        __stdcall GetOptionNumberStep(int optIndex);
+EXPORT(float       ) GetOptionNumberDef(int optIndex);
+EXPORT(float       ) GetOptionNumberMin(int optIndex);
+EXPORT(float       ) GetOptionNumberMax(int optIndex);
+EXPORT(float       ) GetOptionNumberStep(int optIndex);
 
 // String Options
-DLL_EXPORT const char*  __stdcall GetOptionStringDef(int optIndex);
-DLL_EXPORT int          __stdcall GetOptionStringMaxLen(int optIndex);
+EXPORT(const char* ) GetOptionStringDef(int optIndex);
+EXPORT(int         ) GetOptionStringMaxLen(int optIndex);
 
 // List Options
-DLL_EXPORT int          __stdcall GetOptionListCount(int optIndex);
-DLL_EXPORT const char*  __stdcall GetOptionListDef(int optIndex);
-DLL_EXPORT const char*  __stdcall GetOptionListItemKey(int optIndex, int itemIndex);
-DLL_EXPORT const char*  __stdcall GetOptionListItemName(int optIndex, int itemIndex);
-DLL_EXPORT const char*  __stdcall GetOptionListItemDesc(int optIndex, int itemIndex);
+EXPORT(int         ) GetOptionListCount(int optIndex);
+EXPORT(const char* ) GetOptionListDef(int optIndex);
+EXPORT(const char* ) GetOptionListItemKey(int optIndex, int itemIndex);
+EXPORT(const char* ) GetOptionListItemName(int optIndex, int itemIndex);
+EXPORT(const char* ) GetOptionListItemDesc(int optIndex, int itemIndex);
 
 // Spring settings callback
 
-DLL_EXPORT const char*	__stdcall GetSpringConfigString( const char* name, const char* defvalue );
-DLL_EXPORT int			__stdcall GetSpringConfigInt( const char* name, const int defvalue );
-DLL_EXPORT float		__stdcall GetSpringConfigFloat( const char* name, const float defvalue );
-DLL_EXPORT void			__stdcall SetSpringConfigString( const char* name, const char* value );
-DLL_EXPORT void			__stdcall SetSpringConfigInt( const char* name, const int value );
-DLL_EXPORT void			__stdcall SetSpringConfigFloat( const char* name, const float value );
+EXPORT(void        ) SetSpringConfigFile(const char* filenameAsAbsolutePath);
+EXPORT(const char* ) GetSpringConfigFile();
+EXPORT(const char* ) GetSpringConfigString(const char* name, const char* defvalue);
+EXPORT(int         ) GetSpringConfigInt(const char* name, const int defvalue);
+EXPORT(float       ) GetSpringConfigFloat( const char* name, const float defvalue );
+EXPORT(void        ) SetSpringConfigString(const char* name, const char* value);
+EXPORT(void        ) SetSpringConfigInt(const char* name, const int value);
+EXPORT(void        ) SetSpringConfigFloat(const char* name, const float value);
 
-
 /******************************************************************************/
 /******************************************************************************/
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001867.html">[Taspring-linux-commit] r7098 - in branches/caiinterface:	AI/Skirmish/NullLegacyCppAI AI/Wrappers/LegacyCpp	rts/ExternalAI rts/ExternalAI/Interface rts/Sim/Misc	rts/Sim/Units tools/unitsync
</A></li>
	<LI>Next message: <A HREF="001869.html">[Taspring-linux-commit] r7100 - branches/gmltest/rts/lib/gml
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1868">[ date ]</a>
              <a href="thread.html#1868">[ thread ]</a>
              <a href="subject.html#1868">[ subject ]</a>
              <a href="author.html#1868">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
