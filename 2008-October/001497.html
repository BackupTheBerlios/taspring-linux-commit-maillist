<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r6728 - trunk/rts/Lua
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r6728%20-%20trunk/rts/Lua&In-Reply-To=%3C20081014175625.B8C724730%40progate.clan-sy.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001496.html">
   <LINK REL="Next"  HREF="001498.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r6728 - trunk/rts/Lua</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r6728%20-%20trunk/rts/Lua&In-Reply-To=%3C20081014175625.B8C724730%40progate.clan-sy.com%3E"
       TITLE="[Taspring-linux-commit] r6728 - trunk/rts/Lua">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Tue Oct 14 19:56:25 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001496.html">[Taspring-linux-commit] r6727 - trunk/rts/Game
</A></li>
        <LI>Next message: <A HREF="001498.html">[Taspring-linux-commit] r6729 - in trunk/rts: Game Lua Sim/Units
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1497">[ date ]</a>
              <a href="thread.html#1497">[ thread ]</a>
              <a href="subject.html#1497">[ subject ]</a>
              <a href="author.html#1497">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: KDR_11k
Date: 2008-10-14 19:56:25 +0200 (Tue, 14 Oct 2008)
New Revision: 6728

Modified:
   trunk/rts/Lua/LuaUnsyncedRead.cpp
Log:
*removed a &quot;safety&quot; function that made any spectator count as a member of team 0 in Spring.GetVisibleUnits(), the rest of the function suggested that negative allyteam IDs are used for specs and are not an invalid input. Doesn't seem to break anything but can't say for sure.

Modified: trunk/rts/Lua/LuaUnsyncedRead.cpp
===================================================================
--- trunk/rts/Lua/LuaUnsyncedRead.cpp	2008-10-14 17:43:25 UTC (rev 6727)
+++ trunk/rts/Lua/LuaUnsyncedRead.cpp	2008-10-14 17:56:25 UTC (rev 6728)
@@ -604,10 +604,7 @@
 		allyTeamID = gs-&gt;AllyTeam(teamID);
 	}
 	if (allyTeamID &lt; 0) {
-		allyTeamID = 0; // safety
-	}
-	if (!fullRead) {
-		if (allyTeamID &lt; 0) {
+		if (!fullRead) {
 			return 0;
 		}
 	}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001496.html">[Taspring-linux-commit] r6727 - trunk/rts/Game
</A></li>
	<LI>Next message: <A HREF="001498.html">[Taspring-linux-commit] r6729 - in trunk/rts: Game Lua Sim/Units
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1497">[ date ]</a>
              <a href="thread.html#1497">[ thread ]</a>
              <a href="subject.html#1497">[ subject ]</a>
              <a href="author.html#1497">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
