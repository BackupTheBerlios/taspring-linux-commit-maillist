<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r5298 - trunk/Lobby/TASServer
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r5298%20-%20trunk/Lobby/TASServer&In-Reply-To=%3CE1JCgaJ-0007JV-2n%40proserver.fnord.lan%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000105.html">
   <LINK REL="Next"  HREF="000107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r5298 - trunk/Lobby/TASServer</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r5298%20-%20trunk/Lobby/TASServer&In-Reply-To=%3CE1JCgaJ-0007JV-2n%40proserver.fnord.lan%3E"
       TITLE="[Taspring-linux-commit] r5298 - trunk/Lobby/TASServer">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Wed Jan  9 20:27:31 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000105.html">[Taspring-linux-commit] r5297 - trunk/rts/Sim/Units
</A></li>
        <LI>Next message: <A HREF="000107.html">[Taspring-linux-commit] r5299 -	trunk/Lobby/AFLobby/package1/images/channels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#106">[ date ]</a>
              <a href="thread.html#106">[ thread ]</a>
              <a href="subject.html#106">[ subject ]</a>
              <a href="author.html#106">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: tnowell
Date: 2008-01-09 20:27:30 +0100 (Wed, 09 Jan 2008)
New Revision: 5298

Modified:
   trunk/Lobby/TASServer/Battles.java
Log:
- changed parseInt to decode for hashes, allowing octal and hexadecimal values for map and mod hashes. Note that this does or rather should not affect protocol usage. A client that gives an octal hash will work just as well with existing clients that use decimal hashes as those that use hexadecimal hashes.

See the javadocs for Integer.decode() for further details.

Modified: trunk/Lobby/TASServer/Battles.java
===================================================================
--- trunk/Lobby/TASServer/Battles.java	2008-01-09 16:26:56 UTC (rev 5297)
+++ trunk/Lobby/TASServer/Battles.java	2008-01-09 19:27:30 UTC (rev 5298)
@@ -103,8 +103,8 @@
 			port = Integer.parseInt(parsed[4]);
 			maxPlayers = Integer.parseInt(parsed[5]);
 			hash = Integer.parseInt(parsed[6]);
-			rank = Integer.parseInt(parsed[7]);
-			maphash = Integer.parseInt(parsed[8]);
+			rank = Integer.decode(parsed[7]);
+			maphash = Integer.decode(parsed[8]);
 		} catch (NumberFormatException e) {
 			return null; 
 		}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000105.html">[Taspring-linux-commit] r5297 - trunk/rts/Sim/Units
</A></li>
	<LI>Next message: <A HREF="000107.html">[Taspring-linux-commit] r5299 -	trunk/Lobby/AFLobby/package1/images/channels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#106">[ date ]</a>
              <a href="thread.html#106">[ thread ]</a>
              <a href="subject.html#106">[ subject ]</a>
              <a href="author.html#106">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
