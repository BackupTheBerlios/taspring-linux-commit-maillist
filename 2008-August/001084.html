<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r6313 - in trunk/Lobby/TASClient: . Graphics
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r6313%20-%20in%20trunk/Lobby/TASClient%3A%20.%20Graphics&In-Reply-To=%3C20080825005842.425EE49A2%40progate.clan-sy.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001082.html">
   <LINK REL="Next"  HREF="001083.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r6313 - in trunk/Lobby/TASClient: . Graphics</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r6313%20-%20in%20trunk/Lobby/TASClient%3A%20.%20Graphics&In-Reply-To=%3C20080825005842.425EE49A2%40progate.clan-sy.com%3E"
       TITLE="[Taspring-linux-commit] r6313 - in trunk/Lobby/TASClient: . Graphics">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Mon Aug 25 02:58:42 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001082.html">[Taspring-linux-commit] r6312 - trunk/rts/Rendering/GL
</A></li>
        <LI>Next message: <A HREF="001083.html">[Taspring-linux-commit] r6314 - in trunk/Lobby/TASClient: . Python	Python/engine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1084">[ date ]</a>
              <a href="thread.html#1084">[ thread ]</a>
              <a href="subject.html#1084">[ subject ]</a>
              <a href="author.html#1084">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: satirik
Date: 2008-08-25 02:58:39 +0200 (Mon, 25 Aug 2008)
New Revision: 6313

Modified:
   trunk/Lobby/TASClient/BattleFormUnit.dfm
   trunk/Lobby/TASClient/Graphics/away.bmp
   trunk/Lobby/TASClient/Graphics/state1.bmp
   trunk/Lobby/TASClient/Graphics/state2.bmp
   trunk/Lobby/TASClient/Graphics/state3.bmp
   trunk/Lobby/TASClient/HelpUnit.dfm
   trunk/Lobby/TASClient/HelpUnit.pas
   trunk/Lobby/TASClient/MainUnit.dfm
   trunk/Lobby/TASClient/MainUnit.pas
   trunk/Lobby/TASClient/SpringDownloaderFormUnit.pas
   trunk/Lobby/TASClient/TASClient.dof
   trunk/Lobby/TASClient/TASClient.res
Log:
* player state icons changed
* if springdownloader is disabled, it opens a browser to sprinfiles
* python : onURLClick callin added
* sort by status should show green then orange then away then blue
* sort speed increased (when sorting by status)

Modified: trunk/Lobby/TASClient/BattleFormUnit.dfm
===================================================================
--- trunk/Lobby/TASClient/BattleFormUnit.dfm	2008-08-24 19:18:01 UTC (rev 6312)
+++ trunk/Lobby/TASClient/BattleFormUnit.dfm	2008-08-25 00:58:39 UTC (rev 6313)
@@ -1,6 +1,6 @@
 object BattleForm: TBattleForm
-  Left = 639
-  Top = 226
+  Left = 263
+  Top = 291
   Width = 787
   Height = 586
   Caption = 'Battle window'

Modified: trunk/Lobby/TASClient/Graphics/away.bmp
===================================================================
(Binary files differ)

Modified: trunk/Lobby/TASClient/Graphics/state1.bmp
===================================================================
(Binary files differ)

Modified: trunk/Lobby/TASClient/Graphics/state2.bmp
===================================================================
(Binary files differ)

Modified: trunk/Lobby/TASClient/Graphics/state3.bmp
===================================================================
(Binary files differ)

Modified: trunk/Lobby/TASClient/HelpUnit.dfm
===================================================================
--- trunk/Lobby/TASClient/HelpUnit.dfm	2008-08-24 19:18:01 UTC (rev 6312)
+++ trunk/Lobby/TASClient/HelpUnit.dfm	2008-08-25 00:58:39 UTC (rev 6313)
@@ -1,6 +1,6 @@
 object HelpForm: THelpForm
-  Left = 354
-  Top = 419
+  Left = 384
+  Top = 403
   BorderStyle = bsDialog
   Caption = 'Help'
   ClientHeight = 474
@@ -1127,80 +1127,37 @@
         object Image1: TImage
           Left = 32
           Top = 56
-          Width = 15
-          Height = 45
+          Width = 16
+          Height = 16
           AutoSize = True
           Picture.Data = {
-            07544269746D6170A6080000424DA60800000000000036000000280000000F00
-            00002D000000010018000000000070080000120B0000120B0000000000000000
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0F01020F01020F0102FFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FF0F0102380C0E3D0B0F380C0E0F0102FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFF0F0102380C0E5D10169E1C25440C10380C0E
-            0F0102FFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFF2202
-            05B8202BF42B3AF52B3AE328368E1922160103FFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFF370307E4515AFA949BF9858DF8747EDC2835
-            2D0206FFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FF755053E7979BFCC9CDE5787F4F1F23FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA0888AAC999B8A6D6FFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFF000810000810000810FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000810002242002548002242000810
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFF0008
-            1000224200396E0060BA002950002242000810FFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFF0013240070D82194FF2194FF0D8AFF0057A8
-            000C18FFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFF001E
-            3A359EFF8FC9FF7FC1FF6DB9FF0586FF001930FFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0066C67DC0FFC7E4FF5DB1FF00396E
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFF2998FF47A6FF0080F8FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000FFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FF000000003D00004000003D00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFF000000003D0000610000A400004700003D00
-            000000FFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFF0000
-            0000BF0000FE0000FF0000EC00009400000000FFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFF00000030ED307EFF7E6CFF6C58FF5800E700
-            000000FFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FF4E4E4E84ED84BEFFBE5FED5F1D1D1DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8787879898986B6B6BFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00
-            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000}
+            07544269746D617036030000424D360300000000000036000000280000001000
+            000010000000010018000000000000030000120B0000120B0000000000000000
+            0000FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFE000000000000000000000000000000000000
+            000000000000FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE0000
+            00007C09007C0A007C0A007C09007C0A007C0A000000FEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFE00000000B11A00D05C00D05C00D05C00D05B
+            00B11A000000FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE0000
+            0000BE1E00E48900E48900E48700E48900BE1E000000FEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFE00000000CC2300F1B800F1B800F1B800F1B8
+            00CC23000000FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE0000
+            0000D72900FAE200FAE200FAE200FAE200D729000000FEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFE00000000DC2C00DC2C00DC2C00DC2E00DC2E
+            00DC2C000000FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE0000
+            000208000C1C03162B08162B080C1C03020800000000FEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFE}
           Transparent = True
         end
         object Image4: TImage
@@ -1211,32 +1168,32 @@
           AutoSize = True
           Picture.Data = {
             07544269746D617036030000424D360300000000000036000000280000001000
-            0000100000000100180000000000000300000000000000000000000000000000
-            0000000000000000000000000000000000000000000000000000000000000000
-            0000000000000000000000000000000000000000000000000000000000000000
-            0000000000000000000000000000000000000000000000000000000000000000
-            0000000000000000000000000000000000000000000000000000000000000000
-            0000000000000000000000000000000000000000000000000000000000000000
-            0000000000000000000000000000000000000000000000000000000000000000
-            0000000000000000000000000000000000655F59AB906D916A3B9A794FAFA18E
-            0000000000000000000000000000000000000000000000000000000000005347
-            37E1B987EEDECCFFFFFFF9F1E7DDBD95AA8C6700000000000000000000000000
-            000000000000000000000045423FDBB383FFFFFFFFFFFFFFFFFFFFFFFFFBFAF7
-            DDBC94AFA18E000000000000000000000000000000000000000000352714ECD6
-            B8FFFFFFFFFFFFFFFFFFCCAD87EDE2D5F8EFE599784E00000000000000000000
-            00000000000000000000002D1B04F9E7D3FFFFFFFFFFFFC09767FBF9F6FFFFFF
-            FFFFFF916B3B000000000000000000000000000000000000000000403628E7CA
-            A6FFFFFFFFFFFFC49E71FFFFFFFFFFFFEFE0CEAB906D00000000000000000000
-            00000000000000000000001D1E20CBA87DF2E6D6FFFFFFC39E71FFFFFFFFFFFF
-            E1B987655F580000000000000000000000000000000000000000000000000806
-            05CBA87DE8CCA8F4E1CAEDD7BADCB78853463700000000000000000000000000
-            00000000000000000000000000000000001C1E204036282E1C0635261444423F
-            0000000000000000000000000000000000000000000000000000000000000000
-            0000000000000000000000000000000000000000000000000000000000000000
-            0000000000000000000000000000000000000000000000000000000000000000
-            0000000000000000000000000000000000000000000000000000000000000000
-            0000000000000000000000000000000000000000000000000000000000000000
-            0000}
+            000010000000010018000000000000030000120B0000120B0000000000000000
+            0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF9696969797979797979797
+            97A4A4A4FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFFFFFFFF9696969898989D9D9D989898C0C0C08484848E8E8E919191919191
+            919191919191919191868686FFFFFFFFFFFFFFFFFFFFFFFFA6A6A6989898FFFF
+            FFFFFFFF919191A3A3A3A6A6A6A6A6A6A6A6A6A6A6A6A6A6A6919191FFFFFFFF
+            FFFFFFFFFFFFFFFFFFFFFFB3B3B3A4A4A4FFFFFF979797ABABABAFAFAFA4A4A4
+            979797979797979797929292FFFFFFFFFFFFFFFFFFBDBDBDBBBBBBB7B7B7C0C0
+            C0929292FFFFFFA9A9A9BABABAB6B6B6A3A3A3FFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFFFFFFFFBDBDBDC9C9C9C9C9C9BDBDBDB3B3B3FFFFFFFFFFFFA8A8A8C1C1C1
+            C0C0C0AAAAAAFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFFFFFFFFFFFFFFFFFFFFFFFFAAAAAADADADAC0C0C0A3A3A3FFFFFFFFFFFFFF
+            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC6C6C6C3C3C3C5C5C5BCBCBC
+            C8C8C8DADADAD1D1D1A3A3A3FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFFFFFFCACACADDDDDDE4E4E4E4E4E4E4E4E4E4E4E4D1D1D1C3C3C3FFFFFFFF
+            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFCECECECDCDCDCFCFCFCFCFCF
+            CFCFCFCFCFCFCACACACACACAFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+            FFFF}
           Transparent = True
         end
         object Image8: TImage
@@ -2408,6 +2365,78 @@
             FFFF}
           Transparent = True
         end
+        object Image15: TImage
+          Left = 32
+          Top = 72
+          Width = 16
+          Height = 16
+          AutoSize = True
+          Picture.Data = {
+            07544269746D617036030000424D360300000000000036000000280000001000
+            000010000000010018000000000000030000120B0000120B0000000000000000
+            0000FEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFF
+            FEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFF
+            FFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFE
+            FFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFF
+            FEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFF
+            FFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFE
+            FFFFFEFFFFFEFFFFFEFFFFFEFFFF000000000000000000000000000000000000
+            000000000000FEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFF0000
+            000184FB0184FB0184FB0184FB0184FB0184FB000000FEFFFFFEFFFFFEFFFFFE
+            FFFFFEFFFFFEFFFFFEFFFFFEFFFF0000000184FB0B97FF0B97FF0B97FF0B97FF
+            0184FB000000FEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFF0000
+            000197FB0BA8FF0BA8FF0BA8FF0BA8FF0197FB000000FEFFFFFEFFFFFEFFFFFE
+            FFFFFEFFFFFEFFFFFEFFFFFEFFFF00000001A8FB0BB8FF0BB8FF0BB8FF0BB8FF
+            01A8FB000000FEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFF0000
+            0001B8FB0BCAFF0BCAFF0BCAFF0BCAFF01B8FB000000FEFFFFFEFFFFFEFFFFFE
+            FFFFFEFFFFFEFFFFFEFFFFFEFFFF00000002D7F202D7F202D7F202D7F202D7F2
+            02D7F2000000FEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFF0000
+            00016EA00995B712A5C212A5C20995B7016EA0000000FEFFFFFEFFFFFEFFFFFE
+            FFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFF
+            FEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFF
+            FFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFE
+            FFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFF
+            FEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFF
+            FFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFEFFFFFE
+            FFFF}
+          Transparent = True
+        end
+        object Image16: TImage
+          Left = 32
+          Top = 88
+          Width = 16
+          Height = 16
+          AutoSize = True
+          Picture.Data = {
+            07544269746D617036030000424D360300000000000036000000280000001000
+            000010000000010018000000000000030000120B0000120B0000000000000000
+            0000FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFE000000000000000000000000000000000000
+            000000000000FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE0000
+            008F2F0E8F2F0E8F2F0E8F2F0E8F2F0E8F2F0E000000FEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFE000000B24F1FD87D3AD87D3AD87D3AD87D3A
+            B24F1F000000FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE0000
+            00BA5824ED9B4EED9B4EED9B4EED9B4EBA5824000000FEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFE000000C2612AFDB45FFDB45FFDB45FFDB45F
+            C2612A000000FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE0000
+            00C8692EFEC47BFEC47BFEC47BFEC47BC8692E000000FEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFE000000CC6D31CC6D31CC6D31CD6F32CD6F32
+            CC6D31000000FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE0000
+            002E0200540B00681403681403540B002E0200000000FEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
+            FEFE}
+          Transparent = True
+        end
         object Label4: TSpTBXLabel
           Left = 32
           Top = 32

Modified: trunk/Lobby/TASClient/HelpUnit.pas
===================================================================
--- trunk/Lobby/TASClient/HelpUnit.pas	2008-08-24 19:18:01 UTC (rev 6312)
+++ trunk/Lobby/TASClient/HelpUnit.pas	2008-08-25 00:58:39 UTC (rev 6313)
@@ -119,6 +119,8 @@
     SpTBXLabel13: TSpTBXLabel;
     SpTBXLabel14: TSpTBXLabel;
     Label51: TLabel;
+    Image15: TImage;
+    Image16: TImage;
     procedure Button1Click(Sender: TObject);
     procedure FormCreate(Sender: TObject);
     procedure Button3Click(Sender: TObject);

Modified: trunk/Lobby/TASClient/MainUnit.dfm
===================================================================
--- trunk/Lobby/TASClient/MainUnit.dfm	2008-08-24 19:18:01 UTC (rev 6312)
+++ trunk/Lobby/TASClient/MainUnit.dfm	2008-08-25 00:58:39 UTC (rev 6313)
@@ -1,6 +1,6 @@
 object MainForm: TMainForm
-  Left = 827
-  Top = 110
+  Left = 603
+  Top = 288
   Width = 808
   Height = 549
   Caption = '.'
@@ -2206,9 +2206,9 @@
   end
   object PlayerStateImageList: TImageList
     Left = 209
-    Top = 295
+    Top = 296
     Bitmap = {
-      494C010106000900040010001000FFFFFFFFFF10FFFFFFFFFFFFFFFF424D3600
+      494C010105000900040010001000FFFFFFFFFF10FFFFFFFFFFFFFFFF424D3600
       0000000000003600000028000000400000003000000001002000000000000030
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
@@ -2340,121 +2340,119 @@
       0000000000000000000000000000000000000000000000000000000000000000
       00000000000000000000000000000000000000000000000000004CA4D9002680
       C600105FB2002A85C90000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000A5A5A5008181
-      8100606060008686860000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000000000000000000000000000072BEE5005FB2
       DF00257FC5009AD4EE001161B300000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000BFBFBF00B3B3
-      B30080808000D5D5D50062626200000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000005DB1DF006EBCE400000000000000
       00005DB1DF009AD4EE00105EB100000000000000000000000000000000000000
-      000000000000000000000000000000000000B2B2B200BDBDBD00000000000000
-      0000B2B2B200D5D5D5005F5F5F00000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000000000000105FB20058ADDD00000000000000
       00002B86C9009AD4EE002883C800000000000000000000000000000000000000
-      00000000000000000000000000000000000060606000AEAEAE00000000000000
-      000087878700D5D5D50084848400000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000000000000105FB2002680C600449ED600105E
       B100257FC5009CD5EF002E89CB00000000000000000000000000000000000000
-      00000000000000000000000000000000000060606000818181009F9F9F005F5F
-      5F0080808000D6D6D6008A8A8A00000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000000000000105FB200105FB200257FC500439D
       D5009AD4EE00257FC5009ED6EF0048A1D7000000000000000000000000000000
-      0000000000000000000000000000000000006060600060606000808080009E9E
-      9E00D5D5D50080808000D7D7D700A2A2A2000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000000000000000000002781C700257FC500257F
       C5001D75C0009AD4EE00000000009AD4EE00328DCD0000000000000000000000
-      0000000000000000000000000000000000000000000082828200808080008080
-      800076767600D5D5D50000000000D5D5D5008E8E8E0000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       000000000000348FCE009CD5EF00000000009AD4EE00429CD500000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      00000000000090909000D6D6D60000000000D5D5D5009D9D9D00000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000001B71BD009AD4EE00000000009AD4EE00257FC5002680
       C600105FB2001D75C00000000000000000000000000000000000000000000000
-      0000000000000000000072727200D5D5D50000000000D5D5D500808080008181
-      8100606060007676760000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       00000000000000000000000000002680C6009AD4EE002680C6009AD4EE009AD4
       EE009CD5EF009CD5EF0051A8DB00000000000000000000000000000000000000
-      000000000000000000000000000081818100D5D5D50081818100D5D5D500D5D5
-      D500D6D6D600D6D6D600A9A9A900000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000000000000105FB2009AD4EE002680C600105E
       B10051A8DB002680C6002E89CB00000000000000000000000000000000000000
-      00000000000000000000000000000000000060606000D5D5D500818181005F5F
-      5F00A9A9A900818181008A8A8A00000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000000000000105FB200449ED600237DC4000000
       0000000000004CA4D900449ED600000000000000000000000000000000000000
-      000000000000000000000000000000000000606060009F9F9F007E7E7E000000
-      000000000000A5A5A5009F9F9F00000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000000000000105FB200257FC5005CB0DF000000
       00000000000073BFE50087CAEA00000000000000000000000000000000000000
-      0000000000000000000000000000000000006060600080808000B1B1B1000000
-      000000000000C0C0C000CBCBCB00000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000000000000105FB200105EB100257FC500449E
       D60087CAEA000000000000000000000000000000000000000000000000000000
-      000000000000000000000000000000000000606060005F5F5F00808080009F9F
-      9F00CBCBCB000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000000000000000000001161B3001161B300257F
       C50077C1E6000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000062626200626262008080
-      8000C2C2C2000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
@@ -2498,78 +2496,84 @@
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000096969600979797009797
+      970097979700A4A4A40000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000096969600989898009D9D
+      9D0098989800C0C0C000848484008E8E8E009191910091919100919191009191
+      9100919191008686860000000000000000000000000000000000000000000000
+      000000000000007C0900007C0A00007C0A00007C0900007C0A00007C0A000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000000000000635A5A00AD946B00946B39009C7B4A00ADA58C00000000000000
+      0000000000000184FB000184FB000184FB000184FB000184FB000184FB000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000008F2F0E008F2F0E008F2F0E008F2F0E008F2F0E008F2F0E000000
+      0000000000000000000000000000000000000000000000000000A6A6A6009898
+      9800000000000000000091919100A3A3A300A6A6A600A6A6A600A6A6A600A6A6
+      A600A6A6A6009191910000000000000000000000000000000000000000000000
+      00000000000000B11A0000D05C0000D05C0000D05C0000D05B0000B11A000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000184FB000B97FF000B97FF000B97FF000B97FF000184FB000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000081000000810000008100000000000000000000000
+      000000000000B24F1F00D87D3A00D87D3A00D87D3A00D87D3A00B24F1F000000
+      000000000000000000000000000000000000000000000000000000000000B3B3
+      B300A4A4A4000000000097979700ABABAB00AFAFAF00A4A4A400979797009797
+      9700979797009292920000000000000000000000000000000000000000000000
+      00000000000000BE1E0000E4890000E4890000E4870000E4890000BE1E000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000008000000080000000800000000000000000000000000
+      0000000000000197FB000BA8FF000BA8FF000BA8FF000BA8FF000197FB000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000052423100E7BD8400EFDECE00FFFFFF00FFF7E700DEBD9400AD8C63000000
+      000000000000BA582400ED9B4E00ED9B4E00ED9B4E00ED9B4E00BA5824000000
+      00000000000000000000000000000000000000000000BDBDBD00BBBBBB00B7B7
+      B700C0C0C0009292920000000000A9A9A900BABABA00B6B6B600A3A3A3000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000390000004200000039000000000000000000000000
+      00000000000000CC230000F1B80000F1B80000F1B80000F1B80000CC23000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000000000000000810000021420000214A000021420000081000000000000000
+      00000000000001A8FB000BB8FF000BB8FF000BB8FF000BB8FF0001A8FB000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000800000039080800390808003908080008000000000000000000
-      0000000000000000000000000000000000000000000000000000000000004242
-      3900DEB58400FFFFFF00FFFFFF00FFFFFF00FFFFFF00FFFFF700DEBD9400ADA5
-      8C00000000000000000000000000000000000000000000000000000000000000
-      000000000000003900000063000000A500000042000000390000000000000000
+      000000000000C2612A00FDB45F00FDB45F00FDB45F00FDB45F00C2612A000000
+      00000000000000000000000000000000000000000000BDBDBD00C9C9C900C9C9
+      C900BDBDBD00B3B3B3000000000000000000A8A8A800C1C1C100C0C0C000AAAA
+      AA00000000000000000000000000000000000000000000000000000000000000
+      00000000000000D7290000FAE20000FAE20000FAE20000FAE20000D729000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000810000021420000396B000063BD000029520000214200000810000000
+      00000000000001B8FB000BCAFF000BCAFF000BCAFF000BCAFF0001B8FB000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000008000000390808005A1010009C1821004208100039080800080000000000
-      0000000000000000000000000000000000000000000000000000000000003121
-      1000EFD6BD00FFFFFF00FFFFFF00FFFFFF00CEAD8400EFE7D600FFEFE7009C7B
-      4A00000000000000000000000000000000000000000000000000000000000000
-      00000000000000BD000000FF000000FF000000EF000000940000000000000000
+      000000000000C8692E00FEC47B00FEC47B00FEC47B00FEC47B00C8692E000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000001021000073DE002194FF002194FF00088CFF000052AD00000818000000
+      00000000000000000000000000000000000000000000AAAAAA00DADADA00C0C0
+      C000A3A3A3000000000000000000000000000000000000000000000000000000
+      00000000000000DC2C0000DC2C0000DC2C0000DC2E0000DC2E0000DC2C000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000021000000BD212900F7293900F7293900E72931008C182100100000000000
-      0000000000000000000000000000000000000000000000000000000000002918
-      0000FFE7D600FFFFFF00FFFFFF00C6946300FFFFF700FFFFFF00FFFFFF00946B
-      3900000000000000000000000000000000000000000000000000000000000000
-      00000000000031EF31007BFF7B006BFF6B005AFF5A0000E70000000000000000
+      00000000000002D7F20002D7F20002D7F20002D7F20002D7F20002D7F2000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000000183900319CFF008CCEFF007BC6FF006BBDFF000084FF00001831000000
+      000000000000CC6D3100CC6D3100CC6D3100CD6F3200CD6F3200CC6D31000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000031000000E7525A00FF949C00FF848C00FF737B00DE293100290000000000
-      0000000000000000000000000000000000000000000000000000000000004231
-      2900E7CEA500FFFFFF00FFFFFF00C69C7300FFFFFF00FFFFFF00EFE7CE00AD94
-      6B00000000000000000000000000000000000000000000000000000000000000
-      0000000000004A4A4A0084EF8400BDFFBD005AEF5A0018181800000000000000
+      00000000000000000000C6C6C600C3C3C300C5C5C500BCBCBC00C8C8C800DADA
+      DA00D1D1D100A3A3A30000000000000000000000000000000000000000000000
+      000000000000020800000C1C0300162B0800162B08000C1C0300020800000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000063C6007BC6FF00C6E7FF005AB5FF0000396B00000000000000
+      000000000000016EA0000995B70012A5C20012A5C2000995B700016EA0000000
       0000000000000000000000000000000000000000000000000000000000000000
-      00000000000073525200E7949C00FFCECE00E77B7B004A182100000000000000
-      0000000000000000000000000000000000000000000000000000000000001818
-      2100CEAD7B00F7E7D600FFFFFF00C69C7300FFFFFF00FFFFFF00E7BD8400635A
-      5A00000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000848484009C9C9C006B6B6B0000000000000000000000
+      0000000000002E020000540B00006814030068140300540B00002E0200000000
       0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000299CFF0042A5FF000084FF0000000000000000000000
+      00000000000000000000CACACA00DDDDDD00E4E4E400E4E4E400E4E4E400E4E4
+      E400D1D1D100C3C3C30000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000A58C8C00AD9C9C008C6B6B0000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000008000000CEAD7B00EFCEAD00F7E7CE00EFD6BD00DEB58C00524231000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      00000000000000000000CECECE00CDCDCD00CFCFCF00CFCFCF00CFCFCF00CFCF
+      CF00CACACA00CACACA0000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000001818210042312900291800003121100042423900000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
@@ -2590,24 +2594,20 @@
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000000000000424D3E000000000000003E000000
       2800000040000000300000000100010000000000800100000000000000000000
       000000000000000000000000FFFFFF0000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000000000000000C3FFC3FF00000000C1FFC1FF00000000
-      31FF31FF0000000031FF31FF0000000001FF01FF0000000000FF00FF00000000
-      827F827F00000000F93FF93F00000000FC83FC8300000000FE01FE0100000000
-      FF01FF0100000000FF19FF1900000000FF19FF1900000000FF07FF0700000000
-      FF87FF8700000000FFFFFFFF00000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF83FFC7FFC7FFC7FF01F
-      F83FF83FF83FE00FF01FF01FF01FE00FF01FF01FF01FE00FF01FF01FF01FE00F
-      F83FF83FF83FE00FFC7FFC7FFC7FF01FFFFFFFFFFFFFF83FFFFFFFFFFFFFFFFF
+      00000000000000000000000000000000C3FF000000000000C1FF000000000000
+      31FF00000000000031FF00000000000001FF00000000000000FF000000000000
+      827F000000000000F93F000000000000FC83000000000000FE01000000000000
+      FF01000000000000FF19000000000000FF19000000000000FF07000000000000
+      FF87000000000000FFFF000000000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFF83FFF00FF00FF00F8003F00FF00FF00FCC03
+      F00FF00FF00FE403F00FF00FF00F821FF00FF00FF00F830FF00FF00FF00FFF87
+      F00FF00FF00FFC03F00FF00FF00FFC03FFFFFFFFFFFFFC03FFFFFFFFFFFFFFFF
       FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000000000000000000000000000
       000000000000}
   end

Modified: trunk/Lobby/TASClient/MainUnit.pas
===================================================================
--- trunk/Lobby/TASClient/MainUnit.pas	2008-08-24 19:18:01 UTC (rev 6312)
+++ trunk/Lobby/TASClient/MainUnit.pas	2008-08-25 00:58:39 UTC (rev 6313)
@@ -646,12 +646,13 @@
 
   TClient = class
   public
+
     Name: string; // client's username
     RecentNames: string; // use for modos with FINDIP
-    Status: Integer; // client's status (normal, in game)
-    BattleStatus: Integer; // only used for clients participating in the same battle as the player
+    FStatus: Integer; // client's status (normal, in game)
+    FBattleStatus: Integer; // only used for clients participating in the same battle as the player
     TeamColor: Integer; // $00BBGGRR where B = blue, G = green, R = red
-    InBattle: Boolean; // is this client participating in a battle?
+    FInBattle: Boolean; // is this client participating in a battle?
     Country: string; // two-character country code based on ISO 3166
     CPU: Integer; // CPU's speed in MHz (or equivalent if AMD). Value of 0 means that client couldn't figure out its CPU speed.
     StatusRefreshed : Boolean;
@@ -706,6 +707,15 @@
     procedure SetInGameStatus(InGame: Boolean);
     procedure SetAwayStatus(Away: Boolean);
 
+    procedure SetStatus(s: integer);
+    property Status: integer read FStatus write SetStatus;
+
+    procedure SetBattleStatus(bs: integer);
+    property BattleStatus: integer read FBattleStatus write SetBattleStatus;
+
+    procedure SetInBattle(b: Boolean);
+    property InBattle: Boolean read FInBattle write SetInBattle;
+
   end;
 
   TTASClientThread = class(TThread) //TDialogThread
@@ -1267,6 +1277,7 @@
     procedure SpTBXItem5Click(Sender: TObject);
     procedure lobbyscriptWrapperInitialization(Sender: TObject);
     procedure Button1Click(Sender: TObject);
+    procedure RichEditURLClick(Sender: TObject; URL: String);
   published
     MainTitleBar: TSpTBXTitleBar;
     Panel2: TSpTBXPanel;
@@ -1383,6 +1394,7 @@
     procedure TryToAutoCompleteClientName(Edit: TSpTBXEdit; Clients: TList);
 
     procedure SortClientsList(List: TList; SortStyle: Byte);
+    procedure SortClientInList(client: TClient;List: TList; SortStyle: Byte);
     procedure SortBattlesList(SortStyle: Byte; Ascending: Boolean);
     function CompareClients(Client1: TClient; Client2: TClient; SortStyle: Byte): Shortint; // used with SortClientsList method (and other methods?)
     function CompareBattles(Battle1, Battle2: TBattle; SortStyle: Byte): Shortint;
@@ -2564,6 +2576,47 @@
   Status := (Status and $FFFFFFFD) or (BoolToInt(Away) shl 1);
 end;
 
+procedure TClient.SetStatus(s: integer);
+var
+  i: integer;
+begin
+  FStatus := s;
+
+  // re-sort all clients lists:
+  if not MainUnit.Status.ReceivingLoginInfo then
+    if Preferences.SortStyle = 2 then
+    begin
+      for i := 1 {start from 1 to skip LOCAL_TAB} to MainForm.PageControl1.PageCount-1 do
+        MainForm.SortClientInList(Self,(MainForm.PageControl1.Pages[i] as TMyTabSheet).Clients, Preferences.SortStyle);
+      if Preferences.SortLocal then
+        MainForm.SortClientInList(Self,AllClients, Preferences.SortStyle);
+    end;
+end;
+
+procedure TClient.SetInBattle(b: Boolean);
+var
+  i: integer;
+begin
+  FInBattle := b;
+
+  // re-sort all clients lists:
+  if not MainUnit.Status.ReceivingLoginInfo then
+    if Preferences.SortStyle = 2 then
+    begin
+      for i := 1 {start from 1 to skip LOCAL_TAB} to MainForm.PageControl1.PageCount-1 do
+        MainForm.SortClientInList(Self,(MainForm.PageControl1.Pages[i] as TMyTabSheet).Clients, Preferences.SortStyle);
+      if Preferences.SortLocal then
+        MainForm.SortClientInList(Self,AllClients, Preferences.SortStyle);
+    end;
+end;
+
+procedure TClient.SetBattleStatus(bs: integer);
+var
+  i: integer;
+begin
+  FBattleStatus := bs;
+end;
+
 { TBot }
 
 procedure TBot.Assign(Bot: TBot);
@@ -3814,6 +3867,7 @@
   tmpre.OnMouseDown := RichEditMouseDown;
   tmpre.AutoURLDetect := adDefault;
   tmpre.OnDblClick := RichEditDblClick;
+  tmpre.OnURLClick := RichEditURLClick;
 
   // enable auto URL detection:
   mask := SendMessage(tmpre.Handle, EM_GETEVENTMASK, 0, 0);
@@ -4419,7 +4473,7 @@
   Bot: TBot;
   tmp, tmp2, hash, url: WideString;
   tmpInt, tmpInt2, tmpInt3,tmpInt4: Integer;
-  tmpBool: Boolean;
+  tmpBool, tmpBool2: Boolean;
   changed: Boolean;
   count: Integer;
   tmpi64: Int64;
@@ -5600,12 +5654,6 @@
       if (Status.ReceivingLoginInfo = False) and (Client.Name &lt;&gt; Status.Username) then if
         NotificationsForm.FindNotification(nfModHosted, [Battle.ModName]) then AddNotification('Mod hosted', 'Mod &lt;' + Battle.ModName + '&gt; has been hosted by ' + TClient(Battle.Clients[0]).Name + '.', 2000);
 
-      // re-sort all clients lists:
-      if not Status.ReceivingLoginInfo then
-        if Preferences.SortStyle = 2 then
-          for i := 1 {start from 1 to skip LOCAL_TAB} to PageControl1.PageCount-1 do
-            SortClientsList((PageControl1.Pages[i] as TMyTabSheet).Clients, Preferences.SortStyle);
-
       if not Status.ReceivingLoginInfo then UpdateClientsListBox;
 
       if not Status.ReceivingLoginInfo and (Client.GetGroup &gt; -1) and TClientGroup(ClientGroups[Client.GetGroup]).NotifyOnHost then begin
@@ -5638,11 +5686,6 @@
 
       for i := 0 to Battle.Clients.Count-1 do TClient(Battle.Clients[i]).InBattle := False;
 
-      // re-sort all clients lists:
-      if Preferences.SortStyle = 2 then
-        for i := 1 {start from 1 to skip LOCAL_TAB} to PageControl1.PageCount-1 do
-          SortClientsList((PageControl1.Pages[i] as TMyTabSheet).Clients, Preferences.SortStyle);
-
       UpdateClientsListBox;
 
       if (BattleForm.IsBattleActive) and (BattleState.Battle.ID = Battle.ID) then
@@ -5753,13 +5796,8 @@
 
           //or (not ((BattleForm.IsBattleActive) and (Battle.ID = BattleState.Battle.ID)) and (Client.GetGroup &gt; -1) and TClientGroup(ClientGroups[Client.GetGroup]).NotifyOnHost)
 
-      // re-sort all clients lists:
-      if Preferences.SortStyle = 2 then
-        for i := 1 {start from 1 to skip LOCAL_TAB} to PageControl1.PageCount-1 do
-          SortClientsList((PageControl1.Pages[i] as TMyTabSheet).Clients, Preferences.SortStyle);
+      //UpdateClientsListBox;
 
-      UpdateClientsListBox;
-
       RefreshBattleList;
       //while RefreshingBattleList do;
       //SortBattleInList(i, Preferences.BattleSortStyle, Preferences.BattleSortDirection = 0);
@@ -5850,11 +5888,6 @@
         VDTBattles.InvalidateNode(Battle.Node);
       Client.InBattle := False;
 
-      // re-sort all clients lists:
-      if Preferences.SortStyle = 2 then
-        for i := 1 {start from 1 to skip LOCAL_TAB} to PageControl1.PageCount-1 do
-          SortClientsList((PageControl1.Pages[i] as TMyTabSheet).Clients, Preferences.SortStyle);
-
       UpdateClientsListBox;
 
       //while RefreshingBattleList do;
@@ -5911,15 +5944,8 @@
         Exit;
       end;
 
-      tmpBool := Client.GetInGameStatus;
       Client.Status := tmpInt;
-      changed := Client.GetInGameStatus &lt;&gt; tmpBool;
 
-      if not Status.ReceivingLoginInfo then
-        if changed and (Preferences.SortStyle = 2) then
-          for i := 1 {start from 1 to skip LOCAL_TAB} to PageControl1.PageCount-1 do
-            SortClientsList((PageControl1.Pages[i] as TMyTabSheet).Clients, Preferences.SortStyle);
-
       // let's check if this client is founder of any battle. If he is, we must refresh this battle's node. We must also check if he is the founder of the battle user is participating in.
       if Client.InBattle then
       begin
@@ -6845,7 +6871,7 @@
     else (Control as TListBox).Canvas.Font.Color := clBlack;
 
     PlayerStateImageList.Draw((Control as TListBox).Canvas, xpos, Rect.Top, TClient(AllClients[Index]).GetStateImageIndex);
-    Inc(xpos,PlayerStateImageList.Width);
+    Inc(xpos,PlayerStateImageList.Width+5);
 
     if Preferences.ShowFlags then
     begin
@@ -6881,7 +6907,7 @@
 
     xpos := Rect.Left;
     PlayerStateImageList.Draw((Control as TListBox).Canvas, xpos, Rect.Top, TClient((PageControl1.ActivePage as TMyTabSheet).Clients[Index]).GetStateImageIndex);
-    Inc(xpos, PlayerStateImageList.Width + 1);
+    Inc(xpos, PlayerStateImageList.Width + 5);
 
     if Preferences.ShowFlags then
     begin
@@ -7717,15 +7743,8 @@
     if ModList.IndexOf(Battle.ModName) = -1 then
     begin
       if not LobbyScriptUnit.ScriptJoining then
-      SpringDownloaderFormUnit.DownloadMod(0,Battle.ModName,Battle.ID);
+        SpringDownloaderFormUnit.DownloadMod(0,Battle.ModName,Battle.ID);
       Exit;
-      {if MessageDlg('Can''t join: you don''t have the right mod! Do you want to download it now?', mtInformation, [mbYes, mbNo], 0) = mrYes then begin
-        //Misc.ParseDelimited(s1,Battle.ModName,' ','.');
-        url := '<A HREF="http://spring.jobjol.nl/search_result.php?search=">http://spring.jobjol.nl/search_result.php?search=</A>'+Battle.ModName+'&amp;select=select_all';
-        FixURL(url);
-        Misc.OpenURLInDefaultBrowser(url);
-      end;
-      Exit;}
     end;
   end;
 
@@ -7974,6 +7993,8 @@
     2: if Client1.GetInGameStatus and Client2.GetInGameStatus then Result := CompareClients(Client1, Client2, 1)
        else if Client1.GetInGameStatus and not Client2.GetInGameStatus then Result := 1
        else if not Client1.GetInGameStatus and Client2.GetInGameStatus then Result := -1
+       else if not Client1.GetAwayStatus and Client2.GetAwayStatus then Result := -1
+       else if Client1.GetAwayStatus and not Client2.GetAwayStatus then Result := 1
        else if Client1.InBattle and Client2.InBattle then Result := CompareClients(Client1, Client2, 1)
        else if Client1.InBattle and not Client2.InBattle then Result := 1
        else if not Client1.InBattle and Client2.InBattle then Result := -1
@@ -8051,6 +8072,38 @@
       end;
 end;
 
+procedure TMainForm.SortClientInList(client: TClient;List: TList; SortStyle: Byte);
+var
+  i, index: Integer;
+  tmp: TClient;
+begin
+  index := List.IndexOf(client);
+  if index = -1 then Exit;
+
+  for i := Index+1 to List.Count-1 do
+    if (CompareClients(TClient(List[index]), TClient(List[i]), SortStyle) &gt; 0) then
+    begin
+        // swap:
+        tmp := List[i];
+        List[i] := List[Index];
+        List[Index] := tmp;
+        Inc(Index);
+    end
+    else break;
+
+  for i := Index-1 downto 0 do begin
+    if (CompareClients(TClient(List[index]), TClient(List[i]), SortStyle) &lt; 0) then
+    begin
+        // swap:
+        tmp := List[i];
+        List[i] := List[Index];
+        List[Index] := tmp;
+        Dec(Index);
+    end
+    else break;
+  end;
+end;
+
 { will sort &quot;Battles&quot; list. It won't invalidate (repaint) VDTBattles tree! Call VDTBattles.Invalidate to do that manually.
   If Ascending is False, then the list will be sorted in descending order. }
 procedure TMainForm.SortBattlesList(SortStyle: Byte; Ascending: Boolean);
@@ -10635,4 +10688,15 @@
   MakePath('c:\test1\test2\test3');
 end;
 
+procedure TMainForm.RichEditURLClick(Sender: TObject; URL: String);
+var
+  r : boolean;
+begin
+  r := False;
+  AcquireMainThread;
+  try if not Preferences.DisableScripts then r := handlers.onURLClick(URL); except end;
+  ReleaseMainThread;
+  if not r then Misc.OpenURLInDefaultBrowser(URL);
+end;
+
 end.

Modified: trunk/Lobby/TASClient/SpringDownloaderFormUnit.pas
===================================================================
--- trunk/Lobby/TASClient/SpringDownloaderFormUnit.pas	2008-08-24 19:18:01 UTC (rev 6312)
+++ trunk/Lobby/TASClient/SpringDownloaderFormUnit.pas	2008-08-25 00:58:39 UTC (rev 6313)
@@ -112,8 +112,15 @@
 procedure DownloadMod(modHash : integer; modName: string; joinBattleWhenDownloadComplete : integer = 0);
 var
   newDownloadForm: TSpringDownloaderForm;
+  url: string;
 begin
-  if not Preferences.EnableSpringDownloader then Exit;
+  if not Preferences.EnableSpringDownloader then
+  begin
+    url := '<A HREF="http://spring.jobjol.nl/search_result.php?search=">http://spring.jobjol.nl/search_result.php?search=</A>'+modName+'&amp;select=select_all';
+    FixURL(url);
+    Misc.OpenURLInDefaultBrowser(url);
+    Exit;
+  end;
   if DownloadList.IndexOf(modName) &lt;&gt; -1 then
     Exit;
   Application.CreateForm(TSpringDownloaderForm, newDownloadForm);
@@ -124,8 +131,15 @@
 procedure DownloadMap(mapHash : integer; mapName: string);
 var
   newDownloadForm: TSpringDownloaderForm;
+  url: string;
 begin
-  if not Preferences.EnableSpringDownloader then Exit;
+  if not Preferences.EnableSpringDownloader then
+  begin
+    url := '<A HREF="http://spring.jobjol.nl/search_result.php?search=">http://spring.jobjol.nl/search_result.php?search=</A>'+StringReplace(mapName,'.smf','',[rfReplaceAll, rfIgnoreCase])+'&amp;select=select_all';
+    FixURL(url);
+    Misc.OpenURLInDefaultBrowser(url);
+    Exit;
+  end;
   if DownloadList.IndexOf(mapName) &lt;&gt; -1 then
     Exit;
   Application.CreateForm(TSpringDownloaderForm, newDownloadForm);

Modified: trunk/Lobby/TASClient/TASClient.dof
===================================================================
--- trunk/Lobby/TASClient/TASClient.dof	2008-08-24 19:18:01 UTC (rev 6312)
+++ trunk/Lobby/TASClient/TASClient.dof	2008-08-25 00:58:39 UTC (rev 6313)
@@ -115,7 +115,7 @@
 MajorVer=0
 MinorVer=3
 Release=0
-Build=415
+Build=416
 Debug=0
 PreRelease=0
 Special=0
@@ -126,7 +126,7 @@
 [Version Info Keys]
 CompanyName=
 FileDescription=TA Spring lobby client
-FileVersion=0.3.0.415
+FileVersion=0.3.0.416
 InternalName=
 LegalCopyright=
 LegalTrademarks=

Modified: trunk/Lobby/TASClient/TASClient.res
===================================================================
(Binary files differ)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001082.html">[Taspring-linux-commit] r6312 - trunk/rts/Rendering/GL
</A></li>
	<LI>Next message: <A HREF="001083.html">[Taspring-linux-commit] r6314 - in trunk/Lobby/TASClient: . Python	Python/engine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1084">[ date ]</a>
              <a href="thread.html#1084">[ thread ]</a>
              <a href="subject.html#1084">[ subject ]</a>
              <a href="author.html#1084">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
