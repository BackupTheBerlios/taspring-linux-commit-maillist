<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r7535 - Lobby/TASClient
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7535%20-%20Lobby/TASClient&In-Reply-To=%3C20101122194619.ED830232B2%40it-l.eu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002304.html">
   <LINK REL="Next"  HREF="002306.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r7535 - Lobby/TASClient</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7535%20-%20Lobby/TASClient&In-Reply-To=%3C20101122194619.ED830232B2%40it-l.eu%3E"
       TITLE="[Taspring-linux-commit] r7535 - Lobby/TASClient">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Mon Nov 22 20:46:19 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002304.html">[Taspring-linux-commit] r7534 - Lobby/TASClient
</A></li>
        <LI>Next message: <A HREF="002306.html">[Taspring-linux-commit] r7536 - Lobby/TASClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2305">[ date ]</a>
              <a href="thread.html#2305">[ thread ]</a>
              <a href="subject.html#2305">[ subject ]</a>
              <a href="author.html#2305">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: satirik
Date: 2010-11-22 20:46:19 +0100 (Mon, 22 Nov 2010)
New Revision: 7535

Modified:
   Lobby/TASClient/MainUnit.dfm
   Lobby/TASClient/MainUnit.pas
   Lobby/TASClient/TASClient.dof
   Lobby/TASClient/TASClient.res
   Lobby/TASClient/Utility.pas
Log:
* fixed slow mod/map options displaying when joining

Modified: Lobby/TASClient/MainUnit.dfm
===================================================================
--- Lobby/TASClient/MainUnit.dfm	2010-11-22 14:15:23 UTC (rev 7534)
+++ Lobby/TASClient/MainUnit.dfm	2010-11-22 19:46:19 UTC (rev 7535)
@@ -2,7 +2,7 @@
   Left = 368
   Top = 237
   Width = 883
-  Height = 627
+  Height = 553
   Caption = '.'
   Color = clBtnFace
   Font.Charset = DEFAULT_CHARSET
@@ -24,7 +24,7 @@
     Left = 0
     Top = 0
     Width = 875
-    Height = 600
+    Height = 526
     Caption = 'TASClient'
     Active = False
     object DefaultSideImage: TImage
@@ -206,7 +206,7 @@
       Left = 0
       Top = 104
       Width = 875
-      Height = 496
+      Height = 422
       Caption = 'Panel1'
       Align = alClient
       TabOrder = 1
@@ -216,7 +216,7 @@
         Left = 0
         Top = 0
         Width = 875
-        Height = 496
+        Height = 422
         Align = alClient
         BevelOuter = bvNone
         DockSite = True
@@ -226,7 +226,7 @@
           Left = 663
           Top = 0
           Width = 212
-          Height = 151
+          Height = 77
           Caption = 'Players'
           Align = alRight
           DragKind = dkDock
@@ -239,7 +239,7 @@
             Left = 0
             Top = 57
             Width = 212
-            Height = 94
+            Height = 20
             Style = lbOwnerDrawFixed
             Align = alClient
             DragMode = dmAutomatic
@@ -348,7 +348,7 @@
         end
         object BattlesPanel: TSpTBXPanel
           Left = 0
-          Top = 151
+          Top = 77
           Width = 875
           Height = 345
           Caption = 'Battles'

Modified: Lobby/TASClient/MainUnit.pas
===================================================================
--- Lobby/TASClient/MainUnit.pas	2010-11-22 14:15:23 UTC (rev 7534)
+++ Lobby/TASClient/MainUnit.pas	2010-11-22 19:46:19 UTC (rev 7535)
@@ -10412,7 +10412,7 @@
             maxNameWidth := nameWidth;
         end;
 
-        R := Rect(0,0,20+Ceil(Battle.Clients.Count/8)*(maxNameWidth+20),20+(Canvas.TextHeight('H')+3)*min(Battle.Clients.Count,8));
+        R := Rect(0,0,20+Ceil(Battle.Clients.Count/8)*(maxNameWidth+21),20+(Canvas.TextHeight('H')+3)*min(Battle.Clients.Count,8));
       end;
       5: R := Rect(0, 0, Canvas.TextWidth(Battle.ModName) + 20, 18);
       4:

Modified: Lobby/TASClient/TASClient.dof
===================================================================
--- Lobby/TASClient/TASClient.dof	2010-11-22 14:15:23 UTC (rev 7534)
+++ Lobby/TASClient/TASClient.dof	2010-11-22 19:46:19 UTC (rev 7535)
@@ -115,7 +115,7 @@
 MajorVer=0
 MinorVer=80
 Release=0
-Build=1093
+Build=1094
 Debug=0
 PreRelease=0
 Special=0
@@ -126,7 +126,7 @@
 [Version Info Keys]
 CompanyName=
 FileDescription=Spring RTS Engine lobby client
-FileVersion=0.80.0.1093
+FileVersion=0.80.0.1094
 InternalName=
 LegalCopyright=
 LegalTrademarks=

Modified: Lobby/TASClient/TASClient.res
===================================================================
(Binary files differ)

Modified: Lobby/TASClient/Utility.pas
===================================================================
--- Lobby/TASClient/Utility.pas	2010-11-22 14:15:23 UTC (rev 7534)
+++ Lobby/TASClient/Utility.pas	2010-11-22 19:46:19 UTC (rev 7535)
@@ -898,6 +898,7 @@
   i: Integer;
   c: TWinControl;
 begin
+  tabSheet.Visible := False;
   for i:=0 to luaOptionList.Count -1 do
   begin
     c := TLuaOption(luaOptionList[i]).GetComponent(tabSheet,luaOptionList);
@@ -914,6 +915,7 @@
     if TLuaOption(luaOptionList[i]).ClassType = TLuaOptionSection then
       TLuaOptionSection(luaOptionList[i]).Panel.Visible := TLuaOptionSection(luaOptionList[i]).Panel.ControlCount &gt; 0;
   end;
+  tabSheet.Visible := True;
 end;
 
 function LoadSkirmishAI(AIShortName: String):integer;
@@ -1669,6 +1671,7 @@
     Panel.Hint := Description;
     Panel.Font.Style := [fsBold];
     Panel.TBXStyleBackground := True;
+    Panel.Visible := True;
     //MakeDescriptionButton(Panel);
   end;
   Result := Panel;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002304.html">[Taspring-linux-commit] r7534 - Lobby/TASClient
</A></li>
	<LI>Next message: <A HREF="002306.html">[Taspring-linux-commit] r7536 - Lobby/TASClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2305">[ date ]</a>
              <a href="thread.html#2305">[ thread ]</a>
              <a href="subject.html#2305">[ subject ]</a>
              <a href="author.html#2305">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
