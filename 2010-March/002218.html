<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r7448 - Lobby/TASClient
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2010-March/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7448%20-%20Lobby/TASClient&In-Reply-To=%3C20100328162802.6DC3A2B504%40it-l.eu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002217.html">
   <LINK REL="Next"  HREF="002219.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r7448 - Lobby/TASClient</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7448%20-%20Lobby/TASClient&In-Reply-To=%3C20100328162802.6DC3A2B504%40it-l.eu%3E"
       TITLE="[Taspring-linux-commit] r7448 - Lobby/TASClient">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Sun Mar 28 18:28:02 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002217.html">[Taspring-linux-commit] r7447 - in Lobby/TASClient: .	LobbyComponents/DockPanel
</A></li>
        <LI>Next message: <A HREF="002219.html">[Taspring-linux-commit] r7449 - Lobby/TASClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2218">[ date ]</a>
              <a href="thread.html#2218">[ thread ]</a>
              <a href="subject.html#2218">[ subject ]</a>
              <a href="author.html#2218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: satirik
Date: 2010-03-28 18:28:01 +0200 (Sun, 28 Mar 2010)
New Revision: 7448

Modified:
   Lobby/TASClient/AutoJoinFormUnit.dfm
   Lobby/TASClient/AutoJoinFormUnit.pas
   Lobby/TASClient/BattleFormUnit.dfm
   Lobby/TASClient/BattleFormUnit.pas
   Lobby/TASClient/ColorsPreferenceUnit.pas
   Lobby/TASClient/MainUnit.dfm
   Lobby/TASClient/MainUnit.pas
   Lobby/TASClient/PreferencesFormUnit.dfm
   Lobby/TASClient/PreferencesFormUnit.pas
   Lobby/TASClient/ReplaysUnit.dfm
   Lobby/TASClient/ReplaysUnit.pas
Log:
* switch to latest sptbx part 9

Modified: Lobby/TASClient/AutoJoinFormUnit.dfm
===================================================================
--- Lobby/TASClient/AutoJoinFormUnit.dfm	2010-03-26 21:14:50 UTC (rev 7447)
+++ Lobby/TASClient/AutoJoinFormUnit.dfm	2010-03-28 16:28:01 UTC (rev 7448)
@@ -1,6 +1,6 @@
 object AutoJoinForm: TAutoJoinForm
-  Left = 335
-  Top = 253
+  Left = 897
+  Top = 165
   BorderStyle = bsSingle
   Caption = 'AutoJoin'
   ClientHeight = 565
@@ -50,12 +50,14 @@
         Header.Font.Height = -11
         Header.Font.Name = 'MS Sans Serif'
         Header.Font.Style = []
-        Header.Options = [hoColumnResize, hoDrag, hoVisible]
+        Header.Options = [hoColumnResize, hoDrag, hoHotTrack, hoOwnerDraw, hoVisible]
         Header.Style = hsFlatButtons
         TabOrder = 0
-        TreeOptions.PaintOptions = [toShowButtons, toShowDropmark, toShowTreeLines, toShowVertGridLines, toThemeAware, toUseBlendedImages, toFullVertGridLines]
+        TreeOptions.PaintOptions = [toHotTrack, toShowButtons, toShowDropmark, toThemeAware, toUseBlendedImages, toFullVertGridLines]
         TreeOptions.SelectionOptions = [toFullRowSelect]
+        OnDrawText = VSTAutoplayPresetListDrawText
         OnGetText = VSTAutoplayPresetListGetText
+        OnHeaderDraw = VSTAutoplayPresetListHeaderDraw
         Columns = &lt;
           item
             Position = 0
@@ -226,12 +228,14 @@
         Header.Font.Height = -11
         Header.Font.Name = 'MS Sans Serif'
         Header.Font.Style = []
-        Header.Options = [hoColumnResize, hoDrag, hoVisible]
+        Header.Options = [hoColumnResize, hoDrag, hoHotTrack, hoOwnerDraw, hoVisible]
         Header.Style = hsFlatButtons
         TabOrder = 0
-        TreeOptions.PaintOptions = [toShowButtons, toShowDropmark, toShowTreeLines, toShowVertGridLines, toThemeAware, toUseBlendedImages, toFullVertGridLines]
+        TreeOptions.PaintOptions = [toHotTrack, toShowButtons, toShowDropmark, toShowTreeLines, toThemeAware, toUseBlendedImages, toFullVertGridLines]
         TreeOptions.SelectionOptions = [toFullRowSelect]
+        OnDrawText = VSTAutospecPresetListDrawText
         OnGetText = VSTAutospecPresetListGetText
+        OnHeaderDraw = VSTAutospecPresetListHeaderDraw
         Columns = &lt;
           item
             Position = 0

Modified: Lobby/TASClient/AutoJoinFormUnit.pas
===================================================================
--- Lobby/TASClient/AutoJoinFormUnit.pas	2010-03-26 21:14:50 UTC (rev 7447)
+++ Lobby/TASClient/AutoJoinFormUnit.pas	2010-03-28 16:28:01 UTC (rev 7448)
@@ -67,6 +67,20 @@
     procedure btClearPresetsClick(Sender: TObject);
     procedure lstPresetListClick(Sender: TObject);
     procedure lstPresetListDblClick(Sender: TObject);
+    procedure VSTAutoplayPresetListDrawText(Sender: TBaseVirtualTree;
+      TargetCanvas: TCanvas; Node: PVirtualNode; Column: TColumnIndex;
+      const Text: WideString; const CellRect: TRect;
+      var DefaultDraw: Boolean);
+    procedure VSTAutospecPresetListDrawText(Sender: TBaseVirtualTree;
+      TargetCanvas: TCanvas; Node: PVirtualNode; Column: TColumnIndex;
+      const Text: WideString; const CellRect: TRect;
+      var DefaultDraw: Boolean);
+    procedure VSTAutoplayPresetListHeaderDraw(Sender: TVTHeader;
+      HeaderCanvas: TCanvas; Column: TVirtualTreeColumn; R: TRect; Hover,
+      Pressed: Boolean; DropMark: TVTDropMarkMode);
+    procedure VSTAutospecPresetListHeaderDraw(Sender: TVTHeader;
+      HeaderCanvas: TCanvas; Column: TVirtualTreeColumn; R: TRect; Hover,
+      Pressed: Boolean; DropMark: TVTDropMarkMode);
   private
     { Private declarations }
   public
@@ -412,6 +426,36 @@
   LoadAutoJoinPresets;
 end;
 
+procedure TAutoJoinForm.VSTAutoplayPresetListDrawText(
+  Sender: TBaseVirtualTree; TargetCanvas: TCanvas; Node: PVirtualNode;
+  Column: TColumnIndex; const Text: WideString; const CellRect: TRect;
+  var DefaultDraw: Boolean);
+begin
+  MainForm.FilterListDrawText(Sender,TargetCanvas,Node,Column,Text,CellRect,DefaultDraw);
+end;
+
+procedure TAutoJoinForm.VSTAutospecPresetListDrawText(
+  Sender: TBaseVirtualTree; TargetCanvas: TCanvas; Node: PVirtualNode;
+  Column: TColumnIndex; const Text: WideString; const CellRect: TRect;
+  var DefaultDraw: Boolean);
+begin
+  MainForm.FilterListDrawText(Sender,TargetCanvas,Node,Column,Text,CellRect,DefaultDraw);
+end;
+
+procedure TAutoJoinForm.VSTAutoplayPresetListHeaderDraw(Sender: TVTHeader;
+  HeaderCanvas: TCanvas; Column: TVirtualTreeColumn; R: TRect; Hover,
+  Pressed: Boolean; DropMark: TVTDropMarkMode);
+begin
+  MainForm.VDTBattlesHeaderDraw(Sender,HeaderCanvas,Column,R,Hover,Pressed,DropMark);
+end;
+
+procedure TAutoJoinForm.VSTAutospecPresetListHeaderDraw(Sender: TVTHeader;
+  HeaderCanvas: TCanvas; Column: TVirtualTreeColumn; R: TRect; Hover,
+  Pressed: Boolean; DropMark: TVTDropMarkMode);
+begin
+  MainForm.VDTBattlesHeaderDraw(Sender,HeaderCanvas,Column,R,Hover,Pressed,DropMark);
+end;
+
 end.
 
 

Modified: Lobby/TASClient/BattleFormUnit.dfm
===================================================================
--- Lobby/TASClient/BattleFormUnit.dfm	2010-03-26 21:14:50 UTC (rev 7447)
+++ Lobby/TASClient/BattleFormUnit.dfm	2010-03-28 16:28:01 UTC (rev 7448)
@@ -1,6 +1,6 @@
 object BattleForm: TBattleForm
-  Left = 805
-  Top = 417
+  Left = 874
+  Top = 100
   Width = 920
   Height = 612
   Caption = 'Battle window'
@@ -4579,7 +4579,6 @@
           SelectedInOut = False
           PlainRTF = False
           UndoLimit = 0
-          AllowInPlace = False
         end
       end
     end
@@ -4756,7 +4755,7 @@
         ShowHint = True
         TabOrder = 0
         TreeOptions.MiscOptions = [toAcceptOLEDrop, toFullRepaintOnResize, toInitOnSave, toToggleOnDblClick, toWheelPanning, toFullRowDrag]
-        TreeOptions.PaintOptions = [toHideFocusRect, toShowButtons, toShowDropmark, toThemeAware, toUseBlendedImages]
+        TreeOptions.PaintOptions = [toHideFocusRect, toHotTrack, toShowButtons, toShowDropmark, toThemeAware, toUseBlendedImages]
         TreeOptions.SelectionOptions = [toFullRowSelect, toRightClickSelect]
         OnDblClick = VDTBattleClientsDblClick
         OnDragAllowed = VDTBattleClientsDragAllowed
@@ -4802,23 +4801,11 @@
           end
           item
             Position = 6
-            Width = 10
+            Width = 66
             WideText = 'Player Bonus'
           end
           item
-            MaxWidth = 1000
             Position = 7
-            Width = 40
-            WideText = 'Rank'
-          end
-          item
-            MaxWidth = 1000
-            Position = 8
-            Width = 40
-            WideText = 'Rating'
-          end
-          item
-            Position = 9
             Width = 10
             WideText = 'Order'
           end&gt;
@@ -12764,11 +12751,10 @@
         Align = alClient
         BiDiMode = bdLeftToRight
         ParentBiDiMode = False
-        ActiveTabIndex = 0
+        ActiveTabIndex = 1
         OnActiveTabChange = SpTBXTabControl1ActiveTabChange
         HiddenItems = &lt;&gt;
         object QuickLookTab: TSpTBXTabItem
-          Checked = True
           ImageIndex = 1
           Images = MainForm.ArrowList
           CustomWidth = 40
@@ -12776,6 +12762,7 @@
         object GameOptionsTab: TSpTBXTabItem
           Caption = 'Game options'
           Wrapping = twWrap
+          Checked = True
           CustomWidth = 80
           CustomHeight = 35
         end
@@ -12924,6 +12911,98 @@
             end
           end
         end
+        object SpTBXTabSheet1: TSpTBXTabSheet
+          Left = 0
+          Top = 39
+          Width = 417
+          Height = 234
+          Caption = 'Disabled Units (0)'
+          ImageIndex = -1
+          DesignSize = (
+            417
+            234)
+          TabItem = 'DisabledUnitsTab'
+          object UnitsGroupBox: TSpTBXGroupBox
+            Left = 8
+            Top = 4
+            Width = 401
+            Height = 227
+            Caption = 'Disabled units'
+            Anchors = [akLeft, akTop, akBottom]
+            TabOrder = 0
+            DesignSize = (
+              401
+              227)
+            object VDTDisabledUnits: TVirtualDrawTree
+              Left = 16
+              Top = 32
+              Width = 369
+              Height = 183
+              Anchors = [akLeft, akTop, akRight, akBottom]
+              DefaultNodeHeight = 64
+              Header.AutoSizeIndex = 1
+              Header.DefaultHeight = 17
+              Header.Font.Charset = DEFAULT_CHARSET
+              Header.Font.Color = clWindowText
+              Header.Font.Height = -11
+              Header.Font.Name = 'MS Sans Serif'
+              Header.Font.Style = []
+              Header.Options = [hoAutoResize, hoColumnResize, hoDrag]
+              TabOrder = 0
+              TreeOptions.PaintOptions = [toHideFocusRect, toShowButtons, toShowDropmark, toThemeAware, toUseBlendedImages]
+              TreeOptions.SelectionOptions = [toFullRowSelect]
+              OnDrawNode = VDTDisabledUnitsDrawNode
+              Columns = &lt;
+                item
+                  Position = 0
+                  Width = 64
+                  WideText = 'Icon'
+                end
+                item
+                  Position = 1
+                  Width = 201
+                  WideText = 'FullName'
+                end
+                item
+                  Position = 2
+                  Width = 100
+                  WideText = 'Code name'
+                end&gt;
+            end
+            object AddUnitsSpeedButton: TSpTBXButton
+              Left = 232
+              Top = 10
+              Width = 153
+              Height = 22
+              Caption = 'Add more units'
+              TabOrder = 1
+              OnClick = AddUnitsSpeedButtonClick
+            end
+          end
+        end
+        object SpTBXTabSheet6: TSpTBXTabSheet
+          Left = 0
+          Top = 39
+          Width = 417
+          Height = 234
+          ImageIndex = 1
+          TabItem = 'QuickLookTab'
+          object QuickLookRichEdit: TRichEdit
+            Left = 2
+            Top = 0
+            Width = 413
+            Height = 232
+            Align = alClient
+            BorderStyle = bsNone
+            Color = clBtnFace
+            ParentShowHint = False
+            ReadOnly = True
+            ScrollBars = ssVertical
+            ShowHint = True
+            TabOrder = 0
+            OnMouseMove = QuickLookRichEditMouseMove
+          end
+        end
         object SpTBXTabSheet2: TSpTBXTabSheet
           Left = 0
           Top = 39
@@ -12994,32 +13073,69 @@
               Alignment = taCenter
             end
             object EnergyTracker: TSpTBXTrackBar
-              Left = 64
+              Left = 66
               Top = 24
-              Width = 41
+              Width = 23
               Height = 161
               Orientation = trVertical
               TabOrder = 3
+              TickMarks = tmxCenter
+              TickStyle = tsNone
               OnChange = EnergyTrackerChange
+              OnMouseUp = EnergyTrackerMouseUp
             end
             object MetalTracker: TSpTBXTrackBar
               Left = 16
               Top = 24
-              Width = 33
+              Width = 25
               Height = 161
               Orientation = trVertical
               TabOrder = 4
+              TickMarks = tmxCenter
+              TickStyle = tsNone
               OnChange = MetalTrackerChange
+              OnMouseUp = MetalTrackerMouseUp
             end
             object UnitsTracker: TSpTBXTrackBar
-              Left = 112
+              Left = 116
               Top = 24
-              Width = 25
+              Width = 29
               Height = 161
+              Max = 10000
               Orientation = trVertical
               TabOrder = 5
+              TickMarks = tmxCenter
+              TickStyle = tsNone
               OnChange = UnitsTrackerChange
+              OnMouseUp = UnitsTrackerMouseUp
             end
+            object lblMetalValue: TSpTBXLabel
+              Left = 6
+              Top = 16
+              Width = 41
+              Height = 13
+              Caption = '0'
+              AutoSize = False
+              Alignment = taCenter
+            end
+            object lblEnergyValue: TSpTBXLabel
+              Left = 56
+              Top = 16
+              Width = 41
+              Height = 13
+              Caption = '0'
+              AutoSize = False
+              Alignment = taCenter
+            end
+            object lblUnitsValue: TSpTBXLabel
+              Left = 106
+              Top = 16
+              Width = 41
+              Height = 13
+              Caption = '0'
+              AutoSize = False
+              Alignment = taCenter
+            end
           end
           object GameEndRadioGroup: TSpTBXRadioGroup
             Left = 16
@@ -13077,98 +13193,6 @@
             OnClick = SetDefaultButtonClick
           end
         end
-        object SpTBXTabSheet1: TSpTBXTabSheet
-          Left = 0
-          Top = 39
-          Width = 417
-          Height = 234
-          Caption = 'Disabled Units (0)'
-          ImageIndex = -1
-          DesignSize = (
-            417
-            234)
-          TabItem = 'DisabledUnitsTab'
-          object UnitsGroupBox: TSpTBXGroupBox
-            Left = 8
-            Top = 4
-            Width = 401
-            Height = 227
-            Caption = 'Disabled units'
-            Anchors = [akLeft, akTop, akBottom]
-            TabOrder = 0
-            DesignSize = (
-              401
-              227)
-            object VDTDisabledUnits: TVirtualDrawTree
-              Left = 16
-              Top = 32
-              Width = 369
-              Height = 183
-              Anchors = [akLeft, akTop, akRight, akBottom]
-              DefaultNodeHeight = 64
-              Header.AutoSizeIndex = 1
-              Header.DefaultHeight = 17
-              Header.Font.Charset = DEFAULT_CHARSET
-              Header.Font.Color = clWindowText
-              Header.Font.Height = -11
-              Header.Font.Name = 'MS Sans Serif'
-              Header.Font.Style = []
-              Header.Options = [hoAutoResize, hoColumnResize, hoDrag]
-              TabOrder = 0
-              TreeOptions.PaintOptions = [toHideFocusRect, toShowButtons, toShowDropmark, toThemeAware, toUseBlendedImages]
-              TreeOptions.SelectionOptions = [toFullRowSelect]
-              OnDrawNode = VDTDisabledUnitsDrawNode
-              Columns = &lt;
-                item
-                  Position = 0
-                  Width = 64
-                  WideText = 'Icon'
-                end
-                item
-                  Position = 1
-                  Width = 201
-                  WideText = 'FullName'
-                end
-                item
-                  Position = 2
-                  Width = 100
-                  WideText = 'Code name'
-                end&gt;
-            end
-            object AddUnitsSpeedButton: TSpTBXButton
-              Left = 232
-              Top = 10
-              Width = 153
-              Height = 22
-              Caption = 'Add more units'
-              TabOrder = 1
-              OnClick = AddUnitsSpeedButtonClick
-            end
-          end
-        end
-        object SpTBXTabSheet6: TSpTBXTabSheet
-          Left = 0
-          Top = 39
-          Width = 417
-          Height = 234
-          ImageIndex = 1
-          TabItem = 'QuickLookTab'
-          object QuickLookRichEdit: TRichEdit
-            Left = 2
-            Top = 0
-            Width = 413
-            Height = 232
-            Align = alClient
-            BorderStyle = bsNone
-            Color = clBtnFace
-            ParentShowHint = False
-            ReadOnly = True
-            ScrollBars = ssVertical
-            ShowHint = True
-            TabOrder = 0
-            OnMouseMove = QuickLookRichEditMouseMove
-          end
-        end
       end
     end
   end

Modified: Lobby/TASClient/BattleFormUnit.pas
===================================================================
--- Lobby/TASClient/BattleFormUnit.pas	2010-03-26 21:14:50 UTC (rev 7447)
+++ Lobby/TASClient/BattleFormUnit.pas	2010-03-28 16:28:01 UTC (rev 7448)
@@ -19,7 +19,7 @@
   Dialogs, ExtCtrls, StdCtrls, ComCtrls, Buttons, MainUnit, jpeg,
   VirtualTrees, Menus, RichEditURL, JvExControls, JvComponent, JvButton,
   JvTransparentButton, JvgSpeedButton, JvgShadow, JvgButton, JvExStdCtrls,
-  JvXPCore, JvXPButtons, TB2Item, SpTBXItem,
+  JvXPCore, JvXPButtons, TB2Item, SpTBXItem,SpTBXSkins,
   SpTBXControls, TB2ExtItems, SpTBXEditors, SpTBXTabs, JvLED,
   ImageEx, JvSticker, JvExExtCtrls, JvImage, JvShape, JvLabel,GpIFF,
   ImgList, SpTBXFormPopupMenu,IniFiles,
@@ -430,6 +430,9 @@
     EnergyTracker: TSpTBXTrackBar;
     MetalTracker: TSpTBXTrackBar;
     UnitsTracker: TSpTBXTrackBar;
+    lblMetalValue: TSpTBXLabel;
+    lblEnergyValue: TSpTBXLabel;
+    lblUnitsValue: TSpTBXLabel;
 
     procedure CreateParams(var Params: TCreateParams); override;
 
@@ -725,6 +728,12 @@
     procedure VDTBattleClientsHeaderDraw(Sender: TVTHeader;
       HeaderCanvas: TCanvas; Column: TVirtualTreeColumn; R: TRect; Hover,
       Pressed: Boolean; DropMark: TVTDropMarkMode);
+    procedure MetalTrackerMouseUp(Sender: TObject; Button: TMouseButton;
+      Shift: TShiftState; X, Y: Integer);
+    procedure UnitsTrackerMouseUp(Sender: TObject; Button: TMouseButton;
+      Shift: TShiftState; X, Y: Integer);
+    procedure EnergyTrackerMouseUp(Sender: TObject; Button: TMouseButton;
+      Shift: TShiftState; X, Y: Integer);
   private
     History: TWideStringList;
     HistoryIndex: Integer;
@@ -1855,20 +1864,6 @@
   HostButton.Enabled := False;
   AddBotButton.Enabled := True;
 
-  if BattleState.Battle.IsLadderBattle then begin
-    VDTBattleClients.Header.Columns[7].MaxWidth := 40;
-    VDTBattleClients.Header.Columns[7].MinWidth := 40;
-    VDTBattleClients.Header.Columns[8].MaxWidth := 40;
-    VDTBattleClients.Header.Columns[8].MinWidth := 40;
-  end
-  else
-  begin
-    VDTBattleClients.Header.Columns[7].MinWidth := 0;
-    VDTBattleClients.Header.Columns[7].MaxWidth := 0;
-    VDTBattleClients.Header.Columns[8].MinWidth := 0;
-    VDTBattleClients.Header.Columns[8].MaxWidth := 0;
-  end;
-
   AddTextToChat('Joined battle', Colors.Info, 1);
 
   BattleState.Status := Joined;
@@ -1955,11 +1950,6 @@
   HostButton.Enabled := False;
   AddBotButton.Enabled := False;
 
-  VDTBattleClients.Header.Columns[7].MinWidth := 0;
-  VDTBattleClients.Header.Columns[7].MaxWidth := 0;
-  VDTBattleClients.Header.Columns[8].MinWidth := 0;
-  VDTBattleClients.Header.Columns[8].MaxWidth := 0;
-
   AddTextToChat('Joined battle replay', Colors.Info, 1);
 
   BattleState.Status := Joined;
@@ -2008,30 +1998,6 @@
   BattleState.DisabledUnits.Clear;
   PopulateDisabledUnitsVDT;
 
-  if BattleState.LadderIndex &gt; -1 then begin
-    disabledUnits := '';
-    BattleState.DisabledUnits.Assign(TLadder(LadderList[BattleState.LadderIndex]).Restricted);
-    VDTDisabledUnits.RootNodeCount := BattleState.DisabledUnits.Count;
-    disabledUnits := JoinStringList(BattleState.DisabledUnits,' ');
-
-
-    MainForm.TryToSendCommand('ENABLEALLUNITS');
-    Delete(disabledUnits, 1, 1); // remove first space character
-    MainForm.TryToSendCommand('DISABLEUNITS', disabledUnits);
-
-    VDTBattleClients.Header.Columns[7].MaxWidth := 40;
-    VDTBattleClients.Header.Columns[7].MinWidth := 40;
-    VDTBattleClients.Header.Columns[8].MaxWidth := 40;
-    VDTBattleClients.Header.Columns[8].MinWidth := 40;
-  end
-  else
-  begin
-    VDTBattleClients.Header.Columns[7].MinWidth := 0;
-    VDTBattleClients.Header.Columns[7].MaxWidth := 0;
-    VDTBattleClients.Header.Columns[8].MinWidth := 0;
-    VDTBattleClients.Header.Columns[8].MaxWidth := 0;
-  end;
-
   GameEndRadioGroup.Enabled := True;
   EnableControlAndChildren(ResourcesGroupBox);
   EnableControlAndChildren(MyOptionsGroupBox);
@@ -2931,9 +2897,9 @@
   InputEdit.Align := alBottom;
   ChatRichEdit.Align := alClient;
 
-  mask := SendMessage(ChatRichEdit.Handle, EM_GETEVENTMASK, 0, 0);
+  {mask := SendMessage(ChatRichEdit.Handle, EM_GETEVENTMASK, 0, 0);
   SendMessage(ChatRichEdit.Handle, EM_SETEVENTMASK, 0, mask or ENM_LINK);
-  SendMessage(ChatRichEdit.Handle, EM_AUTOURLDETECT, Integer(True), 0);
+  SendMessage(ChatRichEdit.Handle, EM_AUTOURLDETECT, Integer(True), 0); }
 
   MapImage.Picture.Bitmap.Assign(NoMapImage.Picture.Bitmap);
   //ChangeMapToNoMap('Loading...');
@@ -4616,9 +4582,14 @@
   FlagBitmap: TBitmap;
   i: integer;
   tmp: integer;
+  BgRect: TRect;
+  pt: TPoint;
+  hot: Boolean;
 begin
   Index := PaintInfo.Node.Index;
 
+  PaintInfo.Canvas.Font := BattleClientsListFont;
+
   if not IsBattleActive then
   begin
     UpdateClientsListBox;
@@ -4639,55 +4610,73 @@
 
   GetNodeClient(Index,RealIndex,WhatToDraw);
 
-  if (WhatToDraw = NormalClient) or (WhatToDraw = NormalBot) then
+  with Sender as TVirtualDrawTree, PaintInfo do
   begin
-    // this ensures the correct highlite color is used (if item is not selected, otherwise VDT will paint it correctly anyway):
-    if not VDTBattleClients.Selected[PaintInfo.Node] then
-    begin
-      PaintInfo.Canvas.Brush.Color := VDTBattleClients.Color;
-      PaintInfo.Canvas.FillRect(PaintInfo.CellRect);
-    end
-    else ; // VDT will paint it correctly, no need for us to overwrite it  
-  end
-  else
-  begin
-    PaintInfo.Canvas.Brush.Color := $00ffdddd; { 0 b g r }
-    PaintInfo.Canvas.FillRect(PaintInfo.CellRect);
-  end;
 
+    GetCursorPos(pt);
+    pt := ScreenToClient(pt);
 
-  // do the actual drawing:
+    hot := (SkinManager.GetSkinType=sknSkin) and BattleForm.Active and (pt.Y &gt;= Node.Index*NodeHeight[Node]) and (pt.Y &lt; (Node.Index+1)*NodeHeight[Node]) and PointInRect((Sender as TVirtualDrawTree).Canvas.ClipRect,pt);
+  
+    CopyRect(BgRect,CellRect);
+    if Position &lt;&gt; 0 then
+      BgRect.Left := -5;
+    if Position &lt;&gt; Header.Columns.Count-1 then
+      BgRect.Right := BgRect.Right+5;
 
-  with Sender as TVirtualDrawTree, PaintInfo do
-  begin
 
+    if (Node = FocusedNode) and focused then
+    begin
+      if SkinManager.GetSkinType=sknSkin then
+      begin
+        Canvas.Font.Color := SkinManager.CurrentSkin.GetTextColor(skncListItem,sknsChecked);
+        SkinManager.CurrentSkin.PaintBackground(Canvas,BgRect,skncListItem,sknsChecked,True,True);
+        Canvas.Brush.Style := Graphics.bsClear;
+      end
+      else
+      begin
+        Canvas.Font.Color := clHighlightText;
+        Canvas.Brush.Color := clHighlight;
+        Canvas.FillRect(CellRect);
+      end;
+    end
+    else
+    begin
+      Canvas.Font.Color := clWindowText;
+      if (WhatToDraw = NormalClient) or (WhatToDraw = NormalBot) then
+      begin
+        if hot then
+        begin
+          Canvas.Font.Color := SkinManager.CurrentSkin.GetTextColor(skncListItem,sknsHotTrack);
+          SkinManager.CurrentSkin.PaintBackground(Canvas,BgRect,skncListItem,sknsHotTrack,True,True);
+          Canvas.Brush.Style := Graphics.bsClear;
+        end
+        else
+        begin
+          PaintInfo.Canvas.Brush.Color := VDTBattleClients.Color;
+          PaintInfo.Canvas.FillRect(PaintInfo.CellRect);
+        end;
+      end
+      else
+      begin
+        PaintInfo.Canvas.Brush.Color := $00ffdddd; { 0 b g r }
+        PaintInfo.Canvas.FillRect(PaintInfo.CellRect);
+      end;
+    end;
+
     R := ContentRect;
     InflateRect(R, -TextMargin, 0);
     Dec(R.Right);
     Dec(R.Bottom);
 
-    PaintInfo.Canvas.Font := BattleClientsListFont;
-
     // set correct font color:
     case WhatToDraw of
-      NormalClient:
-      begin
-        Canvas.Font.Color := clWindowText;
-        if (Node = FocusedNode) and Focused then
-          Canvas.Font.Color := clHighlightText; // $00FFDDDD;  // (0, B, G, R)
-      end;
       NormalBot:
       begin
         Canvas.Font.Color := MainUnit.Colors.BotText;
         if (Node = FocusedNode) and Focused then
           Canvas.Font.Color := clHighlightText;
       end;
-      OriginalClient:
-      begin
-        Canvas.Font.Color := clWindowText;
-        if (Node = FocusedNode) and Focused then
-          Canvas.Font.Color := clHighlightText; // $00CC6666;  // (0, B, G, R)
-      end;
     end;
 
     Pos := 0;
@@ -4726,10 +4715,13 @@
           end;
 
           // group highlight
-          group := TClient(BattleState.Battle.Clients[RealIndex]).GetGroup;
-          if (group &lt;&gt; nil) and (PaintInfo.Node &lt;&gt; VDTBattleClients.FocusedNode) then begin
-            Canvas.Brush.Color := group.Color;
-            Canvas.FillRect(Rect(R.Left+Pos,R.Top,R.Right,R.Bottom));
+          if not hot then
+          begin
+            group := TClient(BattleState.Battle.Clients[RealIndex]).GetGroup;
+            if (group &lt;&gt; nil) and (PaintInfo.Node &lt;&gt; VDTBattleClients.FocusedNode) then begin
+              Canvas.Brush.Color := group.Color;
+              Canvas.FillRect(Rect(R.Left+Pos,R.Top,R.Right,R.Bottom));
+            end;
           end;
 
           // cups
@@ -4834,11 +4826,14 @@
                 Pen.Color := clGray;
 
               Ellipse(R.Left + Pos + 2, R.Top + 2, R.Left + Pos + 13, R.Top + 13);
+              
               Pen.Color := TempPenColor;
               Brush.Color := TempBrushColor;
+
+              Brush.Style := Graphics.bsClear;
+
+              TextOut(R.Left + Pos + MainForm.ColorImageList.Width, R.Top, s);
             end;
-            // team no.:
-            Canvas.TextOut(R.Left + Pos + MainForm.ColorImageList.Width, R.Top, s);
           end;
         end;
         NormalBot:
@@ -5000,59 +4995,10 @@
         end;
       end; // case WhatToDraw
 
-      7: // ladder rank
+      7: // order
       case WhatToDraw of
         NormalClient:
         begin
-          if TClient(BattleState.Battle.Clients[RealIndex]).CurrentLadderRank = 0 then
-            Canvas.TextOut(R.Left + Pos, R.Top,'n/a')
-          else if TClient(BattleState.Battle.Clients[RealIndex]).CurrentLadderRank = -2 then
-            Canvas.TextOut(R.Left + Pos, R.Top,'n/a')
-          else if TClient(BattleState.Battle.Clients[RealIndex]).CurrentLadderRank = -1 then
-            Canvas.TextOut(R.Left + Pos, R.Top,'...')
-          else
-            Canvas.TextOut(R.Left + Pos, R.Top, IntToStr(TClient(BattleState.Battle.Clients[RealIndex]).CurrentLadderRank));
-        end;
-        NormalBot:
-        begin
-          Canvas.TextOut(R.Left + Pos, R.Top, '-');
-        end;
-        OriginalClient:
-        begin
-            Canvas.TextOut(R.Left + Pos, R.Top, '-');
-        end;
-      end; // case WhatToDraw
-
-      8: // ladder rating
-      case WhatToDraw of
-        NormalClient:
-        begin
-          if TClient(BattleState.Battle.Clients[RealIndex]).CurrentLadderRating = 0 then
-          begin
-            Canvas.Brush.Color := clRed;
-            Canvas.TextOut(R.Left + Pos, R.Top,_('No ladder account.'));
-          end
-          else if TClient(BattleState.Battle.Clients[RealIndex]).CurrentLadderRating = -2 then
-            Canvas.TextOut(R.Left + Pos, R.Top,'n/a')
-          else if TClient(BattleState.Battle.Clients[RealIndex]).CurrentLadderRating = -1 then
-            Canvas.TextOut(R.Left + Pos, R.Top,'...')
-          else
-            Canvas.TextOut(R.Left + Pos, R.Top, IntToStr(TClient(BattleState.Battle.Clients[RealIndex]).CurrentLadderRating));
-        end;
-        NormalBot:
-        begin
-          Canvas.TextOut(R.Left + Pos, R.Top, '-');
-        end;
-        OriginalClient:
-        begin
-            Canvas.TextOut(R.Left + Pos, R.Top, '-');
-        end;
-      end; // case WhatToDraw
-
-      9: // order
-      case WhatToDraw of
-        NormalClient:
-        begin
             Canvas.TextOut(R.Left + Pos, R.Top, IntToStr(RealIndex+1));
         end;
         NormalBot:
@@ -8409,37 +8355,17 @@
 
 procedure TBattleForm.EnergyTrackerChange(Sender: TObject);
 begin
-  if not (BattleState.Status = Hosting) then Exit; // this should not happen though
-
-  if not AllowBattleDetailsUpdate then Exit;
-
-  if not EnergyTracker.Visible then Exit;
-
-  MainForm.TryToSendCommand('SETSCRIPTTAGS', 'GAME/modoptions/StartEnergy='+IntToStr(EnergyTracker.Position));
+  lblEnergyValue.Caption := IntToStr(EnergyTracker.Position);
 end;
 
 procedure TBattleForm.MetalTrackerChange(Sender: TObject);
 begin
-  if not (BattleState.Status = Hosting) then Exit; // this should not happen though
-
-  if not AllowBattleDetailsUpdate then Exit;
-
-  if not MetalTracker.Visible then Exit;
-
-  MainForm.TryToSendCommand('SETSCRIPTTAGS', 'GAME/modoptions/StartMetal='+IntToStr(MetalTracker.Position));
+  lblMetalValue.Caption := IntToStr(MetalTracker.Position);
 end;
 
 procedure TBattleForm.UnitsTrackerChange(Sender: TObject);
 begin
-  if not (BattleState.Status = Hosting) then Exit; // this should not happen though
-
-  if not AllowBattleDetailsUpdate then Exit;
-
-  if not UnitsTracker.Visible then Exit;
-
-  if UnitsTracker.Position &lt; 10 then UnitsTracker.Position := 10;
-
-  MainForm.TryToSendCommand('SETSCRIPTTAGS', 'GAME/modoptions/MaxUnits='+IntToStr(UnitsTracker.Position));
+  lblUnitsValue.Caption := IntToStr(UnitsTracker.Position);
 end;
 
 procedure TBattleForm.SpringSettingsProfilePopupMenuPopup(Sender: TObject);
@@ -8471,5 +8397,43 @@
   MainForm.VDTBattlesHeaderDraw(Sender,HeaderCanvas,Column,R,Hover,Pressed,DropMark);
 end;
 
+procedure TBattleForm.MetalTrackerMouseUp(Sender: TObject;
+  Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
+begin
+  if not (BattleState.Status = Hosting) then Exit; // this should not happen though
+
+  if not AllowBattleDetailsUpdate then Exit;
+
+  if not MetalTracker.Visible then Exit;
+
+  MainForm.TryToSendCommand('SETSCRIPTTAGS', 'GAME/modoptions/StartMetal='+IntToStr(MetalTracker.Position));
+end;
+
+procedure TBattleForm.UnitsTrackerMouseUp(Sender: TObject;
+  Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
+begin
+  if not (BattleState.Status = Hosting) then Exit; // this should not happen though
+
+  if not AllowBattleDetailsUpdate then Exit;
+
+  if not UnitsTracker.Visible then Exit;
+
+  if UnitsTracker.Position &lt; 10 then UnitsTracker.Position := 10;
+
+  MainForm.TryToSendCommand('SETSCRIPTTAGS', 'GAME/modoptions/MaxUnits='+IntToStr(UnitsTracker.Position));
+end;
+
+procedure TBattleForm.EnergyTrackerMouseUp(Sender: TObject;
+  Button: TMouseButton; Shift: TShiftState; X, Y: Integer);
+begin
+  if not (BattleState.Status = Hosting) then Exit; // this should not happen though
+
+  if not AllowBattleDetailsUpdate then Exit;
+
+  if not EnergyTracker.Visible then Exit;
+
+  MainForm.TryToSendCommand('SETSCRIPTTAGS', 'GAME/modoptions/StartEnergy='+IntToStr(EnergyTracker.Position));
+end;
+
 end.
 

Modified: Lobby/TASClient/ColorsPreferenceUnit.pas
===================================================================
--- Lobby/TASClient/ColorsPreferenceUnit.pas	2010-03-26 21:14:50 UTC (rev 7447)
+++ Lobby/TASClient/ColorsPreferenceUnit.pas	2010-03-28 16:28:01 UTC (rev 7448)
@@ -247,8 +247,21 @@
 procedure TColorsPreference.ApplyFont;
 var
   i : integer;
+  oldTop: integer;
 begin
-  BattleForm.ChatRichEdit.Font.Assign(CommonFont);
+  // ugly hack to set the battle form chat font
+  if not BattleForm.Visible then
+  begin
+    oldTop := BattleForm.Top;
+    BattleForm.Top := 5000;
+    BattleForm.Show;
+    BattleForm.ChatRichEdit.Font.Assign(CommonFont);
+    BattleForm.Hide;
+    BattleForm.Top := oldTop;
+  end
+  else
+    BattleForm.ChatRichEdit.Font.Assign(CommonFont);
+
   //BattleForm.AutoHostMsgsRichEdit.Font.Assign(CommonFont);
   BattleForm.InputEdit.Font.Assign(CommonFont);
   BattleForm.InputEdit.Height := CommonFont.Size*2+5;

Modified: Lobby/TASClient/MainUnit.dfm
===================================================================
--- Lobby/TASClient/MainUnit.dfm	2010-03-26 21:14:50 UTC (rev 7447)
+++ Lobby/TASClient/MainUnit.dfm	2010-03-28 16:28:01 UTC (rev 7448)
@@ -1,6 +1,6 @@
 object MainForm: TMainForm
-  Left = 637
-  Top = 112
+  Left = 336
+  Top = 156
   Width = 847
   Height = 521
   Caption = '.'
@@ -452,7 +452,7 @@
             ShowHint = True
             TabOrder = 2
             TreeOptions.MiscOptions = [toAcceptOLEDrop, toCheckSupport, toFullRepaintOnResize, toInitOnSave, toToggleOnDblClick, toWheelPanning]
-            TreeOptions.PaintOptions = [toHideFocusRect, toShowButtons, toShowDropmark, toThemeAware, toUseBlendedImages]
+            TreeOptions.PaintOptions = [toHideFocusRect, toHotTrack, toShowButtons, toShowDropmark, toThemeAware, toUseBlendedImages]
             TreeOptions.SelectionOptions = [toFullRowSelect]
             OnChecked = VDTBattlesChecked
             OnDblClick = VDTBattlesDblClick
@@ -466,6 +466,8 @@
             OnMouseDown = VDTBattlesMouseDown
             Columns = &lt;
               item
+                CheckType = ctButton
+                CheckBox = True
                 Options = [coDraggable, coEnabled, coParentBidiMode, coParentColor, coResizable, coShowDropMark, coVisible]
                 Position = 0
                 Width = 37
@@ -663,7 +665,7 @@
                 object FilterList: TVirtualStringTree
                   Left = 472
                   Top = 8
-                  Width = 337
+                  Width = 345
                   Height = 129
                   CheckImageKind = ckSystemFlat
                   ClipboardFormats.Strings = (
@@ -688,6 +690,7 @@
                   OnChecking = FilterListChecking
                   OnClick = FilterListClick
                   OnCompareNodes = FilterListCompareNodes
+                  OnDrawText = FilterListDrawText
                   OnEditing = FilterListEditing
                   OnGetText = FilterListGetText
                   OnHeaderClick = FilterListHeaderClick
@@ -716,7 +719,7 @@
                     end
                     item
                       Position = 3
-                      Width = 170
+                      Width = 178
                       WideText = 'Value'
                     end&gt;
                 end
@@ -1194,8 +1197,8 @@
     Left = 176
     Top = 288
     Bitmap = {
-      494C010119001D00040010001000FFFFFFFFFF10FFFFFFFFFFFFFFFF424D3600
-      0000000000003600000028000000400000008000000001002000000000000080
+      494C010104000900040010001000FFFFFFFFFF00FFFFFFFFFFFFFFFF424D3600
+      0000000000003600000028000000400000003000000001002000000000000030
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
@@ -1324,129 +1327,81 @@
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000004242
-      4200636363006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006363
-      6300424242000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      000000000000000000000000000000000000000000000000000052525200B5B5
-      B500B5B5B500B5B5B500B5B5B500B5B5B500B5B5B500B5B5B500B5B5B500B5B5
-      B500B5B5B5005252520000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000000000000000000000000000393939007B7B7B007B7B
-      7B007B7B7B007B7B7B007B7B7B007B7B7B007B7B7B007B7B7B007B7B7B007B7B
-      7B007B7B7B007B7B7B0039393900000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000031313100313131003131
-      3100313131002121210010101800313131003131310031313100212121002929
-      2900313131003131310031313100000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000808080010101000101010001010
-      10000808080010105A0010084200101010001010100010101000080839000808
-      3900101010001010100010101000080808000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000808080010101000101010001010
-      10000808080021188400211094000808080010101000000010002110A5001810
-      6B00101010001010100010101000080808000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000808080010101000101010001010
-      100010101000080829002110B50010087B00080029001808A5002110AD000808
-      2100101010001010100010101000080808000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000808080010101000101010001010
-      10001010100010101000080042002108CE002100DE001800BD00080029001010
-      1000101010001010100010101000080808000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000808080010101000101010001010
-      1000101010000808080010086B002108CE002100D60018009400080810001010
-      1000101010001010100010101000080808000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000808080010101000101010001010
-      100008081000181884002110B5001008730010005A002108C6002110A5000808
-      4200080810001010100010101000080808000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000808080010101000101010001010
-      1000101042002118940010085200080808001010100008003900211094001810
-      6B00080810001010100010101000080808000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000808080010101000101010001010
-      10000808180018186B0008080800101010001010100010101000080808000808
-      0800101010001010100010101000080808000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000010101000101010001010
-      1000101010000000000010101000101010001010100010101000101010001010
-      1000101010001010100010101000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000008080800101010001010
-      1000101010001010100010101000101010001010100010101000101010001010
-      1000101010001010100008080800000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000080808001010
-      1000101010001010100010101000101010001010100010101000101010001010
-      1000101010000808080000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000004242
-      4200080808000808080008080800080808000808080008080800080808000808
-      0800424242000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
@@ -1454,133 +1409,183 @@
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
+      0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000002929290029292900292929002929
       2900292929002929290029292900292929002929290029292900292929002929
       2900292929002929290029292900292929002929290029292900292929002929
       2900292929002929290029292900292929002929290029292900292929002929
       290029292900292929002929290029292900429C5200429C5200429C5200429C
       5200429C5200429C5200429C5200429C5200429C5200429C5200429C5200429C
-      5200429C5200429C5200429C5200429C52000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000003131310031313100313131003131
+      5200429C5200429C5200429C5200429C52000000000000000000000000004242
+      4200636363006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006363
+      6300424242000000000000000000000000003131310031313100313131003131
       3100313131003131310031313100313131003131310031313100313131003131
       3100313131003131310031313100313131003131310031313100313131003131
       3100313131003131310031313100313131003131310031313100313131003131
       310031313100313131003131310031313100429C5200429C5200429C5200429C
       5200429C5200429C5200429C5200429C5200429C5200429C5200429C5200429C
-      5200429C5200429C5200429C5200429C52000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000003131310031313100313131003131
+      5200429C5200429C5200429C5200429C5200000000000000000052525200B5B5
+      B500B5B5B500B5B5B500B5B5B500B5B5B500B5B5B500B5B5B500B5B5B500B5B5
+      B500B5B5B5005252520000000000000000003131310031313100313131003131
       3100313131003131310031313100313131003131310031313100313131003131
       3100313131003131310031313100313131003131310031313100313131003131
       3100313131003131310031313100313131003131310031313100313131003131
       31003131310031313100313131003131310042A55A0042A55A0042A55A0042A5
       5A0042A55A004AA55A0042A55A004AA55A004AA55A0042A55A0042A55A0042A5
-      5A0042A55A0042A55A004AA55A004AA55A000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000003939390039393900393939003939
+      5A0042A55A0042A55A004AA55A004AA55A0000000000393939007B7B7B007B7B
+      7B007B7B7B007B7B7B007B7B7B007B7B7B007B7B7B007B7B7B007B7B7B007B7B
+      7B007B7B7B007B7B7B0039393900000000003939390039393900393939003939
       390039393900736B630039393900393939003939390039393900393939003939
       3900393939003939390039393900393939003939390039393900393939003939
       390039393900399C420039393900393939003939390039393900393939003939
       3900393939003939390039393900393939004AA55A004AA55A004AA55A004AA5
       5A004AA55A00394A31004AA55A004AA55A004AA55A004AA55A004AA55A004AA5
-      5A004AA55A004AA55A004AA55A004AA55A000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000003939390039393900393939003939
+      5A004AA55A004AA55A004AA55A004AA55A000000000031313100313131003131
+      3100313131002121210010101800313131003131310031313100212121002929
+      2900313131003131310031313100000000003939390039393900393939003939
       3900393939009C8C7B0094847B004A4A42003939390039393900393939003939
       3900393939003939390039393900393939003939390039393900393939003939
       39003939390018C6310018BD3100425A42003939390039393900393939003939
       39003939390039393900393939003939390052AD63004AA55A004AA55A004AA5
       5A004AA55A0018181000212118004A8C52004AA55A004AA55A004AA55A004AA5
-      5A004AA55A004AA55A004AA55A0052AD63000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000004242420039393900393939003939
+      5A004AA55A004AA55A004AA55A0052AD63000808080010101000101010001010
+      10000808080010105A0010084200101010001010100010101000080839000808
+      3900101010001010100010101000080808004242420039393900393939003939
       3900393939009C8C7B00AD9C8C00AD9C84006B635A0039393900393939003939
       3900393939003939390039393900424242004242420039393900393939003939
       39003939390018C6310000CE210000CE29003994420039393900393939003939
       39003939390039393900393939004242420052AD63004AA55A004AA55A004AA5
       5A004AA55A00181810000000000000000000425A39004AA55A004AA55A004AA5
-      5A004AA55A004AA55A004AA55A0052AD63000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000004A4A4A0039393900393939003939
+      5A004AA55A004AA55A004AA55A0052AD63000808080010101000101010001010
+      10000808080021188400211094000808080010101000000010002110A5001810
+      6B00101010001010100010101000080808004A4A4A0039393900393939003939
       3900393939009C8C7B00AD9C8C00AD9C8C00AD9C8C008C7B7300424242003939
       39003939390039393900393939004A4A4A004A4A4A0039393900393939003939
       39003939390018C6310000CE210000CE210000CE210021B53900395239003939
       39003939390039393900393939004A4A4A005AB56B004AA55A004AA55A004AA5
       5A004AA55A0018181000000000000000000000000000292921004A9452004AA5
-      5A004AA55A004AA55A004AA55A005AB56B000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000004A4A4A0031313100313131003131
+      5A004AA55A004AA55A004AA55A005AB56B000808080010101000101010001010
+      100010101000080829002110B50010087B00080029001808A5002110AD000808
+      2100101010001010100010101000080808004A4A4A0031313100313131003131
       3100313131009C8C7B00AD9C8C00AD9C8C00AD9C8C00AD9C8C00A59484005A5A
       52003131310031313100313131004A4A4A004A4A4A0031313100313131003131
       31003131310010C6310000CE210000CE210000CE210000CE210008CE29003984
       42003131310031313100313131004A4A4A005ABD7300429C5200429C5200429C
       5200429C52001010100000000000000000000000000000000000080808004263
-      4200429C5200429C5200429C52005ABD73000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000005252520029292900292929002929
+      4200429C5200429C5200429C52005ABD73000808080010101000101010001010
+      10001010100010101000080042002108CE002100DE001800BD00080029001010
+      1000101010001010100010101000080808005252520029292900292929002929
       290029292900AD9C8400AD9C8C00AD9C8C00AD9C8C00AD9C8C00AD9C8C008C7B
       7300292929002929290029292900525252005252520029292900292929002929
       29002929290000CE290000CE210000CE210000CE210000CE210000CE210021B5
       39002929290029292900292929005252520063BD7300429C5200429C5200429C
       5200429C52000000000000000000000000000000000000000000000000002129
-      2100429C5200429C5200429C520063BD73000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000005A5A5A0021212100212121002121
+      2100429C5200429C5200429C520063BD73000808080010101000101010001010
+      1000101010000808080010086B002108CE002100D60018009400080810001010
+      1000101010001010100010101000080808005A5A5A0021212100212121002121
       210021212100AD9C8C00AD9C8C00AD9C8C00AD9C8C00AD9C84004A4A42002121
       21002121210021212100212121005A5A52005A5A5A0021212100212121002121
       21002121210000CE210000CE210000CE210000CE210000CE2900316B39002121
       21002121210021212100212121005A5A52006BC67B0039944A0039944A003994
       4A0039944A000000000000000000000000000000000000000000426B42003994
-      4A0039944A0039944A0039944A006BC67B000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000005A5A5A0018181800181818001818
+      4A0039944A0039944A0039944A006BC67B000808080010101000101010001010
+      100008081000181884002110B5001008730010005A002108C6002110A5000808
+      4200080810001010100010101000080808005A5A5A0018181800181818001818
       180018181800AD9C8C00AD9C8C00AD9C8C009484730018181800181818001818
       18001818180018181800181818005A5A5A005A5A5A0018181800181818001818
       18001818180000CE210000CE210000CE210018C6310018181800181818001818
       18001818180018181800181818005A5A5A006BCE7B00318C4200318C4200318C
       4200318C420000000000000000000000000018181000318C4200318C4200318C
-      4200318C4200318C4200318C42006BC684000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000006363630010101000101010001010
+      4200318C4200318C4200318C42006BC684000808080010101000101010001010
+      1000101042002118940010085200080808001010100008003900211094001810
+      6B00080810001010100010101000080808006363630010101000101010001010
       100010101000AD9C8C00AD9C8C00524A42001010100010101000101010001010
       1000101010001010100010101000636363006363630010101000101010001010
       10001010100000CE210000CE2100317B39001010100010101000101010001010
       10001010100010101000101010006363630073CE840029843900298439002984
       3900298439000000000000000000395231002984390029843900298439002984
-      390029843900298439002984390073CE84000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000006363630008080800080808000808
+      390029843900298439002984390073CE84000808080010101000101010001010
+      10000808180018186B0008080800101010001010100010101000080808000808
+      0800101010001010100010101000080808006363630008080800080808000808
       0800080808009C8C7B0018101000080808000808080008080800080808000808
       0800080808000808080008080800636363006363630008080800080808000808
       08000808080010C6290010211000080808000808080008080800080808000808
       08000808080008080800080808006363630073CE8400187B3100187B3100187B
       3100187B31001010080021733100187B3100187B3100187B3100187B3100187B
-      3100187B3100187B3100187B310073D68C000000000000000000000000000000
+      3100187B3100187B3100187B310073D68C000000000010101000101010001010
+      1000101010000000000010101000101010001010100010101000101010001010
+      1000101010001010100010101000000000006B6B630000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000006B6B630000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000063636B006B6B630000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       000000000000000000000000000063636B007BD68C0018732900187329001873
       2900187329001873290018732900187329001873290018732900187329001873
-      29001873290018732900187329007BD68C000000000000000000000000000000
+      29001873290018732900187329007BD68C000000000008080800101010001010
+      1000101010001010100010101000101010001010100010101000101010001010
+      1000101010001010100008080800000000006B6B6B0000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000006B6B6B0000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
       00000000000000000000000000006B6B6B006B6B6B0000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       00000000000000000000000000006B6B6B007BD68C00106B2100106B2100106B
       2100106B2100106B2100106B2100106B2100106B2100106B2100106B2100106B
-      2100106B2100106B2100106B21007BD68C000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000006B6B6B006B6B6B006B6B6B006B6B
+      2100106B2100106B2100106B21007BD68C000000000000000000080808001010
+      1000101010001010100010101000101010001010100010101000101010001010
+      1000101010000808080000000000000000006B6B6B006B6B6B006B6B6B006B6B
       6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B
       6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B
       6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B6B006B6B
       6B006B6B6B006B6B6B006B6B6B006B6B6B007BD68C007BD68C007BD68C007BD6
       8C007BD68C007BD68C007BD68C007BD68C007BD68C007BD68C007BD68C007BD6
-      8C007BD68C007BD68C007BD68C007BD68C000000000000000000000000000000
+      8C007BD68C007BD68C007BD68C007BD68C000000000000000000000000004242
+      4200080808000808080008080800080808000808080008080800080808000808
+      080042424200000000000000000000000000424D3E000000000000003E000000
+      2800000040000000300000000100010000000000800100000000000000000000
+      000000000000000000000000FFFFFF0000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
@@ -1588,674 +1593,11 @@
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
+      00000000000000000000000000000000000000000000E007000000000000C003
+      0000000000008001000000000000000000000000000000000000000000000000
       0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      000000000000000000000000000000000000424D3E000000000000003E000000
-      2800000040000000800000000100010000000000000400000000000000000000
-      000000000000000000000000FFFFFF0000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      00000000000000000000000000000000E007000000000000C003000000000000
-      8001000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000000000000000000000
-      0000000000000000000000000000000000000000000000008001000000000000
-      C003000000000000E007000000000000FFFF000000000000FFFF000000000000
-      FFFF000000000000FFFF000000000000FFFF000000000000FFFF000000000000
-      FFFF000000000000FFFF000000000000FFFF000000000000FFFF000000000000
-      FFFF000000000000FFFF000000000000FFFF000000000000FFFF000000000000
-      FFFF000000000000FFFF000000000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
-      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000000000000000000000000000
-      000000000000}
+      0000000000000000000000000000000000000000000000000000000000008001
+      000000000000C003000000000000E007}
   end
   object PlayerStateImageList: TImageList
     Left = 209

Modified: Lobby/TASClient/MainUnit.pas
===================================================================
--- Lobby/TASClient/MainUnit.pas	2010-03-26 21:14:50 UTC (rev 7447)
+++ Lobby/TASClient/MainUnit.pas	2010-03-28 16:28:01 UTC (rev 7448)
@@ -1416,6 +1416,10 @@
     procedure VDTBattlesHeaderDraw(Sender: TVTHeader;
       HeaderCanvas: TCanvas; Column: TVirtualTreeColumn; R: TRect; Hover,
       Pressed: Boolean; DropMark: TVTDropMarkMode);
+    procedure FilterListDrawText(Sender: TBaseVirtualTree;
+      TargetCanvas: TCanvas; Node: PVirtualNode; Column: TColumnIndex;
+      const Text: WideString; const CellRect: TRect;
+      var DefaultDraw: Boolean);
   published
     MainTitleBar: TSpTBXTitleBar;
     ButtonImageList: TImageList;
@@ -1848,7 +1852,7 @@
   TntWideStrings, SpringSettingsProfileFormUnit, gnugettext,
   AutoJoinFormUnit, AddBotUnit, Minimap3DPreviewUnit,
   MinimapZoomedFormUnit, DisableUnitsFormUnit, SetStringsUnit,
-  ChannelsListFormUnit;
+  ChannelsListFormUnit, Types;
 
 {$R *.dfm}
 
@@ -4049,6 +4053,7 @@
     // or controls may yet not have been created earlier:
     if MainUnit.Debug.Enabled then
       Misc.TryToAddLog(MainUnit.StartDebugLog,'Applying theme ...');
+
     PreferencesForm.ApplyCurrentThemeType;
     PreferencesForm.ApplyCurrentTheme;
 
@@ -4479,6 +4484,7 @@
 // SetFocus: if True, then switch focus to this new TAB and update
 function TMainForm.AddTabWindow(Caption: string; SetFocus: Boolean; pmId: integer = -1): TMyTabSheet;
 var
+  tmppn: TSpTBXPanel;
   tmpts: TMyTabSheet;
   tmpre: TExRichEdit;
   //tmped: TSpTBXEdit;
@@ -4603,6 +4609,7 @@
     ShowAndSetFocus(tmped);
 
   PreferencesForm.UpdateRichEdit(tmpre);
+  PreferencesForm.UpdateTntMemo(tmped);
 
   Result := tmpts;
 end;
@@ -7902,6 +7909,7 @@
    s: string;
    SelectedNick: string;
 begin
+  richContextMenu := TExRichEdit(Sender);
    with TExRichEdit(Sender) do
    begin
     try
@@ -7924,8 +7932,8 @@
 
      ContextMenuSelectedClient := GetClient(SelectedNick);
 
-     richContextMenu := TExRichEdit(Sender);
 
+
      if (ContextMenuSelectedClient &lt;&gt; nil) then
      begin
       if (Button = mbRight) then
@@ -8108,6 +8116,9 @@
   tmp: integer;
   cList: TList;
   realIndex: integer;
+  LineRect: TRect;
+  pt: TPoint;
+  hot: Boolean;
 begin
   if Status.ReceivingLoginInfo then Exit;
   if lastActiveTab.Caption = LOCAL_TAB then
@@ -8135,8 +8146,47 @@
   if (group &lt;&gt; nil) and (ClientsListBox.ItemIndex &lt;&gt; Index) and (group.EnableColor) then
     (Control as TTntListBox).Canvas.Brush.Color := group.Color;
 
-  // this ensures the correct highlite color is used
-  (Control as TTntListBox).Canvas.FillRect(Rect);
+  if (SkinManager.GetSkinType = sknSkin) then
+  begin
+    if(ClientsListBox.ItemIndex = Index) then
+    begin
+      CopyRect(LineRect,Rect);
+      InflateRect(LineRect,-1,-1);
+      (Control as TTntListBox).Canvas.Brush.Style := Graphics.bsSolid;
+      (Control as TTntListBox).Canvas.Brush.Color := (Control as TTntListBox).Color;
+      (Control as TTntListBox).Canvas.FillRect(Rect);
+      SkinManager.CurrentSkin.PaintBackground((Control as TTntListBox).Canvas,LineRect,skncListItem,sknsChecked,True,True);
+      //if odSelected in State then
+      //  (Control as TTntListBox).Canvas.DrawFocusRect(Rect); // &lt;--- That's the trick!
+      (Control as TTntListBox).Canvas.Brush.Style := Graphics.bsClear;
+      (Control as TTntListBox).Canvas.Font.Color := SkinManager.CurrentSkin.GetTextColor(skncListItem,sknsChecked);
+    end
+    else
+    begin
+      GetCursorPos(pt);
+      pt := ClientsListBox.ScreenToClient(pt);
+      hot := PointInRect(Rect,pt);
+      if hot then
+      begin
+        SkinManager.CurrentSkin.PaintBackground((Control as TTntListBox).Canvas,Rect,skncListItem,sknsHotTrack,True,True);
+        (Control as TTntListBox).Canvas.Font.Color := SkinManager.CurrentSkin.GetTextColor(skncListItem,sknsHotTrack);
+        (Control as TTntListBox).Canvas.Brush.Style := Graphics.bsClear;
+      end
+      else
+      begin
+        (Control as TTntListBox).Canvas.Font.Color := PreferencesForm.IfNotClNone(SkinManager.CurrentSkin.GetTextColor(skncListItem,sknsNormal),clHighlightText);
+        (Control as TTntListBox).Canvas.FillRect(Rect);
+      end;
+    end;
+  end
+  else
+  begin
+    if(ClientsListBox.ItemIndex = Index) then
+      (Control as TTntListBox).Canvas.Font.Color := clHighlightText
+    else
+      (Control as TTntListBox).Canvas.Font.Color := clWindowText;
+    (Control as TTntListBox).Canvas.FillRect(Rect);
+  end;
 
   xpos := Rect.Left;
   PlayerStateImageList.Draw((Control as TTntListBox).Canvas, xpos, Rect.Top, TClient(cList[realIndex]).GetStateImageIndex);
@@ -8150,13 +8200,7 @@
   end;
 
   if TClient(cList[realIndex]).GetAwayStatus and not TClient(cList[realIndex]).GetInGameStatus then
-    (Control as TTntListBox).Canvas.Font.Color := Colors.ClientAway
-  else
-    (Control as TTntListBox).Canvas.Font.Color := clWindowText;
-
-  if odSelected in State then
-    (Control as TTntListBox).Canvas.Font.Color := clWhite;
-
+    (Control as TTntListBox).Canvas.Font.Color := Colors.ClientAway;
   RanksImageList.Draw((Control as TTntListBox).Canvas, xpos, Rect.Top, TClient(cList[realIndex]).GetRank);
   Inc(xpos, RanksImageList.Width + 1);
 
@@ -8950,6 +8994,10 @@
   Battle: TBattle;
   i:integer;
   avgRank:float;
+  BgRect: TRect;
+  pt: TPoint;
+  checkImgIdx: Integer;
+  hot: Boolean;
 begin
   with Sender as TVirtualDrawTree, PaintInfo do
   begin
@@ -8957,27 +9005,68 @@
     Battle := GetBattleFromNode(Node);
 
     R := ContentRect;
+    CopyRect(BgRect,CellRect);
+    if Position &lt;&gt; 0 then
+      BgRect.Left := -3;
+    if Position &lt;&gt; Header.Columns.Count-1 then
+      BgRect.Right := BgRect.Right+3;
 
+    GetCursorPos(pt);
+    pt := ScreenToClient(pt);
 
-
-    if (Node = FocusedNode) and Focused then
+    if MainForm.Active and (pt.Y &gt;= Node.Index*NodeHeight[Node]) and (pt.Y &lt; (Node.Index+1)*NodeHeight[Node]) and PointInRect((Sender as TVirtualDrawTree).Canvas.ClipRect,pt) then
     begin
-      Canvas.Font.Color := clHighlightText;
+      checkImgIdx := 1;
+      hot := True;
     end
     else
     begin
-      Canvas.Font.Color := clWindowText;
-
-      // clientgroup highlight
-      Canvas.Brush.Color := Battle.GetHighlightColor;
+      checkImgIdx := 0;
+      hot := False;
     end;
+  
+    if (Node = FocusedNode) and focused then
+    begin
+      if SkinManager.GetSkinType=sknSkin then
+      begin
+        Canvas.Font.Color := SkinManager.CurrentSkin.GetTextColor(skncListItem,sknsChecked);
+        SkinManager.CurrentSkin.PaintBackground(Canvas,BgRect,skncListItem,sknsChecked,True,True);
+        if Column = 0 then
+          CheckImages.Draw(Canvas,3,0,checkImgIdx);
+        Canvas.Brush.Style := Graphics.bsClear;
+      end
+      else
+      begin
+        Canvas.Font.Color := clHighlightText;
+        Canvas.Brush.Color := clHighlight;
+        Canvas.FillRect(CellRect);
+        if Column = 0 then
+          CheckImages.Draw(Canvas,3,0,checkImgIdx);
+      end;
+    end
+    else
+    begin
+      if hot and (SkinManager.GetSkinType=sknSkin) then
+      begin
+        Canvas.Font.Color := SkinManager.CurrentSkin.GetTextColor(skncListItem,sknsHotTrack);
+        SkinManager.CurrentSkin.PaintBackground(Canvas,BgRect,skncListItem,sknsHotTrack,True,True);
+        Canvas.Brush.Style := Graphics.bsClear;
+      end
+      else
+      begin
+        Canvas.Font.Color := clWindowText;
+        Canvas.Brush.Color := Battle.GetHighlightColor;
+        Canvas.FillRect(CellRect);
+      end;
+      if Column = 0 then
+        CheckImages.Draw(Canvas,3,0,checkImgIdx);
+    end;
     
     InflateRect(R, TextMargin, 0);
     if Column = 0 then
     begin
       InflateRect(R, -TextMargin+2, 0);
     end;
-    Canvas.FillRect(R);
 
     InflateRect(R, -TextMargin, 0);
 
@@ -10051,6 +10140,8 @@
   realIndex: integer;
   cList: TList;
 begin
+  if MainForm.Active and (SkinManager.GetSkinType = sknSkin) then
+    ClientsListBox.Repaint;
   if lastActiveTab.Caption = LOCAL_TAB then
     cList := AllClients
   else
@@ -12727,7 +12818,7 @@
   Battle:TBattle;
 begin
   AutojoinTimer.Interval := 1000;
-  if (mnuAutoplayFirstAvailable.Checked or mnuAutospecFirstAvailable.Checked) and not BattleForm.AmIReady and not InitWaitForm.Visible and (not Status.Me.GetInGameStatus or (Status.Me.GetInGameStatus and not BattleForm.IsBattleActive)) and (BattleState.JoiningComplete or (BattleState.Status = None)) then
+  if Status.LoggedIn and (mnuAutoplayFirstAvailable.Checked or mnuAutospecFirstAvailable.Checked) and not BattleForm.AmIReady and not InitWaitForm.Visible and (not Status.Me.GetInGameStatus or (Status.Me.GetInGameStatus and not BattleForm.IsBattleActive)) and (BattleState.JoiningComplete or (BattleState.Status = None)) then
   begin
     if mnuAutoplayFirstAvailable.Checked then
       Battle := getAutojoinBestBattle(AutoJoinForm.autoPlayPresetList)
@@ -13732,4 +13823,68 @@
 end;
 
 
+procedure TMainForm.FilterListDrawText(Sender: TBaseVirtualTree;
+  TargetCanvas: TCanvas; Node: PVirtualNode; Column: TColumnIndex;
+  const Text: WideString; const CellRect: TRect; var DefaultDraw: Boolean);
+var
+  PaintRect: TRect;
+  CheckboxRect: TRect;
+  hot: Boolean;
+  pt: TPoint;
+begin
+  DefaultDraw := True;
+  if (SkinManager.GetSkinType=sknSkin) then
+  begin
+    with (Sender as TVirtualStringTree) do
+    begin
+      GetCursorPos(pt);
+      pt := ScreenToClient(pt);
+      hot := Misc.GetControlForm(Sender).Active and (pt.Y &gt;= Node.Index*NodeHeight[Node]) and (pt.Y &lt; (Node.Index+1)*NodeHeight[Node]) and PointInRect((Sender as TVirtualStringTree).Canvas.ClipRect,pt);
+    end;
+    CopyRect(PaintRect,TargetCanvas.ClipRect);
+    if TVirtualStringTree(Sender).Header.Columns[Column].Position &lt;&gt; 0 then
+      PaintRect.Left := PaintRect.Left - 3;
+    if TVirtualStringTree(Sender).Header.Columns[Column].Position &lt;&gt; TVirtualStringTree(Sender).Header.Columns.Count-1 then
+      PaintRect.Right := PaintRect.Right + 3;
+    if (Sender as TVirtualStringTree).Selected[Node] then
+    begin
+      SkinManager.CurrentSkin.PaintBackground(TargetCanvas,PaintRect,skncListItem,sknsChecked,True,True);
+      if (Sender as TVirtualStringTree).Header.Columns[Column].CheckBox then
+      begin
+        CopyRect(CheckboxRect,TargetCanvas.ClipRect);
+        InflateRect(CheckboxRect,-3,-3);
+        SkinManager.CurrentSkin.PaintBackground(TargetCanvas,CheckboxRect,skncCheckBox,sknsPushed,True,True);
+        if (Node.CheckState = csCheckedNormal) then
+          SkinManager.CurrentSkin.PaintMenuCheckMark(TargetCanvas,CheckboxRect,True,False,False,sknsChecked);
+      end;
+      TargetCanvas.Font.Color := SkinManager.CurrentSkin.GetTextColor(skncListItem,sknsCheckedAndHotTrack);
+      TargetCanvas.Brush.Style := Graphics.bsClear;
+    end
+    else
+    begin
+      TargetCanvas.FillRect(TargetCanvas.ClipRect);
+      if hot then
+        SkinManager.CurrentSkin.PaintBackground(TargetCanvas,PaintRect,skncListItem,sknsHotTrack,True,True)
+      else
+        SkinManager.CurrentSkin.PaintBackground(TargetCanvas,PaintRect,skncListItem,sknsNormal,True,True);
+      if (Sender as TVirtualStringTree).Header.Columns[Column].CheckBox then
+      begin
+        CopyRect(CheckboxRect,TargetCanvas.ClipRect);
+        InflateRect(CheckboxRect,-3,-3);
+        if hot then
+          SkinManager.CurrentSkin.PaintBackground(TargetCanvas,CheckboxRect,skncCheckBox,sknsHotTrack,True,True)
+        else
+          SkinManager.CurrentSkin.PaintBackground(TargetCanvas,CheckboxRect,skncCheckBox,sknsNormal,True,True);
+        if (Node.CheckState = csCheckedNormal) then
+          if hot then
+            SkinManager.CurrentSkin.PaintMenuCheckMark(TargetCanvas,CheckboxRect,True,False,False,sknsCheckedAndHotTrack)
+          else
+            SkinManager.CurrentSkin.PaintMenuCheckMark(TargetCanvas,CheckboxRect,True,False,False,sknsChecked);
+        DefaultDraw := False;
+      end;
+      TargetCanvas.Brush.Style := Graphics.bsClear;
+    end;
+  end;
+end;
+
 end.

Modified: Lobby/TASClient/PreferencesFormUnit.dfm
===================================================================
--- Lobby/TASClient/PreferencesFormUnit.dfm	2010-03-26 21:14:50 UTC (rev 7447)
+++ Lobby/TASClient/PreferencesFormUnit.dfm	2010-03-28 16:28:01 UTC (rev 7448)
@@ -1,6 +1,6 @@
 object PreferencesForm: TPreferencesForm
-  Left = 1083
-  Top = 259
+  Left = 1622
+  Top = 168
   BorderStyle = bsDialog
   Caption = 'Preferences'
   ClientHeight = 518

Modified: Lobby/TASClient/PreferencesFormUnit.pas
===================================================================
--- Lobby/TASClient/PreferencesFormUnit.pas	2010-03-26 21:14:50 UTC (rev 7447)
+++ Lobby/TASClient/PreferencesFormUnit.pas	2010-03-28 16:28:01 UTC (rev 7448)
@@ -221,10 +221,12 @@
     procedure WritePreferencesToRegistry;
     procedure ApplyPostInitializationPreferences;
     procedure FixFormBounds(Form: TForm);
+    function IfNotClNone(colorCheck: TColor; colorElse: TColor): TColor;
     procedure ApplyCurrentThemeType; // we must call this every time we change Preferences.ThemeType field
     procedure ApplyCurrentTheme; // we must call this every time we change Preferences.Theme field
     procedure UpdateVirtualTreeSkin(VT: TBaseVirtualTree);
     procedure UpdateRichEdit(RE: TExRichEdit);
+    procedure UpdateTntMemo(TM: TTntMemo);
 
     procedure SaveDefaultBattlePreferencesToRegistry;
     procedure LoadDefaultBattlePreferencesFromRegistry;
@@ -834,6 +836,13 @@
     different prefered sizes }
 end;
 
+function TPreferencesForm.IfNotClNone(colorCheck: TColor; colorElse: TColor): TColor;
+begin
+  Result := colorElse;
+  if colorCheck &lt;&gt; clNone then
+    Result := colorCheck;
+end;
+
 procedure TPreferencesForm.ApplyCurrentThemeType; // we must call this every time we change Preferences.ThemeType field
 var
   i: Integer;
@@ -864,15 +873,11 @@
     else
       SkinManager.SetSkin(Preferences.Theme);
     PanelDarkerColor := RGB(Floor(ColorToR(SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1)*0.8),Floor(ColorToG(SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1)*0.8),Floor(ColorToB(SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1)*0.8));
-    BattleForm.QuickLookRichEdit.Color :=  SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1;
+    BattleForm.QuickLookRichEdit.Color :=  IfNotClNone(SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1,clBtnFace);
     MapListForm.ScrollBox1.Color :=  PanelDarkerColor;
-    Colors.Normal := SkinManager.CurrentSkin.GetTextColor(skncEditFrame,sknsNormal);
-    MainForm.ClientsListBox.Color := SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1;
+    Colors.Normal := IfNotClNone(SkinManager.CurrentSkin.GetTextColor(skncEditFrame,sknsNormal),Colors.Normal);
+    MainForm.ClientsListBox.Color := IfNotClNone(SkinManager.CurrentSkin.Options(skncListItem).Body.Color1,clWindow);
     MainForm.ClientsListBox.BorderStyle := Forms.bsNone;
-    MainForm.VDTBattles.Color := SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1;
-    MainForm.VDTBattles.BorderStyle := Forms.bsNone;
-    BattleForm.VDTBattleClients.Color := SkinManager.CurrentSkin.Options(skncTabBackground).Body.Color1;
-    BattleForm.VDTBattleClients.BorderStyle := Forms.bsNone;
   end
   else
   begin
@@ -881,10 +886,6 @@
     Colors.Normal := clWindowText;
     MainForm.ClientsListBox.Color := clWindow;
     MainForm.ClientsListBox.BorderStyle := Forms.bsSingle;
-    MainForm.VDTBattles.Color := clWindow;
-    MainForm.VDTBattles.BorderStyle := Forms.bsSingle;
-    BattleForm.VDTBattleClients.Color := clWindow;
-    BattleForm.VDTBattleClients.BorderStyle := Forms.bsSingle;
   end;
   BattleForm.MapOptionsScrollBox.Color :=  BattleForm.QuickLookRichEdit.Color;
   BattleForm.ModOptionsScrollBox.Color :=  BattleForm.QuickLookRichEdit.Color;
@@ -896,11 +897,18 @@
   UpdateVirtualTreeSkin(ReplaysForm.VDTPlayers);
   UpdateVirtualTreeSkin(ReplaysForm.FilterList);
   UpdateVirtualTreeSkin(AddBotForm.VSTAIList);
+  UpdateVirtualTreeSkin(AutoJoinForm.VSTAutoplayPresetList);
+  UpdateVirtualTreeSkin(AutoJoinForm.VSTAutospecPresetList);
 
   UpdateRichEdit(BattleForm.ChatRichEdit);
+  
+  UpdateTntMemo(BattleForm.InputEdit);
   UpdateRichEdit(BattleForm.AutoHostMsgsRichEdit);
   for i:=0 to MainForm.ChatTabs.Count-1 do
+  begin
     UpdateRichEdit(TExRichEdit(TMyTabSheet(MainForm.ChatTabs[i]).FindChildControl('RichEdit')));
+    UpdateTntMemo(TTntMemo(TMyTabSheet(MainForm.ChatTabs[i]).FindChildControl('InputEdit')));
+  end;
 end;
 
 procedure TPreferencesForm.UpdateVirtualTreeSkin(VT: TBaseVirtualTree);
@@ -909,6 +917,41 @@
   hdr: TVTHeader;
 begin
   if VT is TVirtualDrawTree then
+  begin
+    if SkinManager.GetSkinType = sknSkin then
+    begin
+      TVirtualDrawTree(VT).Color := IfNotClNone(SkinManager.CurrentSkin.Options(skncListItem).Body.Color1,clWindow);
+      TVirtualDrawTree(VT).Colors.FocusedSelectionColor := TVirtualDrawTree(VT).Color;
+      TVirtualDrawTree(VT).Colors.FocusedSelectionBorderColor := TVirtualDrawTree(VT).Color;
+      TVirtualDrawTree(VT).BorderStyle := Forms.bsNone;
+    end
+    else
+    begin
+      TVirtualDrawTree(VT).Color := clWindow;
+      TVirtualDrawTree(VT).Colors.FocusedSelectionColor := clHighlight;
+      TVirtualDrawTree(VT).Colors.FocusedSelectionBorderColor := clHighlight;
+      TVirtualDrawTree(VT).BorderStyle := Forms.bsSingle;
+    end
+  end
+  else
+  begin
+    if SkinManager.GetSkinType = sknSkin then
+    begin
+      TVirtualStringTree(VT).Color := IfNotClNone(SkinManager.CurrentSkin.Options(skncListItem).Body.Color1,clWindow);
+      TVirtualStringTree(VT).Colors.FocusedSelectionColor := TVirtualDrawTree(VT).Color;
+      TVirtualStringTree(VT).Colors.FocusedSelectionBorderColor := TVirtualDrawTree(VT).Color;
+      TVirtualStringTree(VT).BorderStyle := Forms.bsNone;
+    end
+    else
+    begin
+      TVirtualStringTree(VT).Color := clWindow;
+      TVirtualStringTree(VT).Colors.FocusedSelectionColor := clHighlight;
+      TVirtualStringTree(VT).Colors.FocusedSelectionBorderColor := clHighlight;
+      TVirtualStringTree(VT).BorderStyle := Forms.bsSingle;
+    end
+  end;
+
+  if VT is TVirtualDrawTree then
     hdr := TVirtualDrawTree(VT).Header
   else
     hdr := TVirtualStringTree(VT).Header;
@@ -918,11 +961,7 @@
       hdr.Columns[i].Style := vsOwnerDraw
     else
       hdr.Columns[i].Style := vsText;
-    if Preferences.ThemeType = sknSkin then
-      hdr.Background := SkinManager.CurrentSkin.Options(skncToolbar).Body.Color1
-    else
-      hdr.Background := clBtnFace;
-
+    hdr.Background := IfNotClNone(SkinManager.CurrentSkin.Options(skncToolbar).Body.Color1,clBtnFace);
 end;
 
 procedure TPreferencesForm.UpdateRichEdit(RE: TExRichEdit);
@@ -942,6 +981,32 @@
   end;
 end;
 
+procedure TPreferencesForm.UpdateTntMemo(TM: TTntMemo);
+begin
+  if Preferences.ThemeType = sknSkin then
+  begin
+    TM.BorderStyle := Forms.bsNone;
+    TM.BevelKind := bkFlat;
+    TM.BevelInner := bvRaised;
+    TM.BevelOuter := bvRaised;
+    if SkinManager.CurrentSkin.Options(skncEditFrame).Body.Color1 &lt;&gt; clNone then
+      TM.Color := SkinManager.CurrentSkin.Options(skncEditFrame).Body.Color1
+    else
+      TM.Color := clWindow;
+    if SkinManager.CurrentSkin.GetTextColor(skncEditFrame,sknsNormal) &lt;&gt; clNone then
+      TM.Font.Color := SkinManager.CurrentSkin.GetTextColor(skncEditFrame,sknsNormal)
+    else
+      TM.Font.Color := clWindowText;
+  end
+  else
+  begin
+    TM.BorderStyle := Forms.bsSingle;
+    TM.BevelKind := bkNone;
+    TM.Color := clWindow;
+    TM.Font.Color := clWindowText;
+  end;
+end;
+
 procedure TPreferencesForm.ApplyAndCloseButtonClick(Sender: TObject);
 begin
   if UsernameEdit.Text = '' then

Modified: Lobby/TASClient/ReplaysUnit.dfm
===================================================================
--- Lobby/TASClient/ReplaysUnit.dfm	2010-03-26 21:14:50 UTC (rev 7447)
+++ Lobby/TASClient/ReplaysUnit.dfm	2010-03-28 16:28:01 UTC (rev 7448)
@@ -1,8 +1,8 @@
 object ReplaysForm: TReplaysForm
-  Left = 416
-  Top = 92
-  Width = 796
-  Height = 617
+  Left = 507
+  Top = 307
+  Width = 860
+  Height = 631
   Caption = 'Replays'
   Color = clBtnFace
   Constraints.MaxHeight = 1150
@@ -23,17 +23,17 @@
   object SpTBXTitleBar1: TSpTBXTitleBar
     Left = 0
     Top = 0
-    Width = 788
-    Height = 590
+    Width = 852
+    Height = 604
     Caption = 'Replays'
     DesignSize = (
-      788
-      590)
+      852
+      604)
     object VDTReplays: TVirtualDrawTree
       Left = 4
       Top = 267
-      Width = 780
-      Height = 60
+      Width = 844
+      Height = 74
       Align = alClient
       BevelInner = bvNone
       BevelOuter = bvNone
@@ -122,57 +122,28 @@
     end
     object SpTBXSplitter1: TSpTBXSplitter
       Left = 4
-      Top = 327
-      Width = 780
+      Top = 341
+      Width = 844
       Height = 10
       Cursor = crSizeNS
       Align = alBottom
     end
-    object LoadingPanel: TSpTBXPanel
-      Left = 232
-      Top = 248
-      Width = 0
-      Height = 0
-      Anchors = [akLeft, akTop, akRight, akBottom]
-      Font.Charset = DEFAULT_CHARSET
-      Font.Color = clWindowText
-      Font.Height = -16
-      Font.Name = 'MS Sans Serif'
-      Font.Style = []
-      ParentFont = False
-      TabOrder = 2
-      OnResize = LoadingPanelResize
-      TBXStyleBackground = True
-      DesignSize = (
-        0
-        0)
-      object LoadingLabel: TSpTBXLabel
-        Left = 2
-        Top = 50
-        Width = 0
-        Height = 20
-        Caption = 'Please wait while building replay list ...'
-        Anchors = [akLeft, akTop, akRight]
-        AutoSize = False
-        Alignment = taCenter
-      end
-    end
     object BottomPanel: TSpTBXPanel
       Left = 4
-      Top = 337
-      Width = 780
+      Top = 351
+      Width = 844
       Height = 249
       Align = alBottom
       TabOrder = 4
       Borders = False
       TBXStyleBackground = True
       DesignSize = (
-        780
+        844
         249)
       object PageControl1: TSpTBXTabControl
         Left = 158
         Top = 0
-        Width = 614
+        Width = 678
         Height = 209
         Anchors = [akLeft, akTop, akRight, akBottom]
         ActiveTabIndex = 0
@@ -190,55 +161,15 @@
         object SpTBXTabItem1: TSpTBXTabItem
           Caption = 'Script'
         end
-        object SpTBXTabSheet2: TSpTBXTabSheet
-          Left = 0
-          Top = 23
-          Width = 614
-          Height = 186
-          Caption = 'Comments'
-          ImageIndex = -1
-          TabItem = 'CommentsTab'
-          object CommentsRichEdit: TRichEdit
-            Left = 2
-            Top = 0
-            Width = 610
-            Height = 184
-            Align = alClient
-            ScrollBars = ssBoth
-            TabOrder = 0
-            WordWrap = False
-            OnChange = CommentsRichEditChange
-          end
-        end
-        object SpTBXTabSheet1: TSpTBXTabSheet
-          Left = 0
-          Top = 23
-          Width = 614
-          Height = 186
-          Caption = 'Script'
-          ImageIndex = -1
-          TabItem = 'SpTBXTabItem1'
-          object ScriptRichEdit: TRichEdit
-            Left = 2
-            Top = 0
-            Width = 610
-            Height = 184
-            Align = alClient
-            ReadOnly = True
-            ScrollBars = ssBoth
-            TabOrder = 0
-            WordWrap = False
-          end
-        end
         object SpTBXTabSheet4: TSpTBXTabSheet
           Left = 0
           Top = 23
-          Width = 614
+          Width = 678
           Height = 186
           Caption = 'Game settings'
           ImageIndex = -1
           DesignSize = (
-            614
+            678
             186)
           TabItem = 'SpTBXTabItem3'
           object frmGameOptions: TSpTBXGroupBox
@@ -359,7 +290,7 @@
           object SpTBXGroupBox1: TSpTBXGroupBox
             Left = 472
             Top = 8
-            Width = 130
+            Width = 194
             Height = 169
             Caption = 'Map/Mod options'
             Anchors = [akLeft, akTop, akRight, akBottom]
@@ -367,7 +298,7 @@
             object lstLuaOptions: TSpTBXListBox
               Left = 2
               Top = 15
-              Width = 126
+              Width = 190
               Height = 152
               Align = alClient
               BorderStyle = bsNone
@@ -377,10 +308,50 @@
             end
           end
         end
+        object SpTBXTabSheet2: TSpTBXTabSheet
+          Left = 0
+          Top = 23
+          Width = 678
+          Height = 186
+          Caption = 'Comments'
+          ImageIndex = -1
+          TabItem = 'CommentsTab'
+          object CommentsRichEdit: TRichEdit
+            Left = 2
+            Top = 0
+            Width = 674
+            Height = 184
+            Align = alClient
+            ScrollBars = ssBoth
+            TabOrder = 0
+            WordWrap = False
+            OnChange = CommentsRichEditChange
+          end
+        end
+        object SpTBXTabSheet1: TSpTBXTabSheet
+          Left = 0
+          Top = 23
+          Width = 678
+          Height = 186
+          Caption = 'Script'
+          ImageIndex = -1
+          TabItem = 'SpTBXTabItem1'
+          object ScriptRichEdit: TRichEdit
+            Left = 2
+            Top = 0
+            Width = 674
+            Height = 184
+            Align = alClient
+            ReadOnly = True
+            ScrollBars = ssBoth
+            TabOrder = 0
+            WordWrap = False
+          end
+        end
         object SpTBXTabSheet3: TSpTBXTabSheet
           Left = 0
           Top = 23
-          Width = 614
+          Width = 678
           Height = 186
           Caption = 'Players'
           ImageIndex = -1
@@ -388,7 +359,7 @@
           object VDTPlayers: TVirtualDrawTree
             Left = 2
             Top = 0
-            Width = 610
+            Width = 674
             Height = 184
             Align = alClient
             Header.AutoSizeIndex = 7
@@ -451,7 +422,7 @@
               end
               item
                 Position = 7
-                Width = 76
+                Width = 140
                 WideText = 'ACS'
                 WideHint = 'Averange commands size (units affected per command)'
               end&gt;
@@ -459,7 +430,7 @@
         end
       end
       object WatchButton: TSpTBXButton
-        Left = 531
+        Left = 595
         Top = 216
         Width = 115
         Height = 25
@@ -469,7 +440,7 @@
         OnClick = WatchButtonClick
       end
       object CloseButton: TSpTBXButton
-        Left = 657
+        Left = 721
         Top = 216
         Width = 115
         Height = 25
@@ -574,7 +545,7 @@
         OnClick = ReloadButtonClick
       end
       object HostReplayButton: TSpTBXButton
-        Left = 531
+        Left = 595
         Top = 216
         Width = 115
         Height = 25
@@ -588,7 +559,7 @@
     object PanelTop: TSpTBXPanel
       Left = 4
       Top = 26
-      Width = 780
+      Width = 844
       Height = 241
       Caption = 'PanelTop'
       Align = alTop
@@ -596,12 +567,12 @@
       TabOrder = 5
       Borders = False
       DesignSize = (
-        780
+        844
         241)
       object FiltersTabs: TSpTBXTabControl
         Left = 0
         Top = 0
-        Width = 780
+        Width = 844
         Height = 225
         Align = alTop
         ActiveTabIndex = 0
@@ -616,12 +587,12 @@
         object SpTBXTabSheet6: TSpTBXTabSheet
           Left = 0
           Top = 23
-          Width = 780
+          Width = 844
           Height = 202
           Caption = 'Presets'
           ImageIndex = -1
           DesignSize = (
-            780
+            844
             202)
           TabItem = 'PresetsTab'
           object SpTBXGroupBox2: TSpTBXGroupBox
@@ -683,7 +654,7 @@
           object PresetListbox: TSpTBXListBox
             Left = 152
             Top = 26
-            Width = 661
+            Width = 725
             Height = 167
             Anchors = [akLeft, akTop, akRight]
             ItemHeight = 16
@@ -697,7 +668,7 @@
         object SpTBXTabSheet5: TSpTBXTabSheet
           Left = 0
           Top = 23
-          Width = 780
+          Width = 844
           Height = 202
           Caption = 'Filters'
           ImageIndex = -1
@@ -1149,7 +1120,7 @@
           object FilterList: TVirtualStringTree
             Left = 672
             Top = 8
-            Width = 141
+            Width = 160
             Height = 185
             Align = alCustom
             Anchors = [akLeft, akTop, akRight]
@@ -1176,6 +1147,7 @@
             OnChecking = FilterListChecking
             OnClick = FilterListClick
             OnCompareNodes = FilterListCompareNodes
+            OnDrawText = FilterListDrawText
             OnEditing = FilterListEditing
             OnGetText = FilterListGetText
             OnHeaderClick = FilterListHeaderClick
@@ -1213,7 +1185,7 @@
       object FiltersButton: TSpTBXButton
         Left = 0
         Top = 229
-        Width = 780
+        Width = 844
         Height = 12
         Align = alBottom
         TabOrder = 1
@@ -1222,7 +1194,7 @@
         ImageIndex = 1
       end
       object chkEnableFilters: TSpTBXCheckBox
-        Left = 505
+        Left = 569
         Top = 2
         Width = 275
         Height = 18
@@ -1240,10 +1212,39 @@
         Alignment = taRightJustify
       end
     end
+    object LoadingPanel: TSpTBXPanel
+      Left = 104
+      Top = 304
+      Width = 64
+      Height = 97
+      Anchors = [akLeft, akTop, akRight, akBottom]
+      Font.Charset = DEFAULT_CHARSET
+      Font.Color = clWindowText
+      Font.Height = -16
+      Font.Name = 'MS Sans Serif'
+      Font.Style = []
+      ParentFont = False
+      TabOrder = 2
+      OnResize = LoadingPanelResize
+      TBXStyleBackground = True
+      DesignSize = (
+        64
+        97)
+      object LoadingLabel: TSpTBXLabel
+        Left = 2
+        Top = 50
+        Width = 61
+        Height = 20
+        Caption = 'Please wait while building replay list ...'
+        Anchors = [akLeft, akTop, akRight]
+        AutoSize = False
+        Alignment = taCenter
+      end
+    end
   end
   object ReplayListPopupMenu: TSpTBXPopupMenu
     AutoHotkeys = maManual
-    Left = 456
-    Top = 296
+    Left = 376
+    Top = 400
   end
 end

Modified: Lobby/TASClient/ReplaysUnit.pas
===================================================================
--- Lobby/TASClient/ReplaysUnit.pas	2010-03-26 21:14:50 UTC (rev 7447)
+++ Lobby/TASClient/ReplaysUnit.pas	2010-03-28 16:28:01 UTC (rev 7448)
@@ -261,6 +261,10 @@
     procedure VDTPlayersHeaderDraw(Sender: TVTHeader;
       HeaderCanvas: TCanvas; Column: TVirtualTreeColumn; R: TRect; Hover,
       Pressed: Boolean; DropMark: TVTDropMarkMode);
+    procedure FilterListDrawText(Sender: TBaseVirtualTree;
+      TargetCanvas: TCanvas; Node: PVirtualNode; Column: TColumnIndex;
+      const Text: WideString; const CellRect: TRect;
+      var DefaultDraw: Boolean);
   private
     { Private declarations }
   public
@@ -1296,10 +1300,17 @@
   begin
     Replay := GetReplayFromNode(Node);
 
-    if (Node = FocusedNode) and Focused then
-      Canvas.Font.Color := clHighlightText
+    if (Node = FocusedNode) then
+    begin
+      Canvas.Brush.Color := clHighlight;
+      Canvas.Font.Color := clHighlightText;
+    end
     else
+    begin
+      Canvas.Brush.Color := Color;
       Canvas.Font.Color := clWindowText;
+    end;
+    Canvas.FillRect(PaintInfo.CellRect);
 
     R := ContentRect;
     InflateRect(R, -TextMargin, 0);
@@ -3043,4 +3054,11 @@
   MainForm.VDTBattlesHeaderDraw(Sender,HeaderCanvas,Column,R,Hover,Pressed,DropMark);
 end;
 
+procedure TReplaysForm.FilterListDrawText(Sender: TBaseVirtualTree;
+  TargetCanvas: TCanvas; Node: PVirtualNode; Column: TColumnIndex;
+  const Text: WideString; const CellRect: TRect; var DefaultDraw: Boolean);
+begin
+  MainForm.FilterListDrawText(Sender,TargetCanvas,Node,Column,Text,CellRect,DefaultDraw);
+end;
+
 end.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002217.html">[Taspring-linux-commit] r7447 - in Lobby/TASClient: .	LobbyComponents/DockPanel
</A></li>
	<LI>Next message: <A HREF="002219.html">[Taspring-linux-commit] r7449 - Lobby/TASClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2218">[ date ]</a>
              <a href="thread.html#2218">[ thread ]</a>
              <a href="subject.html#2218">[ subject ]</a>
              <a href="author.html#2218">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
