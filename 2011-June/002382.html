<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r7612 - Lobby/TASClient
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2011-June/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7612%20-%20Lobby/TASClient&In-Reply-To=%3C20110618115452.D499D2D986%40it-l.eu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002381.html">
   <LINK REL="Next"  HREF="002383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r7612 - Lobby/TASClient</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7612%20-%20Lobby/TASClient&In-Reply-To=%3C20110618115452.D499D2D986%40it-l.eu%3E"
       TITLE="[Taspring-linux-commit] r7612 - Lobby/TASClient">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Sat Jun 18 13:54:52 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002381.html">[Taspring-linux-commit] r7611 - Lobby/TASClient
</A></li>
        <LI>Next message: <A HREF="002383.html">[Taspring-linux-commit] r7613 - Lobby/TASClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2382">[ date ]</a>
              <a href="thread.html#2382">[ thread ]</a>
              <a href="subject.html#2382">[ subject ]</a>
              <a href="author.html#2382">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: satirik
Date: 2011-06-18 13:54:52 +0200 (Sat, 18 Jun 2011)
New Revision: 7612

Modified:
   Lobby/TASClient/AutoJoinFormUnit.dfm
   Lobby/TASClient/MainUnit.pas
   Lobby/TASClient/TASClient.dof
   Lobby/TASClient/TASClient.res
   Lobby/TASClient/Utility.pas
Log:
* fixed the textbox background in the map/mod options
* added F2 to edit the replay text filter
* autojoin form width increased

Modified: Lobby/TASClient/AutoJoinFormUnit.dfm
===================================================================
--- Lobby/TASClient/AutoJoinFormUnit.dfm	2011-06-11 18:45:26 UTC (rev 7611)
+++ Lobby/TASClient/AutoJoinFormUnit.dfm	2011-06-18 11:54:52 UTC (rev 7612)
@@ -4,7 +4,7 @@
   BorderStyle = bsSingle
   Caption = 'AutoJoin'
   ClientHeight = 565
-  ClientWidth = 698
+  ClientWidth = 736
   Color = clBtnFace
   Constraints.MaxHeight = 1150
   Constraints.MaxWidth = 1920
@@ -23,26 +23,30 @@
   object SpTBXTitleBar1: TSpTBXTitleBar
     Left = 0
     Top = 0
-    Width = 698
+    Width = 736
     Height = 565
     Caption = 'AutoJoin'
     Active = False
     FixedSize = True
     Options.Maximize = False
+    DesignSize = (
+      736
+      565)
     object gbAutoPlay: TSpTBXGroupBox
       Left = 192
       Top = 40
-      Width = 497
+      Width = 536
       Height = 169
       Caption = 'Autoplay preset list'
+      Anchors = [akLeft, akTop, akRight]
       TabOrder = 1
       DesignSize = (
-        497
+        536
         169)
       object VSTAutoplayPresetList: TVirtualStringTree
         Left = 8
         Top = 16
-        Width = 449
+        Width = 488
         Height = 145
         Anchors = [akLeft, akTop, akRight, akBottom]
         Header.AutoSizeIndex = 0
@@ -83,7 +87,7 @@
           end&gt;
       end
       object btAutoplayPriorityUp: TSpTBXButton
-        Left = 464
+        Left = 503
         Top = 16
         Width = 25
         Height = 33
@@ -94,7 +98,7 @@
         ImageIndex = 0
       end
       object btAutoplayPriorityDown: TSpTBXButton
-        Left = 464
+        Left = 503
         Top = 56
         Width = 25
         Height = 33
@@ -105,12 +109,12 @@
         ImageIndex = 1
       end
       object btAutoplayRemovePreset: TSpTBXButton
-        Left = 464
+        Left = 503
         Top = 136
         Width = 25
         Height = 25
         Caption = 'X'
-        Anchors = [akLeft, akBottom]
+        Anchors = [akRight, akBottom]
         TabOrder = 3
         OnClick = btAutoplayRemovePresetClick
       end
@@ -211,17 +215,18 @@
     object gbAutoSpec: TSpTBXGroupBox
       Left = 192
       Top = 216
-      Width = 497
+      Width = 536
       Height = 169
       Caption = 'Autospec preset list'
+      Anchors = [akLeft, akTop, akRight]
       TabOrder = 3
       DesignSize = (
-        497
+        536
         169)
       object VSTAutospecPresetList: TVirtualStringTree
         Left = 8
         Top = 16
-        Width = 449
+        Width = 488
         Height = 145
         Anchors = [akLeft, akTop, akRight, akBottom]
         Header.AutoSizeIndex = 0
@@ -262,7 +267,7 @@
           end&gt;
       end
       object btAutospecPriorityUp: TSpTBXButton
-        Left = 464
+        Left = 503
         Top = 16
         Width = 25
         Height = 33
@@ -273,7 +278,7 @@
         ImageIndex = 0
       end
       object btAutospecPriorityDown: TSpTBXButton
-        Left = 464
+        Left = 503
         Top = 56
         Width = 25
         Height = 33
@@ -284,18 +289,18 @@
         ImageIndex = 1
       end
       object btAutospecRemovePreset: TSpTBXButton
-        Left = 464
+        Left = 503
         Top = 136
         Width = 25
         Height = 25
         Caption = 'X'
-        Anchors = [akLeft, akBottom]
+        Anchors = [akRight, akBottom]
         TabOrder = 3
         OnClick = btAutospecRemovePresetClick
       end
     end
     object btClose: TSpTBXButton
-      Left = 293
+      Left = 311
       Top = 528
       Width = 113
       Height = 25
@@ -306,9 +311,10 @@
     object gbOptions: TSpTBXGroupBox
       Left = 8
       Top = 392
-      Width = 385
+      Width = 424
       Height = 129
       Caption = 'Options'
+      Anchors = [akLeft, akTop, akRight]
       TabOrder = 5
       object chkKeepLookingAfterJoining: TSpTBXCheckBox
         Left = 16
@@ -338,11 +344,12 @@
       end
     end
     object gbPresets: TSpTBXGroupBox
-      Left = 400
+      Left = 439
       Top = 392
       Width = 289
       Height = 129
       Caption = 'Presets'
+      Anchors = [akTop, akRight]
       Font.Charset = DEFAULT_CHARSET
       Font.Color = clWindowText
       Font.Height = -11

Modified: Lobby/TASClient/MainUnit.pas
===================================================================
--- Lobby/TASClient/MainUnit.pas	2011-06-11 18:45:26 UTC (rev 7611)
+++ Lobby/TASClient/MainUnit.pas	2011-06-18 11:54:52 UTC (rev 7612)
@@ -2308,8 +2308,8 @@
   if (Msg.CharCode = VK_F2) then
   begin
     Handled := True;
-    if MainForm.Active and FilterList.Focused and (FilterList.FocusedNode &lt;&gt; nil) then
-      FilterList.EditNode(FilterList.FocusedNode,3)
+    if ((Screen.ActiveControl = FilterList) or (Screen.ActiveControl = ReplaysForm.FilterList)) and (TVirtualStringTree(Screen.ActiveControl).FocusedNode  &lt;&gt; nil) then
+      TVirtualStringTree(Screen.ActiveControl).EditNode(TVirtualStringTree(Screen.ActiveControl).FocusedNode,3)
     else if MainForm.Active then
     begin
       BattleForm.Show;

Modified: Lobby/TASClient/TASClient.dof
===================================================================
--- Lobby/TASClient/TASClient.dof	2011-06-11 18:45:26 UTC (rev 7611)
+++ Lobby/TASClient/TASClient.dof	2011-06-18 11:54:52 UTC (rev 7612)
@@ -115,7 +115,7 @@
 MajorVer=0
 MinorVer=91
 Release=0
-Build=1309
+Build=1313
 Debug=0
 PreRelease=0
 Special=0
@@ -126,7 +126,7 @@
 [Version Info Keys]
 CompanyName=
 FileDescription=Spring RTS Engine lobby client
-FileVersion=0.91.0.1309
+FileVersion=0.91.0.1313
 InternalName=
 LegalCopyright=
 LegalTrademarks=

Modified: Lobby/TASClient/TASClient.res
===================================================================
(Binary files differ)

Modified: Lobby/TASClient/Utility.pas
===================================================================
--- Lobby/TASClient/Utility.pas	2011-06-11 18:45:26 UTC (rev 7611)
+++ Lobby/TASClient/Utility.pas	2011-06-18 11:54:52 UTC (rev 7612)
@@ -1605,9 +1605,7 @@
     InputEdit.OnExit := self.OnChange;
     InputEdit.Anchors := [akLeft,akTop,akRight];
     InputEdit.SkinType := sknSkin;
-    InputEdit.Color := IfThen(Preferences.ThemeType = sknSkin,SkinManager.CurrentSkin.Options(skncEditFrame,sknsNormal).Body.Color1,clWindow);
-    InputEdit.Font.Color := IfThen(Preferences.ThemeType = sknSkin,SkinManager.CurrentSkin.GetTextColor(skncEditFrame,sknsNormal),clWindowText);
-
+    SendMessage(InputEdit.Handle,WM_SPSKINCHANGE,0,0);
     
 
     MakeDescriptionButton(Panel);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002381.html">[Taspring-linux-commit] r7611 - Lobby/TASClient
</A></li>
	<LI>Next message: <A HREF="002383.html">[Taspring-linux-commit] r7613 - Lobby/TASClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2382">[ date ]</a>
              <a href="thread.html#2382">[ thread ]</a>
              <a href="subject.html#2382">[ subject ]</a>
              <a href="author.html#2382">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
