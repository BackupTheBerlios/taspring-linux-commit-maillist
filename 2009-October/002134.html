<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r7365 - Lobby/TASClient
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7365%20-%20Lobby/TASClient&In-Reply-To=%3C20091025162020.D09053B7B5%40it-l.eu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002133.html">
   <LINK REL="Next"  HREF="002135.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r7365 - Lobby/TASClient</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7365%20-%20Lobby/TASClient&In-Reply-To=%3C20091025162020.D09053B7B5%40it-l.eu%3E"
       TITLE="[Taspring-linux-commit] r7365 - Lobby/TASClient">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Sun Oct 25 17:20:20 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002133.html">[Taspring-linux-commit] r7364 - Lobby/TASClient
</A></li>
        <LI>Next message: <A HREF="002135.html">[Taspring-linux-commit] r7366 - Lobby/TASClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2134">[ date ]</a>
              <a href="thread.html#2134">[ thread ]</a>
              <a href="subject.html#2134">[ subject ]</a>
              <a href="author.html#2134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: satirik
Date: 2009-10-25 17:20:19 +0100 (Sun, 25 Oct 2009)
New Revision: 7365

Modified:
   Lobby/TASClient/BattleFormUnit.dfm
   Lobby/TASClient/BattleFormUnit.pas
   Lobby/TASClient/IgnoreListUnit.dfm
   Lobby/TASClient/IgnoreListUnit.pas
   Lobby/TASClient/MainUnit.pas
   Lobby/TASClient/PreferencesFormUnit.dfm
   Lobby/TASClient/PreferencesFormUnit.pas
   Lobby/TASClient/TASClient.dof
   Lobby/TASClient/TASClient.res
Log:
* ignore list supports players ids now
* autohost interface beta

Modified: Lobby/TASClient/BattleFormUnit.dfm
===================================================================
--- Lobby/TASClient/BattleFormUnit.dfm	2009-10-24 13:11:49 UTC (rev 7364)
+++ Lobby/TASClient/BattleFormUnit.dfm	2009-10-25 16:20:19 UTC (rev 7365)
@@ -1,6 +1,6 @@
 object BattleForm: TBattleForm
-  Left = 374
-  Top = 248
+  Left = 387
+  Top = 129
   Width = 913
   Height = 595
   Caption = 'Battle window'
@@ -3799,10 +3799,10 @@
         Visible = False
       end
       object BattleChatPanel: TSpTBXPanel
-        Left = 560
-        Top = 336
-        Width = 289
-        Height = 81
+        Left = 576
+        Top = 320
+        Width = 313
+        Height = 169
         Caption = 'BattleChat'
         UseDockManager = True
         DragKind = dkDock
@@ -3810,8 +3810,8 @@
         TabOrder = 0
         BorderType = pbrRaised
         object ChatRichEdit: TExRichEdit
-          Left = 32
-          Top = 8
+          Left = 8
+          Top = 96
           Width = 121
           Height = 65
           AutoURLDetect = adDefault
@@ -3919,8 +3919,8 @@
           AllowInPlace = False
         end
         object InputEdit: TTntMemo
-          Left = 160
-          Top = 24
+          Left = 136
+          Top = 128
           Width = 225
           Height = 21
           TabOrder = 1
@@ -3929,6 +3929,563 @@
           OnKeyDown = InputEditKeyDown
           OnKeyPress = InputEditKeyPress
         end
+        object AutoHostVotePanel: TSpTBXPanel
+          Left = 2
+          Top = 78
+          Width = 309
+          Height = 39
+          Align = alTop
+          TabOrder = 2
+          Visible = False
+          BorderType = pbrDoubleRaised
+          TBXStyleBackground = True
+          object AutoHostVoteMsg: TSpTBXLabel
+            Left = 41
+            Top = 2
+            Width = 167
+            Height = 35
+            Caption = 'Vote msg'
+            Align = alClient
+            AutoSize = False
+            Wrapping = twWrap
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
+          object AutoHostVoteButtonsPanel: TSpTBXPanel
+            Left = 208
+            Top = 2
+            Width = 99
+            Height = 35
+            Caption = 'AutoHostVoteButtonsPanel'
+            Align = alRight
+            TabOrder = 1
+            Borders = False
+            TBXStyleBackground = True
+            object ImgVoteYes: TImage
+              Left = 8
+              Top = 5
+              Width = 25
+              Height = 25
+              Cursor = crHandPoint
+              Hint = 'Yes'
+              ParentShowHint = False
+              Picture.Data = {
+                07544269746D6170EE070000424DEE0700000000000036000000280000001900
+                00001A0000000100180000000000B8070000110B0000110B0000000000000000
+                0000FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E43D9A6F
+                1993550E96520593450095491D955F4A9971FF00E4FF00E4FF00E4FF00E4FF00
+                E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4
+                FF00E400954900A25005A94F02A75505A94F02A7551EB66500AB5202A755029B
+                500F9559FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4
+                FF00E4FF00E4FF00E407924E00A35205A94F02A7551FB56D5ECF975ECF975ECF
+                975ECF9746C7841EB66500AB5202A755039D49208F57FF00E4FF00E4FF00E4FF
+                00E4FF00E400FF00E4FF00E4FF00E4FF00E40E965200AE5505A94F3DC684A5EB
+                C583E6B25DDF9B2FD8832ED7823CD98B64DDA09AE7C389DDB42FC37B03B16202
+                A755179254FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4008C4700AE
+                5512B96184DFB171E2AB0CCC7007CC6707CC6707CC6707CC6707CC6707CC6707
+                CC672CD5808CE8B959D29500B85800A352108E47FF00E4FF00E4FF00E400FF00
+                E4FF00E40F955900B0571CBF6885E7BB30D78A07CC6707CC672CD580C2F2DBCC
+                F5E247DA9207CC6707CC6707CC6707CC6713D16B5DDF9B59D29500B86200A250
+                208F57FF00E4FF00E400FF00E4FF00E405A94F00BA5A64DDA030D78A07CC6707
+                CC6707CC678CE8B9F3FEF7FAFDFB97EBC207CC6707CC6707CC6707CC6707CC67
+                07CC6752DD943FD28A00BA5A009549FF00E4FF00E400FF00E4008C4707C06135
+                D2843AD78807CC6707CC6707CC672ED782B2F1CFFCFFFEFCFFFECCF5E23CD98B
+                07CC6707CC6707CC6707CC6707CC6707CC675DDF9B13C56700B0571A8A52FF00
+                E400FF00E400A25000C55F47DA9207CC6707CC6707CC6707CC675DDF9BFCFFFE
+                FCFFFEFCFFFEFCFFFE71E2AB07CC6707CC6707CC6707CC6707CC6700C96221CD
+                773AD78800C568008C47FF00E400208F5700BA5A16D17521CD7707CC6707CC67
+                07CC6707CC67C2F2DBFCFFFEFCFFFEFCFFFEFCFFFEF0FCF50CCC7007CC6707CC
+                6707CC6707CC6707CC6707CC673CD98B00C96200A25059A07E00007E4007CC67
+                16D1750CCC7007CC6707CC6708CB6F6CDDA6FCFFFEFCFFFEFCFFFEFCFFFEFCFF
+                FEFCFFFEADECCB00C55F02CB6507CC6707CC6707CC6707CC6716D17507CC6700
+                BA5A2D926100008E4913D16B16D17507CC6707CC6707CC671CBF68F0FCF5FCFF
+                FEFAFDFBDFF2E7CFF1DCFCFFFEFCFFFEFCFFFE46C78413C56707CC6707CC6707
+                CC6707CC6716D17516D17509B4651E835200008E492CD58007CC6707CC6707CC
+                6700B862AFE6CAFAFDFBFCFFFEFAFDFB30BB7135BE7DFAFDFBFCFFFEFCFFFEDF
+                F2E709B46507CC6707CC6707CC6707CC6707CC6707CC6721CD77017A3A000F8C
+                4E3CD98B21CD7713D16B0EC26C4FC78AF8FBF9FAFDFBFCFFFE7ED0A700B86200
+                B8627ED0A7FAFDFBFCFFFEFCFFFE90D5AF01B25A13D16B07CC6707CC6707CC67
+                1ED48130BB710D804800017A3A53DC9B0CCC7021CD77029B50A2D8BCBEDED1BD
+                E5D3AEDDC600A3522CD5802CD58014A55ADDEEEAFCFFFEFCFFFEFCFFFE41AF78
+                16C57021CD772CD58007CC6739CC843FC07C2E8A5F000D804859D29539CC840E
+                C26C1FB56D30BB7130BB7130BB711FB56D39CC843CD98B3CD98B2FC37B50AF7C
+                FCFFFEFAFDFBFAFDFBDFF2E70095492FD88330D78A01BE5F52DD943FAD764A99
+                71005EAE863FAD7664DDA001BE5F5DDF9B5DDF9B55DE9D5DDF9B52DD945DDF9B
+                5DDF9B55DE9D5DDF9B22A561B0D9BFFAFDFBFAFDFBFAFDFB7DBFA121AC6A3FD2
+                8A21C36B7BE5B31E835288B59F00FF00E41E835284DFB135C88039CC847BE5B3
+                72DDA472E4AC7BE5B371E2AB72E4AC72E4AC68E2A46CDDA6208F571993551993
+                5519935522915922915912B9616CDDA675D8A4097D45FF00E400FF00E42D9261
+                60B98B8CE8B901B25A6CDDA68CE8B98CE8B98CE8B985E7BB8CE8B983E6B28CE8
+                B98CE8B983E6B285E7BB83E6B283E6B285E7BB2FC37B2FC37B9FEBC72D926167
+                AA85FF00E400FF00E4FF00E4097D45ADECCB8EE1B81EB66584DFB1A1EDC9A1ED
+                C9A5EBC5A1EDC99FEBC797EBC297EBC2A1EDC997EBC29FEBC79FEBC739C47A22
+                B870A5EBC56ABB9314844DFF00E4FF00E400FF00E4FF00E47DBFA1228756AFE6
+                CA9AE7C302A7555ECF97ADECCBB9F1D4B2F0D6B2F1CFB9F1D4B9F1D4B3EACEB2
+                F1CF9AE8BD23BA6929BD75B3EACE9AD8B70D8048B5CFBFFF00E4FF00E400FF00
+                E4FF00E4FF00E460B0882E8A5FB4E3CCC2F2DB52CA8D1EB66552CA8D90DDB2B3
+                EACECCF5E290DDB277D8AC3FC07C1EB66589DDB4D2F5DF8CC9A8097D4594C2AB
+                FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF00E47DBFA10D80488CC1A6DF
+                FAEACFF0E290DDB250BF8833BD7435BE7D30BB7177D8AC9BE1BBDCF5ECDCF5EC
+                5FA8850D8048BCD6C6FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF
+                00E4FF00E4BCDEC93D9A6F22875685BA9EBEDED1F0FCF5F0FCF5F0FCF5F0FCF5
+                DFF2E7AFD6C4539B710D804858A880E2EDE6FF00E4FF00E4FF00E4FF00E4FF00
+                E400FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4BCDEC95EAE861A8A52
+                00753D017A3A2E8A5F00753D00753D2D926185C1A1D6E7E3FF00E4FF00E4FF00
+                E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4
+                FF00E4FF00E4FF00E4FF00E4FF00E4CEE6DEBEDED1DBEDE2FF00E4FF00E4FF00
+                E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E400}
+              ShowHint = True
+              Transparent = True
+              OnClick = ImgVoteYesClick
+            end
+            object ImgVoteNo: TImage
+              Left = 40
+              Top = 5
+              Width = 25
+              Height = 25
+              Cursor = crHandPoint
+              Hint = 'No'
+              ParentShowHint = False
+              Picture.Data = {
+                07544269746D617056070000424D560700000000000036000000280000001900
+                000018000000010018000000000020070000110B0000110B0000000000000000
+                0000FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4334CFE
+                002CFF0B2CFF002CFF002CFF0B2CFF0B36FDFF00E4FF00E4FF00E4FF00E4FF00
+                E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4
+                6475E80B20FF0B36FD0E39FF0E39FF0B36FD0E39FF0E39FF0E39FF0C37FF0B36
+                FD0E39FF2038FEFF00E4FF00E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4
+                FF00E4FF00E4FF00E4253CF80B36FD1A3AFF1C44FF4B6CFF8293FF8D9EFEBAC6
+                FFA3AEFE8E9FFF6E83FF3C55FF0F42FF0E39FF002CFFFF00E4FF00E4FF00E4FF
+                00E4FF00E400FF00E4FF00E4FF00E4FF00E40B36FD1C44FF1C44FF5473FF949F
+                FE6A7CFF2C45FF001DFF001DFF001DFF172EFF3A52FB7D8BFF8191FF2E4EFF1C
+                44FF0B2CFFFF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E42745F81C44
+                FF2C4BFE6E83FF697BFE172EFF001DFF001DFF001DFF001DFF001DFF001DFF00
+                1DFF001DFF2C4BFE8B98FF4A6BFF264CFF0B36FDFF00E4FF00E4FF00E400FF00
+                E4FF00E46273F51C44FF3056FF6E83FF5E6EFF0A1DFF001DFF001DFF001DFF00
+                1DFF001DFF001DFF001DFF001DFF0A1DFF001DFF172EFF7D8BFF4865FF2E54FF
+                0B2CFFFF00E4FF00E400FF00E4D4D9FF002CFF4164FF576CFF6877FF5567FF55
+                67FF5567FF5567FF2C45FF001DFF001DFF001DFF0B20FF5567FF5567FF576CFF
+                5567FF5F73FE7383FF4164FF1C44FF4356E4FF00E400FF00E4727EFF2C4BFE4B
+                6CFF6074FF001DFF344DFF7E8CFFD7DEFFD7DEFF6877FF0B20FF001DFF001DFF
+                4356FFB2BCFDDCDDFCD1D6FF727EFF293BFF344DFF5A73FE4A6BFF002CFFFF00
+                E400FF00E41A3AFF4A6BFF516CFF3346FF001DFF001DFF3A4DFF95A0FFF5F6FC
+                CDD0FF4D5FFF001DFF172EFF8090FEFCFFFEFCFFFE7383FF2139FF001DFF0A1D
+                FF5365FD5473FF1C44FFFF00E400DCDDFC0B36FD5D7AFF4E64FE0B2CFF001DFF
+                001DFF001DFF3A4DFFB0B8FFFCFFFE8191FF2C45FF4356FFDFE0FFFCFFFE8C9A
+                FF344DFF001DFF001DFF001DFF3346FF576CFF4865FF364BEA00BCC3FB1B43FF
+                6E83FF3A4DFF001DFF001DFF001DFF001DFF001DFF344DFFB6BFFFF5F6FC5567
+                FFA0A8FFFCFFFE95A0FF293BFF001DFF001DFF001DFF001DFF1A3AFF4E64FE54
+                73FF2945EE00BFC5FE1C44FF738FFF2139FF0B20FF001DFF001DFF001DFF001D
+                FF001DFF2A3CFFD1D6FFE6E9FFFCFFFEB0B8FF2139FF001DFF001DFF001DFF00
+                1DFF001DFF0B20FF516CFF7089FF001DFF00BCC3FB2343FF8497FF172EFF0B2C
+                FF0B20FF0B20FF001DFF0A1DFF0B20FF172EFF637BFFFCFFFEFCFFFE3346FF0B
+                20FF001DFF001DFF001DFF001DFF001DFF001DFF4E64FE7A90FF0727FC00BFC5
+                FE2343FF8E9FFF172EFF2139FF2139FF2139FF2139FF2139FF172EFF3C4FFFF2
+                F2FFB0B8FFA0A8FFD3D8FF2139FF172EFF172EFF172EFF172EFF172EFF172EFF
+                4865FF6782FF3046EE00DFE0FF002CFF95ABFF334CFE2C45FF3A4DFF344DFF33
+                46FF2A3CFF172EFFD1D6FFF2F2FF172EFF1A3AFFD1D6FFB3BDFE0B20FF2C45FF
+                3346FF293BFF293BFF0B20FF6F88FE637BFF4659E800FF00E42139FF8497FF63
+                7BFF2139FF4E60FF5365FD4D5FFF172EFFCFD4FDF5F6FC4356FF3346FF3346FF
+                334CFEF5F6FC9EAFFF0B20FF4356FF4D5FFF3A52FB0727FCA7B4FE2E4EFFFF00
+                E400FF00E47D8BFF405EFFA7B4FE0A1DFF5567FF6877FF0B2CFF98A6FEFCFFFE
+                7D8BFF2139FF6074FF6074FF3346FF7D8BFFFCFFFE727EFF2139FF5769FF2139
+                FF5567FFA7B4FE0727FCFF00E400FF00E4F1F1FE172EFFA0B3FE8497FF172EFF
+                1930FF0B20FF0B20FF001DFF162CFF7383FF7C87FF7C87FF727EFF172EFF001D
+                FF001DFF001DFF2139FF2139FFC4CDFE516CFF5868E8FF00E400FF00E4FF00E4
+                7D8BFF2C4BFEC4CDFE5567FF2139FF8994FF95A0FF95A0FF939CFF95A0FF95A0
+                FF939CFF939CFF8D9EFE8B98FF939CFF5365FD172EFF9DAEFF9EAFFF0727FCFF
+                00E4FF00E400FF00E4FF00E4FF00E4475FFF516CFFD7DEFF6A7CFF0B2CFF7D8B
+                FFA7B2FFAEB6FDA7B2FFA7B2FFA7B2FFA7B2FFA0A8FFA0A8FF4356FF1A3AFFA7
+                B4FEA9B7FF0B2CFFFF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF00E42C45
+                FF516CFFE0E2FFA4AFFF3A4DFF2139FF6A7CFF8E9FFFA7B2FF8C9AFF8191FF44
+                58FF2139FF6E83FFD1D6FFB3BDFE0B2CFFFF00E4FF00E4FF00E4FF00E400FF00
+                E4FF00E4FF00E4FF00E4FF00E44D5FFF2343FFA9B7FFE5E8FFBFC5FE8191FF55
+                67FF344DFF3C4FFF7383FF939CFFD7DEFFDAE1FF6F88FE0B2CFFFF00E4FF00E4
+                FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4AEB6FD21
+                39FF2C4BFE8AA0FFC4CDFEF5F6FCF5F6FCF5F6FCE5E8FFA7B4FE6681FE0B2CFF
+                5867F8FF00E4FF00E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF
+                00E4FF00E4FF00E4FF00E4FF00E4FF00E45D6DFE2C45FF001DFF001DFF001DFF
+                0B2CFF3A52FBFF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00
+                E400}
+              ShowHint = True
+              Transparent = True
+              OnClick = ImgVoteNoClick
+            end
+            object ImgVoteBlank: TImage
+              Left = 72
+              Top = 10
+              Width = 17
+              Height = 15
+              Cursor = crHandPoint
+              Hint = 'Blank'
+              ParentShowHint = False
+              Picture.Data = {
+                07544269746D617036030000424D360300000000000036000000280000001000
+                000010000000010018000000000000030000120B0000120B0000000000000000
+                0000FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4
+                FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E43F3F
+                3E4545454848484949484949494847484445443F3F3FFF00E4FF00E4FF00E4FF
+                00E4FF00E4FF00E4FF00E44141414848484A4A4A4D4D4D5050505050504D4D4D
+                4A4A4A484848414141FF00E4FF00E4FF00E4FF00E4FF00E44040404949494747
+                47404040454545505050505050454545404040474747494949404040FF00E4FF
+                00E4FF00E43939394747474E4E4E424242878787434343414141404141434343
+                8787874242424E4E4E474747393939FF00E4FF00E43E3E3E4D4D4D5454549999
+                99FFFFFFDEDEDE3C3C3C3C3C3CDEDEDEFFFFFF9999995454544D4D4D3E3E3EFF
+                00E4FF00E44141415050505A5A5A6A6A6AE3E3E3FFFFFFE0E0E0E0E0E0FFFFFF
+                E3E3E36A6A6A5A5A5A505050414141FF00E4FF00E44242425252525D5D5D5E5E
+                5E5B5B5BE2E2E2FFFFFFFFFFFFE2E2E25B5B5B5E5E5E5D5D5D525252424242FF
+                00E4FF00E43F3F3F4F4F4F5A5A5A5252524B4B4BE2E2E2FFFFFFFFFFFFE2E2E2
+                4B4B4B5252525A5A5A4F4F4F3F3F3FFF00E4FF00E43A3A3A4A4A4A5555555D5D
+                5DE0E0E0FFFFFFE7E7E7E7E7E7FFFFFFE0E0E05D5D5D5555554A4A4A3A3A3AFF
+                00E4FF00E43333334141414F4F4F9B9B9BFFFFFFE5E5E5737373737373E5E5E5
+                FFFFFF9B9B9B4F4F4F414141333333FF00E4FF00E42C2C2C3737374444444F4F
+                4F9C9C9C6B6B6B6262626262626B6B6B9C9C9C4F4F4F4444443737372C2C2CFF
+                00E4FF00E4FF00E42D2D2D3636364040404949494E4E4E5252525252524E4E4E
+                4949494040403636362D2D2DFF00E4FF00E4FF00E4FF00E4FF00E42C2C2C3232
+                323737373C3C3C3E3E3E3E3E3E3C3C3C3737373232322C2C2CFF00E4FF00E4FF
+                00E4FF00E4FF00E4FF00E4FF00E42727272B2B2B2D2D2D2F2F2F2F2F2F2D2D2D
+                2B2B2B272727FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00
+                E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF
+                00E4}
+              ShowHint = True
+              Transparent = True
+              OnClick = ImgVoteBlankClick
+            end
+          end
+          object FlashPanel: TSpTBXPanel
+            Left = 2
+            Top = 2
+            Width = 39
+            Height = 35
+            Align = alLeft
+            TabOrder = 2
+            Borders = False
+            TBXStyleBackground = True
+            object AutoHostVoteIcon: TImage
+              Left = 8
+              Top = 5
+              Width = 25
+              Height = 33
+              Picture.Data = {
+                07544269746D6170A2070000424DA20700000000000036000000280000001900
+                00001900000001001800000000006C070000110B0000110B0000000000000000
+                0000FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4579DD7
+                3A9ADF2899E5289BE7289BE63A9ADF5299D4FF00E4FF00E4FF00E4FF00E4FF00
+                E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4
+                FF00E4289AE72899E62B97E6268EE12287E12286E02286E1268EE22B96E52899
+                E63299E2FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4
+                FF00E4FF00E4FF00E43396E2299BE7248AE12285DF3992E35AA3E861A8E961A9
+                EA61A8E859A3E73992E32285E0258CE2289BE73895DDFF00E4FF00E4FF00E4FF
+                00E4FF00E400FF00E4FF00E4FF00E4FF00E42997E52C92E42888E153A1E88BBF
+                EF7CB8ED5FA7E84197E54196E44096E360A8EA81B9ED81BAEE499BE62888E12F
+                97E53194E1FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E42B98E53394
+                E43792E478B5EE75B4EC2F8EE32285DF4096E5499BE64A9BE64A9CE73F95E422
+                86E03E95E47BB7ED70B1EC3892E43395E63093E0FF00E4FF00E4FF00E400FF00
+                E4FF00E43295E23A99E64197E478B5EC509FE62185E02286E12286E195C4F0CC
+                E3F6CDE5F7CCE4F694C3EF2286E12385E02286DF62AAEA77B5ED4096E4389AE4
+                3792DEFF00E4FF00E400FF00E4FF00E4399CE6479AE670B1EC4B9CE62286E122
+                86E02285DF2386E08BBEEFFFFFFFFFFFFFFFFFFF8BC0EF2286DF2285DF2286E1
+                2286E05CA4E96BAEEA4699E4359CE7FF00E4FF00E400FF00E42990E24F9FE760
+                A7E862AAEA2386E02286E12285DF2285DF2286E081B9EDFFFFFFFFFFFFFFFFFF
+                81BBEE2285DF2286E02286E12285DF2286DF64ABEA5BA4E84D9FE72D8FDFFF00
+                E400FF00E43D9EE75DA6E96AADE92A8AE02286E12285DF2285DF2284DF2286DF
+                79B6EDAFD3F4AFD4F4AFD4F579B6EC2286E02286E02286E12286DF2285DF338F
+                E366ABE95DA6E83798E4FF00E40056A0E354A4E864A9E94E9DE52285DF2286E0
+                2285DF2285DF2285DF2286E12286E12286E02286E12385DF2285DF2285E02285
+                DF2286E12286E12186E02185E0549FE665AAEA50A2E75196D400248AE16CAFEC
+                65ABEA3A93E32285DF2286E12286E12286E02286E12386E03A92E498C6F0A5CE
+                F18FC2F02D8CE22286E02286E12386E02286E02286E12286E03B94E463A9E963
+                ABEB3690DC00248BE27AB7EE5BA3E72D8BE12286E02285E02286E02286E02285
+                DF2386E03D93E4BCDBF5FFFFFFACD2F33690E22286E12285DF2286E02285DF22
+                84DF2285E02F8EE364AAE979B6ED238AE1002289E284BCEE56A0E72B8BE32486
+                E12386DF2285DF2286E02286E12286E1479AE6BFDCF5FFFFFFB6D7F43D94E422
+                85DF2285DF2286E02385DF2284DF2286E02989E164AAE984BBED2388E1002287
+                E08EC0EF53A0E83490E4308DE22F8DE22F8CE22E8CE22D8DE22C8BE24A9CE6D9
+                EBF8FFFFFFBCDCF64598E42888E02789E02789E12789E12687E12688E12B8AE1
+                64A9E98EBFEE2286DF002285E197C6EF66ABEB3D93E34498E54499E64398E642
+                97E54197E54096E352A0E8D4E8F6FFFFFFD4E8F64A9BE63B94E43A91E33A93E3
+                3993E43892E43792E4338FE36CADEB82BBEE348BDC00499BE580BAEC7DB7ED38
+                92E35AA3E759A3E857A2E856A0E755A1E756A2E84C9CE6FFFFFFFFFFFFDEEDF8
+                4A9CE650A0E8509FE74E9DE74D9CE54E9EE74B9BE52D8CE28BBFEE70B0EA5195
+                D400FF00E45FA7EAABD0F22A8BE163A9E96BADE96BADEA6BAFEB69ACEA68ACEA
+                3D94E4FFFFFFFFFFFFFFFFFF469AE564A9E863A8E962A8E862A9E961A8E8509E
+                E73290E3ADD3F54C9CE6FF00E400FF00E4298AE2ACD0F26CAEE93D94E480BAEE
+                7EB9ED7EB9ED7CB8ED7BB7ED308EE3FFFFFFFFFFFFFFFFFF4398E677B4EC77B5
+                ED76B4ED74B3EC75B4ED3590E47EB8EDA4CEF22185E1FF00E400FF00E4FF00E4
+                6FAFEAC0DDF64096E467ACEB93C4EE92C3EE92C3F090C2EF2588E1FFFFFFFFFF
+                FFFFFFFF3E95E38CC0EE8BC0EF8AC0F089BFF054A0E74A9BE6C0DDF65CA5E8FF
+                00E4FF00E400FF00E4FF00E42D8CE3A9D0F2B6D8F52C8BE273B2ECA6D0F3A5CE
+                F1A5CEF22286E190C2EE91C3F092C4F04196E49FCBF19FCCF19ECAF065AAE942
+                98E5C1DDF6A0CBF12A88DEFF00E4FF00E400FF00E4FF00E4FF00E42C8CE3B3D5
+                F4BFDDF64499E559A3E7AFD3F4B8D9F593C4EE93C3EF93C4EE93C4F099C7EFB3
+                D5F49ECAF04D9DE6509FE6CAE2F7B3D5F42C8CE3FF00E4FF00E4FF00E400FF00
+                E4FF00E4FF00E4FF00E42D8BE2B9D8F4E0EFF981BAED2D8BE160A8E988BEEF9E
+                CAF1A9D0F39ECAF189BEEF54A0E73A93E38DC0EFDFEEF8AFD4F52D8CE3FF00E4
+                FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF00E4FF00E42D8CE184BCEFDC
+                ECF8E9F3FAABD1F287BDEE56A1E755A1E755A0E686BCEDACD2F3E9F2F9DCECF8
+                76B2EB2C8ADEFF00E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF
+                00E4FF00E4FF00E4FF00E42D8CE27CB8EDBEDCF6F2F7FBF3F8FBF2F7FBF3F8FC
+                E7F2FAB1D4F46FB0EB2E8CE2FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00
+                E400FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4489AE4
+                2184E02185E12184DF2185E02184DF569FE4FF00E4FF00E4FF00E4FF00E4FF00
+                E4FF00E4FF00E4FF00E4FF00E400}
+              Transparent = True
+              Visible = False
+            end
+          end
+        end
+        object AutoHostInfoPanel: TSpTBXPanel
+          Left = 2
+          Top = 2
+          Width = 309
+          Height = 76
+          Align = alTop
+          TabOrder = 3
+          Visible = False
+          BorderType = pbrDoubleRaised
+          object AutoHostControlLabel: TSpTBXLabel
+            Left = 2
+            Top = 2
+            Width = 305
+            Height = 16
+            Caption = 'Autohost control'
+            Align = alTop
+            Font.Charset = DEFAULT_CHARSET
+            Font.Color = clWindowText
+            Font.Height = -13
+            Font.Name = 'MS Sans Serif'
+            Font.Style = [fsBold]
+            ParentFont = False
+            Alignment = taCenter
+            CaptionGlowColor = clGray
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
+          object AutoHostInfoBottomPanel: TSpTBXPanel
+            Left = 2
+            Top = 18
+            Width = 305
+            Height = 56
+            Caption = 'AutoHostInfoBottomPanel'
+            Align = alClient
+            TabOrder = 1
+            Borders = False
+            DesignSize = (
+              305
+              56)
+            object Bevel2: TBevel
+              Left = 4
+              Top = 0
+              Width = 298
+              Height = 2
+              Anchors = [akLeft, akTop, akRight]
+            end
+            object AutoHostInfoRightPanel: TSpTBXPanel
+              Left = 260
+              Top = 2
+              Width = 43
+              Height = 52
+              Align = alRight
+              TabOrder = 0
+              Borders = False
+              TBXStyleBackground = True
+              DesignSize = (
+                43
+                52)
+              object Image1: TImage
+                Left = 9
+                Top = 4
+                Width = 25
+                Height = 25
+                Anchors = [akTop, akRight]
+                Picture.Data = {
+                  07544269746D6170A2070000424DA20700000000000036000000280000001900
+                  00001900000001001800000000006C070000120B0000120B0000000000000000
+                  0000FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4D000B7
+                  9B017587024F84043F8502458E015FB40197F300D9FF00E4FF00E4FF00E4FF00
+                  E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4
+                  FF00E4A2027E751010932C00BB4A04D16916D77923D57723C95F12AA3C007F1C
+                  0080063FDF00C6FF00E4FF00E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4
+                  FF00E4FF00E4FF00E4CB01B176120CAE3A00E47D17FDAB3BFFCB65FFEA8BFFF5
+                  9CFFF49DFFE58AFFC766F5A136CE5D088F1F008E045FFF00E4FF00E4FF00E4FF
+                  00E4FF00E400FF00E4FF00E4FF00E4FF00E4AA028B911D00DB6C10FFBE53FFE1
+                  85FFE7A8FFE7B7FFD7A7FFD9B2FFE4BDFFEFCDFFEFC5FFF3B1FFDD7AF3962BB4
+                  3B007E0B2EFF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4B201949820
+                  00EA8729FFE18BFFD996FFC984FFD087FFCA88FFD8C0FFF3EFFFE2C8FFE1B3FF
+                  DFABFFD8A1FFDAA6FFE89EFFC35CC54A03830934FF00E4FF00E4FF00E400FF00
+                  E4FF00E4D800BF871800E68A38FFE598FFBE6EFFA83CFFB24DFFC26BFFE3C0FF
+                  FFFFFFFFFFFFFFFFFFEDD3FFDEACFFCE87FFBF68FFBB67FFD98FFFCE74BE4303
+                  940560FF00E4FF00E400FF00E4FF00E489024AD76C2AFFDD8BFFAA49FF9A25FF
+                  A940FFBC67FFC579FFE5C1FFFFFFFFFFFFFFFFFFFFEDD4FFDFB2FFD499FFC67B
+                  FFB04CFFA031FFD079F6B4659A2600D101B6FF00E400FF00E4C800ADAB3B0AFE
+                  BA6EFFAA43FF982AFFA239FFA945FFBA66FFC882FFD397FFEBCCFFF7EAFFEBCF
+                  FFE2BBFFDCACFFD094FFC479FFB55BFFA439FF9828FFCC6EE3823F8C0548FF00
+                  E400FF00E497006BDA7838FFBA51FF9227FF9E38FF9F36FFA640FFB65FFFC57D
+                  FFC987FFC484FFD1A0FFD6A2FFDAAAFFD49DFFCA88FFBE70FFAF52FFA239FF9C
+                  31FFA436F8A855932C0DEF00D500E300CA8E2228FA9640FF9E30FF9832FF9B35
+                  FF9C35FFA039FFAE53FFB967FFC37EFFECE0FFFFFFFFECD5FFC987FFC987FFC1
+                  79FFB765FFA94AFF9F37FF9D37FF952CFFAE44C26427BE058A00B60097AD4810
+                  FFB666FF9A3AFF932CFF9833FF9A34FF9B34FFA442FFA643FFCC93FFFFFFFFFF
+                  FFFFF9F2FFBA6DFFBA6CFFBE76FFB463FFA84CFFA344FFA144FF9E41FFAD45D7
+                  7A2FB3115D00B10975B44D0EFFA23FFF912FFF922EFF9531FF9833FF9730FF97
+                  2DFF9A2FFFCA91FFFFFFFFFFFFFFFFFFFFDEBBFFBD77FFA74CFFAB54FFA64CFF
+                  A44BFFA249FFA048FFAD4EE17F32A9174B00B50E6AB34908FFA448FF9639FF8D
+                  28FF922EFF9027FF942EFFA042FF9F3FFFC890FFFFFFFFFFFFFFFFFFFFFFFFFF
+                  FFFFFFC993FF9832FFA64FFFA54FFFA24CFFA04AFFAB51E78134AA174900B707
+                  81B84603FFB061FF9F4EFF861FFF8A22FF9637FFA757FFAE63FFA652FFAD5EFF
+                  E7D0FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC288FF993AFFA553FFA350FFA14E
+                  FFAD57E38036AC145000C902A6A83C02FFB263FFA861FF7D13FF9740FFAE69FF
+                  AA5EFF953AFFA14DFFA857FF9D42FFAE62FFD6AFFFFFFFFFFFFFFFFFFFFFE7D2
+                  FF9C43FFA354FFA354FFA153FFB15EDB7B37B7106800F900DDA41A38FFAD6EFF
+                  B97AFF8B30FFAE6CFFA960FFA761FFBA8DFFAF73FF9C47FFAC61FFA351FF8E29
+                  FFD8B5FFFFFFFFFFFFFFFBF8FFAA63FF9F50FFA359FFA056FFB866C8692DDA06
+                  A500FF00E4C20786D6793FFFBF79FFA35FFFAB68FF9B4BFFCDA5FFFFFFFFFFFF
+                  FFC394FF973FFF9D4BFF9236FFDBBCFFFFFFFFFFFFFFFBF8FFAB66FFA054FFA4
+                  5DFFA65DFFA960AB362BFF00E400FF00E4F002CDAA4214FFD098FFB37AFFA460
+                  FF9D51FFD3B0FFFFFFFFFFFFFFFFFFFFD3B0FFB67AFFD3B0FFFFFFFFFFFFFFFF
+                  FFFFE8D5FF9E51FFA560FFA35FFFB970DF8B4EB71264FF00E400FF00E4FF00E4
+                  BC0778DCA07DFFE9C0FFA261FF9D55FFBE8CFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+                  FFFFFFFFFFFFFFFFFFFFFFFFFFFFCAA0FF9B50FFA665FFAA67FFC17FAC3E2DF9
+                  00DAFF00E400FF00E4FF00E4FF00E4A92235FEDAB9FFE2BEFFA365FF9A52FFCE
+                  ACFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD7B9FF9E56FFA565FF
+                  A766FFD49ACB7B4CCE0394FF00E4FF00E400FF00E4FF00E4FF00E4F204CDA430
+                  2CFFECD0FFF0D4FFAF79FF954AFFB580FFE1CBFFEDE1FFF8F4FFF1E7FFE6D4FF
+                  C398FF9950FF9F5EFFB67EFFE2B3DA8E63BD0A72FF00E4FF00E4FF00E400FF00
+                  E4FF00E4FF00E4FF00E4F001CDAA3333FAD2B8FFFFFAFFDBB9FFAD76FF9C58FF
+                  A160FFA96EFFA364FF9953FF9D5AFFB886FFE0B8FFE1BDD17E54C3097CFF00E4
+                  FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF00E4FF00E4FD00E1BC1263D0
+                  8960FBDCC9FFFFF8FFF8E2FFE4C4FFD7B2FFDAB6FFE5C4FFF3D7FFEBD0ECAF8E
+                  B44041DF02B0FF00E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF
+                  00E4FF00E4FF00E4FF00E4F002CBC2166ACD626CD39F83E2B59EEFC3ADEABCA5
+                  DAA88ED28875CB3760D30599FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00
+                  E400FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4F901D9
+                  D90898C5176CC12461C11F64CA117DE804BBFF00E4FF00E4FF00E4FF00E4FF00
+                  E4FF00E4FF00E4FF00E4FF00E400}
+                Transparent = True
+                OnClick = Image1Click
+              end
+              object AutoHostCommandsButton: TSpTBXSpeedButton
+                Left = 2
+                Top = 35
+                Width = 39
+                Height = 15
+                Align = alBottom
+                DropDownArrow = False
+                DropDownMenu = SPADSPopupMenu
+                Images = MainForm.ArrowList
+                ImageIndex = 1
+                LinkFont.Charset = DEFAULT_CHARSET
+                LinkFont.Color = clBlue
+                LinkFont.Height = -11
+                LinkFont.Name = 'MS Sans Serif'
+                LinkFont.Style = [fsUnderline]
+              end
+            end
+            object SpTBXPanel2: TSpTBXPanel
+              Left = 2
+              Top = 2
+              Width = 39
+              Height = 52
+              Align = alLeft
+              TabOrder = 1
+              Borders = False
+              TBXStyleBackground = True
+              object AutoHostInfoIcon: TImage
+                Left = 8
+                Top = 15
+                Width = 25
+                Height = 25
+                Picture.Data = {
+                  07544269746D6170A2070000424DA20700000000000036000000280000001900
+                  00001900000001001800000000006C070000110B0000110B0000000000000000
+                  0000FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4579DD7
+                  3A9ADF2899E5289BE7289BE63A9ADF5299D4FF00E4FF00E4FF00E4FF00E4FF00
+                  E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4
+                  FF00E4289AE72899E62B97E6268EE12287E12286E02286E1268EE22B96E52899
+                  E63299E2FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4
+                  FF00E4FF00E4FF00E43396E2299BE7248AE12285DF3992E35AA3E861A8E961A9
+                  EA61A8E859A3E73992E32285E0258CE2289BE73895DDFF00E4FF00E4FF00E4FF
+                  00E4FF00E400FF00E4FF00E4FF00E4FF00E42997E52C92E42888E153A1E88BBF
+                  EF7CB8ED5FA7E84197E54196E44096E360A8EA81B9ED81BAEE499BE62888E12F
+                  97E53194E1FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E42B98E53394
+                  E43792E478B5EE75B4EC2F8EE32285DF4096E5499BE64A9BE64A9CE73F95E422
+                  86E03E95E47BB7ED70B1EC3892E43395E63093E0FF00E4FF00E4FF00E400FF00
+                  E4FF00E43295E23A99E64197E478B5EC509FE62185E02286E12286E195C4F0CC
+                  E3F6CDE5F7CCE4F694C3EF2286E12385E02286DF62AAEA77B5ED4096E4389AE4
+                  3792DEFF00E4FF00E400FF00E4FF00E4399CE6479AE670B1EC4B9CE62286E122
+                  86E02285DF2386E08BBEEFFFFFFFFFFFFFFFFFFF8BC0EF2286DF2285DF2286E1
+                  2286E05CA4E96BAEEA4699E4359CE7FF00E4FF00E400FF00E42990E24F9FE760
+                  A7E862AAEA2386E02286E12285DF2285DF2286E081B9EDFFFFFFFFFFFFFFFFFF
+                  81BBEE2285DF2286E02286E12285DF2286DF64ABEA5BA4E84D9FE72D8FDFFF00
+                  E400FF00E43D9EE75DA6E96AADE92A8AE02286E12285DF2285DF2284DF2286DF
+                  79B6EDAFD3F4AFD4F4AFD4F579B6EC2286E02286E02286E12286DF2285DF338F
+                  E366ABE95DA6E83798E4FF00E40056A0E354A4E864A9E94E9DE52285DF2286E0
+                  2285DF2285DF2285DF2286E12286E12286E02286E12385DF2285DF2285E02285
+                  DF2286E12286E12186E02185E0549FE665AAEA50A2E75196D400248AE16CAFEC
+                  65ABEA3A93E32285DF2286E12286E12286E02286E12386E03A92E498C6F0A5CE
+                  F18FC2F02D8CE22286E02286E12386E02286E02286E12286E03B94E463A9E963
+                  ABEB3690DC00248BE27AB7EE5BA3E72D8BE12286E02285E02286E02286E02285
+                  DF2386E03D93E4BCDBF5FFFFFFACD2F33690E22286E12285DF2286E02285DF22
+                  84DF2285E02F8EE364AAE979B6ED238AE1002289E284BCEE56A0E72B8BE32486
+                  E12386DF2285DF2286E02286E12286E1479AE6BFDCF5FFFFFFB6D7F43D94E422
+                  85DF2285DF2286E02385DF2284DF2286E02989E164AAE984BBED2388E1002287
+                  E08EC0EF53A0E83490E4308DE22F8DE22F8CE22E8CE22D8DE22C8BE24A9CE6D9
+                  EBF8FFFFFFBCDCF64598E42888E02789E02789E12789E12687E12688E12B8AE1
+                  64A9E98EBFEE2286DF002285E197C6EF66ABEB3D93E34498E54499E64398E642
+                  97E54197E54096E352A0E8D4E8F6FFFFFFD4E8F64A9BE63B94E43A91E33A93E3
+                  3993E43892E43792E4338FE36CADEB82BBEE348BDC00499BE580BAEC7DB7ED38
+                  92E35AA3E759A3E857A2E856A0E755A1E756A2E84C9CE6FFFFFFFFFFFFDEEDF8
+                  4A9CE650A0E8509FE74E9DE74D9CE54E9EE74B9BE52D8CE28BBFEE70B0EA5195
+                  D400FF00E45FA7EAABD0F22A8BE163A9E96BADE96BADEA6BAFEB69ACEA68ACEA
+                  3D94E4FFFFFFFFFFFFFFFFFF469AE564A9E863A8E962A8E862A9E961A8E8509E
+                  E73290E3ADD3F54C9CE6FF00E400FF00E4298AE2ACD0F26CAEE93D94E480BAEE
+                  7EB9ED7EB9ED7CB8ED7BB7ED308EE3FFFFFFFFFFFFFFFFFF4398E677B4EC77B5
+                  ED76B4ED74B3EC75B4ED3590E47EB8EDA4CEF22185E1FF00E400FF00E4FF00E4
+                  6FAFEAC0DDF64096E467ACEB93C4EE92C3EE92C3F090C2EF2588E1FFFFFFFFFF
+                  FFFFFFFF3E95E38CC0EE8BC0EF8AC0F089BFF054A0E74A9BE6C0DDF65CA5E8FF
+                  00E4FF00E400FF00E4FF00E42D8CE3A9D0F2B6D8F52C8BE273B2ECA6D0F3A5CE
+                  F1A5CEF22286E190C2EE91C3F092C4F04196E49FCBF19FCCF19ECAF065AAE942
+                  98E5C1DDF6A0CBF12A88DEFF00E4FF00E400FF00E4FF00E4FF00E42C8CE3B3D5
+                  F4BFDDF64499E559A3E7AFD3F4B8D9F593C4EE93C3EF93C4EE93C4F099C7EFB3
+                  D5F49ECAF04D9DE6509FE6CAE2F7B3D5F42C8CE3FF00E4FF00E4FF00E400FF00
+                  E4FF00E4FF00E4FF00E42D8BE2B9D8F4E0EFF981BAED2D8BE160A8E988BEEF9E
+                  CAF1A9D0F39ECAF189BEEF54A0E73A93E38DC0EFDFEEF8AFD4F52D8CE3FF00E4
+                  FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF00E4FF00E42D8CE184BCEFDC
+                  ECF8E9F3FAABD1F287BDEE56A1E755A1E755A0E686BCEDACD2F3E9F2F9DCECF8
+                  76B2EB2C8ADEFF00E4FF00E4FF00E4FF00E4FF00E400FF00E4FF00E4FF00E4FF
+                  00E4FF00E4FF00E4FF00E42D8CE27CB8EDBEDCF6F2F7FBF3F8FBF2F7FBF3F8FC
+                  E7F2FAB1D4F46FB0EB2E8CE2FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00
+                  E400FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4FF00E4489AE4
+                  2184E02185E12184DF2185E02184DF569FE4FF00E4FF00E4FF00E4FF00E4FF00
+                  E4FF00E4FF00E4FF00E4FF00E400}
+                Transparent = True
+                Visible = False
+              end
+            end
+            object AutoHostInfoMsgs: TSpTBXListBox
+              Left = 41
+              Top = 2
+              Width = 219
+              Height = 51
+              Align = alClient
+              BevelInner = bvNone
+              BevelOuter = bvNone
+              BorderStyle = bsNone
+              IntegralHeight = True
+              ItemHeight = 51
+              ParentColor = True
+              TabOrder = 2
+              OnDrawItem = AutoHostInfoMsgsDrawItem
+              OnDrawItemBackground = AutoHostInfoMsgsDrawItemBackground
+            end
+          end
+        end
       end
     end
     object Panel3: TSpTBXPanel
@@ -12256,7 +12813,7 @@
         BiDiMode = bdLeftToRight
         Color = clBtnFace
         ParentBiDiMode = False
-        ActiveTabIndex = 2
+        ActiveTabIndex = 0
         ThemeType = tttTBX
         OnActiveTabChange = SpTBXTabControl1ActiveTabChange
         HiddenItems = &lt;
@@ -12291,6 +12848,7 @@
             Height = 35
           end&gt;
         object QuickLookTab: TSpTBXTabItem
+          Checked = True
           ImageIndex = 1
           Images = MainForm.ArrowList
           CustomWidth = 40
@@ -12306,7 +12864,6 @@
         object DisabledUnitsTab: TSpTBXTabItem
           Caption = 'Disabled Units (0)'
           Wrapping = twWrap
-          Checked = True
           CustomWidth = 94
           ThemeType = tttTBX
         end
@@ -12486,31 +13043,6 @@
             end
           end
         end
-        object SpTBXTabSheet6: TSpTBXTabSheet
-          Left = 0
-          Top = 39
-          Width = 413
-          Height = 230
-          ImageIndex = 1
-          Item = QuickLookTab
-          TabControl = SpTBXTabControl1
-          TabItem = 'QuickLookTab'
-          object QuickLookRichEdit: TRichEdit
-            Left = 2
-            Top = 0
-            Width = 409
-            Height = 228
-            Align = alClient
-            BorderStyle = bsNone
-            Color = clBtnFace
-            ParentShowHint = False
-            ReadOnly = True
-            ScrollBars = ssVertical
-            ShowHint = True
-            TabOrder = 0
-            OnMouseMove = QuickLookRichEditMouseMove
-          end
-        end
         object SpTBXTabSheet2: TSpTBXTabSheet
           Left = 0
           Top = 39
@@ -12818,6 +13350,31 @@
             end
           end
         end
+        object SpTBXTabSheet6: TSpTBXTabSheet
+          Left = 0
+          Top = 39
+          Width = 413
+          Height = 230
+          ImageIndex = 1
+          Item = QuickLookTab
+          TabControl = SpTBXTabControl1
+          TabItem = 'QuickLookTab'
+          object QuickLookRichEdit: TRichEdit
+            Left = 2
+            Top = 0
+            Width = 409
+            Height = 228
+            Align = alClient
+            BorderStyle = bsNone
+            Color = clBtnFace
+            ParentShowHint = False
+            ReadOnly = True
+            ScrollBars = ssVertical
+            ShowHint = True
+            TabOrder = 0
+            OnMouseMove = QuickLookRichEditMouseMove
+          end
+        end
       end
     end
   end
@@ -12825,13 +13382,13 @@
     Enabled = False
     Interval = 200
     OnTimer = GameTimerTimer
-    Left = 560
-    Top = 428
+    Left = 608
+    Top = 308
   end
   object ColorPopupMenu: TSpTBXPopupMenu
     AutoHotkeys = maManual
-    Left = 760
-    Top = 360
+    Left = 280
+    Top = 488
     object TBXColorPalette1: TTBXColorPalette
       ColorSet = TBXTeamColorSet
       PaletteOptions = [tpoCustomImages]
@@ -12851,8 +13408,8 @@
     ColCount = 5
     RowCount = 4
     OnGetColorInfo = TBXTeamColorSetGetColorInfo
-    Left = 728
-    Top = 360
+    Left = 248
+    Top = 488
   end
   object PlayerControlPopupMenu: TSpTBXPopupMenu
     AutoHotkeys = maManual
@@ -12931,8 +13488,8 @@
   end
   object BalanceTeamsPopupMenu: TSpTBXPopupMenu
     AutoHotkeys = maManual
-    Left = 492
-    Top = 425
+    Left = 540
+    Top = 305
     object SpTBXItem8: TSpTBXItem
       Caption = 'Options ...'
       OnClick = SpTBXItem8Click
@@ -13049,8 +13606,8 @@
     BandwidthSampling = 1000
     Options = []
     SocksAuthentication = socksNoAuthentication
-    Left = 460
-    Top = 427
+    Left = 508
+    Top = 307
   end
   object HttpCli2: THttpCli
     LocalAddr = '0.0.0.0'
@@ -13067,8 +13624,8 @@
     BandwidthSampling = 1000
     Options = []
     SocksAuthentication = socksNoAuthentication
-    Left = 596
-    Top = 427
+    Left = 644
+    Top = 307
   end
   object HttpCli3: THttpCli
     LocalAddr = '0.0.0.0'
@@ -13085,8 +13642,8 @@
     BandwidthSampling = 1000
     Options = []
     SocksAuthentication = socksNoAuthentication
-    Left = 524
-    Top = 427
+    Left = 572
+    Top = 307
   end
   object LadderPopupMenu: TSpTBXPopupMenu
     AutoHotkeys = maManual
@@ -13141,8 +13698,8 @@
   end
   object ChooseSidePopupMenu: TSpTBXPopupMenu
     AutoHotkeys = maManual
-    Left = 732
-    Top = 327
+    Left = 252
+    Top = 455
   end
   object NumberSelection: TSpTBXPopupMenu
     Left = 82
@@ -13158,4 +13715,330 @@
     Left = 114
     Top = 466
   end
+  object AutoHostMsgFlashTimer: TTimer
+    Interval = 800
+    OnTimer = AutoHostMsgFlashTimerTimer
+    Left = 718
+    Top = 416
+  end
+  object SPADSPopupMenu: TSpTBXPopupMenu
+    Left = 814
+    Top = 376
+    object mnuDisableAutohostInterface: TSpTBXItem
+      Caption = 'Disable autohost interface'
+      OnClick = mnuDisableAutohostInterfaceClick
+    end
+    object mnuHideAutoHostMsgs: TSpTBXItem
+      Caption = 'Hide autohost messages in chat'
+      AutoCheck = True
+      Checked = True
+    end
+    object SpTBXSeparatorItem5: TSpTBXSeparatorItem
+    end
+    object SpTBXSubmenuItem1: TSpTBXSubmenuItem
+      Caption = 'Autohost information'
+      object SpTBXItem13: TSpTBXItem
+        Caption = '!help (Commands help)'
+        OnClick = SpTBXItem13Click
+      end
+      object SpTBXItem5: TSpTBXItem
+        Caption = '!status (Ingame Status)'
+        OnClick = SpTBXItem5Click
+      end
+      object SpTBXItem48: TSpTBXItem
+        Caption = '!hostStats'
+        OnClick = SpTBXItem48Click
+      end
+      object SpTBXItem6: TSpTBXItem
+        Caption = '!notify (sets/unsets an end-game notification)'
+        OnClick = SpTBXItem6Click
+      end
+      object SpTBXItem14: TSpTBXItem
+        Caption = '!list users'
+        OnClick = SpTBXItem14Click
+      end
+      object SpTBXItem15: TSpTBXItem
+        Caption = '!list presets'
+        OnClick = SpTBXItem15Click
+      end
+      object SpTBXItem16: TSpTBXItem
+        Caption = '!list bPresets (Battle presets)'
+        OnClick = SpTBXItem16Click
+      end
+      object SpTBXItem17: TSpTBXItem
+        Caption = '!list hPresets (Hosting presets)'
+        OnClick = SpTBXItem17Click
+      end
+      object SpTBXItem18: TSpTBXItem
+        Caption = '!list settings'
+        OnClick = SpTBXItem18Click
+      end
+      object SpTBXItem19: TSpTBXItem
+        Caption = '!list bSettings (Battle settings)'
+        OnClick = SpTBXItem19Click
+      end
+      object SpTBXItem20: TSpTBXItem
+        Caption = '!list hSettings (Hosting settings)'
+        OnClick = SpTBXItem20Click
+      end
+      object SpTBXItem21: TSpTBXItem
+        Caption = '!list bans'
+        OnClick = SpTBXItem21Click
+      end
+      object SpTBXItem22: TSpTBXItem
+        Caption = '!list maps'
+        OnClick = SpTBXItem22Click
+      end
+      object SpTBXItem23: TSpTBXItem
+        Caption = '!list pref'
+        OnClick = SpTBXItem23Click
+      end
+      object SpTBXItem24: TSpTBXItem
+        Caption = '!list all'
+        OnClick = SpTBXItem24Click
+      end
+      object SpTBXItem25: TSpTBXItem
+        Caption = '!version'
+        OnClick = SpTBXItem25Click
+      end
+    end
+    object SpTBXSubmenuItem2: TSpTBXSubmenuItem
+      Caption = 'Selected player'
+      object SpTBXItem26: TSpTBXItem
+        Caption = '!kick'
+        OnClick = SpTBXItem26Click
+      end
+      object SpTBXItem27: TSpTBXItem
+        Caption = '!ban'
+        OnClick = SpTBXItem27Click
+      end
+      object SpTBXItem29: TSpTBXItem
+        Caption = '!banIp'
+        OnClick = SpTBXItem29Click
+      end
+      object SpTBXItem28: TSpTBXItem
+        Caption = '!spec'
+        OnClick = SpTBXItem28Click
+      end
+      object SpTBXItem30: TSpTBXItem
+        Caption = '!ring'
+        OnClick = SpTBXItem30Click
+      end
+      object SpTBXItem46: TSpTBXItem
+        Caption = '!boss'
+        OnClick = SpTBXItem46Click
+      end
+    end
+    object SpTBXSubmenuItem3: TSpTBXSubmenuItem
+      Caption = 'Game'
+      object SpTBXItem64: TSpTBXItem
+        Caption = '!start'
+        OnClick = SpTBXItem64Click
+      end
+      object SpTBXItem31: TSpTBXItem
+        Caption = '!forcestart'
+        OnClick = SpTBXItem31Click
+      end
+      object SpTBXItem37: TSpTBXItem
+        Caption = '!restart'
+        OnClick = SpTBXItem37Click
+      end
+      object SpTBXItem36: TSpTBXItem
+        Caption = '!stop'
+        OnClick = SpTBXItem36Click
+      end
+      object SpTBXItem32: TSpTBXItem
+        Caption = '!lock'
+        OnClick = SpTBXItem32Click
+      end
+      object SpTBXItem45: TSpTBXItem
+        Caption = '!unlock'
+        OnClick = SpTBXItem45Click
+      end
+      object SpTBXItem33: TSpTBXItem
+        Caption = '!balance'
+        OnClick = SpTBXItem33Click
+      end
+      object SpTBXItem34: TSpTBXItem
+        Caption = '!rebalance'
+        OnClick = SpTBXItem34Click
+      end
+      object SpTBXItem35: TSpTBXItem
+        Caption = '!specAfk'
+        OnClick = SpTBXItem35Click
+      end
+      object SpTBXItem44: TSpTBXItem
+        Caption = '!fixcolors'
+        OnClick = SpTBXItem44Click
+      end
+      object SpTBXItem47: TSpTBXItem
+        Caption = '!autolock'
+        OnClick = SpTBXItem47Click
+      end
+      object SpTBXItem49: TSpTBXItem
+        Caption = '!coop'
+        OnClick = SpTBXItem49Click
+      end
+    end
+    object SpTBXSubmenuItem4: TSpTBXSubmenuItem
+      Caption = 'Boxes'
+      object SpTBXItem39: TSpTBXItem
+        Caption = '!split vertical'
+        OnClick = SpTBXItem39Click
+      end
+      object SpTBXItem38: TSpTBXItem
+        Caption = '!split horizontal'
+        OnClick = SpTBXItem38Click
+      end
+      object SpTBXItem40: TSpTBXItem
+        Caption = '!split corners'
+        OnClick = SpTBXItem40Click
+      end
+      object SpTBXItem41: TSpTBXItem
+        Caption = '!split top-left vs bottom-right corners'
+        OnClick = SpTBXItem41Click
+      end
+      object SpTBXItem42: TSpTBXItem
+        Caption = '!split top-right vs bottom-left corners'
+        OnClick = SpTBXItem42Click
+      end
+      object SpTBXItem43: TSpTBXItem
+        Caption = '!split left vs top vs right vs bottom'
+        OnClick = SpTBXItem43Click
+      end
+    end
+  end
+  object SPRINGIEPopupMenu: TSpTBXPopupMenu
+    OnInitPopup = SPRINGIEPopupMenuInitPopup
+    Left = 782
+    Top = 376
+    object mnuDisableAutohostInterface2: TSpTBXItem
+      Caption = 'Disable autohost interface'
+      OnClick = mnuDisableAutohostInterfaceClick
+    end
+    object mnuHideAutoHostMsgs2: TSpTBXItem
+      Caption = 'Hide autohost messages in chat'
+      AutoCheck = True
+      Checked = True
+      OnClick = mnuHideAutoHostMsgs2Click
+    end
+    object SpTBXSeparatorItem6: TSpTBXSeparatorItem
+    end
+    object SpTBXSubmenuItem5: TSpTBXSubmenuItem
+      Caption = 'Autohost information'
+      object SpTBXItem2: TSpTBXItem
+        Caption = '!helpall (Commands help)'
+        OnClick = SpTBXItem2Click
+      end
+      object SpTBXItem50: TSpTBXItem
+        Caption = '!stats'
+        OnClick = SpTBXItem50Click
+      end
+      object SpTBXItem62: TSpTBXItem
+        Caption = '!notify (sets/unsets an end-game notification)'
+        OnClick = SpTBXItem62Click
+      end
+      object SpTBXItem57: TSpTBXItem
+        Caption = '!admins'
+        OnClick = SpTBXItem57Click
+      end
+      object SpTBXItem51: TSpTBXItem
+        Caption = '!list maps'
+        OnClick = SpTBXItem51Click
+      end
+      object SpTBXItem52: TSpTBXItem
+        Caption = '!list mods'
+        OnClick = SpTBXItem52Click
+      end
+      object SpTBXItem53: TSpTBXItem
+        Caption = '!list bans'
+        OnClick = SpTBXItem53Click
+      end
+      object SpTBXItem54: TSpTBXItem
+        Caption = '!list options'
+        OnClick = SpTBXItem54Click
+      end
+      object SpTBXItem55: TSpTBXItem
+        Caption = '!list presets'
+        OnClick = SpTBXItem55Click
+      end
+      object SpTBXItem56: TSpTBXItem
+        Caption = '!springie'
+        OnClick = SpTBXItem56Click
+      end
+    end
+    object SpTBXSubmenuItem6: TSpTBXSubmenuItem
+      Caption = 'Selected player'
+      object SpTBXItem58: TSpTBXItem
+        Caption = '!votekick'
+        OnClick = SpTBXItem58Click
+      end
+      object SpTBXItem59: TSpTBXItem
+        Caption = '!spec'
+        OnClick = SpTBXItem59Click
+      end
+      object SpTBXItem60: TSpTBXItem
+        Caption = '!ring'
+        OnClick = SpTBXItem60Click
+      end
+      object SpTBXItem61: TSpTBXItem
+        Caption = '!voteboss'
+        OnClick = SpTBXItem61Click
+      end
+    end
+    object SpTBXSubmenuItem7: TSpTBXSubmenuItem
+      Caption = 'Game'
+      object SpTBXItem63: TSpTBXItem
+        Caption = '!start'
+        OnClick = SpTBXItem63Click
+      end
+      object SpTBXItem75: TSpTBXItem
+        Caption = '!voteexit'
+        OnClick = SpTBXItem75Click
+      end
+      object SpTBXItem65: TSpTBXItem
+        Caption = '!balance'
+        OnClick = SpTBXItem65Click
+      end
+      object SpTBXItem66: TSpTBXItem
+        Caption = '!cbalance (Clan balance)'
+        OnClick = SpTBXItem66Click
+      end
+      object SpTBXItem67: TSpTBXItem
+        Caption = '!lock'
+        OnClick = SpTBXItem67Click
+      end
+      object SpTBXItem68: TSpTBXItem
+        Caption = '!unlock'
+        OnClick = SpTBXItem68Click
+      end
+      object SpTBXItem69: TSpTBXItem
+        Caption = '!specafk'
+        OnClick = SpTBXItem69Click
+      end
+      object SpTBXItem70: TSpTBXItem
+        Caption = '!fixcolors'
+        OnClick = SpTBXItem70Click
+      end
+      object SpTBXItem71: TSpTBXItem
+        Caption = '!fix (ids)'
+        OnClick = SpTBXItem71Click
+      end
+    end
+    object SpTBXSubmenuItem8: TSpTBXSubmenuItem
+      Caption = 'Boxes'
+      object SpTBXItem72: TSpTBXItem
+        Caption = '!split vertical'
+        OnClick = SpTBXItem72Click
+      end
+      object SpTBXItem73: TSpTBXItem
+        Caption = '!split horizontal'
+        OnClick = SpTBXItem73Click
+      end
+      object SpTBXItem74: TSpTBXItem
+        Caption = '!corners'
+        OnClick = SpTBXItem74Click
+      end
+    end
+  end
 end

Modified: Lobby/TASClient/BattleFormUnit.pas
===================================================================
--- Lobby/TASClient/BattleFormUnit.pas	2009-10-24 13:11:49 UTC (rev 7364)
+++ Lobby/TASClient/BattleFormUnit.pas	2009-10-25 16:20:19 UTC (rev 7365)
@@ -26,7 +26,7 @@
   HttpProt,MsMultiPartFormData, JvComponentBase, Spin, Mask,
   JvExMask, JvSpin, TntStdCtrls, TntForms, TntComCtrls,RichEdit,JclUnicode,
   RichEdit2, ExRichEdit, class_TIntegerList, TBXLists, Utility, OleCtrls,
-  SHDocVw,ActnList, gnugettext, OpenGL1x, GIFImage, DockPanel;
+  SHDocVw,ActnList, gnugettext, OpenGL1x, GIFImage, DockPanel, pngimage;
 
 type
 
@@ -329,6 +329,107 @@
     NumberSelection: TSpTBXPopupMenu;
     Numbers: TTBXToolPalette;
     NumbersImgList: TTBImageList;
+    AutoHostVotePanel: TSpTBXPanel;
+    AutoHostVoteMsg: TSpTBXLabel;
+    AutoHostVoteButtonsPanel: TSpTBXPanel;
+    ImgVoteYes: TImage;
+    ImgVoteNo: TImage;
+    FlashPanel: TSpTBXPanel;
+    AutoHostVoteIcon: TImage;
+    ImgVoteBlank: TImage;
+    AutoHostInfoPanel: TSpTBXPanel;
+    AutoHostMsgFlashTimer: TTimer;
+    SPADSPopupMenu: TSpTBXPopupMenu;
+    SPRINGIEPopupMenu: TSpTBXPopupMenu;
+    mnuDisableAutohostInterface: TSpTBXItem;
+    SpTBXSeparatorItem5: TSpTBXSeparatorItem;
+    SpTBXItem5: TSpTBXItem;
+    SpTBXSubmenuItem1: TSpTBXSubmenuItem;
+    SpTBXItem13: TSpTBXItem;
+    SpTBXItem6: TSpTBXItem;
+    SpTBXItem14: TSpTBXItem;
+    SpTBXItem15: TSpTBXItem;
+    SpTBXItem16: TSpTBXItem;
+    SpTBXItem17: TSpTBXItem;
+    SpTBXItem18: TSpTBXItem;
+    SpTBXItem19: TSpTBXItem;
+    SpTBXItem20: TSpTBXItem;
+    SpTBXItem21: TSpTBXItem;
+    SpTBXItem22: TSpTBXItem;
+    SpTBXItem23: TSpTBXItem;
+    SpTBXItem24: TSpTBXItem;
+    SpTBXItem25: TSpTBXItem;
+    SpTBXSubmenuItem2: TSpTBXSubmenuItem;
+    SpTBXItem26: TSpTBXItem;
+    SpTBXItem27: TSpTBXItem;
+    SpTBXItem28: TSpTBXItem;
+    SpTBXItem29: TSpTBXItem;
+    SpTBXItem30: TSpTBXItem;
+    AutoHostControlLabel: TSpTBXLabel;
+    AutoHostInfoBottomPanel: TSpTBXPanel;
+    AutoHostInfoRightPanel: TSpTBXPanel;
+    Image1: TImage;
+    AutoHostCommandsButton: TSpTBXSpeedButton;
+    SpTBXPanel2: TSpTBXPanel;
+    AutoHostInfoIcon: TImage;
+    AutoHostInfoMsgs: TSpTBXListBox;
+    mnuHideAutoHostMsgs: TSpTBXItem;
+    SpTBXSubmenuItem3: TSpTBXSubmenuItem;
+    SpTBXItem31: TSpTBXItem;
+    SpTBXItem32: TSpTBXItem;
+    SpTBXItem33: TSpTBXItem;
+    SpTBXItem34: TSpTBXItem;
+    SpTBXItem35: TSpTBXItem;
+    SpTBXItem36: TSpTBXItem;
+    SpTBXItem37: TSpTBXItem;
+    SpTBXSubmenuItem4: TSpTBXSubmenuItem;
+    SpTBXItem38: TSpTBXItem;
+    SpTBXItem39: TSpTBXItem;
+    SpTBXItem40: TSpTBXItem;
+    SpTBXItem41: TSpTBXItem;
+    SpTBXItem42: TSpTBXItem;
+    SpTBXItem43: TSpTBXItem;
+    SpTBXItem44: TSpTBXItem;
+    SpTBXItem45: TSpTBXItem;
+    SpTBXItem46: TSpTBXItem;
+    SpTBXItem47: TSpTBXItem;
+    SpTBXItem48: TSpTBXItem;
+    SpTBXItem49: TSpTBXItem;
+    Bevel2: TBevel;
+    mnuDisableAutohostInterface2: TSpTBXItem;
+    mnuHideAutoHostMsgs2: TSpTBXItem;
+    SpTBXSeparatorItem6: TSpTBXSeparatorItem;
+    SpTBXSubmenuItem5: TSpTBXSubmenuItem;
+    SpTBXSubmenuItem6: TSpTBXSubmenuItem;
+    SpTBXSubmenuItem7: TSpTBXSubmenuItem;
+    SpTBXSubmenuItem8: TSpTBXSubmenuItem;
+    SpTBXItem2: TSpTBXItem;
+    SpTBXItem50: TSpTBXItem;
+    SpTBXItem51: TSpTBXItem;
+    SpTBXItem52: TSpTBXItem;
+    SpTBXItem53: TSpTBXItem;
+    SpTBXItem54: TSpTBXItem;
+    SpTBXItem55: TSpTBXItem;
+    SpTBXItem56: TSpTBXItem;
+    SpTBXItem57: TSpTBXItem;
+    SpTBXItem58: TSpTBXItem;
+    SpTBXItem59: TSpTBXItem;
+    SpTBXItem60: TSpTBXItem;
+    SpTBXItem61: TSpTBXItem;
+    SpTBXItem62: TSpTBXItem;
+    SpTBXItem63: TSpTBXItem;
+    SpTBXItem64: TSpTBXItem;
+    SpTBXItem65: TSpTBXItem;
+    SpTBXItem66: TSpTBXItem;
+    SpTBXItem67: TSpTBXItem;
+    SpTBXItem68: TSpTBXItem;
+    SpTBXItem69: TSpTBXItem;
+    SpTBXItem70: TSpTBXItem;
+    SpTBXItem71: TSpTBXItem;
+    SpTBXItem72: TSpTBXItem;
+    SpTBXItem73: TSpTBXItem;
+    SpTBXItem74: TSpTBXItem;
+    SpTBXItem75: TSpTBXItem;
 
     procedure CreateParams(var Params: TCreateParams); override;
 
@@ -563,6 +664,85 @@
       var Handled: Boolean);
     procedure MyAllyNoButtonContextPopup(Sender: TObject; MousePos: TPoint;
       var Handled: Boolean);
+    procedure AutoHostMsgFlashTimerTimer(Sender: TObject);
+    procedure AutoHostInfoMsgsDrawItemBackground(Control: TWinControl;
+      Index: Integer; Rect: TRect; State: TOwnerDrawState);
+    procedure AutoHostInfoMsgsDrawItem(Control: TWinControl;
+      Index: Integer; R: TRect; State: TOwnerDrawState);
+    procedure ImgVoteYesClick(Sender: TObject);
+    procedure ImgVoteNoClick(Sender: TObject);
+    procedure ImgVoteBlankClick(Sender: TObject);
+    procedure Image1Click(Sender: TObject);
+    procedure mnuDisableAutohostInterfaceClick(Sender: TObject);
+    procedure mnuHideAutoHostMsgs2Click(Sender: TObject);
+    procedure SPRINGIEPopupMenuInitPopup(Sender: TObject;
+      PopupView: TTBView);
+    procedure SpTBXItem13Click(Sender: TObject);
+    procedure SpTBXItem5Click(Sender: TObject);
+    procedure SpTBXItem48Click(Sender: TObject);
+    procedure SpTBXItem6Click(Sender: TObject);
+    procedure SpTBXItem14Click(Sender: TObject);
+    procedure SpTBXItem15Click(Sender: TObject);
+    procedure SpTBXItem16Click(Sender: TObject);
+    procedure SpTBXItem17Click(Sender: TObject);
+    procedure SpTBXItem18Click(Sender: TObject);
+    procedure SpTBXItem19Click(Sender: TObject);
+    procedure SpTBXItem20Click(Sender: TObject);
+    procedure SpTBXItem21Click(Sender: TObject);
+    procedure SpTBXItem22Click(Sender: TObject);
+    procedure SpTBXItem23Click(Sender: TObject);
+    procedure SpTBXItem24Click(Sender: TObject);
+    procedure SpTBXItem25Click(Sender: TObject);
+    procedure SpTBXItem31Click(Sender: TObject);
+    procedure SpTBXItem37Click(Sender: TObject);
+    procedure SpTBXItem36Click(Sender: TObject);
+    procedure SpTBXItem32Click(Sender: TObject);
+    procedure SpTBXItem45Click(Sender: TObject);
+    procedure SpTBXItem33Click(Sender: TObject);
+    procedure SpTBXItem34Click(Sender: TObject);
+    procedure SpTBXItem35Click(Sender: TObject);
+    procedure SpTBXItem44Click(Sender: TObject);
+    procedure SpTBXItem47Click(Sender: TObject);
+    procedure SpTBXItem49Click(Sender: TObject);
+    procedure SpTBXItem26Click(Sender: TObject);
+    procedure SpTBXItem27Click(Sender: TObject);
+    procedure SpTBXItem29Click(Sender: TObject);
+    procedure SpTBXItem28Click(Sender: TObject);
+    procedure SpTBXItem30Click(Sender: TObject);
+    procedure SpTBXItem46Click(Sender: TObject);
+    procedure SpTBXItem39Click(Sender: TObject);
+    procedure SpTBXItem38Click(Sender: TObject);
+    procedure SpTBXItem40Click(Sender: TObject);
+    procedure SpTBXItem41Click(Sender: TObject);
+    procedure SpTBXItem42Click(Sender: TObject);
+    procedure SpTBXItem43Click(Sender: TObject);
+    procedure SpTBXItem64Click(Sender: TObject);
+    procedure SpTBXItem2Click(Sender: TObject);
+    procedure SpTBXItem50Click(Sender: TObject);
+    procedure SpTBXItem62Click(Sender: TObject);
+    procedure SpTBXItem57Click(Sender: TObject);
+    procedure SpTBXItem51Click(Sender: TObject);
+    procedure SpTBXItem52Click(Sender: TObject);
+    procedure SpTBXItem53Click(Sender: TObject);
+    procedure SpTBXItem54Click(Sender: TObject);
+    procedure SpTBXItem55Click(Sender: TObject);
+    procedure SpTBXItem56Click(Sender: TObject);
+    procedure SpTBXItem63Click(Sender: TObject);
+    procedure SpTBXItem75Click(Sender: TObject);
+    procedure SpTBXItem65Click(Sender: TObject);
+    procedure SpTBXItem66Click(Sender: TObject);
+    procedure SpTBXItem67Click(Sender: TObject);
+    procedure SpTBXItem68Click(Sender: TObject);
+    procedure SpTBXItem69Click(Sender: TObject);
+    procedure SpTBXItem70Click(Sender: TObject);
+    procedure SpTBXItem71Click(Sender: TObject);
+    procedure SpTBXItem72Click(Sender: TObject);
+    procedure SpTBXItem73Click(Sender: TObject);
+    procedure SpTBXItem74Click(Sender: TObject);
+    procedure SpTBXItem58Click(Sender: TObject);
+    procedure SpTBXItem59Click(Sender: TObject);
+    procedure SpTBXItem60Click(Sender: TObject);
+    procedure SpTBXItem61Click(Sender: TObject);
   private
     History: TWideStringList;
     HistoryIndex: Integer;
@@ -694,6 +874,8 @@
     BanList:TIntegerList;
     DisabledUnits: TStringList;
     TryingToJoinLadderBattle: Boolean;
+    AutoHost: Boolean;
+    AutoHostType: integer; // 0 = SPADS, 1 = Springie
   end;
 
   BattleReplayInfo: // used only when battle is of &quot;battle replay&quot; type
@@ -1596,6 +1778,7 @@
   if Battle = nil then Exit;
 
   BattleState.Battle := Battle;
+  BattleState.AutoHost := False;
 
   BattleState.DisabledUnits.Clear;
   PopulateDisabledUnitsVDT;
@@ -1710,6 +1893,7 @@
   if Battle = nil then Exit;
 
   BattleState.Battle := Battle;
+  BattleState.AutoHost := False;
 
   BattleState.DisabledUnits.Clear;
   PopulateDisabledUnitsVDT;
@@ -1801,6 +1985,7 @@
   if Battle = nil then Exit;
 
   BattleState.Battle := Battle;
+  BattleState.AutoHost := False;
 
   BattleState.DisabledUnits.Clear;
   PopulateDisabledUnitsVDT;
@@ -1921,6 +2106,7 @@
   if Battle = nil then Exit;
 
   BattleState.Battle := Battle;
+  BattleState.AutoHost := False;
 
   BattleState.DisabledUnits.Clear;
   PopulateDisabledUnitsVDT;
@@ -7314,6 +7500,19 @@
   Result := True;
 end;
 
+procedure TBattleForm.SpTBXItem59Click(Sender: TObject);
+var
+  i:integer;
+  RealIndex: integer;
+  WhatToDraw: TClientNodeType;
+  Client: TClient;
+begin
+  if VDTBattleClients.FocusedNode = nil then Exit;
+  GetNodeClient(VDTBattleClients.FocusedNode.Index,RealIndex,WhatToDraw);
+  if WhatToDraw = NormalClient then
+    MainForm.TryToSendCommand('SAYBATTLE','!spec '+TClient(BattleState.Battle.Clients[RealIndex]).Name);
+end;
+
 procedure TBattleForm.QuickLookChangedTmrTimer(Sender: TObject);
 var
   i: integer;
@@ -7543,4 +7742,483 @@
   Numbers.SelectedCell := Point((MyAllyNoButton.ValueAsInteger Mod 10)-1,Floor(MyAllyNoButton.ValueAsInteger/10));
 end;
 
+procedure TBattleForm.AutoHostMsgFlashTimerTimer(Sender: TObject);
+begin
+  if AutoHostInfoIcon.Tag &gt; 0 then
+  begin
+    AutoHostInfoIcon.Tag := AutoHostInfoIcon.Tag - 1;
+    AutoHostInfoIcon.Visible := not AutoHostInfoIcon.Visible;
+  end
+  else
+    AutoHostInfoIcon.Visible := False;
+
+  AutoHostVoteIcon.Visible := not AutoHostVoteIcon.Visible;
+end;
+
+procedure TBattleForm.AutoHostInfoMsgsDrawItemBackground(
+  Control: TWinControl; Index: Integer; Rect: TRect;
+  State: TOwnerDrawState);
+begin
+  // do nothing;
+end;
+
+procedure TBattleForm.AutoHostInfoMsgsDrawItem(Control: TWinControl;
+  Index: Integer; R: TRect; State: TOwnerDrawState);
+var
+  sl: TStringList;
+  i:integer;
+  lineHeight: integer;
+begin
+  (Control as TSpTBXListBox).Canvas.TextRect(R,0,0,'');
+  lineHeight := (Control as TSpTBXListBox).Canvas.TextHeight('W');
+  sl := TStringList.Create;
+  ParseDelimited(sl,WrapText((Control as TSpTBXListBox).Items[Index],(Control as TSpTBXListBox).Width div ((Control as TSpTBXListBox).Canvas.TextWidth('Wrap; ') div 6)),EOL,'');
+
+  R.Top := R.Top +  ((Control as TSpTBXListBox).Height-sl.Count*lineHeight) div 2;
+  for i:=0 to sl.Count-1 do
+    (Control as TSpTBXListBox).Canvas.TextOut(R.Left,R.Top+i*lineHeight,sl[i]);
+
+  (Control as TSpTBXListBox).Tag := Index;
+end;
+
+procedure TBattleForm.ImgVoteYesClick(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!vote 1');
+  AutoHostVotePanel.Visible := False;
+end;
+
+procedure TBattleForm.ImgVoteNoClick(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!vote 0');
+  AutoHostVotePanel.Visible := False;
+end;
+
+procedure TBattleForm.ImgVoteBlankClick(Sender: TObject);
+begin
+  if BattleState.AutoHostType = 0 then
+    MainForm.TryToSendCommand('SAYBATTLE','!vote b');
+  AutoHostVotePanel.Visible := False;
+end;
+
+procedure TBattleForm.Image1Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!help');
+end;
+
+procedure TBattleForm.mnuDisableAutohostInterfaceClick(Sender: TObject);
+begin
+  AutoHostInfoPanel.Visible := False;
+  AutoHostVotePanel.Visible := False;
+  Preferences.DisplayAutohostInterface := False;
+  PreferencesForm.WritePreferencesToRegistry;
+end;
+
+procedure TBattleForm.mnuHideAutoHostMsgs2Click(Sender: TObject);
+begin
+  mnuHideAutoHostMsgs.Checked := mnuHideAutoHostMsgs2.Checked;
+end;
+
+procedure TBattleForm.SPRINGIEPopupMenuInitPopup(Sender: TObject;
+  PopupView: TTBView);
+begin
+  mnuHideAutoHostMsgs2.Checked := mnuHideAutoHostMsgs.Checked;
+end;
+
+procedure TBattleForm.SpTBXItem13Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!help');
+end;
+
+procedure TBattleForm.SpTBXItem5Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!status');
+end;
+
+procedure TBattleForm.SpTBXItem48Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!hostStats');
+end;
+
+procedure TBattleForm.SpTBXItem6Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!notify');
+end;
+
+procedure TBattleForm.SpTBXItem14Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list users');
+end;
+
+procedure TBattleForm.SpTBXItem15Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list presets');
+end;
+
+procedure TBattleForm.SpTBXItem16Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list bPresets');
+end;
+
+procedure TBattleForm.SpTBXItem17Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list hPresets');
+end;
+
+procedure TBattleForm.SpTBXItem18Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list settings');
+end;
+
+procedure TBattleForm.SpTBXItem19Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list bSettings');
+end;
+
+procedure TBattleForm.SpTBXItem20Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list hSettings');
+end;
+
+procedure TBattleForm.SpTBXItem21Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list bans');
+end;
+
+procedure TBattleForm.SpTBXItem22Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list maps');
+end;
+
+procedure TBattleForm.SpTBXItem23Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list pref');
+end;
+
+procedure TBattleForm.SpTBXItem24Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list all');
+end;
+
+procedure TBattleForm.SpTBXItem25Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!version');
+end;
+
+procedure TBattleForm.SpTBXItem31Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!forcestart');
+end;
+
+procedure TBattleForm.SpTBXItem37Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!restart');
+end;
+
+procedure TBattleForm.SpTBXItem36Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!stop');
+end;
+
+procedure TBattleForm.SpTBXItem32Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!lock');
+end;
+
+procedure TBattleForm.SpTBXItem45Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!unlock');
+end;
+
+procedure TBattleForm.SpTBXItem33Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!balance');
+end;
+
+procedure TBattleForm.SpTBXItem34Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!rebalance');
+end;
+
+procedure TBattleForm.SpTBXItem35Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!specAfk');
+end;
+
+procedure TBattleForm.SpTBXItem44Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!fixcolors');
+end;
+
+procedure TBattleForm.SpTBXItem47Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!autolock '+IntToStr(InputBoxInteger('!autolock','Autolock at :',10)));
+end;
+
+procedure TBattleForm.SpTBXItem49Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!autolock '+InputBox('!coop','Cooperation team name :','something'));
+end;
+
+procedure TBattleForm.SpTBXItem26Click(Sender: TObject);
+var
+  i:integer;
+  RealIndex: integer;
+  WhatToDraw: TClientNodeType;
+  Client: TClient;
+begin
+  if VDTBattleClients.FocusedNode = nil then Exit;
+  GetNodeClient(VDTBattleClients.FocusedNode.Index,RealIndex,WhatToDraw);
+  if WhatToDraw = NormalClient then
+    MainForm.TryToSendCommand('SAYBATTLE','!kick '+TClient(BattleState.Battle.Clients[RealIndex]).Name);
+end;
+
+procedure TBattleForm.SpTBXItem27Click(Sender: TObject);
+var
+  i:integer;
+  RealIndex: integer;
+  WhatToDraw: TClientNodeType;
+  Client: TClient;
+begin
+  if VDTBattleClients.FocusedNode = nil then Exit;
+  GetNodeClient(VDTBattleClients.FocusedNode.Index,RealIndex,WhatToDraw);
+  if WhatToDraw = NormalClient then
+    MainForm.TryToSendCommand('SAYBATTLE','!ban '+TClient(BattleState.Battle.Clients[RealIndex]).Name);
+end;
+
+procedure TBattleForm.SpTBXItem29Click(Sender: TObject);
+var
+  i:integer;
+  RealIndex: integer;
+  WhatToDraw: TClientNodeType;
+  Client: TClient;
+begin
+  if VDTBattleClients.FocusedNode = nil then Exit;
+  GetNodeClient(VDTBattleClients.FocusedNode.Index,RealIndex,WhatToDraw);
+  if WhatToDraw = NormalClient then
+    MainForm.TryToSendCommand('SAYBATTLE','!banip '+TClient(BattleState.Battle.Clients[RealIndex]).Name);
+end;
+
+procedure TBattleForm.SpTBXItem28Click(Sender: TObject);
+var
+  i:integer;
+  RealIndex: integer;
+  WhatToDraw: TClientNodeType;
+  Client: TClient;
+begin
+  if VDTBattleClients.FocusedNode = nil then Exit;
+  GetNodeClient(VDTBattleClients.FocusedNode.Index,RealIndex,WhatToDraw);
+  if WhatToDraw = NormalClient then
+    MainForm.TryToSendCommand('SAYBATTLE','!spec '+TClient(BattleState.Battle.Clients[RealIndex]).Name);
+end;
+
+procedure TBattleForm.SpTBXItem30Click(Sender: TObject);
+var
+  i:integer;
+  RealIndex: integer;
+  WhatToDraw: TClientNodeType;
+  Client: TClient;
+begin
+  if VDTBattleClients.FocusedNode = nil then Exit;
+  GetNodeClient(VDTBattleClients.FocusedNode.Index,RealIndex,WhatToDraw);
+  if WhatToDraw = NormalClient then
+    MainForm.TryToSendCommand('SAYBATTLE','!ring '+TClient(BattleState.Battle.Clients[RealIndex]).Name);
+end;
+
+procedure TBattleForm.SpTBXItem46Click(Sender: TObject);
+var
+  i:integer;
+  RealIndex: integer;
+  WhatToDraw: TClientNodeType;
+  Client: TClient;
+begin
+  if VDTBattleClients.FocusedNode = nil then Exit;
+  GetNodeClient(VDTBattleClients.FocusedNode.Index,RealIndex,WhatToDraw);
+  if WhatToDraw = NormalClient then
+    MainForm.TryToSendCommand('SAYBATTLE','!boss '+TClient(BattleState.Battle.Clients[RealIndex]).Name);
+end;
+
+procedure TBattleForm.SpTBXItem39Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!split v '+IntToStr(InputBoxInteger('!split vertical','Boxes size (%):',20)));
+end;
+
+procedure TBattleForm.SpTBXItem38Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!split h '+IntToStr(InputBoxInteger('!split horizontal','Boxes size (%):',20)));
+end;
+
+procedure TBattleForm.SpTBXItem40Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!split c '+IntToStr(InputBoxInteger('!split corners','Boxes size (%):',20)));
+end;
+
+procedure TBattleForm.SpTBXItem41Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!split c1 '+IntToStr(InputBoxInteger('!split corners top-left vs bottom-right','Boxes size (%):',20)));
+end;
+
+procedure TBattleForm.SpTBXItem42Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!split c2 '+IntToStr(InputBoxInteger('!split corners top-right vs bottom-left','Boxes size (%):',20)));
+end;
+
+procedure TBattleForm.SpTBXItem43Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!split s '+IntToStr(InputBoxInteger('!split left vs top vs right vs bottom','Boxes size (%):',20)));
+end;
+
+procedure TBattleForm.SpTBXItem64Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!start');
+end;
+
+procedure TBattleForm.SpTBXItem2Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!helpall');
+end;
+
+procedure TBattleForm.SpTBXItem50Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!stats');
+end;
+
+procedure TBattleForm.SpTBXItem62Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!notify');
+end;
+
+procedure TBattleForm.SpTBXItem57Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!admins');
+end;
+
+procedure TBattleForm.SpTBXItem51Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list maps');
+end;
+
+procedure TBattleForm.SpTBXItem52Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list mods');
+end;
+
+procedure TBattleForm.SpTBXItem53Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list bans');
+end;
+
+procedure TBattleForm.SpTBXItem54Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list options');
+end;
+
+procedure TBattleForm.SpTBXItem55Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!list presets');
+end;
+
+procedure TBattleForm.SpTBXItem56Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!springie');
+end;
+
+procedure TBattleForm.SpTBXItem63Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!start');
+end;
+
+procedure TBattleForm.SpTBXItem75Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!voteexit');
+end;
+
+procedure TBattleForm.SpTBXItem65Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!balance');
+end;
+
+procedure TBattleForm.SpTBXItem66Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!cbalance');
+end;
+
+procedure TBattleForm.SpTBXItem67Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!lock');
+end;
+
+procedure TBattleForm.SpTBXItem68Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!unlock');
+end;
+
+procedure TBattleForm.SpTBXItem69Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!specafk');
+end;
+
+procedure TBattleForm.SpTBXItem70Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!fixcolors');
+end;
+
+procedure TBattleForm.SpTBXItem71Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!fix');
+end;
+
+procedure TBattleForm.SpTBXItem72Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!split v '+IntToStr(InputBoxInteger('!split vertical','Boxes size (%):',20)));
+end;
+
+procedure TBattleForm.SpTBXItem73Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!split h '+IntToStr(InputBoxInteger('!split horizontal','Boxes size (%):',20)));
+end;
+
+procedure TBattleForm.SpTBXItem74Click(Sender: TObject);
+begin
+  MainForm.TryToSendCommand('SAYBATTLE','!corners a '+IntToStr(InputBoxInteger('!split corners','Boxes size (%):',20)));
+end;
+
+procedure TBattleForm.SpTBXItem58Click(Sender: TObject);
+var
+  i:integer;
+  RealIndex: integer;
+  WhatToDraw: TClientNodeType;
+  Client: TClient;
+begin
+  if VDTBattleClients.FocusedNode = nil then Exit;
+  GetNodeClient(VDTBattleClients.FocusedNode.Index,RealIndex,WhatToDraw);
+  if WhatToDraw = NormalClient then
+    MainForm.TryToSendCommand('SAYBATTLE','!votekick '+TClient(BattleState.Battle.Clients[RealIndex]).Name);
+end;
+
+procedure TBattleForm.SpTBXItem60Click(Sender: TObject);
+var
+  i:integer;
+  RealIndex: integer;
+  WhatToDraw: TClientNodeType;
+  Client: TClient;
+begin
+  if VDTBattleClients.FocusedNode = nil then Exit;
+  GetNodeClient(VDTBattleClients.FocusedNode.Index,RealIndex,WhatToDraw);
+  if WhatToDraw = NormalClient then
+    MainForm.TryToSendCommand('SAYBATTLE','!ring '+TClient(BattleState.Battle.Clients[RealIndex]).Name);
+end;
+
+procedure TBattleForm.SpTBXItem61Click(Sender: TObject);
+var
+  i:integer;
+  RealIndex: integer;
+  WhatToDraw: TClientNodeType;
+  Client: TClient;
+begin
+  if VDTBattleClients.FocusedNode = nil then Exit;
+  GetNodeClient(VDTBattleClients.FocusedNode.Index,RealIndex,WhatToDraw);
+  if WhatToDraw = NormalClient then
+    MainForm.TryToSendCommand('SAYBATTLE','!voteboss '+TClient(BattleState.Battle.Clients[RealIndex]).Name);
+end;
+
 end.

Modified: Lobby/TASClient/IgnoreListUnit.dfm
===================================================================
--- Lobby/TASClient/IgnoreListUnit.dfm	2009-10-24 13:11:49 UTC (rev 7364)
+++ Lobby/TASClient/IgnoreListUnit.dfm	2009-10-25 16:20:19 UTC (rev 7365)
@@ -7,8 +7,8 @@
   ClientHeight = 383
   ClientWidth = 298
   Color = clBtnFace
-  Constraints.MaxHeight = 750
-  Constraints.MaxWidth = 1280
+  Constraints.MaxHeight = 1000
+  Constraints.MaxWidth = 1680
   Font.Charset = DEFAULT_CHARSET
   Font.Color = clWindowText
   Font.Height = -11

Modified: Lobby/TASClient/IgnoreListUnit.pas
===================================================================
--- Lobby/TASClient/IgnoreListUnit.pas	2009-10-24 13:11:49 UTC (rev 7364)
+++ Lobby/TASClient/IgnoreListUnit.pas	2009-10-25 16:20:19 UTC (rev 7365)
@@ -5,7 +5,7 @@
 uses
   Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
   Dialogs, SpTBXItem, SpTBXControls, TBXDkPanels, StdCtrls, CheckLst,
-  TntCheckLst, SpTBXEditors,Misc;
+  TntCheckLst, SpTBXEditors,Misc, StrUtils,MainUnit;
 
 type
   TIgnoreListForm = class(TForm)
@@ -23,8 +23,9 @@
 
     procedure SaveIgnoreListToFile(FileName: string);
     procedure LoadIgnoreListFromFile(FileName: string);
-    function IgnoringUser(Username: string): Boolean; // are we ignoring user Username?
+    function IgnoringUser(client: TClient): Boolean; // are we ignoring user Username?
     procedure AddToIgnoreList(Username: string);
+    procedure RemoveFromIgnoreList(Client: TClient);
 
     procedure DoneButtonClick(Sender: TObject);
     procedure AddButtonClick(Sender: TObject);
@@ -43,7 +44,7 @@
 
 implementation
 
-uses PreferencesFormUnit, gnugettext, MainUnit;
+uses PreferencesFormUnit, gnugettext;
 
 {$R *.dfm}
 
@@ -131,16 +132,32 @@
     IgnoreListBox.Items.Delete(IgnoreListBox.ItemIndex);
 end;
 
-function TIgnoreListForm.IgnoringUser(Username: string): Boolean; // are we ignoring user Username?
+function TIgnoreListForm.IgnoringUser(client: TClient): Boolean; // are we ignoring user Username?
 var
-  i: Integer;
+  i,j: Integer;
+  Id: integer;
+  Username: string;
 begin
   for i := 0 to IgnoreListBox.Count-1 do
-    if IgnoreListBox.Items[i] = Username then
+  begin
+    j := Pos(' ',IgnoreListBox.Items[i]);
+    if j&gt;0 then
     begin
-      Result := IgnoreListBox.Checked[i];
-      Exit;
-    end;
+      Id := StrToInt(LeftStr(IgnoreListBox.Items[i],j-1));
+      if Id = client.Id then
+      begin
+        Result := IgnoreListBox.Checked[i];
+        Exit;
+      end;
+    end
+    else
+      if LowerCase(IgnoreListBox.Items[i]) = LowerCase(client.Name) then
+      begin
+        Result := IgnoreListBox.Checked[i];
+        IgnoreListBox.Items[i] := IntToStr(client.Id)+' '+client.Name;
+        Exit;
+      end;
+  end;
 
   Result := False;
 end;
@@ -148,14 +165,44 @@
 procedure TIgnoreListForm.AddToIgnoreList(Username: string);
 var
   i: Integer;
+  client: TClient;
+  idStr: string;
 begin
-  if IgnoreListBox.Items.IndexOf(Username) &lt;&gt; -1 then Exit; // username already in the list!
+  client := MainForm.GetClient(Username);
+  if client &lt;&gt; nil then
+  begin
+    idStr := IntToStr(client.Id);
+    for i:=0 to IgnoreListBox.Count-1 do
+      if LeftStr(IgnoreListBox.Items[i],Length(idStr)) = idStr then
+       Exit;
 
-  IgnoreListBox.Items.Add(Username);
+    IgnoreListBox.Items.Add(IntToStr(client.Id)+' '+Username)
+  end
+  else
+  begin
+    for i:=0 to IgnoreListBox.Count-1 do
+      if LowerCase(RightStr(IgnoreListBox.Items[i],Length(Username))) = LowerCase(Username) then
+       Exit;
+    IgnoreListBox.Items.Add(Username);
+  end;
   IgnoreListBox.Checked[IgnoreListBox.Items.Count-1] := True;
   SaveIgnoreListToFile(ExtractFilePath(Application.ExeName) + VAR_FOLDER + '\ignorelist.dat');
 end;
 
+procedure TIgnoreListForm.RemoveFromIgnoreList(Client: TClient);
+var
+  i: Integer;
+  idStr: string;
+begin
+  idStr := IntToStr(client.Id);
+  for i:=0 to IgnoreListBox.Count-1 do
+    if LeftStr(IgnoreListBox.Items[i],Length(idStr)) = idStr then
+    begin
+      IgnoreListBox.Items.Delete(i);
+      SaveIgnoreListToFile(ExtractFilePath(Application.ExeName) + VAR_FOLDER + '\ignorelist.dat');
+    end;
+end;
+
 procedure TIgnoreListForm.FormCreate(Sender: TObject);
 begin
   TranslateComponent(self);

Modified: Lobby/TASClient/MainUnit.pas
===================================================================
--- Lobby/TASClient/MainUnit.pas	2009-10-24 13:11:49 UTC (rev 7364)
+++ Lobby/TASClient/MainUnit.pas	2009-10-25 16:20:19 UTC (rev 7365)
@@ -402,9 +402,9 @@
   );
 
 const
-  VERSION_NUMBER = '0.53'; // Must be float value! (with a period as a decimal seperator)
+  VERSION_NUMBER = '0.54'; // Must be float value! (with a period as a decimal seperator)
   CHECK_BETA_LOBBY_URL = '<A HREF="http://tasclient.no-ip.org/TASClient_update_v3.txt">http://tasclient.no-ip.org/TASClient_update_v3.txt</A>';
-  PROGRAM_VERSION = 'TASClient ' + VERSION_NUMBER;
+  PROGRAM_VERSION = 'TASClient ' + VERSION_NUMBER + ' beta';
   KEEP_ALIVE_INTERVAL = 10000; // in milliseconds. Tells us what should be the maximum &quot;silence&quot; time before we send a ping to the server.
   ASSUME_TIMEOUT_INTERVAL = 30000; // in milliseconds. Must be greater than KEEP_ALIVE_INTERVAL! If server hasn't send any data to us within this interval, then we assume timeout occured. It's us who must make sure we get constant replies from server by pinging it.
   LOCAL_TAB = '$Local'; // caption of main (command) tab window. Must be special so that is different from channel names or user names, that is why there is a &quot;$&quot; in front of it.
@@ -5993,7 +5993,7 @@
 
       // are we ignoring this user?
       if Preferences.UseIgnoreList then
-        if IgnoreListForm.IgnoringUser(Client.Name) then Exit; // don't display the message
+        if IgnoreListForm.IgnoringUser(Client) then Exit; // don't display the message
 
 
       if Client &lt;&gt; nil then
@@ -6042,11 +6042,13 @@
 
       if IgnoreTASClientChanMsgs and (sl[1] = 'tasclient') then Exit;
 
+      Client := GetClient(sl[2]);
+
       // are we ignoring this user?
       if Preferences.UseIgnoreList then
-        if IgnoreListForm.IgnoringUser(sl[2]) then Exit; // don't display the message
+        if IgnoreListForm.IgnoringUser(Client) then Exit; // don't display the message
 
-      tmpClientGroup := GetClient(sl[2]).GetGroup;
+      tmpClientGroup := Client.GetGroup;
       if tmpClientGroup &lt;&gt; nil then
         if tmpClientGroup.Ignore then
           Exit; // don't display the message
@@ -6112,12 +6114,14 @@
         end;
       end;
 
+      Client := GetClient(sl[1]);
+
       // are we ignoring this user?
       if Preferences.UseIgnoreList then
-        if IgnoreListForm.IgnoringUser(sl[1]) then
+        if IgnoreListForm.IgnoringUser(Client) then
           Exit; // don't display the message
 
-      tmpClientGroup := GetClient(sl[1]).GetGroup;
+      tmpClientGroup := Client.GetGroup;
       if tmpClientGroup &lt;&gt; nil then
         if TClientGroup(ClientGroups[tmpInt]).Ignore then
           Exit; // don't display the message
@@ -6198,7 +6202,7 @@
 
       // are we ignoring this user?
       if Preferences.UseIgnoreList then
-        if IgnoreListForm.IgnoringUser(Client.Name) then Exit; // don't display the message
+        if IgnoreListForm.IgnoringUser(Client) then Exit; // don't display the message
 
       BattleForm.AddTextToChat('&lt;' + Client.Name + '&gt; ' + MakeSentenceWS(sl, 2), Client.GetChatTextColor, Length(sl[1])+2);
     end
@@ -6216,7 +6220,56 @@
         LadderCupsRefreshTimer(nil);
         BattleState.Battle.RefreshRanksNCupsOnSuccessReport := false;
       end;
-      BattleForm.AddTextToChat('* ' + sl[1] + ' ' + MakeSentenceWS(sl, 2), Colors.SayEx, 1);
+
+      if Preferences.DisplayAutohostInterface and (TClient(BattleState.Battle.Clients[0]).Name = sl[1]) then
+      begin
+        if (not BattleState.AutoHost) then
+        if Pos('spads',LowerCase(tmp)) &gt; 0 then
+        begin
+          BattleState.AutoHost := True;
+          BattleState.AutoHostType := 0;
+          BattleForm.AutoHostInfoPanel.Visible := True;
+          BattleForm.AutoHostInfoMsgs.Clear;
+          BattleForm.AutoHostCommandsButton.DropDownMenu := BattleForm.SPADSPopupMenu;
+          BattleForm.AutoHostControlLabel.Caption := _('Autohost - ')+'SPADS';
+        end
+        else if Pos('springie',LowerCase(tmp)) &gt; 0 then
+        begin
+          BattleState.AutoHost := True;
+          BattleState.AutoHostType := 1;
+          BattleForm.AutoHostInfoPanel.Visible := True;
+          BattleForm.AutoHostInfoMsgs.Clear;
+          BattleForm.AutoHostCommandsButton.DropDownMenu := BattleForm.SPRINGIEPopupMenu;
+          BattleForm.AutoHostControlLabel.Caption := _('Autohost - ')+'Springie';
+        end;
+        if BattleState.AutoHost then
+        begin
+          if ((BattleState.AutoHostType = 0) and (Pos(' called a vote for command &quot;',tmp) &gt; 0) and (LeftStr(tmp,2+Length(Status.Me.Name)) &lt;&gt; '* '+Status.Me.Name)) or
+             ((BattleState.AutoHostType = 1) and (Pos('!vote 1 = yes, !vote 2 = no',tmp) &gt; 0) and (LeftStr(tmp,2+Length(Status.Me.Name)) &lt;&gt; '* '+Status.Me.Name)) then
+          begin
+            case BattleState.AutoHostType of
+              0: BattleForm.AutoHostVoteMsg.Caption := StringReplace(StringReplace(tmp,' called a vote for command',' : ',[rfReplaceAll]),'[!vote y, !vote n, !vote b]','',[rfReplaceAll]);
+              1: BattleForm.AutoHostVoteMsg.Caption := StringReplace(tmp,'!vote 1 = yes, !vote 2 = no',' : ',[rfReplaceAll]);
+            end;
+            BattleForm.AutoHostVotePanel.Visible := True;
+            BattleForm.AutoHostVoteIcon.Tag := 8;
+          end
+          else
+          begin
+            if (Pos('Vote cancelled by',tmp) &gt; 0) or (Pos('Vote for command &quot;',tmp) &gt; 0) or (Pos('vote successful',tmp) &gt; 0) or (Pos('not enough votes',tmp) &gt; 0) then
+              BattleForm.AutoHostVotePanel.Visible := False;
+            BattleForm.AutoHostInfoMsgs.Items.Add(tmp);
+            if BattleForm.AutoHostInfoMsgs.Tag = BattleForm.AutoHostInfoMsgs.Count-2 then
+              BattleForm.AutoHostInfoMsgs.ItemIndex := BattleForm.AutoHostInfoMsgs.Count-1;
+            BattleForm.AutoHostInfoIcon.Tag := 8;
+          end;
+          if BattleForm.mnuHideAutoHostMsgs.Checked then Exit;
+        end
+        else
+          BattleForm.AutoHostInfoPanel.Visible := False;
+      end;
+
+      BattleForm.AddTextToChat('* ' + sl[1] + ' ' + tmp, Colors.SayEx, 1);
     end
     else if sl[0] = 'REQUESTBATTLESTATUS' then
     begin
@@ -10523,7 +10576,7 @@
   //if ClientsListBox.ItemIndex = -1 then Exit; // I don't think this can actually happen, since we must click in ListBox and so select an item
 
   if mnuIgnore.Checked then
-    IgnoreListForm.IgnoreListBox.Items.Delete(IgnoreListForm.IgnoreListBox.Items.IndexOf(SelectedUserName))
+    IgnoreListForm.RemoveFromIgnoreList(GetClient(SelectedUserName))
   else
   begin
     IgnoreListForm.EnableIgnoresCheckBox.Checked := True;
@@ -11482,7 +11535,7 @@
     mnuRemoveFromGroup.Enabled := False;
   end;
 
-  mnuIgnore.Checked := IgnoreListForm.IgnoringUser(Client.Name);
+  mnuIgnore.Checked := IgnoreListForm.IgnoringUser(Client);
 
   mnuManageGroups.Enabled := ClientGroups.Count &gt; 0;
 

Modified: Lobby/TASClient/PreferencesFormUnit.dfm
===================================================================
--- Lobby/TASClient/PreferencesFormUnit.dfm	2009-10-24 13:11:49 UTC (rev 7364)
+++ Lobby/TASClient/PreferencesFormUnit.dfm	2009-10-25 16:20:19 UTC (rev 7365)
@@ -3,11 +3,11 @@
   Top = 119
   BorderStyle = bsDialog
   Caption = 'Preferences'
-  ClientHeight = 482
+  ClientHeight = 495
   ClientWidth = 420
   Color = clBtnFace
-  Constraints.MaxHeight = 750
-  Constraints.MaxWidth = 1280
+  Constraints.MaxHeight = 1000
+  Constraints.MaxWidth = 1680
   Font.Charset = DEFAULT_CHARSET
   Font.Color = clWindowText
   Font.Height = -11
@@ -25,7 +25,7 @@
     Left = 0
     Top = 0
     Width = 420
-    Height = 482
+    Height = 495
     Caption = 'Preferences'
     FixedSize = True
     Options.Minimize = False
@@ -35,9 +35,9 @@
       Left = 8
       Top = 64
       Width = 401
-      Height = 369
+      Height = 385
       Color = clBtnFace
-      ActiveTabIndex = 2
+      ActiveTabIndex = 3
       TabAutofit = True
       HiddenItems = &lt;&gt;
       object SpTBXTabItem6: TSpTBXTabItem
@@ -50,11 +50,11 @@
       end
       object SpTBXTabItem4: TSpTBXTabItem
         Caption = 'Program'
-        Checked = True
         CustomWidth = 56
       end
       object SpTBXTabItem3: TSpTBXTabItem
         Caption = 'Interface'
+        Checked = True
         CustomWidth = 56
       end
       object SpTBXTabItem2: TSpTBXTabItem
@@ -69,124 +69,252 @@
         Caption = 'Scripts'
         CustomWidth = 56
       end
-      object SpTBXTabSheet6: TSpTBXTabSheet
+      object SpTBXTabSheet4: TSpTBXTabSheet
         Left = 0
         Top = 23
         Width = 401
-        Height = 346
-        Caption = 'Server'
+        Height = 362
+        Caption = 'Program'
         ImageIndex = -1
-        Item = SpTBXTabItem6
+        Item = SpTBXTabItem4
         TabControl = SpTBXTabControl1
-        TabItem = 'SpTBXTabItem6'
-        object GroupBox1: TSpTBXGroupBox
+        TabItem = 'SpTBXTabItem4'
+        object GroupBox3: TSpTBXGroupBox
           Left = 16
           Top = 8
           Width = 369
-          Height = 329
-          Caption = 'Server settings'
+          Height = 345
+          Caption = 'Program settings'
           Color = clNone
           ParentColor = False
           TabOrder = 0
-          object Label1: TSpTBXLabel
-            Left = 16
-            Top = 32
-            Width = 74
-            Height = 13
-            Caption = 'Server address:'
+          object ResetRegistryButton: TSpTBXSpeedButton
+            Left = 240
+            Top = 312
+            Width = 113
+            Height = 22
+            Caption = 'Reset registry data'
+            OnClick = ResetRegistryButtonClick
             LinkFont.Charset = DEFAULT_CHARSET
             LinkFont.Color = clBlue
             LinkFont.Height = -11
             LinkFont.Name = 'MS Sans Serif'
             LinkFont.Style = [fsUnderline]
           end
-          object Label2: TSpTBXLabel
+          object GameSettingsButton: TSpTBXSpeedButton
+            Left = 240
+            Top = 88
+            Width = 113
+            Height = 22
+            Caption = 'Game settings'
+            OnClick = GameSettingsButtonClick
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
+          object NotificationsButton: TSpTBXSpeedButton
+            Left = 240
+            Top = 40
+            Width = 113
+            Height = 22
+            Caption = 'Notifications ...'
+            OnClick = NotificationsButtonClick
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
+          object HighlightingButton: TSpTBXSpeedButton
+            Left = 240
+            Top = 16
+            Width = 113
+            Height = 22
+            Caption = 'Highlighting ...'
+            OnClick = HighlightingButtonClick
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
+          object IgnoreListButton: TSpTBXSpeedButton
+            Left = 240
+            Top = 64
+            Width = 113
+            Height = 22
+            Caption = 'Ignore list ...'
+            OnClick = IgnoreListButtonClick
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
+          object Label6: TSpTBXLabel
             Left = 16
-            Top = 56
-            Width = 55
+            Top = 32
+            Width = 46
             Height = 13
-            Caption = 'Server port:'
+            Caption = 'Tab style:'
             LinkFont.Charset = DEFAULT_CHARSET
             LinkFont.Color = clBlue
             LinkFont.Height = -11
             LinkFont.Name = 'MS Sans Serif'
             LinkFont.Style = [fsUnderline]
           end
-          object ServerPortEdit: TSpTBXEdit
-            Left = 96
+          object RadioButton4: TSpTBXRadioButton
+            Left = 16
             Top = 56
-            Width = 41
-            Height = 21
+            Width = 38
+            Height = 15
+            Caption = 'tabs'
+            TabOrder = 0
+            TabStop = True
+            Checked = True
+          end
+          object RadioButton5: TSpTBXRadioButton
+            Left = 16
+            Top = 72
+            Width = 53
+            Height = 15
+            Caption = 'buttons'
             TabOrder = 1
-            Text = '8200'
           end
-          object CheckBox10: TSpTBXCheckBox
+          object RadioButton6: TSpTBXRadioButton
             Left = 16
-            Top = 128
-            Width = 197
+            Top = 88
+            Width = 70
             Height = 15
-            Caption = 'Connect to backup host if primary fails'
+            Caption = 'flat buttons'
             TabOrder = 2
+          end
+          object CheckBox8: TSpTBXCheckBox
+            Left = 16
+            Top = 320
+            Width = 88
+            Height = 15
+            Caption = 'Enable logging'
+            TabOrder = 3
             Checked = True
             State = cbChecked
           end
-          object CheckBox2: TSpTBXCheckBox
+          object CheckBox9: TSpTBXCheckBox
             Left = 16
-            Top = 144
-            Width = 108
+            Top = 304
+            Width = 128
             Height = 15
-            Caption = 'Connect on startup'
-            TabOrder = 3
+            Caption = 'Use sound notifications'
+            TabOrder = 4
+            Checked = True
+            State = cbChecked
           end
-          object CheckBox7: TSpTBXCheckBox
+          object KeyEditorButton: TSpTBXSpeedButton
+            Left = 240
+            Top = 112
+            Width = 113
+            Height = 22
+            Caption = 'Selection key editor'
+            OnClick = KeyEditorButtonClick
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
+          object CheckForNewVersionCheckBox: TSpTBXCheckBox
             Left = 16
+            Top = 288
+            Width = 168
+            Height = 15
+            Caption = 'Auto update lobby to latest beta'
+            TabOrder = 12
+          end
+          object ColorsButton: TSpTBXButton
+            Left = 240
+            Top = 136
+            Width = 113
+            Height = 22
+            Caption = 'Colors and font ...'
+            TabOrder = 13
+            OnClick = ColorsButtonClick
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
+          object ManageGroupsButton: TSpTBXButton
+            Left = 240
             Top = 160
-            Width = 226
+            Width = 113
+            Height = 22
+            Caption = 'Manage groups ...'
+            TabOrder = 14
+            OnClick = ManageGroupsButtonClick
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
+          object EnableSpringDownloaderCheckBox: TSpTBXCheckBox
+            Left = 16
+            Top = 272
+            Width = 144
             Height = 15
-            Caption = 'Join #main once connected (recommended)'
-            TabOrder = 4
+            Caption = 'Enable Spring Downloader'
+            TabOrder = 15
+            Checked = True
+            State = cbChecked
           end
-          object ServerAddressEdit: TSpTBXButtonEdit
-            Left = 96
-            Top = 32
-            Width = 249
-            Height = 21
-            TabOrder = 0
-            EditButton.Left = 225
-            EditButton.Top = 0
-            EditButton.Width = 20
-            EditButton.Height = 17
-            EditButton.Caption = '...'
-            EditButton.Align = alRight
-            EditButton.DropDownArrow = False
-            EditButton.DropDownMenu = AddressPopupMenu
-            EditButton.LinkFont.Charset = DEFAULT_CHARSET
-            EditButton.LinkFont.Color = clBlue
-            EditButton.LinkFont.Height = -11
-            EditButton.LinkFont.Name = 'MS Sans Serif'
-            EditButton.LinkFont.Style = [fsUnderline]
+          object UseLogonFormCheckBox: TSpTBXCheckBox
+            Left = 16
+            Top = 256
+            Width = 89
+            Height = 15
+            Caption = 'Use logon form'
+            TabOrder = 16
+            Checked = True
+            State = cbChecked
           end
-          object JvXPButton1: TSpTBXButton
-            Left = 272
-            Top = 56
-            Width = 73
-            Height = 21
-            Caption = 'Perform ...'
-            TabOrder = 7
-            OnClick = JvXPButton1Click
+          object TipsButton: TSpTBXButton
+            Left = 240
+            Top = 184
+            Width = 113
+            Height = 22
+            Caption = 'Tips ...'
+            TabOrder = 17
+            OnClick = TipsButtonClick
             LinkFont.Charset = DEFAULT_CHARSET
             LinkFont.Color = clBlue
             LinkFont.Height = -11
             LinkFont.Name = 'MS Sans Serif'
             LinkFont.Style = [fsUnderline]
           end
+          object SpringSettingsProfilesButton: TSpTBXButton
+            Left = 240
+            Top = 208
+            Width = 113
+            Height = 22
+            Caption = 'Spring Settings profiles'
+            TabOrder = 18
+            OnClick = SpringSettingsProfilesButtonClick
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
         end
       end
       object SpTBXTabSheet5: TSpTBXTabSheet
         Left = 0
         Top = 23
         Width = 401
-        Height = 346
+        Height = 362
         Caption = 'Account'
         ImageIndex = -1
         Item = SpTBXTabItem5
@@ -196,7 +324,7 @@
           Left = 16
           Top = 8
           Width = 369
-          Height = 329
+          Height = 345
           Caption = 'Account details'
           Color = clNone
           ParentColor = False
@@ -318,11 +446,124 @@
           end
         end
       end
+      object SpTBXTabSheet6: TSpTBXTabSheet
+        Left = 0
+        Top = 23
+        Width = 401
+        Height = 362
+        Caption = 'Server'
+        ImageIndex = -1
+        Item = SpTBXTabItem6
+        TabControl = SpTBXTabControl1
+        TabItem = 'SpTBXTabItem6'
+        object GroupBox1: TSpTBXGroupBox
+          Left = 16
+          Top = 8
+          Width = 369
+          Height = 345
+          Caption = 'Server settings'
+          Color = clNone
+          ParentColor = False
+          TabOrder = 0
+          object Label1: TSpTBXLabel
+            Left = 16
+            Top = 32
+            Width = 74
+            Height = 13
+            Caption = 'Server address:'
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
+          object Label2: TSpTBXLabel
+            Left = 16
+            Top = 56
+            Width = 55
+            Height = 13
+            Caption = 'Server port:'
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
+          object ServerPortEdit: TSpTBXEdit
+            Left = 96
+            Top = 56
+            Width = 41
+            Height = 21
+            TabOrder = 1
+            Text = '8200'
+          end
+          object CheckBox10: TSpTBXCheckBox
+            Left = 16
+            Top = 128
+            Width = 197
+            Height = 15
+            Caption = 'Connect to backup host if primary fails'
+            TabOrder = 2
+            Checked = True
+            State = cbChecked
+          end
+          object CheckBox2: TSpTBXCheckBox
+            Left = 16
+            Top = 144
+            Width = 108
+            Height = 15
+            Caption = 'Connect on startup'
+            TabOrder = 3
+          end
+          object CheckBox7: TSpTBXCheckBox
+            Left = 16
+            Top = 160
+            Width = 226
+            Height = 15
+            Caption = 'Join #main once connected (recommended)'
+            TabOrder = 4
+          end
+          object ServerAddressEdit: TSpTBXButtonEdit
+            Left = 96
+            Top = 32
+            Width = 249
+            Height = 21
+            TabOrder = 0
+            EditButton.Left = 225
+            EditButton.Top = 0
+            EditButton.Width = 20
+            EditButton.Height = 17
+            EditButton.Caption = '...'
+            EditButton.Align = alRight
+            EditButton.DropDownArrow = False
+            EditButton.DropDownMenu = AddressPopupMenu
+            EditButton.LinkFont.Charset = DEFAULT_CHARSET
+            EditButton.LinkFont.Color = clBlue
+            EditButton.LinkFont.Height = -11
+            EditButton.LinkFont.Name = 'MS Sans Serif'
+            EditButton.LinkFont.Style = [fsUnderline]
+          end
+          object JvXPButton1: TSpTBXButton
+            Left = 272
+            Top = 56
+            Width = 73
+            Height = 21
+            Caption = 'Perform ...'
+            TabOrder = 7
+            OnClick = JvXPButton1Click
+            LinkFont.Charset = DEFAULT_CHARSET
+            LinkFont.Color = clBlue
+            LinkFont.Height = -11
+            LinkFont.Name = 'MS Sans Serif'
+            LinkFont.Style = [fsUnderline]
+          end
+        end
+      end
       object SpTBXTabSheet2: TSpTBXTabSheet
         Left = 0
         Top = 23
         Width = 401
-        Height = 346
+        Height = 362
         Caption = 'HTTP'
         ImageIndex = -1
         Item = SpTBXTabItem2
@@ -332,7 +573,7 @@
           Left = 16
           Top = 8
           Width = 369
-          Height = 329
+          Height = 345
           Caption = 'Proxy settings'
           Color = clNone
           ParentColor = False
@@ -444,7 +685,7 @@
         Left = 0
         Top = 23
         Width = 401
-        Height = 346
+        Height = 362
         Caption = 'Skins'
         ImageIndex = -1
         Item = SpTBXTabItem1
@@ -454,7 +695,7 @@
           Left = 16
           Top = 8
           Width = 361
-          Height = 329
+          Height = 345
           Caption = 'Skin manager'
           Color = clNone
           ParentColor = False
@@ -528,7 +769,7 @@
         Left = 0
         Top = 23
         Width = 401
-        Height = 346
+        Height = 362
         Caption = 'Scripts'
         ImageIndex = -1
         Item = SpTBXTabItem7
@@ -604,7 +845,7 @@
         Left = 0
         Top = 23
         Width = 401
-        Height = 346
+        Height = 362
         Caption = 'Interface'
         ImageIndex = -1
         Item = SpTBXTabItem3
@@ -614,7 +855,7 @@
           Left = 16
           Top = 8
           Width = 369
-          Height = 329
+          Height = 345
           Caption = 'Interface preferences'
           Color = clNone
           ParentColor = False
@@ -786,253 +1027,20 @@
             Caption = 'Load metal and height minimaps (enables 3D map preview)'
             TabOrder = 18
           end
-        end
-      end
-      object SpTBXTabSheet4: TSpTBXTabSheet
-        Left = 0
-        Top = 23
-        Width = 401
-        Height = 346
-        Caption = 'Program'
-        ImageIndex = -1
-        Item = SpTBXTabItem4
-        TabControl = SpTBXTabControl1
-        TabItem = 'SpTBXTabItem4'
-        object GroupBox3: TSpTBXGroupBox
-          Left = 16
-          Top = 8
-          Width = 369
-          Height = 305
-          Caption = 'Program settings'
-          Color = clNone
-          ParentColor = False
-          TabOrder = 0
-          object ResetRegistryButton: TSpTBXSpeedButton
-            Left = 240
-            Top = 272
-            Width = 113
-            Height = 22
-            Caption = 'Reset registry data'
-            OnClick = ResetRegistryButtonClick
-            LinkFont.Charset = DEFAULT_CHARSET
-            LinkFont.Color = clBlue
-            LinkFont.Height = -11
-            LinkFont.Name = 'MS Sans Serif'
-            LinkFont.Style = [fsUnderline]
-          end
-          object GameSettingsButton: TSpTBXSpeedButton
-            Left = 240
-            Top = 88
-            Width = 113
-            Height = 22
-            Caption = 'Game settings'
-            OnClick = GameSettingsButtonClick
-            LinkFont.Charset = DEFAULT_CHARSET
-            LinkFont.Color = clBlue
-            LinkFont.Height = -11
-            LinkFont.Name = 'MS Sans Serif'
-            LinkFont.Style = [fsUnderline]
-          end
-          object NotificationsButton: TSpTBXSpeedButton
-            Left = 240
-            Top = 40
-            Width = 113
-            Height = 22
-            Caption = 'Notifications ...'
-            OnClick = NotificationsButtonClick
-            LinkFont.Charset = DEFAULT_CHARSET
-            LinkFont.Color = clBlue
-            LinkFont.Height = -11
-            LinkFont.Name = 'MS Sans Serif'
-            LinkFont.Style = [fsUnderline]
-          end
-          object HighlightingButton: TSpTBXSpeedButton
-            Left = 240
-            Top = 16
-            Width = 113
-            Height = 22
-            Caption = 'Highlighting ...'
-            OnClick = HighlightingButtonClick
-            LinkFont.Charset = DEFAULT_CHARSET
-            LinkFont.Color = clBlue
-            LinkFont.Height = -11
-            LinkFont.Name = 'MS Sans Serif'
-            LinkFont.Style = [fsUnderline]
-          end
-          object IgnoreListButton: TSpTBXSpeedButton
-            Left = 240
-            Top = 64
-            Width = 113
-            Height = 22
-            Caption = 'Ignore list ...'
-            OnClick = IgnoreListButtonClick
-            LinkFont.Charset = DEFAULT_CHARSET
-            LinkFont.Color = clBlue
-            LinkFont.Height = -11
-            LinkFont.Name = 'MS Sans Serif'
-            LinkFont.Style = [fsUnderline]
-          end
-          object Label6: TSpTBXLabel
-            Left = 16
-            Top = 32
-            Width = 46
-            Height = 13
-            Caption = 'Tab style:'
-            LinkFont.Charset = DEFAULT_CHARSET
-            LinkFont.Color = clBlue
-            LinkFont.Height = -11
-            LinkFont.Name = 'MS Sans Serif'
-            LinkFont.Style = [fsUnderline]
-          end
-          object RadioButton4: TSpTBXRadioButton
-            Left = 16
-            Top = 56
-            Width = 38
+          object DisplayAutoHostInterfaceCheckBox: TSpTBXCheckBox
+            Left = 24
+            Top = 312
+            Width = 158
             Height = 15
-            Caption = 'tabs'
-            TabOrder = 0
-            TabStop = True
-            Checked = True
+            Caption = 'Display the autohost interface'
+            TabOrder = 19
           end
-          object RadioButton5: TSpTBXRadioButton
-            Left = 16
-            Top = 72
-            Width = 53
-            Height = 15
-            Caption = 'buttons'
-            TabOrder = 1
-          end
-          object RadioButton6: TSpTBXRadioButton
-            Left = 16
-            Top = 88
-            Width = 70
-            Height = 15
-            Caption = 'flat buttons'
-            TabOrder = 2
-          end
-          object CheckBox8: TSpTBXCheckBox
-            Left = 16
-            Top = 280
-            Width = 88
-            Height = 15
-            Caption = 'Enable logging'
-            TabOrder = 3
-            Checked = True
-            State = cbChecked
-          end
-          object CheckBox9: TSpTBXCheckBox
-            Left = 16
-            Top = 264
-            Width = 128
-            Height = 15
-            Caption = 'Use sound notifications'
-            TabOrder = 4
-            Checked = True
-            State = cbChecked
-          end
-          object KeyEditorButton: TSpTBXSpeedButton
-            Left = 240
-            Top = 112
-            Width = 113
-            Height = 22
-            Caption = 'Selection key editor'
-            OnClick = KeyEditorButtonClick
-            LinkFont.Charset = DEFAULT_CHARSET
-            LinkFont.Color = clBlue
-            LinkFont.Height = -11
-            LinkFont.Name = 'MS Sans Serif'
-            LinkFont.Style = [fsUnderline]
-          end
-          object CheckForNewVersionCheckBox: TSpTBXCheckBox
-            Left = 16
-            Top = 248
-            Width = 168
-            Height = 15
-            Caption = 'Auto update lobby to latest beta'
-            TabOrder = 12
-          end
-          object ColorsButton: TSpTBXButton
-            Left = 240
-            Top = 136
-            Width = 113
-            Height = 22
-            Caption = 'Colors and font ...'
-            TabOrder = 13
-            OnClick = ColorsButtonClick
-            LinkFont.Charset = DEFAULT_CHARSET
-            LinkFont.Color = clBlue
-            LinkFont.Height = -11
-            LinkFont.Name = 'MS Sans Serif'
-            LinkFont.Style = [fsUnderline]
-          end
-          object ManageGroupsButton: TSpTBXButton
-            Left = 240
-            Top = 160
-            Width = 113
-            Height = 22
-            Caption = 'Manage groups ...'
-            TabOrder = 14
-            OnClick = ManageGroupsButtonClick
-            LinkFont.Charset = DEFAULT_CHARSET
-            LinkFont.Color = clBlue
-            LinkFont.Height = -11
-            LinkFont.Name = 'MS Sans Serif'
-            LinkFont.Style = [fsUnderline]
-          end
-          object EnableSpringDownloaderCheckBox: TSpTBXCheckBox
-            Left = 16
-            Top = 232
-            Width = 144
-            Height = 15
-            Caption = 'Enable Spring Downloader'
-            TabOrder = 15
-            Checked = True
-            State = cbChecked
-          end
-          object UseLogonFormCheckBox: TSpTBXCheckBox
-            Left = 16
-            Top = 216
-            Width = 89
-            Height = 15
-            Caption = 'Use logon form'
-            TabOrder = 16
-            Checked = True
-            State = cbChecked
-          end
-          object TipsButton: TSpTBXButton
-            Left = 240
-            Top = 184
-            Width = 113
-            Height = 22
-            Caption = 'Tips ...'
-            TabOrder = 17
-            OnClick = TipsButtonClick
-            LinkFont.Charset = DEFAULT_CHARSET
-            LinkFont.Color = clBlue
-            LinkFont.Height = -11
-            LinkFont.Name = 'MS Sans Serif'
-            LinkFont.Style = [fsUnderline]
-          end
-          object SpringSettingsProfilesButton: TSpTBXButton
-            Left = 240
-            Top = 208
-            Width = 113
-            Height = 22
-            Caption = 'Spring Settings profiles'
-            TabOrder = 18
-            OnClick = SpringSettingsProfilesButtonClick
-            LinkFont.Charset = DEFAULT_CHARSET
-            LinkFont.Color = clBlue
-            LinkFont.Height = -11
-            LinkFont.Name = 'MS Sans Serif'
-            LinkFont.Style = [fsUnderline]
-          end
         end
       end
     end
     object ApplyAndCloseButton: TSpTBXButton
       Left = 43
-      Top = 440
+      Top = 456
       Width = 145
       Height = 25
       Caption = 'Apply and close'
@@ -1046,7 +1054,7 @@
     end
     object CancelAndCloseButton: TSpTBXButton
       Left = 227
-      Top = 440
+      Top = 456
       Width = 145
       Height = 25
       Caption = 'Cancel and close'

Modified: Lobby/TASClient/PreferencesFormUnit.pas
===================================================================
--- Lobby/TASClient/PreferencesFormUnit.pas	2009-10-24 13:11:49 UTC (rev 7364)
+++ Lobby/TASClient/PreferencesFormUnit.pas	2009-10-25 16:20:19 UTC (rev 7365)
@@ -52,6 +52,7 @@
     AutoCompletionFromCurrentChannel: Boolean;
     AutoUpdateToBeta: Boolean;
     DisplayUnitsIconsAndNames: Boolean;
+    DisplayAutohostInterface: Boolean;
 
     UseProxy: Boolean;
     ProxyAddress: string;
@@ -201,6 +202,7 @@
     DoNotLoadMapInfos: TSpTBXCheckBox;
     LoadMetalHeightMaps: TSpTBXCheckBox;
     LayoutDefault: TTntEdit;
+    DisplayAutoHostInterfaceCheckBox: TSpTBXCheckBox;
 
     function BattleSortStyleToColumn(SortStyle: Integer): Integer;
     function ColumnToBattleSortStyle(Column: Integer): Integer;
@@ -309,9 +311,9 @@
                                         BattleClientSortStyle: 2;FilterJoinLeftMessages: False;FilterBattleJoinLeftMessages: False; ShowFlags: True;
                                         MarkUnknownMaps: False; TaskbarButtons: True; JoinMainChannel: True; ReconnectToBackup: True; SaveLogs: True;
                                         UseSoundNotifications: True;AutoCompletionFromCurrentChannel: False; AutoUpdateToBeta: False;DisplayUnitsIconsAndNames: False;
-                                        UseProxy: False; HighlightColor: 'Green'; UseNotificationsForHighlights: True; UseIgnoreList: False; WarnIfUsingNATTraversing: True;
-                                        AutoFocusOnPM: True; MapSortStyle: 1; ThemeType: thtTBX; Theme: 'Miranda'; DisableAllSounds: False; SortLocal: False;
-                                        DisplayQuickJoinPanel : True; LimitChatLogs: False; ChatLogsLimit: 800; SPSkin: 'default.ssk'; ScriptsDisabled : False;
+                                        DisplayAutohostInterface: True; UseProxy: False; HighlightColor: 'Green'; UseNotificationsForHighlights: True; UseIgnoreList: False;
+                                        WarnIfUsingNATTraversing: True; AutoFocusOnPM: True; MapSortStyle: 1; ThemeType: thtTBX; Theme: 'Miranda'; DisableAllSounds: False;
+                                        SortLocal: False; DisplayQuickJoinPanel : True; LimitChatLogs: False; ChatLogsLimit: 800; SPSkin: 'default.ssk'; ScriptsDisabled : False;
                                         EnableScripts : True;ScriptWarningMsgShown: False; EnableSpringDownloader : True; UseLogonForm : True; DisableNews : False;
                                         DisableMapDetailsLoading: False; LoadMetalHeightMinimaps: True);
 
@@ -421,6 +423,7 @@
     try Preferences.DisableNews := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'DisableNews'); except end;
     try Preferences.DisableMapDetailsLoading := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'DisableMapDetailsLoading'); except end;
     try Preferences.LoadMetalHeightMinimaps := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'LoadMetalHeightMinimaps2'); except end;
+    try Preferences.DisplayAutohostInterface := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'DisplayAutohostInterface'); except end;
 
 
     try CommonFont.Name := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'FontName'); except end;
@@ -486,6 +489,7 @@
     try BattleForm.KeepRatioItem.Checked := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\BattleForm', 'KeepMinimapRatio'); except end;
     try BattleForm.SpringSettingsProfile := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\BattleForm', 'SpringSettingsProfile'); except end;
     try BattleForm.mnuAutoLockOnStart.Checked := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\BattleForm', 'AutoLockOnStart'); except end;
+    try BattleForm.mnuHideAutoHostMsgs.Checked := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\BattleForm', 'HideAutoHostMsgs'); except end;
 
     try AutoTeamsForm.ClansCheckBox.Checked := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\AutoTeam', 'ClanBalance'); except end;
     try AutoTeamsForm.NoNewIdsCheckBox.Checked := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\AutoTeam', 'KeepIds'); except end;
@@ -609,6 +613,7 @@
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\BattleForm', 'SpringSettingsProfile', rdString, BattleForm.SpringSettingsProfile);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\BattleForm', 'AutoLockOnStart', rdInteger, Misc.BoolToInt(BattleForm.mnuAutoLockOnStart.Checked));
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\BattleForm', 'Side', rdInteger, BattleForm.MySideButton.Tag);
+    Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\BattleForm', 'HideAutoHostMsgs', rdInteger, Misc.BoolToInt(BattleForm.mnuHideAutoHostMsgs.Checked));
 
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\AutoTeam', 'ClanBalance', rdInteger, Misc.BoolToInt(AutoTeamsForm.ClansCheckBox.Checked));
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\AutoTeam', 'KeepIds', rdInteger, Misc.BoolToInt(AutoTeamsForm.NoNewIdsCheckBox.Checked));
@@ -733,6 +738,7 @@
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'LanguageCode', rdString, Preferences.LanguageCode);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'DisableMapDetailsLoading', rdInteger, Preferences.DisableMapDetailsLoading);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'LoadMetalHeightMinimaps2', rdInteger, Preferences.LoadMetalHeightMinimaps);
+    Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences', 'DisplayAutohostInterface', rdInteger, Preferences.DisplayAutohostInterface);
 
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences\ChatColors', 'MyText', rdInteger, Colors.MyText);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Preferences\ChatColors', 'AdminText', rdInteger, Colors.AdminText);
@@ -933,6 +939,7 @@
 
   p.DisableMapDetailsLoading := DoNotLoadMapInfos.Checked;
   p.LoadMetalHeightMinimaps := LoadMetalHeightMaps.Checked;
+  p.DisplayAutohostInterface := DisplayAutoHostInterfaceCheckBox.Checked;
 
   // there is no need to set p.ThemeType or p.Theme here since those are directly updated to Preferences when we change them in GUI at runtime
 
@@ -1027,6 +1034,7 @@
   DisableNewsCheckBox.Checked := p.DisableNews;
   DoNotLoadMapInfos.Checked := p.DisableMapDetailsLoading;
   LoadMetalHeightMaps.Checked := p.LoadMetalHeightMinimaps;
+  DisplayAutoHostInterfaceCheckBox.Checked := p.DisplayAutohostInterface;
 
   UseLanguage(p.LanguageCode);
   for i:=0 to LangCodes.Count-1 do

Modified: Lobby/TASClient/TASClient.dof
===================================================================
--- Lobby/TASClient/TASClient.dof	2009-10-24 13:11:49 UTC (rev 7364)
+++ Lobby/TASClient/TASClient.dof	2009-10-25 16:20:19 UTC (rev 7365)
@@ -113,9 +113,9 @@
 IncludeVerInfo=1
 AutoIncBuild=1
 MajorVer=0
-MinorVer=53
+MinorVer=54
 Release=0
-Build=716
+Build=717
 Debug=0
 PreRelease=0
 Special=0
@@ -126,7 +126,7 @@
 [Version Info Keys]
 CompanyName=
 FileDescription=Spring RTS Engine lobby client
-FileVersion=0.53.0.716
+FileVersion=0.54.0.717
 InternalName=
 LegalCopyright=
 LegalTrademarks=

Modified: Lobby/TASClient/TASClient.res
===================================================================
(Binary files differ)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002133.html">[Taspring-linux-commit] r7364 - Lobby/TASClient
</A></li>
	<LI>Next message: <A HREF="002135.html">[Taspring-linux-commit] r7366 - Lobby/TASClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2134">[ date ]</a>
              <a href="thread.html#2134">[ thread ]</a>
              <a href="subject.html#2134">[ subject ]</a>
              <a href="author.html#2134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
