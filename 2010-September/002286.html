<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Taspring-linux-commit] r7516 - Lobby/TASClient
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/taspring-linux-commit/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7516%20-%20Lobby/TASClient&In-Reply-To=%3C20100920180834.739D423CB7%40it-l.eu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002285.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Taspring-linux-commit] r7516 - Lobby/TASClient</H1>
    <B>taspring-linux-commit at lists.berlios.de</B> 
    <A HREF="mailto:taspring-linux-commit%40lists.berlios.de?Subject=Re%3A%20%5BTaspring-linux-commit%5D%20r7516%20-%20Lobby/TASClient&In-Reply-To=%3C20100920180834.739D423CB7%40it-l.eu%3E"
       TITLE="[Taspring-linux-commit] r7516 - Lobby/TASClient">taspring-linux-commit at lists.berlios.de
       </A><BR>
    <I>Mon Sep 20 20:08:34 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002285.html">[Taspring-linux-commit] r7515 - in Lobby/TASClient: . Python/scripts
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2286">[ date ]</a>
              <a href="thread.html#2286">[ thread ]</a>
              <a href="subject.html#2286">[ subject ]</a>
              <a href="author.html#2286">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: satirik
Date: 2010-09-20 20:08:33 +0200 (Mon, 20 Sep 2010)
New Revision: 7516

Modified:
   Lobby/TASClient/BattleFormUnit.dfm
   Lobby/TASClient/BattleFormUnit.pas
   Lobby/TASClient/DisableUnitsFormUnit.dfm
   Lobby/TASClient/HostBattleFormUnit.dfm
   Lobby/TASClient/HostBattleFormUnit.pas
   Lobby/TASClient/HttpGetUnit.dfm
   Lobby/TASClient/HttpGetUnit.pas
   Lobby/TASClient/LobbyScriptUnit.pas
   Lobby/TASClient/MainUnit.dfm
   Lobby/TASClient/MainUnit.pas
   Lobby/TASClient/Misc.pas
   Lobby/TASClient/PreferencesFormUnit.dfm
   Lobby/TASClient/PreferencesFormUnit.pas
   Lobby/TASClient/ReplaysUnit.dfm
   Lobby/TASClient/SpringDownloaderFormUnit.dfm
   Lobby/TASClient/SpringDownloaderFormUnit.pas
   Lobby/TASClient/TASClient.dof
   Lobby/TASClient/TASClient.res
   Lobby/TASClient/Utility.pas
Log:
* updated the ICS WSocket component
* relay chat is now optional
* fixed relay chat using 100% cpu
* fixed join button not being hidden when hosting and back from game

Modified: Lobby/TASClient/BattleFormUnit.dfm
===================================================================
--- Lobby/TASClient/BattleFormUnit.dfm	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/BattleFormUnit.dfm	2010-09-20 18:08:33 UTC (rev 7516)
@@ -1,6 +1,6 @@
 object BattleForm: TBattleForm
-  Left = 917
-  Top = 362
+  Left = 851
+  Top = 386
   Width = 923
   Height = 638
   Caption = 'Battle window'
@@ -12758,10 +12758,11 @@
         Align = alClient
         BiDiMode = bdLeftToRight
         ParentBiDiMode = False
-        ActiveTabIndex = 3
+        ActiveTabIndex = 0
         OnActiveTabChange = SpTBXTabControl1ActiveTabChange
         HiddenItems = &lt;&gt;
         object QuickLookTab: TSpTBXTabItem
+          Checked = True
           ImageIndex = 1
           Images = MainForm.ArrowList
           CustomWidth = 40
@@ -12780,7 +12781,6 @@
         object MapTab: TSpTBXTabItem
           Caption = 'Map options'
           Wrapping = twWrap
-          Checked = True
           CustomWidth = 94
         end
         object ModTab: TSpTBXTabItem
@@ -12788,29 +12788,140 @@
           Wrapping = twWrap
           CustomWidth = 94
         end
-        object SpTBXTabSheet6: TSpTBXTabSheet
+        object ModTabSheet: TSpTBXTabSheet
           Left = 0
           Top = 39
           Width = 417
           Height = 234
-          ImageIndex = 1
-          TabItem = 'QuickLookTab'
-          object QuickLookRichEdit: TRichEdit
-            Left = 2
-            Top = 0
-            Width = 413
-            Height = 232
-            Align = alClient
+          Caption = 'Mod options'
+          ImageIndex = -1
+          DesignSize = (
+            417
+            234)
+          TabItem = 'ModTab'
+          object ModOptionsScrollBox: TTntScrollBox
+            Left = 8
+            Top = 48
+            Width = 401
+            Height = 177
+            VertScrollBar.Smooth = True
+            VertScrollBar.Tracking = True
+            Anchors = [akLeft, akTop, akRight, akBottom]
+            BiDiMode = bdLeftToRight
             BorderStyle = bsNone
             Color = clBtnFace
-            ParentShowHint = False
-            ReadOnly = True
-            ScrollBars = ssVertical
-            ShowHint = True
+            Ctl3D = False
+            ParentBiDiMode = False
+            ParentBackground = True
+            ParentColor = False
+            ParentCtl3D = False
             TabOrder = 0
-            OnMouseMove = QuickLookRichEditMouseMove
           end
+          object panelModOptionsDefault: TSpTBXPanel
+            Left = 8
+            Top = 4
+            Width = 402
+            Height = 41
+            Align = alCustom
+            Anchors = [akLeft, akTop, akRight]
+            TabOrder = 1
+            TBXStyleBackground = True
+            object btLoadDefaultMDO: TSpTBXButton
+              Left = 137
+              Top = 8
+              Width = 128
+              Height = 25
+              Caption = 'Load default'
+              TabOrder = 0
+              OnClick = btLoadDefaultMDOClick
+            end
+            object btSetAsDefaultMDO: TSpTBXButton
+              Left = 269
+              Top = 8
+              Width = 128
+              Height = 25
+              Caption = 'Set as default'
+              TabOrder = 1
+              OnClick = btSetAsDefaultMDOClick
+            end
+            object btLoadModsDefaultMDO: TSpTBXButton
+              Left = 5
+              Top = 8
+              Width = 128
+              Height = 25
+              Caption = 'Load mod'#39's default'
+              TabOrder = 2
+              OnClick = btLoadModsDefaultMDOClick
+            end
+          end
         end
+        object MapTabSheet: TSpTBXTabSheet
+          Left = 0
+          Top = 39
+          Width = 417
+          Height = 234
+          Caption = 'Map options'
+          ImageIndex = -1
+          DesignSize = (
+            417
+            234)
+          TabItem = 'MapTab'
+          object MapOptionsScrollBox: TTntScrollBox
+            Left = 8
+            Top = 48
+            Width = 401
+            Height = 177
+            VertScrollBar.Smooth = True
+            VertScrollBar.Tracking = True
+            Anchors = [akLeft, akTop, akRight, akBottom]
+            BiDiMode = bdLeftToRight
+            BorderStyle = bsNone
+            Color = clBtnFace
+            Ctl3D = False
+            ParentBiDiMode = False
+            ParentBackground = True
+            ParentColor = False
+            ParentCtl3D = False
+            TabOrder = 0
+          end
+          object panelMapOptionsDefault: TSpTBXPanel
+            Left = 8
+            Top = 4
+            Width = 402
+            Height = 41
+            Align = alCustom
+            Anchors = [akLeft, akTop, akRight]
+            TabOrder = 1
+            TBXStyleBackground = True
+            object btLoadMapsDefaultMPO: TSpTBXButton
+              Left = 5
+              Top = 8
+              Width = 128
+              Height = 25
+              Caption = 'Load map'#39's default'
+              TabOrder = 2
+              OnClick = btLoadMapsDefaultMPOClick
+            end
+            object btLoadDefaultMPO: TSpTBXButton
+              Left = 137
+              Top = 8
+              Width = 128
+              Height = 25
+              Caption = 'Load default'
+              TabOrder = 0
+              OnClick = btLoadDefaultMPOClick
+            end
+            object btSetAsDefaultMPO: TSpTBXButton
+              Left = 269
+              Top = 8
+              Width = 128
+              Height = 25
+              Caption = 'Set as default'
+              TabOrder = 1
+              OnClick = btSetAsDefaultMPOClick
+            end
+          end
+        end
         object SpTBXTabSheet1: TSpTBXTabSheet
           Left = 0
           Top = 39
@@ -13075,140 +13186,29 @@
             OnClick = SetDefaultButtonClick
           end
         end
-        object ModTabSheet: TSpTBXTabSheet
+        object SpTBXTabSheet6: TSpTBXTabSheet
           Left = 0
           Top = 39
           Width = 417
           Height = 234
-          Caption = 'Mod options'
-          ImageIndex = -1
-          DesignSize = (
-            417
-            234)
-          TabItem = 'ModTab'
-          object ModOptionsScrollBox: TTntScrollBox
-            Left = 8
-            Top = 48
-            Width = 401
-            Height = 177
-            VertScrollBar.Smooth = True
-            VertScrollBar.Tracking = True
-            Anchors = [akLeft, akTop, akRight, akBottom]
-            BiDiMode = bdLeftToRight
+          ImageIndex = 1
+          TabItem = 'QuickLookTab'
+          object QuickLookRichEdit: TRichEdit
+            Left = 2
+            Top = 0
+            Width = 413
+            Height = 232
+            Align = alClient
             BorderStyle = bsNone
             Color = clBtnFace
-            Ctl3D = False
-            ParentBiDiMode = False
-            ParentBackground = True
-            ParentColor = False
-            ParentCtl3D = False
+            ParentShowHint = False
+            ReadOnly = True
+            ScrollBars = ssVertical
+            ShowHint = True
             TabOrder = 0
+            OnMouseMove = QuickLookRichEditMouseMove
           end
-          object panelModOptionsDefault: TSpTBXPanel
-            Left = 8
-            Top = 4
-            Width = 402
-            Height = 41
-            Align = alCustom
-            Anchors = [akLeft, akTop, akRight]
-            TabOrder = 1
-            TBXStyleBackground = True
-            object btLoadDefaultMDO: TSpTBXButton
-              Left = 137
-              Top = 8
-              Width = 128
-              Height = 25
-              Caption = 'Load default'
-              TabOrder = 0
-              OnClick = btLoadDefaultMDOClick
-            end
-            object btSetAsDefaultMDO: TSpTBXButton
-              Left = 269
-              Top = 8
-              Width = 128
-              Height = 25
-              Caption = 'Set as default'
-              TabOrder = 1
-              OnClick = btSetAsDefaultMDOClick
-            end
-            object btLoadModsDefaultMDO: TSpTBXButton
-              Left = 5
-              Top = 8
-              Width = 128
-              Height = 25
-              Caption = 'Load mod'#39's default'
-              TabOrder = 2
-              OnClick = btLoadModsDefaultMDOClick
-            end
-          end
         end
-        object MapTabSheet: TSpTBXTabSheet
-          Left = 0
-          Top = 39
-          Width = 417
-          Height = 234
-          Caption = 'Map options'
-          ImageIndex = -1
-          DesignSize = (
-            417
-            234)
-          TabItem = 'MapTab'
-          object MapOptionsScrollBox: TTntScrollBox
-            Left = 8
-            Top = 48
-            Width = 401
-            Height = 177
-            VertScrollBar.Smooth = True
-            VertScrollBar.Tracking = True
-            Anchors = [akLeft, akTop, akRight, akBottom]
-            BiDiMode = bdLeftToRight
-            BorderStyle = bsNone
-            Color = clBtnFace
-            Ctl3D = False
-            ParentBiDiMode = False
-            ParentBackground = True
-            ParentColor = False
-            ParentCtl3D = False
-            TabOrder = 0
-          end
-          object panelMapOptionsDefault: TSpTBXPanel
-            Left = 8
-            Top = 4
-            Width = 402
-            Height = 41
-            Align = alCustom
-            Anchors = [akLeft, akTop, akRight]
-            TabOrder = 1
-            TBXStyleBackground = True
-            object btLoadMapsDefaultMPO: TSpTBXButton
-              Left = 5
-              Top = 8
-              Width = 128
-              Height = 25
-              Caption = 'Load map'#39's default'
-              TabOrder = 2
-              OnClick = btLoadMapsDefaultMPOClick
-            end
-            object btLoadDefaultMPO: TSpTBXButton
-              Left = 137
-              Top = 8
-              Width = 128
-              Height = 25
-              Caption = 'Load default'
-              TabOrder = 0
-              OnClick = btLoadDefaultMPOClick
-            end
-            object btSetAsDefaultMPO: TSpTBXButton
-              Left = 269
-              Top = 8
-              Width = 128
-              Height = 25
-              Caption = 'Set as default'
-              TabOrder = 1
-              OnClick = btSetAsDefaultMPOClick
-            end
-          end
-        end
       end
     end
   end
@@ -13436,6 +13436,8 @@
     RequestVer = '1.0'
     FollowRelocation = True
     LocationChangeMaxCount = 5
+    ServerAuth = httpAuthNone
+    ProxyAuth = httpAuthNone
     BandwidthLimit = 10000
     BandwidthSampling = 1000
     Options = []
@@ -13454,6 +13456,8 @@
     RequestVer = '1.0'
     FollowRelocation = True
     LocationChangeMaxCount = 5
+    ServerAuth = httpAuthNone
+    ProxyAuth = httpAuthNone
     BandwidthLimit = 10000
     BandwidthSampling = 1000
     Options = []
@@ -13472,6 +13476,8 @@
     RequestVer = '1.0'
     FollowRelocation = True
     LocationChangeMaxCount = 5
+    ServerAuth = httpAuthNone
+    ProxyAuth = httpAuthNone
     BandwidthLimit = 10000
     BandwidthSampling = 1000
     Options = []

Modified: Lobby/TASClient/BattleFormUnit.pas
===================================================================
--- Lobby/TASClient/BattleFormUnit.pas	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/BattleFormUnit.pas	2010-09-20 18:08:33 UTC (rev 7516)
@@ -23,11 +23,11 @@
   SpTBXControls, TB2ExtItems, SpTBXEditors, SpTBXTabs, JvLED,
   ImageEx, JvSticker, JvExExtCtrls, JvImage, JvShape, JvLabel,GpIFF,
   ImgList, SpTBXFormPopupMenu,IniFiles,
-  HttpProt,MsMultiPartFormData, JvComponentBase, Spin, Mask,
+  MsMultiPartFormData, JvComponentBase, Spin, Mask,
   JvExMask, JvSpin, TntStdCtrls, TntForms, TntComCtrls,RichEdit,JclUnicode,
   RichEdit2, ExRichEdit, class_TIntegerList, Utility, OleCtrls,
   SHDocVw,ActnList, gnugettext, OpenGL1x, GIFImage, DockPanel, pngimage,
-  SpTBXDkPanels,WSocket,WinSock;
+  SpTBXDkPanels,WinSock, OverbyteIcsWndControl, OverbyteIcsHttpProt,OverbyteIcsWSocket;
 
 type
 
@@ -764,6 +764,7 @@
     SpringComAddr: sockaddr_in;
     SpringChatMsgsBeingRelayed: TWideStringList;
     HostSupportsJoinPassword: boolean;
+    RelayChat: boolean;
   end;
 
   BattleReplayInfo: // used only when battle is of &quot;battle replay&quot; type
@@ -2407,14 +2408,16 @@
   modHash := GetModHash(BattleState.Battle.ModName);
   Script.AddOrChangeKeyValue('GAME/ModHash',IntToStr(modHash));
 
-  if not relayHostScript then
+  if not relayHostScript and BattleState.RelayChat then
   begin
     MainForm.SpringSocket.Destroy;
     MainForm.SpringSocket := TWSocket.Create(MainForm);
     MainForm.SpringSocket.Proto := 'udp';
-    MainForm.SpringSocket.KeepAliveInterval := 10;
+    MainForm.SpringSocket.KeepAliveInterval := 1000;
+    MainForm.SpringSocket.FlushTimeout := 1000;
     MainForm.SpringSocket.OnDataAvailable := MainForm.SpringSocketDataAvailable;
     MainForm.SpringSocket.Addr := '127.0.0.1';
+    MainForm.SpringSocket.MultiThreaded := False;
     MainForm.SpringSocket.Port := IntToStr(BattleState.Battle.Port-1);
     MainForm.SpringSocket.LocalPort := IntToStr(BattleState.Battle.Port-1);
     Script.AddOrChangeKeyValue('GAME/autohostport',MainForm.SpringSocket.Port);
@@ -3789,6 +3792,11 @@
     begin
       AddTextToChat('Back from the game', Colors.Info, 1);
       MainForm.SpringSocket.Close;
+      if BattleState.Status = Hosting then
+      begin
+        JoinButton.Visible := False;
+        StartButton.Visible := True;
+      end;
       if (HostBattleForm.relayHoster &lt;&gt; nil) and HostBattleForm.relayHoster.GetInGameStatus then
         AddTextToChat('(You can force the autohost to stop the game using /forcequit)', Colors.Info, 1);
       Status.AmIInGame := False;
@@ -3804,6 +3812,11 @@
   begin
     AddTextToChat('Back from the game', Colors.Info, 1);
     MainForm.SpringSocket.Close;
+    if BattleState.Status = Hosting then
+    begin
+      JoinButton.Visible := False;
+      StartButton.Visible := True;
+    end;
     Status.AmIInGame := False;
     MainForm.TryToSendCommand('MYSTATUS', '0'); // let's tell the server we returned from the game
 
@@ -5287,7 +5300,10 @@
     if Utility.MapList.IndexOf(BattleState.Battle.Map) = -1 then
       ChangeMapToNoMap(BattleState.Battle.Map)
     else
+    begin
+      JoinButton.Enabled := True;
       ChangeMap(Utility.MapList.IndexOf(BattleState.Battle.Map));
+    end;
   end
   else
   begin // just reinit and reload

Modified: Lobby/TASClient/DisableUnitsFormUnit.dfm
===================================================================
--- Lobby/TASClient/DisableUnitsFormUnit.dfm	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/DisableUnitsFormUnit.dfm	2010-09-20 18:08:33 UTC (rev 7516)
@@ -1,10 +1,9 @@
 object DisableUnitsForm: TDisableUnitsForm
-  Left = 769
-  Top = 204
-  BorderStyle = bsDialog
+  Left = 978
+  Top = 272
+  Width = 600
+  Height = 482
   Caption = 'Disable units dialog'
-  ClientHeight = 456
-  ClientWidth = 592
   Color = clBtnFace
   Constraints.MaxHeight = 1150
   Constraints.MaxWidth = 1920
@@ -23,13 +22,13 @@
     Left = 0
     Top = 0
     Width = 592
-    Height = 456
+    Height = 455
     Caption = 'Disable units dialog'
     Active = False
     Options.Minimize = False
     DesignSize = (
       592
-      456)
+      455)
     object SpeedButton1: TSpTBXSpeedButton
       Left = 472
       Top = 40
@@ -59,7 +58,7 @@
     end
     object Button1: TSpTBXButton
       Left = 288
-      Top = 416
+      Top = 415
       Width = 145
       Height = 25
       Caption = 'Close'
@@ -72,7 +71,7 @@
       Left = 8
       Top = 64
       Width = 577
-      Height = 337
+      Height = 336
       Anchors = [akLeft, akTop, akRight, akBottom]
       CheckImageKind = ckSystemFlat
       DefaultNodeHeight = 70
@@ -122,7 +121,7 @@
     end
     object Button2: TSpTBXButton
       Left = 440
-      Top = 416
+      Top = 415
       Width = 145
       Height = 25
       Caption = 'Update selection'

Modified: Lobby/TASClient/HostBattleFormUnit.dfm
===================================================================
--- Lobby/TASClient/HostBattleFormUnit.dfm	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/HostBattleFormUnit.dfm	2010-09-20 18:08:33 UTC (rev 7516)
@@ -1,8 +1,8 @@
 object HostBattleForm: THostBattleForm
-  Left = 1163
-  Top = 62
+  Left = 646
+  Top = 304
   Width = 442
-  Height = 410
+  Height = 421
   Caption = 'Host battle'
   Color = clBtnFace
   Constraints.MaxHeight = 1150
@@ -23,7 +23,7 @@
     Left = 0
     Top = 0
     Width = 434
-    Height = 383
+    Height = 394
     Caption = 'Host battle'
     Active = False
     FixedSize = True
@@ -66,7 +66,7 @@
     end
     object SpeedButton1: TSpTBXSpeedButton
       Left = 206
-      Top = 344
+      Top = 352
       Width = 33
       Height = 25
       Caption = '?'
@@ -151,7 +151,7 @@
     end
     object CancelButton: TSpTBXButton
       Left = 250
-      Top = 344
+      Top = 352
       Width = 103
       Height = 25
       Caption = 'Cancel'
@@ -199,7 +199,7 @@
     end
     object HostButton: TSpTBXButton
       Left = 72
-      Top = 344
+      Top = 352
       Width = 105
       Height = 25
       Caption = 'Host battle'
@@ -208,12 +208,22 @@
     end
     object HostTypeButton: TSpTBXButton
       Left = 176
-      Top = 344
+      Top = 352
       Width = 18
       Height = 25
       TabOrder = 22
       DropDownMenu = HostPopupMenu
     end
+    object RelayChatCheckBox: TSpTBXCheckBox
+      Left = 16
+      Top = 320
+      Width = 358
+      Height = 15
+      Caption = 
+        'Relay the chat between the lobby and spring / Enable mid game (r' +
+        'e) join'
+      TabOrder = 23
+    end
   end
   object HttpCli1: THttpCli
     LocalAddr = '0.0.0.0'
@@ -226,6 +236,8 @@
     RequestVer = '1.0'
     FollowRelocation = True
     LocationChangeMaxCount = 5
+    ServerAuth = httpAuthNone
+    ProxyAuth = httpAuthNone
     BandwidthLimit = 10000
     BandwidthSampling = 1000
     Options = []
@@ -235,8 +247,8 @@
   end
   object HostPopupMenu: TSpTBXPopupMenu
     AutoHotkeys = maManual
-    Left = 136
-    Top = 312
+    Left = 272
+    Top = 288
     object mnuHost: TSpTBXItem
       Caption = 'Host a game'
       GroupIndex = 1

Modified: Lobby/TASClient/HostBattleFormUnit.pas
===================================================================
--- Lobby/TASClient/HostBattleFormUnit.pas	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/HostBattleFormUnit.pas	2010-09-20 18:08:33 UTC (rev 7516)
@@ -4,11 +4,12 @@
 
 uses
   Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
-  Dialogs, StdCtrls, Mask, ComCtrls, Buttons, Menus,SpTBXSkins, HttpProt,
+  Dialogs, StdCtrls, Mask, ComCtrls, Buttons, Menus,SpTBXSkins, OverbyteIcsHttpProt,
   SpTBXEditors, SpTBXControls, TntStdCtrls, SpTBXItem,
   JvExControls, JvComponent, JvArrowButton, ExtCtrls, JvXPCore, JvXPButtons,
   TB2Item, TB2ExtItems,
-  TB2Dock, TB2Toolbar, MainUnit, StrUtils,JclUnicode, LobbyScriptUnit;
+  TB2Dock, TB2Toolbar, MainUnit, StrUtils,JclUnicode, LobbyScriptUnit,
+  OverbyteIcsWndControl;
 
 type
   THostBattleForm = class(TForm)
@@ -39,6 +40,7 @@
     HostPopupMenu: TSpTBXPopupMenu;
     mnuHost: TSpTBXItem;
     mnuHostReplay: TSpTBXItem;
+    RelayChatCheckBox: TSpTBXCheckBox;
 
     procedure CreateParams(var Params: TCreateParams); override;
     procedure TryToHostBattle;
@@ -641,6 +643,8 @@
     end;
   end;
 
+  BattleState.RelayChat := RelayChatCheckBox.Checked;
+
   if mnuHost.Checked then
     TryToHostBattle
   else

Modified: Lobby/TASClient/HttpGetUnit.dfm
===================================================================
--- Lobby/TASClient/HttpGetUnit.dfm	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/HttpGetUnit.dfm	2010-09-20 18:08:33 UTC (rev 7516)
@@ -111,6 +111,8 @@
     RequestVer = '1.0'
     FollowRelocation = True
     LocationChangeMaxCount = 5
+    ServerAuth = httpAuthNone
+    ProxyAuth = httpAuthNone
     BandwidthLimit = 10000
     BandwidthSampling = 1000
     Options = []

Modified: Lobby/TASClient/HttpGetUnit.pas
===================================================================
--- Lobby/TASClient/HttpGetUnit.pas	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/HttpGetUnit.pas	2010-09-20 18:08:33 UTC (rev 7516)
@@ -4,8 +4,9 @@
 
 uses
   Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
-  Dialogs, HttpProt, StdCtrls, Buttons, ComCtrls, MainUnit, Misc, ShellAPI,
-  SpTBXControls, SpTBXItem,StrUtils, SevenZipVCL,Utility;
+  Dialogs, OverbyteIcsHttpProt, StdCtrls, Buttons, ComCtrls, MainUnit, Misc, ShellAPI,
+  SpTBXControls, SpTBXItem,StrUtils, SevenZipVCL,Utility,
+  OverbyteIcsWndControl;
 
 type
   THttpGetForm = class(TForm)

Modified: Lobby/TASClient/LobbyScriptUnit.pas
===================================================================
--- Lobby/TASClient/LobbyScriptUnit.pas	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/LobbyScriptUnit.pas	2010-09-20 18:08:33 UTC (rev 7516)
@@ -5,7 +5,7 @@
   Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls,
   Dialogs,Misc,ExtCtrls, WrapDelphi, WrapDelphiClasses,PythonEngine,
   PythonGUIInputOutput, StrUtils, JclDebug,TntWideStrings,
-  WSocket,MainUnit, class_TIntegerList, RichEdit2, ExRichEdit,
+  OverbyteIcsWSocket,MainUnit, class_TIntegerList, RichEdit2, ExRichEdit,
   SyncObjs,SpTBXItem, TB2Item, JvDesktopAlert, GR32,
   SpTBXControls, SpTBXTabs,Forms, ComCtrls, pngimage,
   Jpeg, Math, Dockpanel, RichEdit, SpTBXSkins;
@@ -2066,6 +2066,14 @@
 begin
   Result := False;
 
+  try
+    c := GetComponentFromString(component) as TControl;
+  except
+    Exit;
+  end;
+
+  if c = nil then Exit;
+
   LockGUI;
   try
     Result := True;
@@ -2078,10 +2086,6 @@
       keys := PyDict_Keys(properties);
       values := PyDict_Values(properties);
 
-      c := GetComponentFromString(component) as TControl;
-
-      if c = nil then Exit;
-
       propNames := TStringList.Create;
       propValues := TList.Create;
       propTypes := TStringList.Create;

Modified: Lobby/TASClient/MainUnit.dfm
===================================================================
--- Lobby/TASClient/MainUnit.dfm	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/MainUnit.dfm	2010-09-20 18:08:33 UTC (rev 7516)
@@ -1,6 +1,6 @@
 object MainForm: TMainForm
-  Left = 507
-  Top = 215
+  Left = 302
+  Top = 522
   Width = 883
   Height = 539
   Caption = '.'
@@ -2086,18 +2086,9 @@
     Proto = 'tcp'
     LocalAddr = '0.0.0.0'
     LocalPort = '0'
-    LastError = 0
     MultiThreaded = False
     MultiCast = False
     MultiCastIpTTL = 1
-    ReuseAddr = False
-    ComponentOptions = [wsoTcpNoDelay]
-    ListenBacklog = 5
-    ReqVerLow = 1
-    ReqVerHigh = 1
-    OnDataAvailable = SocketDataAvailable
-    OnSessionConnected = SocketSessionConnected
-    OnChangeState = SocketChangeState
     FlushTimeout = 120
     SendFlags = wsSendNormal
     LingerOnOff = wsLingerOn
@@ -2107,6 +2098,15 @@
     KeepAliveInterval = 1000
     SocksLevel = '5'
     SocksAuthentication = socksNoAuthentication
+    LastError = 0
+    ReuseAddr = False
+    ComponentOptions = [wsoTcpNoDelay]
+    ListenBacklog = 5
+    ReqVerLow = 1
+    ReqVerHigh = 1
+    OnDataAvailable = SocketDataAvailable
+    OnSessionConnected = SocketSessionConnected
+    OnChangeState = SocketChangeState
     Left = 296
     Top = 168
   end
@@ -5560,6 +5560,8 @@
     RequestVer = '1.0'
     FollowRelocation = True
     LocationChangeMaxCount = 5
+    ServerAuth = httpAuthNone
+    ProxyAuth = httpAuthNone
     BandwidthLimit = 10000
     BandwidthSampling = 1000
     Options = []
@@ -5677,6 +5679,8 @@
     RequestVer = '1.0'
     FollowRelocation = True
     LocationChangeMaxCount = 5
+    ServerAuth = httpAuthNone
+    ProxyAuth = httpAuthNone
     BandwidthLimit = 10000
     BandwidthSampling = 1000
     Options = []
@@ -5857,6 +5861,8 @@
     RequestVer = '1.0'
     FollowRelocation = True
     LocationChangeMaxCount = 5
+    ServerAuth = httpAuthNone
+    ProxyAuth = httpAuthNone
     BandwidthLimit = 10000
     BandwidthSampling = 1000
     Options = []
@@ -7437,16 +7443,9 @@
     Proto = 'udp'
     LocalAddr = '0.0.0.0'
     LocalPort = '0'
-    LastError = 0
     MultiThreaded = True
     MultiCast = False
     MultiCastIpTTL = 1
-    ReuseAddr = False
-    ComponentOptions = []
-    ListenBacklog = 5
-    ReqVerLow = 1
-    ReqVerHigh = 1
-    OnDataAvailable = SpringSocketDataAvailable
     FlushTimeout = 60
     SendFlags = wsSendNormal
     LingerOnOff = wsLingerOn
@@ -7456,6 +7455,13 @@
     KeepAliveInterval = 10
     SocksLevel = '5'
     SocksAuthentication = socksNoAuthentication
+    LastError = 0
+    ReuseAddr = False
+    ComponentOptions = []
+    ListenBacklog = 5
+    ReqVerLow = 1
+    ReqVerHigh = 1
+    OnDataAvailable = SpringSocketDataAvailable
     Left = 296
     Top = 200
   end

Modified: Lobby/TASClient/MainUnit.pas
===================================================================
--- Lobby/TASClient/MainUnit.pas	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/MainUnit.pas	2010-09-20 18:08:33 UTC (rev 7516)
@@ -15,8 +15,8 @@
 uses
   Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
   Dialogs, ExtCtrls, StdCtrls, ComCtrls, Buttons, Menus, Grids, ValEdit,
-  VirtualTrees, ImgList, WSocket, StringParser, MMSystem, AppEvnts, Math,
-  HttpProt, GraphicEx, Registry, JvComponent, JvBaseDlg, JvDesktopAlert,
+  VirtualTrees, ImgList, StringParser, MMSystem, AppEvnts, Math,
+  GraphicEx, Registry, JvComponent, JvBaseDlg, JvDesktopAlert,
   JvDesktopAlertForm, DateUtils, Winsock, SpTBXItem, TB2Item,
   SpTBXControls, SpTBXFormPopupMenu,IniFiles,StrUtils,xmldom,
   XMLIntf, msxmldom, XMLDoc, WrapDelphi, PythonEngine, AtomPythonEngine,
@@ -27,7 +27,9 @@
   RegExpr,TntGraphics,SpTBXDkPanels, TB2Dock, UWebBrowserWrapper,TypInfo,TntForms,
   Clipbrd,SyncObjs, JvExStdCtrls, JvBehaviorLabel, OleCtrls, SHDocVw,
   JvWinampLabel, JvExControls, JvLinkLabel, ActnList, JvgHint, OpenGL1x,
-  SpTBXSkins,pngimage, SpTBXExtEditors, BotOptionsFormUnit;
+  SpTBXSkins,pngimage, SpTBXExtEditors, BotOptionsFormUnit,
+  OverbyteIcsHttpProt, OverbyteIcsWndControl, OverbyteIcsWSocket,
+  OverbyteIcsMultipartHttpDownloader;
 
 const
   RelayedCommands : array[0..17] of string =
@@ -464,6 +466,8 @@
 
   MAX_AUTOSENDMSG = 2; // limit the auto sent msg when auto specing or kicking players
 
+  DOWNLOADER_SEGMENTS = 4;
+
   // custom messages:
   WM_DATAHASARRIVED = WM_USER + 0; // used when processing data received through socket
   WM_OPENOPTIONS = WM_USER + 1; // used to open OPTIONS dialog
@@ -1467,6 +1471,7 @@
     procedure Players2ValueTextBoxSubEditButton0Click(Sender: TObject);
     procedure MaxPlayersValueTextBoxSubEditButton0Click(Sender: TObject);
     procedure RankValueTextBoxSubEditButton0Click(Sender: TObject);
+    procedure SpringSocketTimerTimer(Sender: TObject);
   published
     MainTitleBar: TSpTBXTitleBar;
     ButtonImageList: TImageList;
@@ -5904,7 +5909,7 @@
         Exit;
       end;
 
-      if GetClient(sl[1]) &lt;&gt; nil then
+      if (sl.Count = 4) and (GetClient(sl[1]) &lt;&gt; nil) then
       begin
         AmbiguousCommand(s,'', Colors.Error, 150);
         Exit;
@@ -7209,6 +7214,7 @@
         BattleState.HostSupportsJoinPassword := True;
         if TClient(Battle.Clients[0]).GetInGameStatus then
         begin
+          BattleForm.JoinButton.Enabled := MapList.IndexOf(BattleState.Battle.Map) &gt; -1;
           BattleForm.JoinButton.Visible := True;
           BattleForm.StartButton.Visible := False;
         end;
@@ -7404,6 +7410,7 @@
         begin
           if changed and not Client.GetInGameStatus and (BattleState.Battle &lt;&gt; nil) and (BattleState.Battle.ID = Client.Battle.ID) and (client &lt;&gt; Status.me) then
           begin
+            BattleForm.JoinButton.Enabled := MapList.IndexOf(BattleState.Battle.Map) &gt; -1;
             BattleForm.JoinButton.Visible := True;
             BattleForm.StartButton.Visible := False;
           end;
@@ -12974,6 +12981,8 @@
   newItemHtmlCode := Misc.ReadFile2(ExtractFilePath(Application.ExeName) + SCROLLING_NEWS_DIR + SCROLLING_NEWS_NEW_ITEM_TEMPLATE);
 
   //points to local XML file in &quot;original&quot; code
+  ScrollingNewsRSS.Destroy;
+  ScrollingNewsRSS := TXMLDocument.Create(MainForm);
   try
     ScrollingNewsRSS.FileName := SCROLLING_NEWS_RSS_URL;
     ScrollingNewsRSS.Active:=True;
@@ -12996,10 +13005,14 @@
     if firstNewsRefresh or (displayedNewsList.IndexOf(STitle) &gt; -1) then
     begin
       temp := StringReplace(itemHtmlCode,'[title]',STitle,[rfReplaceAll,rfIgnoreCase]);
-      displayedNewsList.Add(STitle);
+      if firstNewsRefresh then
+        displayedNewsList.Add(STitle);
     end
     else
+    begin
       temp := StringReplace(newItemHtmlCode,'[title]',STitle,[rfReplaceAll,rfIgnoreCase]);
+      displayedNewsList.Add(STitle);
+    end;
 
     temp := StringReplace(temp,'[url]',sLink,[rfReplaceAll,rfIgnoreCase]);
     temp := StringReplace(temp,'[description]',sDesc,[rfReplaceAll,rfIgnoreCase]);
@@ -14275,7 +14288,7 @@
 begin
   while True do
   begin
-    len := (Sender as TWSocket).ReceiveFrom(@sBuffer[1], 1024,incIp,incLen);
+    len := SpringSocket.ReceiveFrom(@sBuffer[1], 1024,incIp,incLen);
     if len &lt;= 0 then Exit;
     if not BattleState.SpringComAddrAcquired then
     begin
@@ -14326,4 +14339,30 @@
   RankValueTextBoxChange(RankValueTextBox);
 end;
 
+procedure TMainForm.SpringSocketTimerTimer(Sender: TObject);
+var
+  sBuffer: array [1..1024] of Char;
+  len: Integer;
+  incIp: sockaddr_in;
+  incLen: Integer;
+  sMsg: string;
+begin
+  while True do
+  begin
+    len := SpringSocket.ReceiveFrom(@sBuffer[1], 1024,incIp,incLen);
+    if len &lt;= 0 then Exit;
+    MainForm.AddMainLog('PUTAIN DSA MERE',Colors.Normal);
+    if not BattleState.SpringComAddrAcquired then
+    begin
+      CopyMemory(@<A HREF="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">BattleState.SpringComAddr, at incIp</A>,SizeOf(sockaddr_in));
+      BattleState.SpringComAddrAcquired := True;
+    end;
+    if (Byte(sBuffer[1]) = 13) or (Byte(sBuffer[1]) = 10) then // chat msg or player joined
+    begin
+      sMsg := Copy(sBuffer,0,len);
+      PostMessage(MainForm.Handle, WM_SPRINGSOCKETMSG, SpringSocketQueue.Enqueue(sMsg), 0);
+    end;
+  end;
+end;
+
 end.

Modified: Lobby/TASClient/Misc.pas
===================================================================
--- Lobby/TASClient/Misc.pas	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/Misc.pas	2010-09-20 18:08:33 UTC (rev 7516)
@@ -11,8 +11,8 @@
 
 uses
   SpTBXTabs,SpTBXItem,JvSpin,Dialogs, Classes, ComCtrls, Windows, Graphics, MMSystem,
-  Controls, Registry, SysUtils,RichEdit2, ExRichEdit, WSocket, Winsock, Mapi ,
-  ESBDates, GpTimeZone, JvColorCombo, Forms,StdCtrls,HttpProt,TntComCtrls,
+  Controls, Registry, SysUtils,RichEdit2, ExRichEdit, OverbyteIcsWSocket, Winsock, Mapi ,
+  ESBDates, GpTimeZone, JvColorCombo, Forms,StdCtrls,OverbyteIcsHttpProt,TntComCtrls,
   JclUnicode,TntSysUtils,PreferencesFormUnit,Variants,typinfo, OpenIL, DockPanel;
 
 type

Modified: Lobby/TASClient/PreferencesFormUnit.dfm
===================================================================
--- Lobby/TASClient/PreferencesFormUnit.dfm	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/PreferencesFormUnit.dfm	2010-09-20 18:08:33 UTC (rev 7516)
@@ -1,6 +1,6 @@
 object PreferencesForm: TPreferencesForm
-  Left = 1036
-  Top = 144
+  Left = 1338
+  Top = 280
   Width = 578
   Height = 548
   Caption = 'Preferences'
@@ -2137,6 +2137,8 @@
     RequestVer = '1.0'
     FollowRelocation = True
     LocationChangeMaxCount = 5
+    ServerAuth = httpAuthNone
+    ProxyAuth = httpAuthNone
     BandwidthLimit = 10000
     BandwidthSampling = 1000
     Options = []

Modified: Lobby/TASClient/PreferencesFormUnit.pas
===================================================================
--- Lobby/TASClient/PreferencesFormUnit.pas	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/PreferencesFormUnit.pas	2010-09-20 18:08:33 UTC (rev 7516)
@@ -11,8 +11,9 @@
   JvPageList, JvNavigationPane, JvComponentBase, JvTabBar, JvLookOut,
   JvSpeedbar, JvExExtCtrls, JvCaptionPanel, JvExComCtrls, JvComCtrls, JvButton,
   JvMovableBevel, TntStdCtrls, SpTBXEditors, SpTBXControls, SpTBXItem, SpTBXTabs,
-  TB2Item, VirtualTrees, HttpProt,  RichEdit2, ExRichEdit, MainUnit,WSocket,
-  TntComCtrls, languagecodes,DockPanel, SpTBXSkins, pngimage;
+  TB2Item, VirtualTrees, OverbyteIcsHttpProt,  RichEdit2, ExRichEdit, MainUnit,OverbyteIcsWSocket,
+  TntComCtrls, languagecodes,DockPanel, SpTBXSkins, pngimage,
+  OverbyteIcsWndControl;
 
 type
 
@@ -529,6 +530,7 @@
     try HostBattleForm.NATRadioGroup.ItemIndex := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\HostBattleForm', 'NATTechnique'); except end;
     try HostBattleForm.PlayersTracker.Value := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\HostBattleForm', 'NbPlayer'); except end;
     try HostBattleForm.RelayHostCheckBox.Checked := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\HostBattleForm', 'RelayHost'); except end;
+    try HostBattleForm.RelayChatCheckBox.Checked := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\HostBattleForm', 'RelayChat'); except end;
 
     try MapListForm.Left := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\MapListForm', 'Left'); except end;
     try MapListForm.Top := Misc.GetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\MapListForm', 'Top'); except end;
@@ -654,6 +656,7 @@
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\HostBattleForm', 'NATTechnique', rdInteger, HostBattleForm.NATRadioGroup.ItemIndex);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\HostBattleForm', 'NbPlayer', rdInteger, HostBattleForm.PlayersTracker.Value);
     Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\HostBattleForm', 'RelayHost', rdInteger, Misc.BoolToInt(HostBattleForm.RelayHostCheckBox.Checked));
+    Misc.SetRegistryData(HKEY_CURRENT_USER, TASCLIENT_REGISTRY_KEY+'\Forms\HostBattleForm', 'RelayChat', rdInteger, Misc.BoolToInt(HostBattleForm.RelayChatCheckBox.Checked));
 
 
     Pl.Length := SizeOf(TWindowPlacement);

Modified: Lobby/TASClient/ReplaysUnit.dfm
===================================================================
--- Lobby/TASClient/ReplaysUnit.dfm	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/ReplaysUnit.dfm	2010-09-20 18:08:33 UTC (rev 7516)
@@ -1,6 +1,6 @@
 object ReplaysForm: TReplaysForm
-  Left = 918
-  Top = 157
+  Left = 503
+  Top = 506
   Width = 859
   Height = 631
   Caption = 'Replays'

Modified: Lobby/TASClient/SpringDownloaderFormUnit.dfm
===================================================================
--- Lobby/TASClient/SpringDownloaderFormUnit.dfm	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/SpringDownloaderFormUnit.dfm	2010-09-20 18:08:33 UTC (rev 7516)
@@ -124,6 +124,8 @@
     RequestVer = '1.0'
     FollowRelocation = True
     LocationChangeMaxCount = 5
+    ServerAuth = httpAuthNone
+    ProxyAuth = httpAuthNone
     BandwidthLimit = 10000
     BandwidthSampling = 1000
     Options = []

Modified: Lobby/TASClient/SpringDownloaderFormUnit.pas
===================================================================
--- Lobby/TASClient/SpringDownloaderFormUnit.pas	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/SpringDownloaderFormUnit.pas	2010-09-20 18:08:33 UTC (rev 7516)
@@ -6,7 +6,8 @@
   Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
   Dialogs, SpTBXItem, SpTBXControls, JclRegistry, ExtCtrls,ShellAPI,
   LobbyScriptUnit, Math, SpTBXSkins,IdHTTP, InvokeRegistry, Rio,
-  SOAPHTTPClient, xmldom, XMLIntf, msxmldom, XMLDoc, HttpProt,GpIFF,RegExpr;
+  SOAPHTTPClient, xmldom, XMLIntf, msxmldom, XMLDoc, OverbyteIcsHttpProt,GpIFF,RegExpr,
+  OverbyteIcsWndControl;
 
 type
   TProgressEvent = procedure(snc: PScriptDownloadCallback;progress: integer) of object;

Modified: Lobby/TASClient/TASClient.dof
===================================================================
--- Lobby/TASClient/TASClient.dof	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/TASClient.dof	2010-09-20 18:08:33 UTC (rev 7516)
@@ -115,7 +115,7 @@
 MajorVer=0
 MinorVer=78
 Release=0
-Build=985
+Build=989
 Debug=0
 PreRelease=0
 Special=0
@@ -126,7 +126,7 @@
 [Version Info Keys]
 CompanyName=
 FileDescription=Spring RTS Engine lobby client
-FileVersion=0.78.0.985
+FileVersion=0.78.0.989
 InternalName=
 LegalCopyright=
 LegalTrademarks=

Modified: Lobby/TASClient/TASClient.res
===================================================================
(Binary files differ)

Modified: Lobby/TASClient/Utility.pas
===================================================================
--- Lobby/TASClient/Utility.pas	2010-09-04 17:22:35 UTC (rev 7515)
+++ Lobby/TASClient/Utility.pas	2010-09-20 18:08:33 UTC (rev 7516)
@@ -9,7 +9,7 @@
 
 uses
   Windows, Graphics, Classes, SyncObjs, Controls,Math,MainUnit,OpenIL,gnugettext,class_TIntegerList,
-  SpTBXEditors, SpTBXControls, SpTBXItem, SpTBXTabs, JvSpin, SpTBXSkins, StdCtrls;
+  SpTBXEditors, SpTBXControls, SpTBXItem, SpTBXTabs, JvSpin, SpTBXSkins, StdCtrls,OverbyteIcsWSocket;
 
 type
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002285.html">[Taspring-linux-commit] r7515 - in Lobby/TASClient: . Python/scripts
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2286">[ date ]</a>
              <a href="thread.html#2286">[ thread ]</a>
              <a href="subject.html#2286">[ subject ]</a>
              <a href="author.html#2286">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/taspring-linux-commit">More information about the Taspring-linux-commit
mailing list</a><br>
</body></html>
